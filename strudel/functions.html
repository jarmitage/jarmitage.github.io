<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Strudel Workshop</title>
    <script type="module" crossorigin>
var Zs=Object.defineProperty;var Ys=(k,b,_)=>b in k?Zs(k,b,{enumerable:!0,configurable:!0,writable:!0,value:_}):k[b]=_;var Zn=(k,b,_)=>(Ys(k,typeof b!="symbol"?b+"":b,_),_);(function(){const b=document.createElement("link").relList;if(b&&b.supports&&b.supports("modulepreload"))return;for(const j of document.querySelectorAll('link[rel="modulepreload"]'))$(j);new MutationObserver(j=>{for(const _e of j)if(_e.type==="childList")for(const et of _e.addedNodes)et.tagName==="LINK"&&et.rel==="modulepreload"&&$(et)}).observe(document,{childList:!0,subtree:!0});function _(j){const _e={};return j.integrity&&(_e.integrity=j.integrity),j.referrerpolicy&&(_e.referrerPolicy=j.referrerpolicy),j.crossorigin==="use-credentials"?_e.credentials="include":j.crossorigin==="anonymous"?_e.credentials="omit":_e.credentials="same-origin",_e}function $(j){if(j.ep)return;j.ep=!0;const _e=_(j);fetch(j.href,_e)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(k){return k&&k.__esModule&&Object.prototype.hasOwnProperty.call(k,"default")?k.default:k}function getAugmentedNamespace(k){var b=k.default;if(typeof b=="function"){var _=function(){return b.apply(this,arguments)};_.prototype=b.prototype}else _={};return Object.defineProperty(_,"__esModule",{value:!0}),Object.keys(k).forEach(function($){var j=Object.getOwnPropertyDescriptor(k,$);Object.defineProperty(_,$,j.get?j:{enumerable:!0,get:function(){return k[$]}})}),_}var react={exports:{}},react_production_min={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty$2=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(k){if(k==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(k)}function shouldUseNative(){try{if(!Object.assign)return!1;var k=new String("abc");if(k[5]="de",Object.getOwnPropertyNames(k)[0]==="5")return!1;for(var b={},_=0;_<10;_++)b["_"+String.fromCharCode(_)]=_;var $=Object.getOwnPropertyNames(b).map(function(_e){return b[_e]});if($.join("")!=="0123456789")return!1;var j={};return"abcdefghijklmnopqrst".split("").forEach(function(_e){j[_e]=_e}),Object.keys(Object.assign({},j)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var objectAssign=shouldUseNative()?Object.assign:function(k,b){for(var _,$=toObject(k),j,_e=1;_e<arguments.length;_e++){_=Object(arguments[_e]);for(var et in _)hasOwnProperty$2.call(_,et)&&($[et]=_[et]);if(getOwnPropertySymbols){j=getOwnPropertySymbols(_);for(var tt=0;tt<j.length;tt++)propIsEnumerable.call(_,j[tt])&&($[j[tt]]=_[j[tt]])}}return $};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=objectAssign,n$2=60103,p$1=60106;react_production_min.Fragment=60107;react_production_min.StrictMode=60108;react_production_min.Profiler=60114;var q$1=60109,r$2=60110,t$2=60112;react_production_min.Suspense=60113;var u=60115,v$1=60116;if(typeof Symbol=="function"&&Symbol.for){var w=Symbol.for;n$2=w("react.element"),p$1=w("react.portal"),react_production_min.Fragment=w("react.fragment"),react_production_min.StrictMode=w("react.strict_mode"),react_production_min.Profiler=w("react.profiler"),q$1=w("react.provider"),r$2=w("react.context"),t$2=w("react.forward_ref"),react_production_min.Suspense=w("react.suspense"),u=w("react.memo"),v$1=w("react.lazy")}var x=typeof Symbol=="function"&&Symbol.iterator;function y$1(k){return k===null||typeof k!="object"?null:(k=x&&k[x]||k["@@iterator"],typeof k=="function"?k:null)}function z$1(k){for(var b="https://reactjs.org/docs/error-decoder.html?invariant="+k,_=1;_<arguments.length;_++)b+="&args[]="+encodeURIComponent(arguments[_]);return"Minified React error #"+k+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B$2={};function C$1(k,b,_){this.props=k,this.context=b,this.refs=B$2,this.updater=_||A}C$1.prototype.isReactComponent={};C$1.prototype.setState=function(k,b){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error(z$1(85));this.updater.enqueueSetState(this,k,b,"setState")};C$1.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function D$1(){}D$1.prototype=C$1.prototype;function E$1(k,b,_){this.props=k,this.context=b,this.refs=B$2,this.updater=_||A}var F$1=E$1.prototype=new D$1;F$1.constructor=E$1;l$1(F$1,C$1.prototype);F$1.isPureReactComponent=!0;var G$1={current:null},H$1=Object.prototype.hasOwnProperty,I$1={key:!0,ref:!0,__self:!0,__source:!0};function J(k,b,_){var $,j={},_e=null,et=null;if(b!=null)for($ in b.ref!==void 0&&(et=b.ref),b.key!==void 0&&(_e=""+b.key),b)H$1.call(b,$)&&!I$1.hasOwnProperty($)&&(j[$]=b[$]);var tt=arguments.length-2;if(tt===1)j.children=_;else if(1<tt){for(var nt=Array(tt),it=0;it<tt;it++)nt[it]=arguments[it+2];j.children=nt}if(k&&k.defaultProps)for($ in tt=k.defaultProps,tt)j[$]===void 0&&(j[$]=tt[$]);return{$$typeof:n$2,type:k,key:_e,ref:et,props:j,_owner:G$1.current}}function K$1(k,b){return{$$typeof:n$2,type:k.type,key:b,ref:k.ref,props:k.props,_owner:k._owner}}function L(k){return typeof k=="object"&&k!==null&&k.$$typeof===n$2}function escape(k){var b={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(_){return b[_]})}var M$1=/\/+/g;function N$1(k,b){return typeof k=="object"&&k!==null&&k.key!=null?escape(""+k.key):b.toString(36)}function O$2(k,b,_,$,j){var _e=typeof k;(_e==="undefined"||_e==="boolean")&&(k=null);var et=!1;if(k===null)et=!0;else switch(_e){case"string":case"number":et=!0;break;case"object":switch(k.$$typeof){case n$2:case p$1:et=!0}}if(et)return et=k,j=j(et),k=$===""?"."+N$1(et,0):$,Array.isArray(j)?(_="",k!=null&&(_=k.replace(M$1,"$&/")+"/"),O$2(j,b,_,"",function(it){return it})):j!=null&&(L(j)&&(j=K$1(j,_+(!j.key||et&&et.key===j.key?"":(""+j.key).replace(M$1,"$&/")+"/")+k)),b.push(j)),1;if(et=0,$=$===""?".":$+":",Array.isArray(k))for(var tt=0;tt<k.length;tt++){_e=k[tt];var nt=$+N$1(_e,tt);et+=O$2(_e,b,_,nt,j)}else if(nt=y$1(k),typeof nt=="function")for(k=nt.call(k),tt=0;!(_e=k.next()).done;)_e=_e.value,nt=$+N$1(_e,tt++),et+=O$2(_e,b,_,nt,j);else if(_e==="object")throw b=""+k,Error(z$1(31,b==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":b));return et}function P$1(k,b,_){if(k==null)return k;var $=[],j=0;return O$2(k,$,"","",function(_e){return b.call(_,_e,j++)}),$}function Q(k){if(k._status===-1){var b=k._result;b=b(),k._status=0,k._result=b,b.then(function(_){k._status===0&&(_=_.default,k._status=1,k._result=_)},function(_){k._status===0&&(k._status=2,k._result=_)})}if(k._status===1)return k._result;throw k._result}var R$1={current:null};function S$1(){var k=R$1.current;if(k===null)throw Error(z$1(321));return k}var T$1={ReactCurrentDispatcher:R$1,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:G$1,IsSomeRendererActing:{current:!1},assign:l$1};react_production_min.Children={map:P$1,forEach:function(k,b,_){P$1(k,function(){b.apply(this,arguments)},_)},count:function(k){var b=0;return P$1(k,function(){b++}),b},toArray:function(k){return P$1(k,function(b){return b})||[]},only:function(k){if(!L(k))throw Error(z$1(143));return k}};react_production_min.Component=C$1;react_production_min.PureComponent=E$1;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T$1;react_production_min.cloneElement=function(k,b,_){if(k==null)throw Error(z$1(267,k));var $=l$1({},k.props),j=k.key,_e=k.ref,et=k._owner;if(b!=null){if(b.ref!==void 0&&(_e=b.ref,et=G$1.current),b.key!==void 0&&(j=""+b.key),k.type&&k.type.defaultProps)var tt=k.type.defaultProps;for(nt in b)H$1.call(b,nt)&&!I$1.hasOwnProperty(nt)&&($[nt]=b[nt]===void 0&&tt!==void 0?tt[nt]:b[nt])}var nt=arguments.length-2;if(nt===1)$.children=_;else if(1<nt){tt=Array(nt);for(var it=0;it<nt;it++)tt[it]=arguments[it+2];$.children=tt}return{$$typeof:n$2,type:k.type,key:j,ref:_e,props:$,_owner:et}};react_production_min.createContext=function(k,b){return b===void 0&&(b=null),k={$$typeof:r$2,_calculateChangedBits:b,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider={$$typeof:q$1,_context:k},k.Consumer=k};react_production_min.createElement=J;react_production_min.createFactory=function(k){var b=J.bind(null,k);return b.type=k,b};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(k){return{$$typeof:t$2,render:k}};react_production_min.isValidElement=L;react_production_min.lazy=function(k){return{$$typeof:v$1,_payload:{_status:-1,_result:k},_init:Q}};react_production_min.memo=function(k,b){return{$$typeof:u,type:k,compare:b===void 0?null:b}};react_production_min.useCallback=function(k,b){return S$1().useCallback(k,b)};react_production_min.useContext=function(k,b){return S$1().useContext(k,b)};react_production_min.useDebugValue=function(){};react_production_min.useEffect=function(k,b){return S$1().useEffect(k,b)};react_production_min.useImperativeHandle=function(k,b,_){return S$1().useImperativeHandle(k,b,_)};react_production_min.useLayoutEffect=function(k,b){return S$1().useLayoutEffect(k,b)};react_production_min.useMemo=function(k,b){return S$1().useMemo(k,b)};react_production_min.useReducer=function(k,b,_){return S$1().useReducer(k,b,_)};react_production_min.useRef=function(k){return S$1().useRef(k)};react_production_min.useState=function(k){return S$1().useState(k)};react_production_min.version="17.0.2";(function(k){k.exports=react_production_min})(react);const React=getDefaultExportFromCjs(react.exports);var reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(k){var b,_,$,j;if(typeof performance=="object"&&typeof performance.now=="function"){var _e=performance;k.unstable_now=function(){return _e.now()}}else{var et=Date,tt=et.now();k.unstable_now=function(){return et.now()-tt}}if(typeof window>"u"||typeof MessageChannel!="function"){var nt=null,it=null,rt=function(){if(nt!==null)try{var Mt=k.unstable_now();nt(!0,Mt),nt=null}catch(qt){throw setTimeout(rt,0),qt}};b=function(Mt){nt!==null?setTimeout(b,0,Mt):(nt=Mt,setTimeout(rt,0))},_=function(Mt,qt){it=setTimeout(Mt,qt)},$=function(){clearTimeout(it)},k.unstable_shouldYield=function(){return!1},j=k.unstable_forceFrameRate=function(){}}else{var st=window.setTimeout,ot=window.clearTimeout;if(typeof console<"u"){var ut=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof ut!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var lt=!1,ft=null,ct=-1,pt=5,mt=0;k.unstable_shouldYield=function(){return k.unstable_now()>=mt},j=function(){},k.unstable_forceFrameRate=function(Mt){0>Mt||125<Mt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pt=0<Mt?Math.floor(1e3/Mt):5};var wt=new MessageChannel,gt=wt.port2;wt.port1.onmessage=function(){if(ft!==null){var Mt=k.unstable_now();mt=Mt+pt;try{ft(!0,Mt)?gt.postMessage(null):(lt=!1,ft=null)}catch(qt){throw gt.postMessage(null),qt}}else lt=!1},b=function(Mt){ft=Mt,lt||(lt=!0,gt.postMessage(null))},_=function(Mt,qt){ct=st(function(){Mt(k.unstable_now())},qt)},$=function(){ot(ct),ct=-1}}function vt(Mt,qt){var Ht=Mt.length;Mt.push(qt);e:for(;;){var an=Ht-1>>>1,en=Mt[an];if(en!==void 0&&0<Dt(en,qt))Mt[an]=qt,Mt[Ht]=en,Ht=an;else break e}}function bt(Mt){return Mt=Mt[0],Mt===void 0?null:Mt}function Ct(Mt){var qt=Mt[0];if(qt!==void 0){var Ht=Mt.pop();if(Ht!==qt){Mt[0]=Ht;e:for(var an=0,en=Mt.length;an<en;){var pn=2*(an+1)-1,bn=Mt[pn],vn=pn+1,xn=Mt[vn];if(bn!==void 0&&0>Dt(bn,Ht))xn!==void 0&&0>Dt(xn,bn)?(Mt[an]=xn,Mt[vn]=Ht,an=vn):(Mt[an]=bn,Mt[pn]=Ht,an=pn);else if(xn!==void 0&&0>Dt(xn,Ht))Mt[an]=xn,Mt[vn]=Ht,an=vn;else break e}}return qt}return null}function Dt(Mt,qt){var Ht=Mt.sortIndex-qt.sortIndex;return Ht!==0?Ht:Mt.id-qt.id}var _t=[],Rt=[],jt=1,Qt=null,Nt=3,Vt=!1,Yt=!1,Wt=!1;function Jt(Mt){for(var qt=bt(Rt);qt!==null;){if(qt.callback===null)Ct(Rt);else if(qt.startTime<=Mt)Ct(Rt),qt.sortIndex=qt.expirationTime,vt(_t,qt);else break;qt=bt(Rt)}}function Ut(Mt){if(Wt=!1,Jt(Mt),!Yt)if(bt(_t)!==null)Yt=!0,b(Kt);else{var qt=bt(Rt);qt!==null&&_(Ut,qt.startTime-Mt)}}function Kt(Mt,qt){Yt=!1,Wt&&(Wt=!1,$()),Vt=!0;var Ht=Nt;try{for(Jt(qt),Qt=bt(_t);Qt!==null&&(!(Qt.expirationTime>qt)||Mt&&!k.unstable_shouldYield());){var an=Qt.callback;if(typeof an=="function"){Qt.callback=null,Nt=Qt.priorityLevel;var en=an(Qt.expirationTime<=qt);qt=k.unstable_now(),typeof en=="function"?Qt.callback=en:Qt===bt(_t)&&Ct(_t),Jt(qt)}else Ct(_t);Qt=bt(_t)}if(Qt!==null)var pn=!0;else{var bn=bt(Rt);bn!==null&&_(Ut,bn.startTime-qt),pn=!1}return pn}finally{Qt=null,Nt=Ht,Vt=!1}}var mn=j;k.unstable_IdlePriority=5,k.unstable_ImmediatePriority=1,k.unstable_LowPriority=4,k.unstable_NormalPriority=3,k.unstable_Profiling=null,k.unstable_UserBlockingPriority=2,k.unstable_cancelCallback=function(Mt){Mt.callback=null},k.unstable_continueExecution=function(){Yt||Vt||(Yt=!0,b(Kt))},k.unstable_getCurrentPriorityLevel=function(){return Nt},k.unstable_getFirstCallbackNode=function(){return bt(_t)},k.unstable_next=function(Mt){switch(Nt){case 1:case 2:case 3:var qt=3;break;default:qt=Nt}var Ht=Nt;Nt=qt;try{return Mt()}finally{Nt=Ht}},k.unstable_pauseExecution=function(){},k.unstable_requestPaint=mn,k.unstable_runWithPriority=function(Mt,qt){switch(Mt){case 1:case 2:case 3:case 4:case 5:break;default:Mt=3}var Ht=Nt;Nt=Mt;try{return qt()}finally{Nt=Ht}},k.unstable_scheduleCallback=function(Mt,qt,Ht){var an=k.unstable_now();switch(typeof Ht=="object"&&Ht!==null?(Ht=Ht.delay,Ht=typeof Ht=="number"&&0<Ht?an+Ht:an):Ht=an,Mt){case 1:var en=-1;break;case 2:en=250;break;case 5:en=1073741823;break;case 4:en=1e4;break;default:en=5e3}return en=Ht+en,Mt={id:jt++,callback:qt,priorityLevel:Mt,startTime:Ht,expirationTime:en,sortIndex:-1},Ht>an?(Mt.sortIndex=Ht,vt(Rt,Mt),bt(_t)===null&&Mt===bt(Rt)&&(Wt?$():Wt=!0,_(Ut,Ht-an))):(Mt.sortIndex=en,vt(_t,Mt),Yt||Vt||(Yt=!0,b(Kt))),Mt},k.unstable_wrapCallback=function(Mt){var qt=Nt;return function(){var Ht=Nt;Nt=qt;try{return Mt.apply(this,arguments)}finally{Nt=Ht}}}})(scheduler_production_min);(function(k){k.exports=scheduler_production_min})(scheduler);/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=react.exports,m$1=objectAssign,r$1=scheduler.exports;function y(k){for(var b="https://reactjs.org/docs/error-decoder.html?invariant="+k,_=1;_<arguments.length;_++)b+="&args[]="+encodeURIComponent(arguments[_]);return"Minified React error #"+k+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!aa)throw Error(y(227));var ba=new Set,ca={};function da(k,b){ea(k,b),ea(k+"Capture",b)}function ea(k,b){for(ca[k]=b,k=0;k<b.length;k++)ba.add(b[k])}var fa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ha=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ia=Object.prototype.hasOwnProperty,ja={},ka={};function la(k){return ia.call(ka,k)?!0:ia.call(ja,k)?!1:ha.test(k)?ka[k]=!0:(ja[k]=!0,!1)}function ma(k,b,_,$){if(_!==null&&_.type===0)return!1;switch(typeof b){case"function":case"symbol":return!0;case"boolean":return $?!1:_!==null?!_.acceptsBooleans:(k=k.toLowerCase().slice(0,5),k!=="data-"&&k!=="aria-");default:return!1}}function na(k,b,_,$){if(b===null||typeof b>"u"||ma(k,b,_,$))return!0;if($)return!1;if(_!==null)switch(_.type){case 3:return!b;case 4:return b===!1;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}function B$1(k,b,_,$,j,_e,et){this.acceptsBooleans=b===2||b===3||b===4,this.attributeName=$,this.attributeNamespace=j,this.mustUseProperty=_,this.propertyName=k,this.type=b,this.sanitizeURL=_e,this.removeEmptyString=et}var D={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(k){D[k]=new B$1(k,0,!1,k,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(k){var b=k[0];D[b]=new B$1(b,1,!1,k[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(k){D[k]=new B$1(k,2,!1,k.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(k){D[k]=new B$1(k,2,!1,k,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(k){D[k]=new B$1(k,3,!1,k.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(k){D[k]=new B$1(k,3,!0,k,null,!1,!1)});["capture","download"].forEach(function(k){D[k]=new B$1(k,4,!1,k,null,!1,!1)});["cols","rows","size","span"].forEach(function(k){D[k]=new B$1(k,6,!1,k,null,!1,!1)});["rowSpan","start"].forEach(function(k){D[k]=new B$1(k,5,!1,k.toLowerCase(),null,!1,!1)});var oa=/[\-:]([a-z])/g;function pa(k){return k[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(k){var b=k.replace(oa,pa);D[b]=new B$1(b,1,!1,k,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(k){var b=k.replace(oa,pa);D[b]=new B$1(b,1,!1,k,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(k){var b=k.replace(oa,pa);D[b]=new B$1(b,1,!1,k,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(k){D[k]=new B$1(k,1,!1,k.toLowerCase(),null,!1,!1)});D.xlinkHref=new B$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(k){D[k]=new B$1(k,1,!1,k.toLowerCase(),null,!0,!0)});function qa(k,b,_,$){var j=D.hasOwnProperty(b)?D[b]:null,_e=j!==null?j.type===0:$?!1:!(!(2<b.length)||b[0]!=="o"&&b[0]!=="O"||b[1]!=="n"&&b[1]!=="N");_e||(na(b,_,j,$)&&(_=null),$||j===null?la(b)&&(_===null?k.removeAttribute(b):k.setAttribute(b,""+_)):j.mustUseProperty?k[j.propertyName]=_===null?j.type===3?!1:"":_:(b=j.attributeName,$=j.attributeNamespace,_===null?k.removeAttribute(b):(j=j.type,_=j===3||j===4&&_===!0?"":""+_,$?k.setAttributeNS($,b,_):k.setAttribute(b,_))))}var ra=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sa=60103,ta=60106,ua=60107,wa=60108,xa=60114,ya=60109,za=60110,Aa=60112,Ba=60113,Ca=60120,Da=60115,Ea=60116,Fa=60121,Ga=60128,Ha=60129,Ia=60130,Ja=60131;if(typeof Symbol=="function"&&Symbol.for){var E=Symbol.for;sa=E("react.element"),ta=E("react.portal"),ua=E("react.fragment"),wa=E("react.strict_mode"),xa=E("react.profiler"),ya=E("react.provider"),za=E("react.context"),Aa=E("react.forward_ref"),Ba=E("react.suspense"),Ca=E("react.suspense_list"),Da=E("react.memo"),Ea=E("react.lazy"),Fa=E("react.block"),E("react.scope"),Ga=E("react.opaque.id"),Ha=E("react.debug_trace_mode"),Ia=E("react.offscreen"),Ja=E("react.legacy_hidden")}var Ka=typeof Symbol=="function"&&Symbol.iterator;function La(k){return k===null||typeof k!="object"?null:(k=Ka&&k[Ka]||k["@@iterator"],typeof k=="function"?k:null)}var Ma;function Na(k){if(Ma===void 0)try{throw Error()}catch(_){var b=_.stack.trim().match(/\n( *(at )?)/);Ma=b&&b[1]||""}return`
`+Ma+k}var Oa=!1;function Pa(k,b){if(!k||Oa)return"";Oa=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(b)if(b=function(){throw Error()},Object.defineProperty(b.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(b,[])}catch(nt){var $=nt}Reflect.construct(k,[],b)}else{try{b.call()}catch(nt){$=nt}k.call(b.prototype)}else{try{throw Error()}catch(nt){$=nt}k()}}catch(nt){if(nt&&$&&typeof nt.stack=="string"){for(var j=nt.stack.split(`
`),_e=$.stack.split(`
`),et=j.length-1,tt=_e.length-1;1<=et&&0<=tt&&j[et]!==_e[tt];)tt--;for(;1<=et&&0<=tt;et--,tt--)if(j[et]!==_e[tt]){if(et!==1||tt!==1)do if(et--,tt--,0>tt||j[et]!==_e[tt])return`
`+j[et].replace(" at new "," at ");while(1<=et&&0<=tt);break}}}finally{Oa=!1,Error.prepareStackTrace=_}return(k=k?k.displayName||k.name:"")?Na(k):""}function Qa(k){switch(k.tag){case 5:return Na(k.type);case 16:return Na("Lazy");case 13:return Na("Suspense");case 19:return Na("SuspenseList");case 0:case 2:case 15:return k=Pa(k.type,!1),k;case 11:return k=Pa(k.type.render,!1),k;case 22:return k=Pa(k.type._render,!1),k;case 1:return k=Pa(k.type,!0),k;default:return""}}function Ra(k){if(k==null)return null;if(typeof k=="function")return k.displayName||k.name||null;if(typeof k=="string")return k;switch(k){case ua:return"Fragment";case ta:return"Portal";case xa:return"Profiler";case wa:return"StrictMode";case Ba:return"Suspense";case Ca:return"SuspenseList"}if(typeof k=="object")switch(k.$$typeof){case za:return(k.displayName||"Context")+".Consumer";case ya:return(k._context.displayName||"Context")+".Provider";case Aa:var b=k.render;return b=b.displayName||b.name||"",k.displayName||(b!==""?"ForwardRef("+b+")":"ForwardRef");case Da:return Ra(k.type);case Fa:return Ra(k._render);case Ea:b=k._payload,k=k._init;try{return Ra(k(b))}catch{}}return null}function Sa(k){switch(typeof k){case"boolean":case"number":case"object":case"string":case"undefined":return k;default:return""}}function Ta(k){var b=k.type;return(k=k.nodeName)&&k.toLowerCase()==="input"&&(b==="checkbox"||b==="radio")}function Ua(k){var b=Ta(k)?"checked":"value",_=Object.getOwnPropertyDescriptor(k.constructor.prototype,b),$=""+k[b];if(!k.hasOwnProperty(b)&&typeof _<"u"&&typeof _.get=="function"&&typeof _.set=="function"){var j=_.get,_e=_.set;return Object.defineProperty(k,b,{configurable:!0,get:function(){return j.call(this)},set:function(et){$=""+et,_e.call(this,et)}}),Object.defineProperty(k,b,{enumerable:_.enumerable}),{getValue:function(){return $},setValue:function(et){$=""+et},stopTracking:function(){k._valueTracker=null,delete k[b]}}}}function Va(k){k._valueTracker||(k._valueTracker=Ua(k))}function Wa(k){if(!k)return!1;var b=k._valueTracker;if(!b)return!0;var _=b.getValue(),$="";return k&&($=Ta(k)?k.checked?"true":"false":k.value),k=$,k!==_?(b.setValue(k),!0):!1}function Xa(k){if(k=k||(typeof document<"u"?document:void 0),typeof k>"u")return null;try{return k.activeElement||k.body}catch{return k.body}}function Ya(k,b){var _=b.checked;return m$1({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:_!=null?_:k._wrapperState.initialChecked})}function Za(k,b){var _=b.defaultValue==null?"":b.defaultValue,$=b.checked!=null?b.checked:b.defaultChecked;_=Sa(b.value!=null?b.value:_),k._wrapperState={initialChecked:$,initialValue:_,controlled:b.type==="checkbox"||b.type==="radio"?b.checked!=null:b.value!=null}}function $a(k,b){b=b.checked,b!=null&&qa(k,"checked",b,!1)}function ab(k,b){$a(k,b);var _=Sa(b.value),$=b.type;if(_!=null)$==="number"?(_===0&&k.value===""||k.value!=_)&&(k.value=""+_):k.value!==""+_&&(k.value=""+_);else if($==="submit"||$==="reset"){k.removeAttribute("value");return}b.hasOwnProperty("value")?bb(k,b.type,_):b.hasOwnProperty("defaultValue")&&bb(k,b.type,Sa(b.defaultValue)),b.checked==null&&b.defaultChecked!=null&&(k.defaultChecked=!!b.defaultChecked)}function cb(k,b,_){if(b.hasOwnProperty("value")||b.hasOwnProperty("defaultValue")){var $=b.type;if(!($!=="submit"&&$!=="reset"||b.value!==void 0&&b.value!==null))return;b=""+k._wrapperState.initialValue,_||b===k.value||(k.value=b),k.defaultValue=b}_=k.name,_!==""&&(k.name=""),k.defaultChecked=!!k._wrapperState.initialChecked,_!==""&&(k.name=_)}function bb(k,b,_){(b!=="number"||Xa(k.ownerDocument)!==k)&&(_==null?k.defaultValue=""+k._wrapperState.initialValue:k.defaultValue!==""+_&&(k.defaultValue=""+_))}function db(k){var b="";return aa.Children.forEach(k,function(_){_!=null&&(b+=_)}),b}function eb(k,b){return k=m$1({children:void 0},b),(b=db(b.children))&&(k.children=b),k}function fb(k,b,_,$){if(k=k.options,b){b={};for(var j=0;j<_.length;j++)b["$"+_[j]]=!0;for(_=0;_<k.length;_++)j=b.hasOwnProperty("$"+k[_].value),k[_].selected!==j&&(k[_].selected=j),j&&$&&(k[_].defaultSelected=!0)}else{for(_=""+Sa(_),b=null,j=0;j<k.length;j++){if(k[j].value===_){k[j].selected=!0,$&&(k[j].defaultSelected=!0);return}b!==null||k[j].disabled||(b=k[j])}b!==null&&(b.selected=!0)}}function gb(k,b){if(b.dangerouslySetInnerHTML!=null)throw Error(y(91));return m$1({},b,{value:void 0,defaultValue:void 0,children:""+k._wrapperState.initialValue})}function hb(k,b){var _=b.value;if(_==null){if(_=b.children,b=b.defaultValue,_!=null){if(b!=null)throw Error(y(92));if(Array.isArray(_)){if(!(1>=_.length))throw Error(y(93));_=_[0]}b=_}b==null&&(b=""),_=b}k._wrapperState={initialValue:Sa(_)}}function ib(k,b){var _=Sa(b.value),$=Sa(b.defaultValue);_!=null&&(_=""+_,_!==k.value&&(k.value=_),b.defaultValue==null&&k.defaultValue!==_&&(k.defaultValue=_)),$!=null&&(k.defaultValue=""+$)}function jb(k){var b=k.textContent;b===k._wrapperState.initialValue&&b!==""&&b!==null&&(k.value=b)}var kb={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function lb(k){switch(k){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mb(k,b){return k==null||k==="http://www.w3.org/1999/xhtml"?lb(b):k==="http://www.w3.org/2000/svg"&&b==="foreignObject"?"http://www.w3.org/1999/xhtml":k}var nb,ob=function(k){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(b,_,$,j){MSApp.execUnsafeLocalFunction(function(){return k(b,_,$,j)})}:k}(function(k,b){if(k.namespaceURI!==kb.svg||"innerHTML"in k)k.innerHTML=b;else{for(nb=nb||document.createElement("div"),nb.innerHTML="<svg>"+b.valueOf().toString()+"</svg>",b=nb.firstChild;k.firstChild;)k.removeChild(k.firstChild);for(;b.firstChild;)k.appendChild(b.firstChild)}});function pb(k,b){if(b){var _=k.firstChild;if(_&&_===k.lastChild&&_.nodeType===3){_.nodeValue=b;return}}k.textContent=b}var qb={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rb=["Webkit","ms","Moz","O"];Object.keys(qb).forEach(function(k){rb.forEach(function(b){b=b+k.charAt(0).toUpperCase()+k.substring(1),qb[b]=qb[k]})});function sb(k,b,_){return b==null||typeof b=="boolean"||b===""?"":_||typeof b!="number"||b===0||qb.hasOwnProperty(k)&&qb[k]?(""+b).trim():b+"px"}function tb(k,b){k=k.style;for(var _ in b)if(b.hasOwnProperty(_)){var $=_.indexOf("--")===0,j=sb(_,b[_],$);_==="float"&&(_="cssFloat"),$?k.setProperty(_,j):k[_]=j}}var ub=m$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vb(k,b){if(b){if(ub[k]&&(b.children!=null||b.dangerouslySetInnerHTML!=null))throw Error(y(137,k));if(b.dangerouslySetInnerHTML!=null){if(b.children!=null)throw Error(y(60));if(!(typeof b.dangerouslySetInnerHTML=="object"&&"__html"in b.dangerouslySetInnerHTML))throw Error(y(61))}if(b.style!=null&&typeof b.style!="object")throw Error(y(62))}}function wb(k,b){if(k.indexOf("-")===-1)return typeof b.is=="string";switch(k){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function xb(k){return k=k.target||k.srcElement||window,k.correspondingUseElement&&(k=k.correspondingUseElement),k.nodeType===3?k.parentNode:k}var yb=null,zb=null,Ab=null;function Bb(k){if(k=Cb(k)){if(typeof yb!="function")throw Error(y(280));var b=k.stateNode;b&&(b=Db(b),yb(k.stateNode,k.type,b))}}function Eb(k){zb?Ab?Ab.push(k):Ab=[k]:zb=k}function Fb(){if(zb){var k=zb,b=Ab;if(Ab=zb=null,Bb(k),b)for(k=0;k<b.length;k++)Bb(b[k])}}function Gb(k,b){return k(b)}function Hb(k,b,_,$,j){return k(b,_,$,j)}function Ib(){}var Jb=Gb,Kb=!1,Lb=!1;function Mb(){(zb!==null||Ab!==null)&&(Ib(),Fb())}function Nb(k,b,_){if(Lb)return k(b,_);Lb=!0;try{return Jb(k,b,_)}finally{Lb=!1,Mb()}}function Ob(k,b){var _=k.stateNode;if(_===null)return null;var $=Db(_);if($===null)return null;_=$[b];e:switch(b){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":($=!$.disabled)||(k=k.type,$=!(k==="button"||k==="input"||k==="select"||k==="textarea")),k=!$;break e;default:k=!1}if(k)return null;if(_&&typeof _!="function")throw Error(y(231,b,typeof _));return _}var Pb=!1;if(fa)try{var Qb={};Object.defineProperty(Qb,"passive",{get:function(){Pb=!0}}),window.addEventListener("test",Qb,Qb),window.removeEventListener("test",Qb,Qb)}catch{Pb=!1}function Rb(k,b,_,$,j,_e,et,tt,nt){var it=Array.prototype.slice.call(arguments,3);try{b.apply(_,it)}catch(rt){this.onError(rt)}}var Sb=!1,Tb=null,Ub=!1,Vb=null,Wb={onError:function(k){Sb=!0,Tb=k}};function Xb(k,b,_,$,j,_e,et,tt,nt){Sb=!1,Tb=null,Rb.apply(Wb,arguments)}function Yb(k,b,_,$,j,_e,et,tt,nt){if(Xb.apply(this,arguments),Sb){if(Sb){var it=Tb;Sb=!1,Tb=null}else throw Error(y(198));Ub||(Ub=!0,Vb=it)}}function Zb(k){var b=k,_=k;if(k.alternate)for(;b.return;)b=b.return;else{k=b;do b=k,(b.flags&1026)!==0&&(_=b.return),k=b.return;while(k)}return b.tag===3?_:null}function $b(k){if(k.tag===13){var b=k.memoizedState;if(b===null&&(k=k.alternate,k!==null&&(b=k.memoizedState)),b!==null)return b.dehydrated}return null}function ac(k){if(Zb(k)!==k)throw Error(y(188))}function bc(k){var b=k.alternate;if(!b){if(b=Zb(k),b===null)throw Error(y(188));return b!==k?null:k}for(var _=k,$=b;;){var j=_.return;if(j===null)break;var _e=j.alternate;if(_e===null){if($=j.return,$!==null){_=$;continue}break}if(j.child===_e.child){for(_e=j.child;_e;){if(_e===_)return ac(j),k;if(_e===$)return ac(j),b;_e=_e.sibling}throw Error(y(188))}if(_.return!==$.return)_=j,$=_e;else{for(var et=!1,tt=j.child;tt;){if(tt===_){et=!0,_=j,$=_e;break}if(tt===$){et=!0,$=j,_=_e;break}tt=tt.sibling}if(!et){for(tt=_e.child;tt;){if(tt===_){et=!0,_=_e,$=j;break}if(tt===$){et=!0,$=_e,_=j;break}tt=tt.sibling}if(!et)throw Error(y(189))}}if(_.alternate!==$)throw Error(y(190))}if(_.tag!==3)throw Error(y(188));return _.stateNode.current===_?k:b}function cc(k){if(k=bc(k),!k)return null;for(var b=k;;){if(b.tag===5||b.tag===6)return b;if(b.child)b.child.return=b,b=b.child;else{if(b===k)break;for(;!b.sibling;){if(!b.return||b.return===k)return null;b=b.return}b.sibling.return=b.return,b=b.sibling}}return null}function dc(k,b){for(var _=k.alternate;b!==null;){if(b===k||b===_)return!0;b=b.return}return!1}var ec,fc,gc,hc,ic=!1,jc=[],kc=null,lc=null,mc=null,nc=new Map,oc=new Map,pc=[],qc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rc(k,b,_,$,j){return{blockedOn:k,domEventName:b,eventSystemFlags:_|16,nativeEvent:j,targetContainers:[$]}}function sc(k,b){switch(k){case"focusin":case"focusout":kc=null;break;case"dragenter":case"dragleave":lc=null;break;case"mouseover":case"mouseout":mc=null;break;case"pointerover":case"pointerout":nc.delete(b.pointerId);break;case"gotpointercapture":case"lostpointercapture":oc.delete(b.pointerId)}}function tc(k,b,_,$,j,_e){return k===null||k.nativeEvent!==_e?(k=rc(b,_,$,j,_e),b!==null&&(b=Cb(b),b!==null&&fc(b)),k):(k.eventSystemFlags|=$,b=k.targetContainers,j!==null&&b.indexOf(j)===-1&&b.push(j),k)}function uc(k,b,_,$,j){switch(b){case"focusin":return kc=tc(kc,k,b,_,$,j),!0;case"dragenter":return lc=tc(lc,k,b,_,$,j),!0;case"mouseover":return mc=tc(mc,k,b,_,$,j),!0;case"pointerover":var _e=j.pointerId;return nc.set(_e,tc(nc.get(_e)||null,k,b,_,$,j)),!0;case"gotpointercapture":return _e=j.pointerId,oc.set(_e,tc(oc.get(_e)||null,k,b,_,$,j)),!0}return!1}function vc(k){var b=wc(k.target);if(b!==null){var _=Zb(b);if(_!==null){if(b=_.tag,b===13){if(b=$b(_),b!==null){k.blockedOn=b,hc(k.lanePriority,function(){r$1.unstable_runWithPriority(k.priority,function(){gc(_)})});return}}else if(b===3&&_.stateNode.hydrate){k.blockedOn=_.tag===3?_.stateNode.containerInfo:null;return}}}k.blockedOn=null}function xc(k){if(k.blockedOn!==null)return!1;for(var b=k.targetContainers;0<b.length;){var _=yc(k.domEventName,k.eventSystemFlags,b[0],k.nativeEvent);if(_!==null)return b=Cb(_),b!==null&&fc(b),k.blockedOn=_,!1;b.shift()}return!0}function zc(k,b,_){xc(k)&&_.delete(b)}function Ac(){for(ic=!1;0<jc.length;){var k=jc[0];if(k.blockedOn!==null){k=Cb(k.blockedOn),k!==null&&ec(k);break}for(var b=k.targetContainers;0<b.length;){var _=yc(k.domEventName,k.eventSystemFlags,b[0],k.nativeEvent);if(_!==null){k.blockedOn=_;break}b.shift()}k.blockedOn===null&&jc.shift()}kc!==null&&xc(kc)&&(kc=null),lc!==null&&xc(lc)&&(lc=null),mc!==null&&xc(mc)&&(mc=null),nc.forEach(zc),oc.forEach(zc)}function Bc(k,b){k.blockedOn===b&&(k.blockedOn=null,ic||(ic=!0,r$1.unstable_scheduleCallback(r$1.unstable_NormalPriority,Ac)))}function Cc(k){function b(j){return Bc(j,k)}if(0<jc.length){Bc(jc[0],k);for(var _=1;_<jc.length;_++){var $=jc[_];$.blockedOn===k&&($.blockedOn=null)}}for(kc!==null&&Bc(kc,k),lc!==null&&Bc(lc,k),mc!==null&&Bc(mc,k),nc.forEach(b),oc.forEach(b),_=0;_<pc.length;_++)$=pc[_],$.blockedOn===k&&($.blockedOn=null);for(;0<pc.length&&(_=pc[0],_.blockedOn===null);)vc(_),_.blockedOn===null&&pc.shift()}function Dc(k,b){var _={};return _[k.toLowerCase()]=b.toLowerCase(),_["Webkit"+k]="webkit"+b,_["Moz"+k]="moz"+b,_}var Ec={animationend:Dc("Animation","AnimationEnd"),animationiteration:Dc("Animation","AnimationIteration"),animationstart:Dc("Animation","AnimationStart"),transitionend:Dc("Transition","TransitionEnd")},Fc={},Gc={};fa&&(Gc=document.createElement("div").style,"AnimationEvent"in window||(delete Ec.animationend.animation,delete Ec.animationiteration.animation,delete Ec.animationstart.animation),"TransitionEvent"in window||delete Ec.transitionend.transition);function Hc(k){if(Fc[k])return Fc[k];if(!Ec[k])return k;var b=Ec[k],_;for(_ in b)if(b.hasOwnProperty(_)&&_ in Gc)return Fc[k]=b[_];return k}var Ic=Hc("animationend"),Jc=Hc("animationiteration"),Kc=Hc("animationstart"),Lc=Hc("transitionend"),Mc=new Map,Nc=new Map,Oc=["abort","abort",Ic,"animationEnd",Jc,"animationIteration",Kc,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Lc,"transitionEnd","waiting","waiting"];function Pc(k,b){for(var _=0;_<k.length;_+=2){var $=k[_],j=k[_+1];j="on"+(j[0].toUpperCase()+j.slice(1)),Nc.set($,b),Mc.set($,j),da(j,[$])}}var Qc=r$1.unstable_now;Qc();var F=8;function Rc(k){if((1&k)!==0)return F=15,1;if((2&k)!==0)return F=14,2;if((4&k)!==0)return F=13,4;var b=24&k;return b!==0?(F=12,b):(k&32)!==0?(F=11,32):(b=192&k,b!==0?(F=10,b):(k&256)!==0?(F=9,256):(b=3584&k,b!==0?(F=8,b):(k&4096)!==0?(F=7,4096):(b=4186112&k,b!==0?(F=6,b):(b=62914560&k,b!==0?(F=5,b):k&67108864?(F=4,67108864):(k&134217728)!==0?(F=3,134217728):(b=805306368&k,b!==0?(F=2,b):(1073741824&k)!==0?(F=1,1073741824):(F=8,k))))))}function Sc(k){switch(k){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function Tc(k){switch(k){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(y(358,k))}}function Uc(k,b){var _=k.pendingLanes;if(_===0)return F=0;var $=0,j=0,_e=k.expiredLanes,et=k.suspendedLanes,tt=k.pingedLanes;if(_e!==0)$=_e,j=F=15;else if(_e=_&134217727,_e!==0){var nt=_e&~et;nt!==0?($=Rc(nt),j=F):(tt&=_e,tt!==0&&($=Rc(tt),j=F))}else _e=_&~et,_e!==0?($=Rc(_e),j=F):tt!==0&&($=Rc(tt),j=F);if($===0)return 0;if($=31-Vc($),$=_&((0>$?0:1<<$)<<1)-1,b!==0&&b!==$&&(b&et)===0){if(Rc(b),j<=F)return b;F=j}if(b=k.entangledLanes,b!==0)for(k=k.entanglements,b&=$;0<b;)_=31-Vc(b),j=1<<_,$|=k[_],b&=~j;return $}function Wc(k){return k=k.pendingLanes&-1073741825,k!==0?k:k&1073741824?1073741824:0}function Xc(k,b){switch(k){case 15:return 1;case 14:return 2;case 12:return k=Yc(24&~b),k===0?Xc(10,b):k;case 10:return k=Yc(192&~b),k===0?Xc(8,b):k;case 8:return k=Yc(3584&~b),k===0&&(k=Yc(4186112&~b),k===0&&(k=512)),k;case 2:return b=Yc(805306368&~b),b===0&&(b=268435456),b}throw Error(y(358,k))}function Yc(k){return k&-k}function Zc(k){for(var b=[],_=0;31>_;_++)b.push(k);return b}function $c(k,b,_){k.pendingLanes|=b;var $=b-1;k.suspendedLanes&=$,k.pingedLanes&=$,k=k.eventTimes,b=31-Vc(b),k[b]=_}var Vc=Math.clz32?Math.clz32:ad,bd=Math.log,cd=Math.LN2;function ad(k){return k===0?32:31-(bd(k)/cd|0)|0}var dd=r$1.unstable_UserBlockingPriority,ed=r$1.unstable_runWithPriority,fd=!0;function gd(k,b,_,$){Kb||Ib();var j=hd,_e=Kb;Kb=!0;try{Hb(j,k,b,_,$)}finally{(Kb=_e)||Mb()}}function id$2(k,b,_,$){ed(dd,hd.bind(null,k,b,_,$))}function hd(k,b,_,$){if(fd){var j;if((j=(b&4)===0)&&0<jc.length&&-1<qc.indexOf(k))k=rc(null,k,b,_,$),jc.push(k);else{var _e=yc(k,b,_,$);if(_e===null)j&&sc(k,$);else{if(j){if(-1<qc.indexOf(k)){k=rc(_e,k,b,_,$),jc.push(k);return}if(uc(_e,k,b,_,$))return;sc(k,$)}jd(k,b,$,null,_)}}}}function yc(k,b,_,$){var j=xb($);if(j=wc(j),j!==null){var _e=Zb(j);if(_e===null)j=null;else{var et=_e.tag;if(et===13){if(j=$b(_e),j!==null)return j;j=null}else if(et===3){if(_e.stateNode.hydrate)return _e.tag===3?_e.stateNode.containerInfo:null;j=null}else _e!==j&&(j=null)}}return jd(k,b,$,j,_),null}var kd=null,ld=null,md=null;function nd(){if(md)return md;var k,b=ld,_=b.length,$,j="value"in kd?kd.value:kd.textContent,_e=j.length;for(k=0;k<_&&b[k]===j[k];k++);var et=_-k;for($=1;$<=et&&b[_-$]===j[_e-$];$++);return md=j.slice(k,1<$?1-$:void 0)}function od(k){var b=k.keyCode;return"charCode"in k?(k=k.charCode,k===0&&b===13&&(k=13)):k=b,k===10&&(k=13),32<=k||k===13?k:0}function pd(){return!0}function qd(){return!1}function rd(k){function b(_,$,j,_e,et){this._reactName=_,this._targetInst=j,this.type=$,this.nativeEvent=_e,this.target=et,this.currentTarget=null;for(var tt in k)k.hasOwnProperty(tt)&&(_=k[tt],this[tt]=_?_(_e):_e[tt]);return this.isDefaultPrevented=(_e.defaultPrevented!=null?_e.defaultPrevented:_e.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return m$1(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var _=this.nativeEvent;_&&(_.preventDefault?_.preventDefault():typeof _.returnValue!="unknown"&&(_.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var _=this.nativeEvent;_&&(_.stopPropagation?_.stopPropagation():typeof _.cancelBubble!="unknown"&&(_.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),b}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(k){return k.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=m$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=m$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(k){return k.relatedTarget===void 0?k.fromElement===k.srcElement?k.toElement:k.fromElement:k.relatedTarget},movementX:function(k){return"movementX"in k?k.movementX:(k!==yd&&(yd&&k.type==="mousemove"?(wd=k.screenX-yd.screenX,xd=k.screenY-yd.screenY):xd=wd=0,yd=k),wd)},movementY:function(k){return"movementY"in k?k.movementY:xd}}),Bd=rd(Ad),Cd=m$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=m$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=m$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=m$1({},sd,{clipboardData:function(k){return"clipboardData"in k?k.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=m$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(k){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(k):(k=Od[k])?!!b[k]:!1}function zd(){return Pd}var Qd=m$1({},ud,{key:function(k){if(k.key){var b=Md[k.key]||k.key;if(b!=="Unidentified")return b}return k.type==="keypress"?(k=od(k),k===13?"Enter":String.fromCharCode(k)):k.type==="keydown"||k.type==="keyup"?Nd[k.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(k){return k.type==="keypress"?od(k):0},keyCode:function(k){return k.type==="keydown"||k.type==="keyup"?k.keyCode:0},which:function(k){return k.type==="keypress"?od(k):k.type==="keydown"||k.type==="keyup"?k.keyCode:0}}),Rd=rd(Qd),Sd=m$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=m$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=m$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=m$1({},Ad,{deltaX:function(k){return"deltaX"in k?k.deltaX:"wheelDeltaX"in k?-k.wheelDeltaX:0},deltaY:function(k){return"deltaY"in k?k.deltaY:"wheelDeltaY"in k?-k.wheelDeltaY:"wheelDelta"in k?-k.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$1=fa&&"CompositionEvent"in window,be$1=null;fa&&"documentMode"in document&&(be$1=document.documentMode);var ce$1=fa&&"TextEvent"in window&&!be$1,de$1=fa&&(!ae$1||be$1&&8<be$1&&11>=be$1),ee=String.fromCharCode(32),fe$1=!1;function ge$1(k,b){switch(k){case"keyup":return $d.indexOf(b.keyCode)!==-1;case"keydown":return b.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(k){return k=k.detail,typeof k=="object"&&"data"in k?k.data:null}var ie$3=!1;function je(k,b){switch(k){case"compositionend":return he$1(b);case"keypress":return b.which!==32?null:(fe$1=!0,ee);case"textInput":return k=b.data,k===ee&&fe$1?null:k;default:return null}}function ke$1(k,b){if(ie$3)return k==="compositionend"||!ae$1&&ge$1(k,b)?(k=nd(),md=ld=kd=null,ie$3=!1,k):null;switch(k){case"paste":return null;case"keypress":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case"compositionend":return de$1&&b.locale!=="ko"?null:b.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$1(k){var b=k&&k.nodeName&&k.nodeName.toLowerCase();return b==="input"?!!le$1[k.type]:b==="textarea"}function ne(k,b,_,$){Eb($),b=oe(b,"onChange"),0<b.length&&(_=new td("onChange","change",null,_,$),k.push({event:_,listeners:b}))}var pe$1=null,qe=null;function re(k){se$1(k,0)}function te(k){var b=ue$1(k);if(Wa(b))return k}function ve$1(k,b){if(k==="change")return b}var we$1=!1;if(fa){var xe;if(fa){var ye$1="oninput"in document;if(!ye$1){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye$1=typeof ze.oninput=="function"}xe=ye$1}else xe=!1;we$1=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe$1&&(pe$1.detachEvent("onpropertychange",Be),qe=pe$1=null)}function Be(k){if(k.propertyName==="value"&&te(qe)){var b=[];if(ne(b,qe,k,xb(k)),k=re,Kb)k(b);else{Kb=!0;try{Gb(k,b)}finally{Kb=!1,Mb()}}}}function Ce(k,b,_){k==="focusin"?(Ae(),pe$1=b,qe=_,pe$1.attachEvent("onpropertychange",Be)):k==="focusout"&&Ae()}function De(k){if(k==="selectionchange"||k==="keyup"||k==="keydown")return te(qe)}function Ee$1(k,b){if(k==="click")return te(b)}function Fe(k,b){if(k==="input"||k==="change")return te(b)}function Ge(k,b){return k===b&&(k!==0||1/k===1/b)||k!==k&&b!==b}var He=typeof Object.is=="function"?Object.is:Ge,Ie=Object.prototype.hasOwnProperty;function Je(k,b){if(He(k,b))return!0;if(typeof k!="object"||k===null||typeof b!="object"||b===null)return!1;var _=Object.keys(k),$=Object.keys(b);if(_.length!==$.length)return!1;for($=0;$<_.length;$++)if(!Ie.call(b,_[$])||!He(k[_[$]],b[_[$]]))return!1;return!0}function Ke(k){for(;k&&k.firstChild;)k=k.firstChild;return k}function Le(k,b){var _=Ke(k);k=0;for(var $;_;){if(_.nodeType===3){if($=k+_.textContent.length,k<=b&&$>=b)return{node:_,offset:b-k};k=$}e:{for(;_;){if(_.nextSibling){_=_.nextSibling;break e}_=_.parentNode}_=void 0}_=Ke(_)}}function Me(k,b){return k&&b?k===b?!0:k&&k.nodeType===3?!1:b&&b.nodeType===3?Me(k,b.parentNode):"contains"in k?k.contains(b):k.compareDocumentPosition?!!(k.compareDocumentPosition(b)&16):!1:!1}function Ne(){for(var k=window,b=Xa();b instanceof k.HTMLIFrameElement;){try{var _=typeof b.contentWindow.location.href=="string"}catch{_=!1}if(_)k=b.contentWindow;else break;b=Xa(k.document)}return b}function Oe(k){var b=k&&k.nodeName&&k.nodeName.toLowerCase();return b&&(b==="input"&&(k.type==="text"||k.type==="search"||k.type==="tel"||k.type==="url"||k.type==="password")||b==="textarea"||k.contentEditable==="true")}var Pe=fa&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se$1=null,Te=!1;function Ue(k,b,_){var $=_.window===_?_.document:_.nodeType===9?_:_.ownerDocument;Te||Qe==null||Qe!==Xa($)||($=Qe,"selectionStart"in $&&Oe($)?$={start:$.selectionStart,end:$.selectionEnd}:($=($.ownerDocument&&$.ownerDocument.defaultView||window).getSelection(),$={anchorNode:$.anchorNode,anchorOffset:$.anchorOffset,focusNode:$.focusNode,focusOffset:$.focusOffset}),Se$1&&Je(Se$1,$)||(Se$1=$,$=oe(Re,"onSelect"),0<$.length&&(b=new td("onSelect","select",null,b,_),k.push({event:b,listeners:$}),b.target=Qe)))}Pc("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);Pc("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Pc(Oc,2);for(var Ve="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),We=0;We<Ve.length;We++)Nc.set(Ve[We],0);ea("onMouseEnter",["mouseout","mouseover"]);ea("onMouseLeave",["mouseout","mouseover"]);ea("onPointerEnter",["pointerout","pointerover"]);ea("onPointerLeave",["pointerout","pointerover"]);da("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));da("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));da("onBeforeInput",["compositionend","keypress","textInput","paste"]);da("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));da("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));da("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xe="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ye=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xe));function Ze(k,b,_){var $=k.type||"unknown-event";k.currentTarget=_,Yb($,b,void 0,k),k.currentTarget=null}function se$1(k,b){b=(b&4)!==0;for(var _=0;_<k.length;_++){var $=k[_],j=$.event;$=$.listeners;e:{var _e=void 0;if(b)for(var et=$.length-1;0<=et;et--){var tt=$[et],nt=tt.instance,it=tt.currentTarget;if(tt=tt.listener,nt!==_e&&j.isPropagationStopped())break e;Ze(j,tt,it),_e=nt}else for(et=0;et<$.length;et++){if(tt=$[et],nt=tt.instance,it=tt.currentTarget,tt=tt.listener,nt!==_e&&j.isPropagationStopped())break e;Ze(j,tt,it),_e=nt}}}if(Ub)throw k=Vb,Ub=!1,Vb=null,k}function G(k,b){var _=$e(b),$=k+"__bubble";_.has($)||(af(b,k,2,!1),_.add($))}var bf="_reactListening"+Math.random().toString(36).slice(2);function cf(k){k[bf]||(k[bf]=!0,ba.forEach(function(b){Ye.has(b)||df(b,!1,k,null),df(b,!0,k,null)}))}function df(k,b,_,$){var j=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,_e=_;if(k==="selectionchange"&&_.nodeType!==9&&(_e=_.ownerDocument),$!==null&&!b&&Ye.has(k)){if(k!=="scroll")return;j|=2,_e=$}var et=$e(_e),tt=k+"__"+(b?"capture":"bubble");et.has(tt)||(b&&(j|=4),af(_e,k,j,b),et.add(tt))}function af(k,b,_,$){var j=Nc.get(b);switch(j===void 0?2:j){case 0:j=gd;break;case 1:j=id$2;break;default:j=hd}_=j.bind(null,b,_,k),j=void 0,!Pb||b!=="touchstart"&&b!=="touchmove"&&b!=="wheel"||(j=!0),$?j!==void 0?k.addEventListener(b,_,{capture:!0,passive:j}):k.addEventListener(b,_,!0):j!==void 0?k.addEventListener(b,_,{passive:j}):k.addEventListener(b,_,!1)}function jd(k,b,_,$,j){var _e=$;if((b&1)===0&&(b&2)===0&&$!==null)e:for(;;){if($===null)return;var et=$.tag;if(et===3||et===4){var tt=$.stateNode.containerInfo;if(tt===j||tt.nodeType===8&&tt.parentNode===j)break;if(et===4)for(et=$.return;et!==null;){var nt=et.tag;if((nt===3||nt===4)&&(nt=et.stateNode.containerInfo,nt===j||nt.nodeType===8&&nt.parentNode===j))return;et=et.return}for(;tt!==null;){if(et=wc(tt),et===null)return;if(nt=et.tag,nt===5||nt===6){$=_e=et;continue e}tt=tt.parentNode}}$=$.return}Nb(function(){var it=_e,rt=xb(_),st=[];e:{var ot=Mc.get(k);if(ot!==void 0){var ut=td,lt=k;switch(k){case"keypress":if(od(_)===0)break e;case"keydown":case"keyup":ut=Rd;break;case"focusin":lt="focus",ut=Fd;break;case"focusout":lt="blur",ut=Fd;break;case"beforeblur":case"afterblur":ut=Fd;break;case"click":if(_.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ut=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ut=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ut=Vd;break;case Ic:case Jc:case Kc:ut=Hd;break;case Lc:ut=Xd;break;case"scroll":ut=vd;break;case"wheel":ut=Zd;break;case"copy":case"cut":case"paste":ut=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ut=Td}var ft=(b&4)!==0,ct=!ft&&k==="scroll",pt=ft?ot!==null?ot+"Capture":null:ot;ft=[];for(var mt=it,wt;mt!==null;){wt=mt;var gt=wt.stateNode;if(wt.tag===5&&gt!==null&&(wt=gt,pt!==null&&(gt=Ob(mt,pt),gt!=null&&ft.push(ef(mt,gt,wt)))),ct)break;mt=mt.return}0<ft.length&&(ot=new ut(ot,lt,null,_,rt),st.push({event:ot,listeners:ft}))}}if((b&7)===0){e:{if(ot=k==="mouseover"||k==="pointerover",ut=k==="mouseout"||k==="pointerout",ot&&(b&16)===0&&(lt=_.relatedTarget||_.fromElement)&&(wc(lt)||lt[ff]))break e;if((ut||ot)&&(ot=rt.window===rt?rt:(ot=rt.ownerDocument)?ot.defaultView||ot.parentWindow:window,ut?(lt=_.relatedTarget||_.toElement,ut=it,lt=lt?wc(lt):null,lt!==null&&(ct=Zb(lt),lt!==ct||lt.tag!==5&&lt.tag!==6)&&(lt=null)):(ut=null,lt=it),ut!==lt)){if(ft=Bd,gt="onMouseLeave",pt="onMouseEnter",mt="mouse",(k==="pointerout"||k==="pointerover")&&(ft=Td,gt="onPointerLeave",pt="onPointerEnter",mt="pointer"),ct=ut==null?ot:ue$1(ut),wt=lt==null?ot:ue$1(lt),ot=new ft(gt,mt+"leave",ut,_,rt),ot.target=ct,ot.relatedTarget=wt,gt=null,wc(rt)===it&&(ft=new ft(pt,mt+"enter",lt,_,rt),ft.target=wt,ft.relatedTarget=ct,gt=ft),ct=gt,ut&&lt)t:{for(ft=ut,pt=lt,mt=0,wt=ft;wt;wt=gf(wt))mt++;for(wt=0,gt=pt;gt;gt=gf(gt))wt++;for(;0<mt-wt;)ft=gf(ft),mt--;for(;0<wt-mt;)pt=gf(pt),wt--;for(;mt--;){if(ft===pt||pt!==null&&ft===pt.alternate)break t;ft=gf(ft),pt=gf(pt)}ft=null}else ft=null;ut!==null&&hf(st,ot,ut,ft,!1),lt!==null&&ct!==null&&hf(st,ct,lt,ft,!0)}}e:{if(ot=it?ue$1(it):window,ut=ot.nodeName&&ot.nodeName.toLowerCase(),ut==="select"||ut==="input"&&ot.type==="file")var vt=ve$1;else if(me$1(ot))if(we$1)vt=Fe;else{vt=De;var bt=Ce}else(ut=ot.nodeName)&&ut.toLowerCase()==="input"&&(ot.type==="checkbox"||ot.type==="radio")&&(vt=Ee$1);if(vt&&(vt=vt(k,it))){ne(st,vt,_,rt);break e}bt&&bt(k,ot,it),k==="focusout"&&(bt=ot._wrapperState)&&bt.controlled&&ot.type==="number"&&bb(ot,"number",ot.value)}switch(bt=it?ue$1(it):window,k){case"focusin":(me$1(bt)||bt.contentEditable==="true")&&(Qe=bt,Re=it,Se$1=null);break;case"focusout":Se$1=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(st,_,rt);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(st,_,rt)}var Ct;if(ae$1)e:{switch(k){case"compositionstart":var Dt="onCompositionStart";break e;case"compositionend":Dt="onCompositionEnd";break e;case"compositionupdate":Dt="onCompositionUpdate";break e}Dt=void 0}else ie$3?ge$1(k,_)&&(Dt="onCompositionEnd"):k==="keydown"&&_.keyCode===229&&(Dt="onCompositionStart");Dt&&(de$1&&_.locale!=="ko"&&(ie$3||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&ie$3&&(Ct=nd()):(kd=rt,ld="value"in kd?kd.value:kd.textContent,ie$3=!0)),bt=oe(it,Dt),0<bt.length&&(Dt=new Ld(Dt,k,null,_,rt),st.push({event:Dt,listeners:bt}),Ct?Dt.data=Ct:(Ct=he$1(_),Ct!==null&&(Dt.data=Ct)))),(Ct=ce$1?je(k,_):ke$1(k,_))&&(it=oe(it,"onBeforeInput"),0<it.length&&(rt=new Ld("onBeforeInput","beforeinput",null,_,rt),st.push({event:rt,listeners:it}),rt.data=Ct))}se$1(st,b)})}function ef(k,b,_){return{instance:k,listener:b,currentTarget:_}}function oe(k,b){for(var _=b+"Capture",$=[];k!==null;){var j=k,_e=j.stateNode;j.tag===5&&_e!==null&&(j=_e,_e=Ob(k,_),_e!=null&&$.unshift(ef(k,_e,j)),_e=Ob(k,b),_e!=null&&$.push(ef(k,_e,j))),k=k.return}return $}function gf(k){if(k===null)return null;do k=k.return;while(k&&k.tag!==5);return k||null}function hf(k,b,_,$,j){for(var _e=b._reactName,et=[];_!==null&&_!==$;){var tt=_,nt=tt.alternate,it=tt.stateNode;if(nt!==null&&nt===$)break;tt.tag===5&&it!==null&&(tt=it,j?(nt=Ob(_,_e),nt!=null&&et.unshift(ef(_,nt,tt))):j||(nt=Ob(_,_e),nt!=null&&et.push(ef(_,nt,tt)))),_=_.return}et.length!==0&&k.push({event:b,listeners:et})}function jf(){}var kf=null,lf=null;function mf(k,b){switch(k){case"button":case"input":case"select":case"textarea":return!!b.autoFocus}return!1}function nf(k,b){return k==="textarea"||k==="option"||k==="noscript"||typeof b.children=="string"||typeof b.children=="number"||typeof b.dangerouslySetInnerHTML=="object"&&b.dangerouslySetInnerHTML!==null&&b.dangerouslySetInnerHTML.__html!=null}var of=typeof setTimeout=="function"?setTimeout:void 0,pf=typeof clearTimeout=="function"?clearTimeout:void 0;function qf(k){k.nodeType===1?k.textContent="":k.nodeType===9&&(k=k.body,k!=null&&(k.textContent=""))}function rf(k){for(;k!=null;k=k.nextSibling){var b=k.nodeType;if(b===1||b===3)break}return k}function sf(k){k=k.previousSibling;for(var b=0;k;){if(k.nodeType===8){var _=k.data;if(_==="$"||_==="$!"||_==="$?"){if(b===0)return k;b--}else _==="/$"&&b++}k=k.previousSibling}return null}var tf=0;function uf(k){return{$$typeof:Ga,toString:k,valueOf:k}}var vf=Math.random().toString(36).slice(2),wf="__reactFiber$"+vf,xf="__reactProps$"+vf,ff="__reactContainer$"+vf,yf="__reactEvents$"+vf;function wc(k){var b=k[wf];if(b)return b;for(var _=k.parentNode;_;){if(b=_[ff]||_[wf]){if(_=b.alternate,b.child!==null||_!==null&&_.child!==null)for(k=sf(k);k!==null;){if(_=k[wf])return _;k=sf(k)}return b}k=_,_=k.parentNode}return null}function Cb(k){return k=k[wf]||k[ff],!k||k.tag!==5&&k.tag!==6&&k.tag!==13&&k.tag!==3?null:k}function ue$1(k){if(k.tag===5||k.tag===6)return k.stateNode;throw Error(y(33))}function Db(k){return k[xf]||null}function $e(k){var b=k[yf];return b===void 0&&(b=k[yf]=new Set),b}var zf=[],Af=-1;function Bf(k){return{current:k}}function H(k){0>Af||(k.current=zf[Af],zf[Af]=null,Af--)}function I(k,b){Af++,zf[Af]=k.current,k.current=b}var Cf={},M=Bf(Cf),N=Bf(!1),Df=Cf;function Ef(k,b){var _=k.type.contextTypes;if(!_)return Cf;var $=k.stateNode;if($&&$.__reactInternalMemoizedUnmaskedChildContext===b)return $.__reactInternalMemoizedMaskedChildContext;var j={},_e;for(_e in _)j[_e]=b[_e];return $&&(k=k.stateNode,k.__reactInternalMemoizedUnmaskedChildContext=b,k.__reactInternalMemoizedMaskedChildContext=j),j}function Ff(k){return k=k.childContextTypes,k!=null}function Gf(){H(N),H(M)}function Hf(k,b,_){if(M.current!==Cf)throw Error(y(168));I(M,b),I(N,_)}function If(k,b,_){var $=k.stateNode;if(k=b.childContextTypes,typeof $.getChildContext!="function")return _;$=$.getChildContext();for(var j in $)if(!(j in k))throw Error(y(108,Ra(b)||"Unknown",j));return m$1({},_,$)}function Jf(k){return k=(k=k.stateNode)&&k.__reactInternalMemoizedMergedChildContext||Cf,Df=M.current,I(M,k),I(N,N.current),!0}function Kf(k,b,_){var $=k.stateNode;if(!$)throw Error(y(169));_?(k=If(k,b,Df),$.__reactInternalMemoizedMergedChildContext=k,H(N),H(M),I(M,k)):H(N),I(N,_)}var Lf=null,Mf=null,Nf=r$1.unstable_runWithPriority,Of=r$1.unstable_scheduleCallback,Pf=r$1.unstable_cancelCallback,Qf=r$1.unstable_shouldYield,Rf=r$1.unstable_requestPaint,Sf=r$1.unstable_now,Tf=r$1.unstable_getCurrentPriorityLevel,Uf=r$1.unstable_ImmediatePriority,Vf=r$1.unstable_UserBlockingPriority,Wf=r$1.unstable_NormalPriority,Xf=r$1.unstable_LowPriority,Yf=r$1.unstable_IdlePriority,Zf={},$f=Rf!==void 0?Rf:function(){},ag=null,bg=null,cg=!1,dg=Sf(),O$1=1e4>dg?Sf:function(){return Sf()-dg};function eg(){switch(Tf()){case Uf:return 99;case Vf:return 98;case Wf:return 97;case Xf:return 96;case Yf:return 95;default:throw Error(y(332))}}function fg(k){switch(k){case 99:return Uf;case 98:return Vf;case 97:return Wf;case 96:return Xf;case 95:return Yf;default:throw Error(y(332))}}function gg(k,b){return k=fg(k),Nf(k,b)}function hg(k,b,_){return k=fg(k),Of(k,b,_)}function ig(){if(bg!==null){var k=bg;bg=null,Pf(k)}jg()}function jg(){if(!cg&&ag!==null){cg=!0;var k=0;try{var b=ag;gg(99,function(){for(;k<b.length;k++){var _=b[k];do _=_(!0);while(_!==null)}}),ag=null}catch(_){throw ag!==null&&(ag=ag.slice(k+1)),Of(Uf,ig),_}finally{cg=!1}}}var kg=ra.ReactCurrentBatchConfig;function lg(k,b){if(k&&k.defaultProps){b=m$1({},b),k=k.defaultProps;for(var _ in k)b[_]===void 0&&(b[_]=k[_]);return b}return b}var mg=Bf(null),ng=null,og=null,pg=null;function qg(){pg=og=ng=null}function rg(k){var b=mg.current;H(mg),k.type._context._currentValue=b}function sg(k,b){for(;k!==null;){var _=k.alternate;if((k.childLanes&b)===b){if(_===null||(_.childLanes&b)===b)break;_.childLanes|=b}else k.childLanes|=b,_!==null&&(_.childLanes|=b);k=k.return}}function tg(k,b){ng=k,pg=og=null,k=k.dependencies,k!==null&&k.firstContext!==null&&((k.lanes&b)!==0&&(ug=!0),k.firstContext=null)}function vg(k,b){if(pg!==k&&b!==!1&&b!==0)if((typeof b!="number"||b===1073741823)&&(pg=k,b=1073741823),b={context:k,observedBits:b,next:null},og===null){if(ng===null)throw Error(y(308));og=b,ng.dependencies={lanes:0,firstContext:b,responders:null}}else og=og.next=b;return k._currentValue}var wg=!1;function xg(k){k.updateQueue={baseState:k.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function yg(k,b){k=k.updateQueue,b.updateQueue===k&&(b.updateQueue={baseState:k.baseState,firstBaseUpdate:k.firstBaseUpdate,lastBaseUpdate:k.lastBaseUpdate,shared:k.shared,effects:k.effects})}function zg(k,b){return{eventTime:k,lane:b,tag:0,payload:null,callback:null,next:null}}function Ag(k,b){if(k=k.updateQueue,k!==null){k=k.shared;var _=k.pending;_===null?b.next=b:(b.next=_.next,_.next=b),k.pending=b}}function Bg(k,b){var _=k.updateQueue,$=k.alternate;if($!==null&&($=$.updateQueue,_===$)){var j=null,_e=null;if(_=_.firstBaseUpdate,_!==null){do{var et={eventTime:_.eventTime,lane:_.lane,tag:_.tag,payload:_.payload,callback:_.callback,next:null};_e===null?j=_e=et:_e=_e.next=et,_=_.next}while(_!==null);_e===null?j=_e=b:_e=_e.next=b}else j=_e=b;_={baseState:$.baseState,firstBaseUpdate:j,lastBaseUpdate:_e,shared:$.shared,effects:$.effects},k.updateQueue=_;return}k=_.lastBaseUpdate,k===null?_.firstBaseUpdate=b:k.next=b,_.lastBaseUpdate=b}function Cg(k,b,_,$){var j=k.updateQueue;wg=!1;var _e=j.firstBaseUpdate,et=j.lastBaseUpdate,tt=j.shared.pending;if(tt!==null){j.shared.pending=null;var nt=tt,it=nt.next;nt.next=null,et===null?_e=it:et.next=it,et=nt;var rt=k.alternate;if(rt!==null){rt=rt.updateQueue;var st=rt.lastBaseUpdate;st!==et&&(st===null?rt.firstBaseUpdate=it:st.next=it,rt.lastBaseUpdate=nt)}}if(_e!==null){st=j.baseState,et=0,rt=it=nt=null;do{tt=_e.lane;var ot=_e.eventTime;if(($&tt)===tt){rt!==null&&(rt=rt.next={eventTime:ot,lane:0,tag:_e.tag,payload:_e.payload,callback:_e.callback,next:null});e:{var ut=k,lt=_e;switch(tt=b,ot=_,lt.tag){case 1:if(ut=lt.payload,typeof ut=="function"){st=ut.call(ot,st,tt);break e}st=ut;break e;case 3:ut.flags=ut.flags&-4097|64;case 0:if(ut=lt.payload,tt=typeof ut=="function"?ut.call(ot,st,tt):ut,tt==null)break e;st=m$1({},st,tt);break e;case 2:wg=!0}}_e.callback!==null&&(k.flags|=32,tt=j.effects,tt===null?j.effects=[_e]:tt.push(_e))}else ot={eventTime:ot,lane:tt,tag:_e.tag,payload:_e.payload,callback:_e.callback,next:null},rt===null?(it=rt=ot,nt=st):rt=rt.next=ot,et|=tt;if(_e=_e.next,_e===null){if(tt=j.shared.pending,tt===null)break;_e=tt.next,tt.next=null,j.lastBaseUpdate=tt,j.shared.pending=null}}while(1);rt===null&&(nt=st),j.baseState=nt,j.firstBaseUpdate=it,j.lastBaseUpdate=rt,Dg|=et,k.lanes=et,k.memoizedState=st}}function Eg(k,b,_){if(k=b.effects,b.effects=null,k!==null)for(b=0;b<k.length;b++){var $=k[b],j=$.callback;if(j!==null){if($.callback=null,$=_,typeof j!="function")throw Error(y(191,j));j.call($)}}}var Fg=new aa.Component().refs;function Gg(k,b,_,$){b=k.memoizedState,_=_($,b),_=_==null?b:m$1({},b,_),k.memoizedState=_,k.lanes===0&&(k.updateQueue.baseState=_)}var Kg={isMounted:function(k){return(k=k._reactInternals)?Zb(k)===k:!1},enqueueSetState:function(k,b,_){k=k._reactInternals;var $=Hg(),j=Ig(k),_e=zg($,j);_e.payload=b,_!=null&&(_e.callback=_),Ag(k,_e),Jg(k,j,$)},enqueueReplaceState:function(k,b,_){k=k._reactInternals;var $=Hg(),j=Ig(k),_e=zg($,j);_e.tag=1,_e.payload=b,_!=null&&(_e.callback=_),Ag(k,_e),Jg(k,j,$)},enqueueForceUpdate:function(k,b){k=k._reactInternals;var _=Hg(),$=Ig(k),j=zg(_,$);j.tag=2,b!=null&&(j.callback=b),Ag(k,j),Jg(k,$,_)}};function Lg(k,b,_,$,j,_e,et){return k=k.stateNode,typeof k.shouldComponentUpdate=="function"?k.shouldComponentUpdate($,_e,et):b.prototype&&b.prototype.isPureReactComponent?!Je(_,$)||!Je(j,_e):!0}function Mg(k,b,_){var $=!1,j=Cf,_e=b.contextType;return typeof _e=="object"&&_e!==null?_e=vg(_e):(j=Ff(b)?Df:M.current,$=b.contextTypes,_e=($=$!=null)?Ef(k,j):Cf),b=new b(_,_e),k.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Kg,k.stateNode=b,b._reactInternals=k,$&&(k=k.stateNode,k.__reactInternalMemoizedUnmaskedChildContext=j,k.__reactInternalMemoizedMaskedChildContext=_e),b}function Ng(k,b,_,$){k=b.state,typeof b.componentWillReceiveProps=="function"&&b.componentWillReceiveProps(_,$),typeof b.UNSAFE_componentWillReceiveProps=="function"&&b.UNSAFE_componentWillReceiveProps(_,$),b.state!==k&&Kg.enqueueReplaceState(b,b.state,null)}function Og(k,b,_,$){var j=k.stateNode;j.props=_,j.state=k.memoizedState,j.refs=Fg,xg(k);var _e=b.contextType;typeof _e=="object"&&_e!==null?j.context=vg(_e):(_e=Ff(b)?Df:M.current,j.context=Ef(k,_e)),Cg(k,_,j,$),j.state=k.memoizedState,_e=b.getDerivedStateFromProps,typeof _e=="function"&&(Gg(k,b,_e,_),j.state=k.memoizedState),typeof b.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(b=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),b!==j.state&&Kg.enqueueReplaceState(j,j.state,null),Cg(k,_,j,$),j.state=k.memoizedState),typeof j.componentDidMount=="function"&&(k.flags|=4)}var Pg=Array.isArray;function Qg(k,b,_){if(k=_.ref,k!==null&&typeof k!="function"&&typeof k!="object"){if(_._owner){if(_=_._owner,_){if(_.tag!==1)throw Error(y(309));var $=_.stateNode}if(!$)throw Error(y(147,k));var j=""+k;return b!==null&&b.ref!==null&&typeof b.ref=="function"&&b.ref._stringRef===j?b.ref:(b=function(_e){var et=$.refs;et===Fg&&(et=$.refs={}),_e===null?delete et[j]:et[j]=_e},b._stringRef=j,b)}if(typeof k!="string")throw Error(y(284));if(!_._owner)throw Error(y(290,k))}return k}function Rg(k,b){if(k.type!=="textarea")throw Error(y(31,Object.prototype.toString.call(b)==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":b))}function Sg(k){function b(ct,pt){if(k){var mt=ct.lastEffect;mt!==null?(mt.nextEffect=pt,ct.lastEffect=pt):ct.firstEffect=ct.lastEffect=pt,pt.nextEffect=null,pt.flags=8}}function _(ct,pt){if(!k)return null;for(;pt!==null;)b(ct,pt),pt=pt.sibling;return null}function $(ct,pt){for(ct=new Map;pt!==null;)pt.key!==null?ct.set(pt.key,pt):ct.set(pt.index,pt),pt=pt.sibling;return ct}function j(ct,pt){return ct=Tg(ct,pt),ct.index=0,ct.sibling=null,ct}function _e(ct,pt,mt){return ct.index=mt,k?(mt=ct.alternate,mt!==null?(mt=mt.index,mt<pt?(ct.flags=2,pt):mt):(ct.flags=2,pt)):pt}function et(ct){return k&&ct.alternate===null&&(ct.flags=2),ct}function tt(ct,pt,mt,wt){return pt===null||pt.tag!==6?(pt=Ug(mt,ct.mode,wt),pt.return=ct,pt):(pt=j(pt,mt),pt.return=ct,pt)}function nt(ct,pt,mt,wt){return pt!==null&&pt.elementType===mt.type?(wt=j(pt,mt.props),wt.ref=Qg(ct,pt,mt),wt.return=ct,wt):(wt=Vg(mt.type,mt.key,mt.props,null,ct.mode,wt),wt.ref=Qg(ct,pt,mt),wt.return=ct,wt)}function it(ct,pt,mt,wt){return pt===null||pt.tag!==4||pt.stateNode.containerInfo!==mt.containerInfo||pt.stateNode.implementation!==mt.implementation?(pt=Wg(mt,ct.mode,wt),pt.return=ct,pt):(pt=j(pt,mt.children||[]),pt.return=ct,pt)}function rt(ct,pt,mt,wt,gt){return pt===null||pt.tag!==7?(pt=Xg(mt,ct.mode,wt,gt),pt.return=ct,pt):(pt=j(pt,mt),pt.return=ct,pt)}function st(ct,pt,mt){if(typeof pt=="string"||typeof pt=="number")return pt=Ug(""+pt,ct.mode,mt),pt.return=ct,pt;if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case sa:return mt=Vg(pt.type,pt.key,pt.props,null,ct.mode,mt),mt.ref=Qg(ct,null,pt),mt.return=ct,mt;case ta:return pt=Wg(pt,ct.mode,mt),pt.return=ct,pt}if(Pg(pt)||La(pt))return pt=Xg(pt,ct.mode,mt,null),pt.return=ct,pt;Rg(ct,pt)}return null}function ot(ct,pt,mt,wt){var gt=pt!==null?pt.key:null;if(typeof mt=="string"||typeof mt=="number")return gt!==null?null:tt(ct,pt,""+mt,wt);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case sa:return mt.key===gt?mt.type===ua?rt(ct,pt,mt.props.children,wt,gt):nt(ct,pt,mt,wt):null;case ta:return mt.key===gt?it(ct,pt,mt,wt):null}if(Pg(mt)||La(mt))return gt!==null?null:rt(ct,pt,mt,wt,null);Rg(ct,mt)}return null}function ut(ct,pt,mt,wt,gt){if(typeof wt=="string"||typeof wt=="number")return ct=ct.get(mt)||null,tt(pt,ct,""+wt,gt);if(typeof wt=="object"&&wt!==null){switch(wt.$$typeof){case sa:return ct=ct.get(wt.key===null?mt:wt.key)||null,wt.type===ua?rt(pt,ct,wt.props.children,gt,wt.key):nt(pt,ct,wt,gt);case ta:return ct=ct.get(wt.key===null?mt:wt.key)||null,it(pt,ct,wt,gt)}if(Pg(wt)||La(wt))return ct=ct.get(mt)||null,rt(pt,ct,wt,gt,null);Rg(pt,wt)}return null}function lt(ct,pt,mt,wt){for(var gt=null,vt=null,bt=pt,Ct=pt=0,Dt=null;bt!==null&&Ct<mt.length;Ct++){bt.index>Ct?(Dt=bt,bt=null):Dt=bt.sibling;var _t=ot(ct,bt,mt[Ct],wt);if(_t===null){bt===null&&(bt=Dt);break}k&&bt&&_t.alternate===null&&b(ct,bt),pt=_e(_t,pt,Ct),vt===null?gt=_t:vt.sibling=_t,vt=_t,bt=Dt}if(Ct===mt.length)return _(ct,bt),gt;if(bt===null){for(;Ct<mt.length;Ct++)bt=st(ct,mt[Ct],wt),bt!==null&&(pt=_e(bt,pt,Ct),vt===null?gt=bt:vt.sibling=bt,vt=bt);return gt}for(bt=$(ct,bt);Ct<mt.length;Ct++)Dt=ut(bt,ct,Ct,mt[Ct],wt),Dt!==null&&(k&&Dt.alternate!==null&&bt.delete(Dt.key===null?Ct:Dt.key),pt=_e(Dt,pt,Ct),vt===null?gt=Dt:vt.sibling=Dt,vt=Dt);return k&&bt.forEach(function(Rt){return b(ct,Rt)}),gt}function ft(ct,pt,mt,wt){var gt=La(mt);if(typeof gt!="function")throw Error(y(150));if(mt=gt.call(mt),mt==null)throw Error(y(151));for(var vt=gt=null,bt=pt,Ct=pt=0,Dt=null,_t=mt.next();bt!==null&&!_t.done;Ct++,_t=mt.next()){bt.index>Ct?(Dt=bt,bt=null):Dt=bt.sibling;var Rt=ot(ct,bt,_t.value,wt);if(Rt===null){bt===null&&(bt=Dt);break}k&&bt&&Rt.alternate===null&&b(ct,bt),pt=_e(Rt,pt,Ct),vt===null?gt=Rt:vt.sibling=Rt,vt=Rt,bt=Dt}if(_t.done)return _(ct,bt),gt;if(bt===null){for(;!_t.done;Ct++,_t=mt.next())_t=st(ct,_t.value,wt),_t!==null&&(pt=_e(_t,pt,Ct),vt===null?gt=_t:vt.sibling=_t,vt=_t);return gt}for(bt=$(ct,bt);!_t.done;Ct++,_t=mt.next())_t=ut(bt,ct,Ct,_t.value,wt),_t!==null&&(k&&_t.alternate!==null&&bt.delete(_t.key===null?Ct:_t.key),pt=_e(_t,pt,Ct),vt===null?gt=_t:vt.sibling=_t,vt=_t);return k&&bt.forEach(function(jt){return b(ct,jt)}),gt}return function(ct,pt,mt,wt){var gt=typeof mt=="object"&&mt!==null&&mt.type===ua&&mt.key===null;gt&&(mt=mt.props.children);var vt=typeof mt=="object"&&mt!==null;if(vt)switch(mt.$$typeof){case sa:e:{for(vt=mt.key,gt=pt;gt!==null;){if(gt.key===vt){switch(gt.tag){case 7:if(mt.type===ua){_(ct,gt.sibling),pt=j(gt,mt.props.children),pt.return=ct,ct=pt;break e}break;default:if(gt.elementType===mt.type){_(ct,gt.sibling),pt=j(gt,mt.props),pt.ref=Qg(ct,gt,mt),pt.return=ct,ct=pt;break e}}_(ct,gt);break}else b(ct,gt);gt=gt.sibling}mt.type===ua?(pt=Xg(mt.props.children,ct.mode,wt,mt.key),pt.return=ct,ct=pt):(wt=Vg(mt.type,mt.key,mt.props,null,ct.mode,wt),wt.ref=Qg(ct,pt,mt),wt.return=ct,ct=wt)}return et(ct);case ta:e:{for(gt=mt.key;pt!==null;){if(pt.key===gt)if(pt.tag===4&&pt.stateNode.containerInfo===mt.containerInfo&&pt.stateNode.implementation===mt.implementation){_(ct,pt.sibling),pt=j(pt,mt.children||[]),pt.return=ct,ct=pt;break e}else{_(ct,pt);break}else b(ct,pt);pt=pt.sibling}pt=Wg(mt,ct.mode,wt),pt.return=ct,ct=pt}return et(ct)}if(typeof mt=="string"||typeof mt=="number")return mt=""+mt,pt!==null&&pt.tag===6?(_(ct,pt.sibling),pt=j(pt,mt),pt.return=ct,ct=pt):(_(ct,pt),pt=Ug(mt,ct.mode,wt),pt.return=ct,ct=pt),et(ct);if(Pg(mt))return lt(ct,pt,mt,wt);if(La(mt))return ft(ct,pt,mt,wt);if(vt&&Rg(ct,mt),typeof mt>"u"&&!gt)switch(ct.tag){case 1:case 22:case 0:case 11:case 15:throw Error(y(152,Ra(ct.type)||"Component"))}return _(ct,pt)}}var Yg=Sg(!0),Zg=Sg(!1),$g={},ah=Bf($g),bh=Bf($g),ch=Bf($g);function dh(k){if(k===$g)throw Error(y(174));return k}function eh(k,b){switch(I(ch,b),I(bh,k),I(ah,$g),k=b.nodeType,k){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:mb(null,"");break;default:k=k===8?b.parentNode:b,b=k.namespaceURI||null,k=k.tagName,b=mb(b,k)}H(ah),I(ah,b)}function fh(){H(ah),H(bh),H(ch)}function gh(k){dh(ch.current);var b=dh(ah.current),_=mb(b,k.type);b!==_&&(I(bh,k),I(ah,_))}function hh(k){bh.current===k&&(H(ah),H(bh))}var P=Bf(0);function ih(k){for(var b=k;b!==null;){if(b.tag===13){var _=b.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||_.data==="$?"||_.data==="$!"))return b}else if(b.tag===19&&b.memoizedProps.revealOrder!==void 0){if((b.flags&64)!==0)return b}else if(b.child!==null){b.child.return=b,b=b.child;continue}if(b===k)break;for(;b.sibling===null;){if(b.return===null||b.return===k)return null;b=b.return}b.sibling.return=b.return,b=b.sibling}return null}var jh=null,kh=null,lh=!1;function mh(k,b){var _=nh(5,null,null,0);_.elementType="DELETED",_.type="DELETED",_.stateNode=b,_.return=k,_.flags=8,k.lastEffect!==null?(k.lastEffect.nextEffect=_,k.lastEffect=_):k.firstEffect=k.lastEffect=_}function oh(k,b){switch(k.tag){case 5:var _=k.type;return b=b.nodeType!==1||_.toLowerCase()!==b.nodeName.toLowerCase()?null:b,b!==null?(k.stateNode=b,!0):!1;case 6:return b=k.pendingProps===""||b.nodeType!==3?null:b,b!==null?(k.stateNode=b,!0):!1;case 13:return!1;default:return!1}}function ph(k){if(lh){var b=kh;if(b){var _=b;if(!oh(k,b)){if(b=rf(_.nextSibling),!b||!oh(k,b)){k.flags=k.flags&-1025|2,lh=!1,jh=k;return}mh(jh,_)}jh=k,kh=rf(b.firstChild)}else k.flags=k.flags&-1025|2,lh=!1,jh=k}}function qh(k){for(k=k.return;k!==null&&k.tag!==5&&k.tag!==3&&k.tag!==13;)k=k.return;jh=k}function rh(k){if(k!==jh)return!1;if(!lh)return qh(k),lh=!0,!1;var b=k.type;if(k.tag!==5||b!=="head"&&b!=="body"&&!nf(b,k.memoizedProps))for(b=kh;b;)mh(k,b),b=rf(b.nextSibling);if(qh(k),k.tag===13){if(k=k.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(y(317));e:{for(k=k.nextSibling,b=0;k;){if(k.nodeType===8){var _=k.data;if(_==="/$"){if(b===0){kh=rf(k.nextSibling);break e}b--}else _!=="$"&&_!=="$!"&&_!=="$?"||b++}k=k.nextSibling}kh=null}}else kh=jh?rf(k.stateNode.nextSibling):null;return!0}function sh(){kh=jh=null,lh=!1}var th=[];function uh(){for(var k=0;k<th.length;k++)th[k]._workInProgressVersionPrimary=null;th.length=0}var vh=ra.ReactCurrentDispatcher,wh=ra.ReactCurrentBatchConfig,xh=0,R=null,S=null,T=null,yh=!1,zh=!1;function Ah(){throw Error(y(321))}function Bh(k,b){if(b===null)return!1;for(var _=0;_<b.length&&_<k.length;_++)if(!He(k[_],b[_]))return!1;return!0}function Ch(k,b,_,$,j,_e){if(xh=_e,R=b,b.memoizedState=null,b.updateQueue=null,b.lanes=0,vh.current=k===null||k.memoizedState===null?Dh:Eh,k=_($,j),zh){_e=0;do{if(zh=!1,!(25>_e))throw Error(y(301));_e+=1,T=S=null,b.updateQueue=null,vh.current=Fh,k=_($,j)}while(zh)}if(vh.current=Gh,b=S!==null&&S.next!==null,xh=0,T=S=R=null,yh=!1,b)throw Error(y(300));return k}function Hh(){var k={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return T===null?R.memoizedState=T=k:T=T.next=k,T}function Ih(){if(S===null){var k=R.alternate;k=k!==null?k.memoizedState:null}else k=S.next;var b=T===null?R.memoizedState:T.next;if(b!==null)T=b,S=k;else{if(k===null)throw Error(y(310));S=k,k={memoizedState:S.memoizedState,baseState:S.baseState,baseQueue:S.baseQueue,queue:S.queue,next:null},T===null?R.memoizedState=T=k:T=T.next=k}return T}function Jh(k,b){return typeof b=="function"?b(k):b}function Kh(k){var b=Ih(),_=b.queue;if(_===null)throw Error(y(311));_.lastRenderedReducer=k;var $=S,j=$.baseQueue,_e=_.pending;if(_e!==null){if(j!==null){var et=j.next;j.next=_e.next,_e.next=et}$.baseQueue=j=_e,_.pending=null}if(j!==null){j=j.next,$=$.baseState;var tt=et=_e=null,nt=j;do{var it=nt.lane;if((xh&it)===it)tt!==null&&(tt=tt.next={lane:0,action:nt.action,eagerReducer:nt.eagerReducer,eagerState:nt.eagerState,next:null}),$=nt.eagerReducer===k?nt.eagerState:k($,nt.action);else{var rt={lane:it,action:nt.action,eagerReducer:nt.eagerReducer,eagerState:nt.eagerState,next:null};tt===null?(et=tt=rt,_e=$):tt=tt.next=rt,R.lanes|=it,Dg|=it}nt=nt.next}while(nt!==null&&nt!==j);tt===null?_e=$:tt.next=et,He($,b.memoizedState)||(ug=!0),b.memoizedState=$,b.baseState=_e,b.baseQueue=tt,_.lastRenderedState=$}return[b.memoizedState,_.dispatch]}function Lh(k){var b=Ih(),_=b.queue;if(_===null)throw Error(y(311));_.lastRenderedReducer=k;var $=_.dispatch,j=_.pending,_e=b.memoizedState;if(j!==null){_.pending=null;var et=j=j.next;do _e=k(_e,et.action),et=et.next;while(et!==j);He(_e,b.memoizedState)||(ug=!0),b.memoizedState=_e,b.baseQueue===null&&(b.baseState=_e),_.lastRenderedState=_e}return[_e,$]}function Mh(k,b,_){var $=b._getVersion;$=$(b._source);var j=b._workInProgressVersionPrimary;if(j!==null?k=j===$:(k=k.mutableReadLanes,(k=(xh&k)===k)&&(b._workInProgressVersionPrimary=$,th.push(b))),k)return _(b._source);throw th.push(b),Error(y(350))}function Nh(k,b,_,$){var j=U;if(j===null)throw Error(y(349));var _e=b._getVersion,et=_e(b._source),tt=vh.current,nt=tt.useState(function(){return Mh(j,b,_)}),it=nt[1],rt=nt[0];nt=T;var st=k.memoizedState,ot=st.refs,ut=ot.getSnapshot,lt=st.source;st=st.subscribe;var ft=R;return k.memoizedState={refs:ot,source:b,subscribe:$},tt.useEffect(function(){ot.getSnapshot=_,ot.setSnapshot=it;var ct=_e(b._source);if(!He(et,ct)){ct=_(b._source),He(rt,ct)||(it(ct),ct=Ig(ft),j.mutableReadLanes|=ct&j.pendingLanes),ct=j.mutableReadLanes,j.entangledLanes|=ct;for(var pt=j.entanglements,mt=ct;0<mt;){var wt=31-Vc(mt),gt=1<<wt;pt[wt]|=ct,mt&=~gt}}},[_,b,$]),tt.useEffect(function(){return $(b._source,function(){var ct=ot.getSnapshot,pt=ot.setSnapshot;try{pt(ct(b._source));var mt=Ig(ft);j.mutableReadLanes|=mt&j.pendingLanes}catch(wt){pt(function(){throw wt})}})},[b,$]),He(ut,_)&&He(lt,b)&&He(st,$)||(k={pending:null,dispatch:null,lastRenderedReducer:Jh,lastRenderedState:rt},k.dispatch=it=Oh.bind(null,R,k),nt.queue=k,nt.baseQueue=null,rt=Mh(j,b,_),nt.memoizedState=nt.baseState=rt),rt}function Ph(k,b,_){var $=Ih();return Nh($,k,b,_)}function Qh(k){var b=Hh();return typeof k=="function"&&(k=k()),b.memoizedState=b.baseState=k,k=b.queue={pending:null,dispatch:null,lastRenderedReducer:Jh,lastRenderedState:k},k=k.dispatch=Oh.bind(null,R,k),[b.memoizedState,k]}function Rh(k,b,_,$){return k={tag:k,create:b,destroy:_,deps:$,next:null},b=R.updateQueue,b===null?(b={lastEffect:null},R.updateQueue=b,b.lastEffect=k.next=k):(_=b.lastEffect,_===null?b.lastEffect=k.next=k:($=_.next,_.next=k,k.next=$,b.lastEffect=k)),k}function Sh(k){var b=Hh();return k={current:k},b.memoizedState=k}function Th(){return Ih().memoizedState}function Uh(k,b,_,$){var j=Hh();R.flags|=k,j.memoizedState=Rh(1|b,_,void 0,$===void 0?null:$)}function Vh(k,b,_,$){var j=Ih();$=$===void 0?null:$;var _e=void 0;if(S!==null){var et=S.memoizedState;if(_e=et.destroy,$!==null&&Bh($,et.deps)){Rh(b,_,_e,$);return}}R.flags|=k,j.memoizedState=Rh(1|b,_,_e,$)}function Wh(k,b){return Uh(516,4,k,b)}function Xh(k,b){return Vh(516,4,k,b)}function Yh(k,b){return Vh(4,2,k,b)}function Zh(k,b){if(typeof b=="function")return k=k(),b(k),function(){b(null)};if(b!=null)return k=k(),b.current=k,function(){b.current=null}}function $h(k,b,_){return _=_!=null?_.concat([k]):null,Vh(4,2,Zh.bind(null,b,k),_)}function ai(){}function bi(k,b){var _=Ih();b=b===void 0?null:b;var $=_.memoizedState;return $!==null&&b!==null&&Bh(b,$[1])?$[0]:(_.memoizedState=[k,b],k)}function ci(k,b){var _=Ih();b=b===void 0?null:b;var $=_.memoizedState;return $!==null&&b!==null&&Bh(b,$[1])?$[0]:(k=k(),_.memoizedState=[k,b],k)}function di(k,b){var _=eg();gg(98>_?98:_,function(){k(!0)}),gg(97<_?97:_,function(){var $=wh.transition;wh.transition=1;try{k(!1),b()}finally{wh.transition=$}})}function Oh(k,b,_){var $=Hg(),j=Ig(k),_e={lane:j,action:_,eagerReducer:null,eagerState:null,next:null},et=b.pending;if(et===null?_e.next=_e:(_e.next=et.next,et.next=_e),b.pending=_e,et=k.alternate,k===R||et!==null&&et===R)zh=yh=!0;else{if(k.lanes===0&&(et===null||et.lanes===0)&&(et=b.lastRenderedReducer,et!==null))try{var tt=b.lastRenderedState,nt=et(tt,_);if(_e.eagerReducer=et,_e.eagerState=nt,He(nt,tt))return}catch{}finally{}Jg(k,j,$)}}var Gh={readContext:vg,useCallback:Ah,useContext:Ah,useEffect:Ah,useImperativeHandle:Ah,useLayoutEffect:Ah,useMemo:Ah,useReducer:Ah,useRef:Ah,useState:Ah,useDebugValue:Ah,useDeferredValue:Ah,useTransition:Ah,useMutableSource:Ah,useOpaqueIdentifier:Ah,unstable_isNewReconciler:!1},Dh={readContext:vg,useCallback:function(k,b){return Hh().memoizedState=[k,b===void 0?null:b],k},useContext:vg,useEffect:Wh,useImperativeHandle:function(k,b,_){return _=_!=null?_.concat([k]):null,Uh(4,2,Zh.bind(null,b,k),_)},useLayoutEffect:function(k,b){return Uh(4,2,k,b)},useMemo:function(k,b){var _=Hh();return b=b===void 0?null:b,k=k(),_.memoizedState=[k,b],k},useReducer:function(k,b,_){var $=Hh();return b=_!==void 0?_(b):b,$.memoizedState=$.baseState=b,k=$.queue={pending:null,dispatch:null,lastRenderedReducer:k,lastRenderedState:b},k=k.dispatch=Oh.bind(null,R,k),[$.memoizedState,k]},useRef:Sh,useState:Qh,useDebugValue:ai,useDeferredValue:function(k){var b=Qh(k),_=b[0],$=b[1];return Wh(function(){var j=wh.transition;wh.transition=1;try{$(k)}finally{wh.transition=j}},[k]),_},useTransition:function(){var k=Qh(!1),b=k[0];return k=di.bind(null,k[1]),Sh(k),[k,b]},useMutableSource:function(k,b,_){var $=Hh();return $.memoizedState={refs:{getSnapshot:b,setSnapshot:null},source:k,subscribe:_},Nh($,k,b,_)},useOpaqueIdentifier:function(){if(lh){var k=!1,b=uf(function(){throw k||(k=!0,_("r:"+(tf++).toString(36))),Error(y(355))}),_=Qh(b)[1];return(R.mode&2)===0&&(R.flags|=516,Rh(5,function(){_("r:"+(tf++).toString(36))},void 0,null)),b}return b="r:"+(tf++).toString(36),Qh(b),b},unstable_isNewReconciler:!1},Eh={readContext:vg,useCallback:bi,useContext:vg,useEffect:Xh,useImperativeHandle:$h,useLayoutEffect:Yh,useMemo:ci,useReducer:Kh,useRef:Th,useState:function(){return Kh(Jh)},useDebugValue:ai,useDeferredValue:function(k){var b=Kh(Jh),_=b[0],$=b[1];return Xh(function(){var j=wh.transition;wh.transition=1;try{$(k)}finally{wh.transition=j}},[k]),_},useTransition:function(){var k=Kh(Jh)[0];return[Th().current,k]},useMutableSource:Ph,useOpaqueIdentifier:function(){return Kh(Jh)[0]},unstable_isNewReconciler:!1},Fh={readContext:vg,useCallback:bi,useContext:vg,useEffect:Xh,useImperativeHandle:$h,useLayoutEffect:Yh,useMemo:ci,useReducer:Lh,useRef:Th,useState:function(){return Lh(Jh)},useDebugValue:ai,useDeferredValue:function(k){var b=Lh(Jh),_=b[0],$=b[1];return Xh(function(){var j=wh.transition;wh.transition=1;try{$(k)}finally{wh.transition=j}},[k]),_},useTransition:function(){var k=Lh(Jh)[0];return[Th().current,k]},useMutableSource:Ph,useOpaqueIdentifier:function(){return Lh(Jh)[0]},unstable_isNewReconciler:!1},ei=ra.ReactCurrentOwner,ug=!1;function fi(k,b,_,$){b.child=k===null?Zg(b,null,_,$):Yg(b,k.child,_,$)}function gi(k,b,_,$,j){_=_.render;var _e=b.ref;return tg(b,j),$=Ch(k,b,_,$,_e,j),k!==null&&!ug?(b.updateQueue=k.updateQueue,b.flags&=-517,k.lanes&=~j,hi(k,b,j)):(b.flags|=1,fi(k,b,$,j),b.child)}function ii(k,b,_,$,j,_e){if(k===null){var et=_.type;return typeof et=="function"&&!ji(et)&&et.defaultProps===void 0&&_.compare===null&&_.defaultProps===void 0?(b.tag=15,b.type=et,ki(k,b,et,$,j,_e)):(k=Vg(_.type,null,$,b,b.mode,_e),k.ref=b.ref,k.return=b,b.child=k)}return et=k.child,(j&_e)===0&&(j=et.memoizedProps,_=_.compare,_=_!==null?_:Je,_(j,$)&&k.ref===b.ref)?hi(k,b,_e):(b.flags|=1,k=Tg(et,$),k.ref=b.ref,k.return=b,b.child=k)}function ki(k,b,_,$,j,_e){if(k!==null&&Je(k.memoizedProps,$)&&k.ref===b.ref)if(ug=!1,(_e&j)!==0)(k.flags&16384)!==0&&(ug=!0);else return b.lanes=k.lanes,hi(k,b,_e);return li(k,b,_,$,_e)}function mi(k,b,_){var $=b.pendingProps,j=$.children,_e=k!==null?k.memoizedState:null;if($.mode==="hidden"||$.mode==="unstable-defer-without-hiding")if((b.mode&4)===0)b.memoizedState={baseLanes:0},ni(b,_);else if((_&1073741824)!==0)b.memoizedState={baseLanes:0},ni(b,_e!==null?_e.baseLanes:_);else return k=_e!==null?_e.baseLanes|_:_,b.lanes=b.childLanes=1073741824,b.memoizedState={baseLanes:k},ni(b,k),null;else _e!==null?($=_e.baseLanes|_,b.memoizedState=null):$=_,ni(b,$);return fi(k,b,j,_),b.child}function oi(k,b){var _=b.ref;(k===null&&_!==null||k!==null&&k.ref!==_)&&(b.flags|=128)}function li(k,b,_,$,j){var _e=Ff(_)?Df:M.current;return _e=Ef(b,_e),tg(b,j),_=Ch(k,b,_,$,_e,j),k!==null&&!ug?(b.updateQueue=k.updateQueue,b.flags&=-517,k.lanes&=~j,hi(k,b,j)):(b.flags|=1,fi(k,b,_,j),b.child)}function pi(k,b,_,$,j){if(Ff(_)){var _e=!0;Jf(b)}else _e=!1;if(tg(b,j),b.stateNode===null)k!==null&&(k.alternate=null,b.alternate=null,b.flags|=2),Mg(b,_,$),Og(b,_,$,j),$=!0;else if(k===null){var et=b.stateNode,tt=b.memoizedProps;et.props=tt;var nt=et.context,it=_.contextType;typeof it=="object"&&it!==null?it=vg(it):(it=Ff(_)?Df:M.current,it=Ef(b,it));var rt=_.getDerivedStateFromProps,st=typeof rt=="function"||typeof et.getSnapshotBeforeUpdate=="function";st||typeof et.UNSAFE_componentWillReceiveProps!="function"&&typeof et.componentWillReceiveProps!="function"||(tt!==$||nt!==it)&&Ng(b,et,$,it),wg=!1;var ot=b.memoizedState;et.state=ot,Cg(b,$,et,j),nt=b.memoizedState,tt!==$||ot!==nt||N.current||wg?(typeof rt=="function"&&(Gg(b,_,rt,$),nt=b.memoizedState),(tt=wg||Lg(b,_,tt,$,ot,nt,it))?(st||typeof et.UNSAFE_componentWillMount!="function"&&typeof et.componentWillMount!="function"||(typeof et.componentWillMount=="function"&&et.componentWillMount(),typeof et.UNSAFE_componentWillMount=="function"&&et.UNSAFE_componentWillMount()),typeof et.componentDidMount=="function"&&(b.flags|=4)):(typeof et.componentDidMount=="function"&&(b.flags|=4),b.memoizedProps=$,b.memoizedState=nt),et.props=$,et.state=nt,et.context=it,$=tt):(typeof et.componentDidMount=="function"&&(b.flags|=4),$=!1)}else{et=b.stateNode,yg(k,b),tt=b.memoizedProps,it=b.type===b.elementType?tt:lg(b.type,tt),et.props=it,st=b.pendingProps,ot=et.context,nt=_.contextType,typeof nt=="object"&&nt!==null?nt=vg(nt):(nt=Ff(_)?Df:M.current,nt=Ef(b,nt));var ut=_.getDerivedStateFromProps;(rt=typeof ut=="function"||typeof et.getSnapshotBeforeUpdate=="function")||typeof et.UNSAFE_componentWillReceiveProps!="function"&&typeof et.componentWillReceiveProps!="function"||(tt!==st||ot!==nt)&&Ng(b,et,$,nt),wg=!1,ot=b.memoizedState,et.state=ot,Cg(b,$,et,j);var lt=b.memoizedState;tt!==st||ot!==lt||N.current||wg?(typeof ut=="function"&&(Gg(b,_,ut,$),lt=b.memoizedState),(it=wg||Lg(b,_,it,$,ot,lt,nt))?(rt||typeof et.UNSAFE_componentWillUpdate!="function"&&typeof et.componentWillUpdate!="function"||(typeof et.componentWillUpdate=="function"&&et.componentWillUpdate($,lt,nt),typeof et.UNSAFE_componentWillUpdate=="function"&&et.UNSAFE_componentWillUpdate($,lt,nt)),typeof et.componentDidUpdate=="function"&&(b.flags|=4),typeof et.getSnapshotBeforeUpdate=="function"&&(b.flags|=256)):(typeof et.componentDidUpdate!="function"||tt===k.memoizedProps&&ot===k.memoizedState||(b.flags|=4),typeof et.getSnapshotBeforeUpdate!="function"||tt===k.memoizedProps&&ot===k.memoizedState||(b.flags|=256),b.memoizedProps=$,b.memoizedState=lt),et.props=$,et.state=lt,et.context=nt,$=it):(typeof et.componentDidUpdate!="function"||tt===k.memoizedProps&&ot===k.memoizedState||(b.flags|=4),typeof et.getSnapshotBeforeUpdate!="function"||tt===k.memoizedProps&&ot===k.memoizedState||(b.flags|=256),$=!1)}return qi(k,b,_,$,_e,j)}function qi(k,b,_,$,j,_e){oi(k,b);var et=(b.flags&64)!==0;if(!$&&!et)return j&&Kf(b,_,!1),hi(k,b,_e);$=b.stateNode,ei.current=b;var tt=et&&typeof _.getDerivedStateFromError!="function"?null:$.render();return b.flags|=1,k!==null&&et?(b.child=Yg(b,k.child,null,_e),b.child=Yg(b,null,tt,_e)):fi(k,b,tt,_e),b.memoizedState=$.state,j&&Kf(b,_,!0),b.child}function ri(k){var b=k.stateNode;b.pendingContext?Hf(k,b.pendingContext,b.pendingContext!==b.context):b.context&&Hf(k,b.context,!1),eh(k,b.containerInfo)}var si={dehydrated:null,retryLane:0};function ti(k,b,_){var $=b.pendingProps,j=P.current,_e=!1,et;return(et=(b.flags&64)!==0)||(et=k!==null&&k.memoizedState===null?!1:(j&2)!==0),et?(_e=!0,b.flags&=-65):k!==null&&k.memoizedState===null||$.fallback===void 0||$.unstable_avoidThisFallback===!0||(j|=1),I(P,j&1),k===null?($.fallback!==void 0&&ph(b),k=$.children,j=$.fallback,_e?(k=ui(b,k,j,_),b.child.memoizedState={baseLanes:_},b.memoizedState=si,k):typeof $.unstable_expectedLoadTime=="number"?(k=ui(b,k,j,_),b.child.memoizedState={baseLanes:_},b.memoizedState=si,b.lanes=33554432,k):(_=vi({mode:"visible",children:k},b.mode,_,null),_.return=b,b.child=_)):k.memoizedState!==null?_e?($=wi(k,b,$.children,$.fallback,_),_e=b.child,j=k.child.memoizedState,_e.memoizedState=j===null?{baseLanes:_}:{baseLanes:j.baseLanes|_},_e.childLanes=k.childLanes&~_,b.memoizedState=si,$):(_=xi(k,b,$.children,_),b.memoizedState=null,_):_e?($=wi(k,b,$.children,$.fallback,_),_e=b.child,j=k.child.memoizedState,_e.memoizedState=j===null?{baseLanes:_}:{baseLanes:j.baseLanes|_},_e.childLanes=k.childLanes&~_,b.memoizedState=si,$):(_=xi(k,b,$.children,_),b.memoizedState=null,_)}function ui(k,b,_,$){var j=k.mode,_e=k.child;return b={mode:"hidden",children:b},(j&2)===0&&_e!==null?(_e.childLanes=0,_e.pendingProps=b):_e=vi(b,j,0,null),_=Xg(_,j,$,null),_e.return=k,_.return=k,_e.sibling=_,k.child=_e,_}function xi(k,b,_,$){var j=k.child;return k=j.sibling,_=Tg(j,{mode:"visible",children:_}),(b.mode&2)===0&&(_.lanes=$),_.return=b,_.sibling=null,k!==null&&(k.nextEffect=null,k.flags=8,b.firstEffect=b.lastEffect=k),b.child=_}function wi(k,b,_,$,j){var _e=b.mode,et=k.child;k=et.sibling;var tt={mode:"hidden",children:_};return(_e&2)===0&&b.child!==et?(_=b.child,_.childLanes=0,_.pendingProps=tt,et=_.lastEffect,et!==null?(b.firstEffect=_.firstEffect,b.lastEffect=et,et.nextEffect=null):b.firstEffect=b.lastEffect=null):_=Tg(et,tt),k!==null?$=Tg(k,$):($=Xg($,_e,j,null),$.flags|=2),$.return=b,_.return=b,_.sibling=$,b.child=_,$}function yi(k,b){k.lanes|=b;var _=k.alternate;_!==null&&(_.lanes|=b),sg(k.return,b)}function zi(k,b,_,$,j,_e){var et=k.memoizedState;et===null?k.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:$,tail:_,tailMode:j,lastEffect:_e}:(et.isBackwards=b,et.rendering=null,et.renderingStartTime=0,et.last=$,et.tail=_,et.tailMode=j,et.lastEffect=_e)}function Ai(k,b,_){var $=b.pendingProps,j=$.revealOrder,_e=$.tail;if(fi(k,b,$.children,_),$=P.current,($&2)!==0)$=$&1|2,b.flags|=64;else{if(k!==null&&(k.flags&64)!==0)e:for(k=b.child;k!==null;){if(k.tag===13)k.memoizedState!==null&&yi(k,_);else if(k.tag===19)yi(k,_);else if(k.child!==null){k.child.return=k,k=k.child;continue}if(k===b)break e;for(;k.sibling===null;){if(k.return===null||k.return===b)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}$&=1}if(I(P,$),(b.mode&2)===0)b.memoizedState=null;else switch(j){case"forwards":for(_=b.child,j=null;_!==null;)k=_.alternate,k!==null&&ih(k)===null&&(j=_),_=_.sibling;_=j,_===null?(j=b.child,b.child=null):(j=_.sibling,_.sibling=null),zi(b,!1,j,_,_e,b.lastEffect);break;case"backwards":for(_=null,j=b.child,b.child=null;j!==null;){if(k=j.alternate,k!==null&&ih(k)===null){b.child=j;break}k=j.sibling,j.sibling=_,_=j,j=k}zi(b,!0,_,null,_e,b.lastEffect);break;case"together":zi(b,!1,null,null,void 0,b.lastEffect);break;default:b.memoizedState=null}return b.child}function hi(k,b,_){if(k!==null&&(b.dependencies=k.dependencies),Dg|=b.lanes,(_&b.childLanes)!==0){if(k!==null&&b.child!==k.child)throw Error(y(153));if(b.child!==null){for(k=b.child,_=Tg(k,k.pendingProps),b.child=_,_.return=b;k.sibling!==null;)k=k.sibling,_=_.sibling=Tg(k,k.pendingProps),_.return=b;_.sibling=null}return b.child}return null}var Bi,Ci,Di,Ei;Bi=function(k,b){for(var _=b.child;_!==null;){if(_.tag===5||_.tag===6)k.appendChild(_.stateNode);else if(_.tag!==4&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===b)break;for(;_.sibling===null;){if(_.return===null||_.return===b)return;_=_.return}_.sibling.return=_.return,_=_.sibling}};Ci=function(){};Di=function(k,b,_,$){var j=k.memoizedProps;if(j!==$){k=b.stateNode,dh(ah.current);var _e=null;switch(_){case"input":j=Ya(k,j),$=Ya(k,$),_e=[];break;case"option":j=eb(k,j),$=eb(k,$),_e=[];break;case"select":j=m$1({},j,{value:void 0}),$=m$1({},$,{value:void 0}),_e=[];break;case"textarea":j=gb(k,j),$=gb(k,$),_e=[];break;default:typeof j.onClick!="function"&&typeof $.onClick=="function"&&(k.onclick=jf)}vb(_,$);var et;_=null;for(it in j)if(!$.hasOwnProperty(it)&&j.hasOwnProperty(it)&&j[it]!=null)if(it==="style"){var tt=j[it];for(et in tt)tt.hasOwnProperty(et)&&(_||(_={}),_[et]="")}else it!=="dangerouslySetInnerHTML"&&it!=="children"&&it!=="suppressContentEditableWarning"&&it!=="suppressHydrationWarning"&&it!=="autoFocus"&&(ca.hasOwnProperty(it)?_e||(_e=[]):(_e=_e||[]).push(it,null));for(it in $){var nt=$[it];if(tt=j!=null?j[it]:void 0,$.hasOwnProperty(it)&&nt!==tt&&(nt!=null||tt!=null))if(it==="style")if(tt){for(et in tt)!tt.hasOwnProperty(et)||nt&&nt.hasOwnProperty(et)||(_||(_={}),_[et]="");for(et in nt)nt.hasOwnProperty(et)&&tt[et]!==nt[et]&&(_||(_={}),_[et]=nt[et])}else _||(_e||(_e=[]),_e.push(it,_)),_=nt;else it==="dangerouslySetInnerHTML"?(nt=nt?nt.__html:void 0,tt=tt?tt.__html:void 0,nt!=null&&tt!==nt&&(_e=_e||[]).push(it,nt)):it==="children"?typeof nt!="string"&&typeof nt!="number"||(_e=_e||[]).push(it,""+nt):it!=="suppressContentEditableWarning"&&it!=="suppressHydrationWarning"&&(ca.hasOwnProperty(it)?(nt!=null&&it==="onScroll"&&G("scroll",k),_e||tt===nt||(_e=[])):typeof nt=="object"&&nt!==null&&nt.$$typeof===Ga?nt.toString():(_e=_e||[]).push(it,nt))}_&&(_e=_e||[]).push("style",_);var it=_e;(b.updateQueue=it)&&(b.flags|=4)}};Ei=function(k,b,_,$){_!==$&&(b.flags|=4)};function Fi(k,b){if(!lh)switch(k.tailMode){case"hidden":b=k.tail;for(var _=null;b!==null;)b.alternate!==null&&(_=b),b=b.sibling;_===null?k.tail=null:_.sibling=null;break;case"collapsed":_=k.tail;for(var $=null;_!==null;)_.alternate!==null&&($=_),_=_.sibling;$===null?b||k.tail===null?k.tail=null:k.tail.sibling=null:$.sibling=null}}function Gi(k,b,_){var $=b.pendingProps;switch(b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Ff(b.type)&&Gf(),null;case 3:return fh(),H(N),H(M),uh(),$=b.stateNode,$.pendingContext&&($.context=$.pendingContext,$.pendingContext=null),(k===null||k.child===null)&&(rh(b)?b.flags|=4:$.hydrate||(b.flags|=256)),Ci(b),null;case 5:hh(b);var j=dh(ch.current);if(_=b.type,k!==null&&b.stateNode!=null)Di(k,b,_,$,j),k.ref!==b.ref&&(b.flags|=128);else{if(!$){if(b.stateNode===null)throw Error(y(166));return null}if(k=dh(ah.current),rh(b)){$=b.stateNode,_=b.type;var _e=b.memoizedProps;switch($[wf]=b,$[xf]=_e,_){case"dialog":G("cancel",$),G("close",$);break;case"iframe":case"object":case"embed":G("load",$);break;case"video":case"audio":for(k=0;k<Xe.length;k++)G(Xe[k],$);break;case"source":G("error",$);break;case"img":case"image":case"link":G("error",$),G("load",$);break;case"details":G("toggle",$);break;case"input":Za($,_e),G("invalid",$);break;case"select":$._wrapperState={wasMultiple:!!_e.multiple},G("invalid",$);break;case"textarea":hb($,_e),G("invalid",$)}vb(_,_e),k=null;for(var et in _e)_e.hasOwnProperty(et)&&(j=_e[et],et==="children"?typeof j=="string"?$.textContent!==j&&(k=["children",j]):typeof j=="number"&&$.textContent!==""+j&&(k=["children",""+j]):ca.hasOwnProperty(et)&&j!=null&&et==="onScroll"&&G("scroll",$));switch(_){case"input":Va($),cb($,_e,!0);break;case"textarea":Va($),jb($);break;case"select":case"option":break;default:typeof _e.onClick=="function"&&($.onclick=jf)}$=k,b.updateQueue=$,$!==null&&(b.flags|=4)}else{switch(et=j.nodeType===9?j:j.ownerDocument,k===kb.html&&(k=lb(_)),k===kb.html?_==="script"?(k=et.createElement("div"),k.innerHTML="<script><\/script>",k=k.removeChild(k.firstChild)):typeof $.is=="string"?k=et.createElement(_,{is:$.is}):(k=et.createElement(_),_==="select"&&(et=k,$.multiple?et.multiple=!0:$.size&&(et.size=$.size))):k=et.createElementNS(k,_),k[wf]=b,k[xf]=$,Bi(k,b,!1,!1),b.stateNode=k,et=wb(_,$),_){case"dialog":G("cancel",k),G("close",k),j=$;break;case"iframe":case"object":case"embed":G("load",k),j=$;break;case"video":case"audio":for(j=0;j<Xe.length;j++)G(Xe[j],k);j=$;break;case"source":G("error",k),j=$;break;case"img":case"image":case"link":G("error",k),G("load",k),j=$;break;case"details":G("toggle",k),j=$;break;case"input":Za(k,$),j=Ya(k,$),G("invalid",k);break;case"option":j=eb(k,$);break;case"select":k._wrapperState={wasMultiple:!!$.multiple},j=m$1({},$,{value:void 0}),G("invalid",k);break;case"textarea":hb(k,$),j=gb(k,$),G("invalid",k);break;default:j=$}vb(_,j);var tt=j;for(_e in tt)if(tt.hasOwnProperty(_e)){var nt=tt[_e];_e==="style"?tb(k,nt):_e==="dangerouslySetInnerHTML"?(nt=nt?nt.__html:void 0,nt!=null&&ob(k,nt)):_e==="children"?typeof nt=="string"?(_!=="textarea"||nt!=="")&&pb(k,nt):typeof nt=="number"&&pb(k,""+nt):_e!=="suppressContentEditableWarning"&&_e!=="suppressHydrationWarning"&&_e!=="autoFocus"&&(ca.hasOwnProperty(_e)?nt!=null&&_e==="onScroll"&&G("scroll",k):nt!=null&&qa(k,_e,nt,et))}switch(_){case"input":Va(k),cb(k,$,!1);break;case"textarea":Va(k),jb(k);break;case"option":$.value!=null&&k.setAttribute("value",""+Sa($.value));break;case"select":k.multiple=!!$.multiple,_e=$.value,_e!=null?fb(k,!!$.multiple,_e,!1):$.defaultValue!=null&&fb(k,!!$.multiple,$.defaultValue,!0);break;default:typeof j.onClick=="function"&&(k.onclick=jf)}mf(_,$)&&(b.flags|=4)}b.ref!==null&&(b.flags|=128)}return null;case 6:if(k&&b.stateNode!=null)Ei(k,b,k.memoizedProps,$);else{if(typeof $!="string"&&b.stateNode===null)throw Error(y(166));_=dh(ch.current),dh(ah.current),rh(b)?($=b.stateNode,_=b.memoizedProps,$[wf]=b,$.nodeValue!==_&&(b.flags|=4)):($=(_.nodeType===9?_:_.ownerDocument).createTextNode($),$[wf]=b,b.stateNode=$)}return null;case 13:return H(P),$=b.memoizedState,(b.flags&64)!==0?(b.lanes=_,b):($=$!==null,_=!1,k===null?b.memoizedProps.fallback!==void 0&&rh(b):_=k.memoizedState!==null,$&&!_&&(b.mode&2)!==0&&(k===null&&b.memoizedProps.unstable_avoidThisFallback!==!0||(P.current&1)!==0?V===0&&(V=3):((V===0||V===3)&&(V=4),U===null||(Dg&134217727)===0&&(Hi&134217727)===0||Ii(U,W))),($||_)&&(b.flags|=4),null);case 4:return fh(),Ci(b),k===null&&cf(b.stateNode.containerInfo),null;case 10:return rg(b),null;case 17:return Ff(b.type)&&Gf(),null;case 19:if(H(P),$=b.memoizedState,$===null)return null;if(_e=(b.flags&64)!==0,et=$.rendering,et===null)if(_e)Fi($,!1);else{if(V!==0||k!==null&&(k.flags&64)!==0)for(k=b.child;k!==null;){if(et=ih(k),et!==null){for(b.flags|=64,Fi($,!1),_e=et.updateQueue,_e!==null&&(b.updateQueue=_e,b.flags|=4),$.lastEffect===null&&(b.firstEffect=null),b.lastEffect=$.lastEffect,$=_,_=b.child;_!==null;)_e=_,k=$,_e.flags&=2,_e.nextEffect=null,_e.firstEffect=null,_e.lastEffect=null,et=_e.alternate,et===null?(_e.childLanes=0,_e.lanes=k,_e.child=null,_e.memoizedProps=null,_e.memoizedState=null,_e.updateQueue=null,_e.dependencies=null,_e.stateNode=null):(_e.childLanes=et.childLanes,_e.lanes=et.lanes,_e.child=et.child,_e.memoizedProps=et.memoizedProps,_e.memoizedState=et.memoizedState,_e.updateQueue=et.updateQueue,_e.type=et.type,k=et.dependencies,_e.dependencies=k===null?null:{lanes:k.lanes,firstContext:k.firstContext}),_=_.sibling;return I(P,P.current&1|2),b.child}k=k.sibling}$.tail!==null&&O$1()>Ji&&(b.flags|=64,_e=!0,Fi($,!1),b.lanes=33554432)}else{if(!_e)if(k=ih(et),k!==null){if(b.flags|=64,_e=!0,_=k.updateQueue,_!==null&&(b.updateQueue=_,b.flags|=4),Fi($,!0),$.tail===null&&$.tailMode==="hidden"&&!et.alternate&&!lh)return b=b.lastEffect=$.lastEffect,b!==null&&(b.nextEffect=null),null}else 2*O$1()-$.renderingStartTime>Ji&&_!==1073741824&&(b.flags|=64,_e=!0,Fi($,!1),b.lanes=33554432);$.isBackwards?(et.sibling=b.child,b.child=et):(_=$.last,_!==null?_.sibling=et:b.child=et,$.last=et)}return $.tail!==null?(_=$.tail,$.rendering=_,$.tail=_.sibling,$.lastEffect=b.lastEffect,$.renderingStartTime=O$1(),_.sibling=null,b=P.current,I(P,_e?b&1|2:b&1),_):null;case 23:case 24:return Ki(),k!==null&&k.memoizedState!==null!=(b.memoizedState!==null)&&$.mode!=="unstable-defer-without-hiding"&&(b.flags|=4),null}throw Error(y(156,b.tag))}function Li(k){switch(k.tag){case 1:Ff(k.type)&&Gf();var b=k.flags;return b&4096?(k.flags=b&-4097|64,k):null;case 3:if(fh(),H(N),H(M),uh(),b=k.flags,(b&64)!==0)throw Error(y(285));return k.flags=b&-4097|64,k;case 5:return hh(k),null;case 13:return H(P),b=k.flags,b&4096?(k.flags=b&-4097|64,k):null;case 19:return H(P),null;case 4:return fh(),null;case 10:return rg(k),null;case 23:case 24:return Ki(),null;default:return null}}function Mi(k,b){try{var _="",$=b;do _+=Qa($),$=$.return;while($);var j=_}catch(_e){j=`
Error generating stack: `+_e.message+`
`+_e.stack}return{value:k,source:b,stack:j}}function Ni(k,b){try{console.error(b.value)}catch(_){setTimeout(function(){throw _})}}var Oi=typeof WeakMap=="function"?WeakMap:Map;function Pi(k,b,_){_=zg(-1,_),_.tag=3,_.payload={element:null};var $=b.value;return _.callback=function(){Qi||(Qi=!0,Ri=$),Ni(k,b)},_}function Si(k,b,_){_=zg(-1,_),_.tag=3;var $=k.type.getDerivedStateFromError;if(typeof $=="function"){var j=b.value;_.payload=function(){return Ni(k,b),$(j)}}var _e=k.stateNode;return _e!==null&&typeof _e.componentDidCatch=="function"&&(_.callback=function(){typeof $!="function"&&(Ti===null?Ti=new Set([this]):Ti.add(this),Ni(k,b));var et=b.stack;this.componentDidCatch(b.value,{componentStack:et!==null?et:""})}),_}var Ui=typeof WeakSet=="function"?WeakSet:Set;function Vi(k){var b=k.ref;if(b!==null)if(typeof b=="function")try{b(null)}catch(_){Wi(k,_)}else b.current=null}function Xi(k,b){switch(b.tag){case 0:case 11:case 15:case 22:return;case 1:if(b.flags&256&&k!==null){var _=k.memoizedProps,$=k.memoizedState;k=b.stateNode,b=k.getSnapshotBeforeUpdate(b.elementType===b.type?_:lg(b.type,_),$),k.__reactInternalSnapshotBeforeUpdate=b}return;case 3:b.flags&256&&qf(b.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(y(163))}function Yi(k,b,_){switch(_.tag){case 0:case 11:case 15:case 22:if(b=_.updateQueue,b=b!==null?b.lastEffect:null,b!==null){k=b=b.next;do{if((k.tag&3)===3){var $=k.create;k.destroy=$()}k=k.next}while(k!==b)}if(b=_.updateQueue,b=b!==null?b.lastEffect:null,b!==null){k=b=b.next;do{var j=k;$=j.next,j=j.tag,(j&4)!==0&&(j&1)!==0&&(Zi(_,k),$i(_,k)),k=$}while(k!==b)}return;case 1:k=_.stateNode,_.flags&4&&(b===null?k.componentDidMount():($=_.elementType===_.type?b.memoizedProps:lg(_.type,b.memoizedProps),k.componentDidUpdate($,b.memoizedState,k.__reactInternalSnapshotBeforeUpdate))),b=_.updateQueue,b!==null&&Eg(_,b,k);return;case 3:if(b=_.updateQueue,b!==null){if(k=null,_.child!==null)switch(_.child.tag){case 5:k=_.child.stateNode;break;case 1:k=_.child.stateNode}Eg(_,b,k)}return;case 5:k=_.stateNode,b===null&&_.flags&4&&mf(_.type,_.memoizedProps)&&k.focus();return;case 6:return;case 4:return;case 12:return;case 13:_.memoizedState===null&&(_=_.alternate,_!==null&&(_=_.memoizedState,_!==null&&(_=_.dehydrated,_!==null&&Cc(_))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(y(163))}function aj(k,b){for(var _=k;;){if(_.tag===5){var $=_.stateNode;if(b)$=$.style,typeof $.setProperty=="function"?$.setProperty("display","none","important"):$.display="none";else{$=_.stateNode;var j=_.memoizedProps.style;j=j!=null&&j.hasOwnProperty("display")?j.display:null,$.style.display=sb("display",j)}}else if(_.tag===6)_.stateNode.nodeValue=b?"":_.memoizedProps;else if((_.tag!==23&&_.tag!==24||_.memoizedState===null||_===k)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===k)break;for(;_.sibling===null;){if(_.return===null||_.return===k)return;_=_.return}_.sibling.return=_.return,_=_.sibling}}function bj(k,b){if(Mf&&typeof Mf.onCommitFiberUnmount=="function")try{Mf.onCommitFiberUnmount(Lf,b)}catch{}switch(b.tag){case 0:case 11:case 14:case 15:case 22:if(k=b.updateQueue,k!==null&&(k=k.lastEffect,k!==null)){var _=k=k.next;do{var $=_,j=$.destroy;if($=$.tag,j!==void 0)if(($&4)!==0)Zi(b,_);else{$=b;try{j()}catch(_e){Wi($,_e)}}_=_.next}while(_!==k)}break;case 1:if(Vi(b),k=b.stateNode,typeof k.componentWillUnmount=="function")try{k.props=b.memoizedProps,k.state=b.memoizedState,k.componentWillUnmount()}catch(_e){Wi(b,_e)}break;case 5:Vi(b);break;case 4:cj(k,b)}}function dj(k){k.alternate=null,k.child=null,k.dependencies=null,k.firstEffect=null,k.lastEffect=null,k.memoizedProps=null,k.memoizedState=null,k.pendingProps=null,k.return=null,k.updateQueue=null}function ej(k){return k.tag===5||k.tag===3||k.tag===4}function fj(k){e:{for(var b=k.return;b!==null;){if(ej(b))break e;b=b.return}throw Error(y(160))}var _=b;switch(b=_.stateNode,_.tag){case 5:var $=!1;break;case 3:b=b.containerInfo,$=!0;break;case 4:b=b.containerInfo,$=!0;break;default:throw Error(y(161))}_.flags&16&&(pb(b,""),_.flags&=-17);e:t:for(_=k;;){for(;_.sibling===null;){if(_.return===null||ej(_.return)){_=null;break e}_=_.return}for(_.sibling.return=_.return,_=_.sibling;_.tag!==5&&_.tag!==6&&_.tag!==18;){if(_.flags&2||_.child===null||_.tag===4)continue t;_.child.return=_,_=_.child}if(!(_.flags&2)){_=_.stateNode;break e}}$?gj(k,_,b):hj(k,_,b)}function gj(k,b,_){var $=k.tag,j=$===5||$===6;if(j)k=j?k.stateNode:k.stateNode.instance,b?_.nodeType===8?_.parentNode.insertBefore(k,b):_.insertBefore(k,b):(_.nodeType===8?(b=_.parentNode,b.insertBefore(k,_)):(b=_,b.appendChild(k)),_=_._reactRootContainer,_!=null||b.onclick!==null||(b.onclick=jf));else if($!==4&&(k=k.child,k!==null))for(gj(k,b,_),k=k.sibling;k!==null;)gj(k,b,_),k=k.sibling}function hj(k,b,_){var $=k.tag,j=$===5||$===6;if(j)k=j?k.stateNode:k.stateNode.instance,b?_.insertBefore(k,b):_.appendChild(k);else if($!==4&&(k=k.child,k!==null))for(hj(k,b,_),k=k.sibling;k!==null;)hj(k,b,_),k=k.sibling}function cj(k,b){for(var _=b,$=!1,j,_e;;){if(!$){$=_.return;e:for(;;){if($===null)throw Error(y(160));switch(j=$.stateNode,$.tag){case 5:_e=!1;break e;case 3:j=j.containerInfo,_e=!0;break e;case 4:j=j.containerInfo,_e=!0;break e}$=$.return}$=!0}if(_.tag===5||_.tag===6){e:for(var et=k,tt=_,nt=tt;;)if(bj(et,nt),nt.child!==null&&nt.tag!==4)nt.child.return=nt,nt=nt.child;else{if(nt===tt)break e;for(;nt.sibling===null;){if(nt.return===null||nt.return===tt)break e;nt=nt.return}nt.sibling.return=nt.return,nt=nt.sibling}_e?(et=j,tt=_.stateNode,et.nodeType===8?et.parentNode.removeChild(tt):et.removeChild(tt)):j.removeChild(_.stateNode)}else if(_.tag===4){if(_.child!==null){j=_.stateNode.containerInfo,_e=!0,_.child.return=_,_=_.child;continue}}else if(bj(k,_),_.child!==null){_.child.return=_,_=_.child;continue}if(_===b)break;for(;_.sibling===null;){if(_.return===null||_.return===b)return;_=_.return,_.tag===4&&($=!1)}_.sibling.return=_.return,_=_.sibling}}function ij(k,b){switch(b.tag){case 0:case 11:case 14:case 15:case 22:var _=b.updateQueue;if(_=_!==null?_.lastEffect:null,_!==null){var $=_=_.next;do($.tag&3)===3&&(k=$.destroy,$.destroy=void 0,k!==void 0&&k()),$=$.next;while($!==_)}return;case 1:return;case 5:if(_=b.stateNode,_!=null){$=b.memoizedProps;var j=k!==null?k.memoizedProps:$;k=b.type;var _e=b.updateQueue;if(b.updateQueue=null,_e!==null){for(_[xf]=$,k==="input"&&$.type==="radio"&&$.name!=null&&$a(_,$),wb(k,j),b=wb(k,$),j=0;j<_e.length;j+=2){var et=_e[j],tt=_e[j+1];et==="style"?tb(_,tt):et==="dangerouslySetInnerHTML"?ob(_,tt):et==="children"?pb(_,tt):qa(_,et,tt,b)}switch(k){case"input":ab(_,$);break;case"textarea":ib(_,$);break;case"select":k=_._wrapperState.wasMultiple,_._wrapperState.wasMultiple=!!$.multiple,_e=$.value,_e!=null?fb(_,!!$.multiple,_e,!1):k!==!!$.multiple&&($.defaultValue!=null?fb(_,!!$.multiple,$.defaultValue,!0):fb(_,!!$.multiple,$.multiple?[]:"",!1))}}}return;case 6:if(b.stateNode===null)throw Error(y(162));b.stateNode.nodeValue=b.memoizedProps;return;case 3:_=b.stateNode,_.hydrate&&(_.hydrate=!1,Cc(_.containerInfo));return;case 12:return;case 13:b.memoizedState!==null&&(jj=O$1(),aj(b.child,!0)),kj(b);return;case 19:kj(b);return;case 17:return;case 23:case 24:aj(b,b.memoizedState!==null);return}throw Error(y(163))}function kj(k){var b=k.updateQueue;if(b!==null){k.updateQueue=null;var _=k.stateNode;_===null&&(_=k.stateNode=new Ui),b.forEach(function($){var j=lj.bind(null,k,$);_.has($)||(_.add($),$.then(j,j))})}}function mj(k,b){return k!==null&&(k=k.memoizedState,k===null||k.dehydrated!==null)?(b=b.memoizedState,b!==null&&b.dehydrated===null):!1}var nj=Math.ceil,oj=ra.ReactCurrentDispatcher,pj=ra.ReactCurrentOwner,X=0,U=null,Y=null,W=0,qj=0,rj=Bf(0),V=0,sj=null,tj=0,Dg=0,Hi=0,uj=0,vj=null,jj=0,Ji=1/0;function wj(){Ji=O$1()+500}var Z=null,Qi=!1,Ri=null,Ti=null,xj=!1,yj=null,zj=90,Aj=[],Bj=[],Cj=null,Dj=0,Ej=null,Fj=-1,Gj=0,Hj=0,Ij=null,Jj=!1;function Hg(){return(X&48)!==0?O$1():Fj!==-1?Fj:Fj=O$1()}function Ig(k){if(k=k.mode,(k&2)===0)return 1;if((k&4)===0)return eg()===99?1:2;if(Gj===0&&(Gj=tj),kg.transition!==0){Hj!==0&&(Hj=vj!==null?vj.pendingLanes:0),k=Gj;var b=4186112&~Hj;return b&=-b,b===0&&(k=4186112&~k,b=k&-k,b===0&&(b=8192)),b}return k=eg(),(X&4)!==0&&k===98?k=Xc(12,Gj):(k=Sc(k),k=Xc(k,Gj)),k}function Jg(k,b,_){if(50<Dj)throw Dj=0,Ej=null,Error(y(185));if(k=Kj(k,b),k===null)return null;$c(k,b,_),k===U&&(Hi|=b,V===4&&Ii(k,W));var $=eg();b===1?(X&8)!==0&&(X&48)===0?Lj(k):(Mj(k,_),X===0&&(wj(),ig())):((X&4)===0||$!==98&&$!==99||(Cj===null?Cj=new Set([k]):Cj.add(k)),Mj(k,_)),vj=k}function Kj(k,b){k.lanes|=b;var _=k.alternate;for(_!==null&&(_.lanes|=b),_=k,k=k.return;k!==null;)k.childLanes|=b,_=k.alternate,_!==null&&(_.childLanes|=b),_=k,k=k.return;return _.tag===3?_.stateNode:null}function Mj(k,b){for(var _=k.callbackNode,$=k.suspendedLanes,j=k.pingedLanes,_e=k.expirationTimes,et=k.pendingLanes;0<et;){var tt=31-Vc(et),nt=1<<tt,it=_e[tt];if(it===-1){if((nt&$)===0||(nt&j)!==0){it=b,Rc(nt);var rt=F;_e[tt]=10<=rt?it+250:6<=rt?it+5e3:-1}}else it<=b&&(k.expiredLanes|=nt);et&=~nt}if($=Uc(k,k===U?W:0),b=F,$===0)_!==null&&(_!==Zf&&Pf(_),k.callbackNode=null,k.callbackPriority=0);else{if(_!==null){if(k.callbackPriority===b)return;_!==Zf&&Pf(_)}b===15?(_=Lj.bind(null,k),ag===null?(ag=[_],bg=Of(Uf,jg)):ag.push(_),_=Zf):b===14?_=hg(99,Lj.bind(null,k)):(_=Tc(b),_=hg(_,Nj.bind(null,k))),k.callbackPriority=b,k.callbackNode=_}}function Nj(k){if(Fj=-1,Hj=Gj=0,(X&48)!==0)throw Error(y(327));var b=k.callbackNode;if(Oj()&&k.callbackNode!==b)return null;var _=Uc(k,k===U?W:0);if(_===0)return null;var $=_,j=X;X|=16;var _e=Pj();(U!==k||W!==$)&&(wj(),Qj(k,$));do try{Rj();break}catch(tt){Sj(k,tt)}while(1);if(qg(),oj.current=_e,X=j,Y!==null?$=0:(U=null,W=0,$=V),(tj&Hi)!==0)Qj(k,0);else if($!==0){if($===2&&(X|=64,k.hydrate&&(k.hydrate=!1,qf(k.containerInfo)),_=Wc(k),_!==0&&($=Tj(k,_))),$===1)throw b=sj,Qj(k,0),Ii(k,_),Mj(k,O$1()),b;switch(k.finishedWork=k.current.alternate,k.finishedLanes=_,$){case 0:case 1:throw Error(y(345));case 2:Uj(k);break;case 3:if(Ii(k,_),(_&62914560)===_&&($=jj+500-O$1(),10<$)){if(Uc(k,0)!==0)break;if(j=k.suspendedLanes,(j&_)!==_){Hg(),k.pingedLanes|=k.suspendedLanes&j;break}k.timeoutHandle=of(Uj.bind(null,k),$);break}Uj(k);break;case 4:if(Ii(k,_),(_&4186112)===_)break;for($=k.eventTimes,j=-1;0<_;){var et=31-Vc(_);_e=1<<et,et=$[et],et>j&&(j=et),_&=~_e}if(_=j,_=O$1()-_,_=(120>_?120:480>_?480:1080>_?1080:1920>_?1920:3e3>_?3e3:4320>_?4320:1960*nj(_/1960))-_,10<_){k.timeoutHandle=of(Uj.bind(null,k),_);break}Uj(k);break;case 5:Uj(k);break;default:throw Error(y(329))}}return Mj(k,O$1()),k.callbackNode===b?Nj.bind(null,k):null}function Ii(k,b){for(b&=~uj,b&=~Hi,k.suspendedLanes|=b,k.pingedLanes&=~b,k=k.expirationTimes;0<b;){var _=31-Vc(b),$=1<<_;k[_]=-1,b&=~$}}function Lj(k){if((X&48)!==0)throw Error(y(327));if(Oj(),k===U&&(k.expiredLanes&W)!==0){var b=W,_=Tj(k,b);(tj&Hi)!==0&&(b=Uc(k,b),_=Tj(k,b))}else b=Uc(k,0),_=Tj(k,b);if(k.tag!==0&&_===2&&(X|=64,k.hydrate&&(k.hydrate=!1,qf(k.containerInfo)),b=Wc(k),b!==0&&(_=Tj(k,b))),_===1)throw _=sj,Qj(k,0),Ii(k,b),Mj(k,O$1()),_;return k.finishedWork=k.current.alternate,k.finishedLanes=b,Uj(k),Mj(k,O$1()),null}function Vj(){if(Cj!==null){var k=Cj;Cj=null,k.forEach(function(b){b.expiredLanes|=24&b.pendingLanes,Mj(b,O$1())})}ig()}function Wj(k,b){var _=X;X|=1;try{return k(b)}finally{X=_,X===0&&(wj(),ig())}}function Xj(k,b){var _=X;X&=-2,X|=8;try{return k(b)}finally{X=_,X===0&&(wj(),ig())}}function ni(k,b){I(rj,qj),qj|=b,tj|=b}function Ki(){qj=rj.current,H(rj)}function Qj(k,b){k.finishedWork=null,k.finishedLanes=0;var _=k.timeoutHandle;if(_!==-1&&(k.timeoutHandle=-1,pf(_)),Y!==null)for(_=Y.return;_!==null;){var $=_;switch($.tag){case 1:$=$.type.childContextTypes,$!=null&&Gf();break;case 3:fh(),H(N),H(M),uh();break;case 5:hh($);break;case 4:fh();break;case 13:H(P);break;case 19:H(P);break;case 10:rg($);break;case 23:case 24:Ki()}_=_.return}U=k,Y=Tg(k.current,null),W=qj=tj=b,V=0,sj=null,uj=Hi=Dg=0}function Sj(k,b){do{var _=Y;try{if(qg(),vh.current=Gh,yh){for(var $=R.memoizedState;$!==null;){var j=$.queue;j!==null&&(j.pending=null),$=$.next}yh=!1}if(xh=0,T=S=R=null,zh=!1,pj.current=null,_===null||_.return===null){V=1,sj=b,Y=null;break}e:{var _e=k,et=_.return,tt=_,nt=b;if(b=W,tt.flags|=2048,tt.firstEffect=tt.lastEffect=null,nt!==null&&typeof nt=="object"&&typeof nt.then=="function"){var it=nt;if((tt.mode&2)===0){var rt=tt.alternate;rt?(tt.updateQueue=rt.updateQueue,tt.memoizedState=rt.memoizedState,tt.lanes=rt.lanes):(tt.updateQueue=null,tt.memoizedState=null)}var st=(P.current&1)!==0,ot=et;do{var ut;if(ut=ot.tag===13){var lt=ot.memoizedState;if(lt!==null)ut=lt.dehydrated!==null;else{var ft=ot.memoizedProps;ut=ft.fallback===void 0?!1:ft.unstable_avoidThisFallback!==!0?!0:!st}}if(ut){var ct=ot.updateQueue;if(ct===null){var pt=new Set;pt.add(it),ot.updateQueue=pt}else ct.add(it);if((ot.mode&2)===0){if(ot.flags|=64,tt.flags|=16384,tt.flags&=-2981,tt.tag===1)if(tt.alternate===null)tt.tag=17;else{var mt=zg(-1,1);mt.tag=2,Ag(tt,mt)}tt.lanes|=1;break e}nt=void 0,tt=b;var wt=_e.pingCache;if(wt===null?(wt=_e.pingCache=new Oi,nt=new Set,wt.set(it,nt)):(nt=wt.get(it),nt===void 0&&(nt=new Set,wt.set(it,nt))),!nt.has(tt)){nt.add(tt);var gt=Yj.bind(null,_e,it,tt);it.then(gt,gt)}ot.flags|=4096,ot.lanes=b;break e}ot=ot.return}while(ot!==null);nt=Error((Ra(tt.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}V!==5&&(V=2),nt=Mi(nt,tt),ot=et;do{switch(ot.tag){case 3:_e=nt,ot.flags|=4096,b&=-b,ot.lanes|=b;var vt=Pi(ot,_e,b);Bg(ot,vt);break e;case 1:_e=nt;var bt=ot.type,Ct=ot.stateNode;if((ot.flags&64)===0&&(typeof bt.getDerivedStateFromError=="function"||Ct!==null&&typeof Ct.componentDidCatch=="function"&&(Ti===null||!Ti.has(Ct)))){ot.flags|=4096,b&=-b,ot.lanes|=b;var Dt=Si(ot,_e,b);Bg(ot,Dt);break e}}ot=ot.return}while(ot!==null)}Zj(_)}catch(_t){b=_t,Y===_&&_!==null&&(Y=_=_.return);continue}break}while(1)}function Pj(){var k=oj.current;return oj.current=Gh,k===null?Gh:k}function Tj(k,b){var _=X;X|=16;var $=Pj();U===k&&W===b||Qj(k,b);do try{ak();break}catch(j){Sj(k,j)}while(1);if(qg(),X=_,oj.current=$,Y!==null)throw Error(y(261));return U=null,W=0,V}function ak(){for(;Y!==null;)bk(Y)}function Rj(){for(;Y!==null&&!Qf();)bk(Y)}function bk(k){var b=ck(k.alternate,k,qj);k.memoizedProps=k.pendingProps,b===null?Zj(k):Y=b,pj.current=null}function Zj(k){var b=k;do{var _=b.alternate;if(k=b.return,(b.flags&2048)===0){if(_=Gi(_,b,qj),_!==null){Y=_;return}if(_=b,_.tag!==24&&_.tag!==23||_.memoizedState===null||(qj&1073741824)!==0||(_.mode&4)===0){for(var $=0,j=_.child;j!==null;)$|=j.lanes|j.childLanes,j=j.sibling;_.childLanes=$}k!==null&&(k.flags&2048)===0&&(k.firstEffect===null&&(k.firstEffect=b.firstEffect),b.lastEffect!==null&&(k.lastEffect!==null&&(k.lastEffect.nextEffect=b.firstEffect),k.lastEffect=b.lastEffect),1<b.flags&&(k.lastEffect!==null?k.lastEffect.nextEffect=b:k.firstEffect=b,k.lastEffect=b))}else{if(_=Li(b),_!==null){_.flags&=2047,Y=_;return}k!==null&&(k.firstEffect=k.lastEffect=null,k.flags|=2048)}if(b=b.sibling,b!==null){Y=b;return}Y=b=k}while(b!==null);V===0&&(V=5)}function Uj(k){var b=eg();return gg(99,dk.bind(null,k,b)),null}function dk(k,b){do Oj();while(yj!==null);if((X&48)!==0)throw Error(y(327));var _=k.finishedWork;if(_===null)return null;if(k.finishedWork=null,k.finishedLanes=0,_===k.current)throw Error(y(177));k.callbackNode=null;var $=_.lanes|_.childLanes,j=$,_e=k.pendingLanes&~j;k.pendingLanes=j,k.suspendedLanes=0,k.pingedLanes=0,k.expiredLanes&=j,k.mutableReadLanes&=j,k.entangledLanes&=j,j=k.entanglements;for(var et=k.eventTimes,tt=k.expirationTimes;0<_e;){var nt=31-Vc(_e),it=1<<nt;j[nt]=0,et[nt]=-1,tt[nt]=-1,_e&=~it}if(Cj!==null&&($&24)===0&&Cj.has(k)&&Cj.delete(k),k===U&&(Y=U=null,W=0),1<_.flags?_.lastEffect!==null?(_.lastEffect.nextEffect=_,$=_.firstEffect):$=_:$=_.firstEffect,$!==null){if(j=X,X|=32,pj.current=null,kf=fd,et=Ne(),Oe(et)){if("selectionStart"in et)tt={start:et.selectionStart,end:et.selectionEnd};else e:if(tt=(tt=et.ownerDocument)&&tt.defaultView||window,(it=tt.getSelection&&tt.getSelection())&&it.rangeCount!==0){tt=it.anchorNode,_e=it.anchorOffset,nt=it.focusNode,it=it.focusOffset;try{tt.nodeType,nt.nodeType}catch{tt=null;break e}var rt=0,st=-1,ot=-1,ut=0,lt=0,ft=et,ct=null;t:for(;;){for(var pt;ft!==tt||_e!==0&&ft.nodeType!==3||(st=rt+_e),ft!==nt||it!==0&&ft.nodeType!==3||(ot=rt+it),ft.nodeType===3&&(rt+=ft.nodeValue.length),(pt=ft.firstChild)!==null;)ct=ft,ft=pt;for(;;){if(ft===et)break t;if(ct===tt&&++ut===_e&&(st=rt),ct===nt&&++lt===it&&(ot=rt),(pt=ft.nextSibling)!==null)break;ft=ct,ct=ft.parentNode}ft=pt}tt=st===-1||ot===-1?null:{start:st,end:ot}}else tt=null;tt=tt||{start:0,end:0}}else tt=null;lf={focusedElem:et,selectionRange:tt},fd=!1,Ij=null,Jj=!1,Z=$;do try{ek()}catch(_t){if(Z===null)throw Error(y(330));Wi(Z,_t),Z=Z.nextEffect}while(Z!==null);Ij=null,Z=$;do try{for(et=k;Z!==null;){var mt=Z.flags;if(mt&16&&pb(Z.stateNode,""),mt&128){var wt=Z.alternate;if(wt!==null){var gt=wt.ref;gt!==null&&(typeof gt=="function"?gt(null):gt.current=null)}}switch(mt&1038){case 2:fj(Z),Z.flags&=-3;break;case 6:fj(Z),Z.flags&=-3,ij(Z.alternate,Z);break;case 1024:Z.flags&=-1025;break;case 1028:Z.flags&=-1025,ij(Z.alternate,Z);break;case 4:ij(Z.alternate,Z);break;case 8:tt=Z,cj(et,tt);var vt=tt.alternate;dj(tt),vt!==null&&dj(vt)}Z=Z.nextEffect}}catch(_t){if(Z===null)throw Error(y(330));Wi(Z,_t),Z=Z.nextEffect}while(Z!==null);if(gt=lf,wt=Ne(),mt=gt.focusedElem,et=gt.selectionRange,wt!==mt&&mt&&mt.ownerDocument&&Me(mt.ownerDocument.documentElement,mt)){for(et!==null&&Oe(mt)&&(wt=et.start,gt=et.end,gt===void 0&&(gt=wt),"selectionStart"in mt?(mt.selectionStart=wt,mt.selectionEnd=Math.min(gt,mt.value.length)):(gt=(wt=mt.ownerDocument||document)&&wt.defaultView||window,gt.getSelection&&(gt=gt.getSelection(),tt=mt.textContent.length,vt=Math.min(et.start,tt),et=et.end===void 0?vt:Math.min(et.end,tt),!gt.extend&&vt>et&&(tt=et,et=vt,vt=tt),tt=Le(mt,vt),_e=Le(mt,et),tt&&_e&&(gt.rangeCount!==1||gt.anchorNode!==tt.node||gt.anchorOffset!==tt.offset||gt.focusNode!==_e.node||gt.focusOffset!==_e.offset)&&(wt=wt.createRange(),wt.setStart(tt.node,tt.offset),gt.removeAllRanges(),vt>et?(gt.addRange(wt),gt.extend(_e.node,_e.offset)):(wt.setEnd(_e.node,_e.offset),gt.addRange(wt)))))),wt=[],gt=mt;gt=gt.parentNode;)gt.nodeType===1&&wt.push({element:gt,left:gt.scrollLeft,top:gt.scrollTop});for(typeof mt.focus=="function"&&mt.focus(),mt=0;mt<wt.length;mt++)gt=wt[mt],gt.element.scrollLeft=gt.left,gt.element.scrollTop=gt.top}fd=!!kf,lf=kf=null,k.current=_,Z=$;do try{for(mt=k;Z!==null;){var bt=Z.flags;if(bt&36&&Yi(mt,Z.alternate,Z),bt&128){wt=void 0;var Ct=Z.ref;if(Ct!==null){var Dt=Z.stateNode;switch(Z.tag){case 5:wt=Dt;break;default:wt=Dt}typeof Ct=="function"?Ct(wt):Ct.current=wt}}Z=Z.nextEffect}}catch(_t){if(Z===null)throw Error(y(330));Wi(Z,_t),Z=Z.nextEffect}while(Z!==null);Z=null,$f(),X=j}else k.current=_;if(xj)xj=!1,yj=k,zj=b;else for(Z=$;Z!==null;)b=Z.nextEffect,Z.nextEffect=null,Z.flags&8&&(bt=Z,bt.sibling=null,bt.stateNode=null),Z=b;if($=k.pendingLanes,$===0&&(Ti=null),$===1?k===Ej?Dj++:(Dj=0,Ej=k):Dj=0,_=_.stateNode,Mf&&typeof Mf.onCommitFiberRoot=="function")try{Mf.onCommitFiberRoot(Lf,_,void 0,(_.current.flags&64)===64)}catch{}if(Mj(k,O$1()),Qi)throw Qi=!1,k=Ri,Ri=null,k;return(X&8)!==0||ig(),null}function ek(){for(;Z!==null;){var k=Z.alternate;Jj||Ij===null||((Z.flags&8)!==0?dc(Z,Ij)&&(Jj=!0):Z.tag===13&&mj(k,Z)&&dc(Z,Ij)&&(Jj=!0));var b=Z.flags;(b&256)!==0&&Xi(k,Z),(b&512)===0||xj||(xj=!0,hg(97,function(){return Oj(),null})),Z=Z.nextEffect}}function Oj(){if(zj!==90){var k=97<zj?97:zj;return zj=90,gg(k,fk)}return!1}function $i(k,b){Aj.push(b,k),xj||(xj=!0,hg(97,function(){return Oj(),null}))}function Zi(k,b){Bj.push(b,k),xj||(xj=!0,hg(97,function(){return Oj(),null}))}function fk(){if(yj===null)return!1;var k=yj;if(yj=null,(X&48)!==0)throw Error(y(331));var b=X;X|=32;var _=Bj;Bj=[];for(var $=0;$<_.length;$+=2){var j=_[$],_e=_[$+1],et=j.destroy;if(j.destroy=void 0,typeof et=="function")try{et()}catch(nt){if(_e===null)throw Error(y(330));Wi(_e,nt)}}for(_=Aj,Aj=[],$=0;$<_.length;$+=2){j=_[$],_e=_[$+1];try{var tt=j.create;j.destroy=tt()}catch(nt){if(_e===null)throw Error(y(330));Wi(_e,nt)}}for(tt=k.current.firstEffect;tt!==null;)k=tt.nextEffect,tt.nextEffect=null,tt.flags&8&&(tt.sibling=null,tt.stateNode=null),tt=k;return X=b,ig(),!0}function gk(k,b,_){b=Mi(_,b),b=Pi(k,b,1),Ag(k,b),b=Hg(),k=Kj(k,1),k!==null&&($c(k,1,b),Mj(k,b))}function Wi(k,b){if(k.tag===3)gk(k,k,b);else for(var _=k.return;_!==null;){if(_.tag===3){gk(_,k,b);break}else if(_.tag===1){var $=_.stateNode;if(typeof _.type.getDerivedStateFromError=="function"||typeof $.componentDidCatch=="function"&&(Ti===null||!Ti.has($))){k=Mi(b,k);var j=Si(_,k,1);if(Ag(_,j),j=Hg(),_=Kj(_,1),_!==null)$c(_,1,j),Mj(_,j);else if(typeof $.componentDidCatch=="function"&&(Ti===null||!Ti.has($)))try{$.componentDidCatch(b,k)}catch{}break}}_=_.return}}function Yj(k,b,_){var $=k.pingCache;$!==null&&$.delete(b),b=Hg(),k.pingedLanes|=k.suspendedLanes&_,U===k&&(W&_)===_&&(V===4||V===3&&(W&62914560)===W&&500>O$1()-jj?Qj(k,0):uj|=_),Mj(k,b)}function lj(k,b){var _=k.stateNode;_!==null&&_.delete(b),b=0,b===0&&(b=k.mode,(b&2)===0?b=1:(b&4)===0?b=eg()===99?1:2:(Gj===0&&(Gj=tj),b=Yc(62914560&~Gj),b===0&&(b=4194304))),_=Hg(),k=Kj(k,b),k!==null&&($c(k,b,_),Mj(k,_))}var ck;ck=function(k,b,_){var $=b.lanes;if(k!==null)if(k.memoizedProps!==b.pendingProps||N.current)ug=!0;else if((_&$)!==0)ug=(k.flags&16384)!==0;else{switch(ug=!1,b.tag){case 3:ri(b),sh();break;case 5:gh(b);break;case 1:Ff(b.type)&&Jf(b);break;case 4:eh(b,b.stateNode.containerInfo);break;case 10:$=b.memoizedProps.value;var j=b.type._context;I(mg,j._currentValue),j._currentValue=$;break;case 13:if(b.memoizedState!==null)return(_&b.child.childLanes)!==0?ti(k,b,_):(I(P,P.current&1),b=hi(k,b,_),b!==null?b.sibling:null);I(P,P.current&1);break;case 19:if($=(_&b.childLanes)!==0,(k.flags&64)!==0){if($)return Ai(k,b,_);b.flags|=64}if(j=b.memoizedState,j!==null&&(j.rendering=null,j.tail=null,j.lastEffect=null),I(P,P.current),$)break;return null;case 23:case 24:return b.lanes=0,mi(k,b,_)}return hi(k,b,_)}else ug=!1;switch(b.lanes=0,b.tag){case 2:if($=b.type,k!==null&&(k.alternate=null,b.alternate=null,b.flags|=2),k=b.pendingProps,j=Ef(b,M.current),tg(b,_),j=Ch(null,b,$,k,j,_),b.flags|=1,typeof j=="object"&&j!==null&&typeof j.render=="function"&&j.$$typeof===void 0){if(b.tag=1,b.memoizedState=null,b.updateQueue=null,Ff($)){var _e=!0;Jf(b)}else _e=!1;b.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,xg(b);var et=$.getDerivedStateFromProps;typeof et=="function"&&Gg(b,$,et,k),j.updater=Kg,b.stateNode=j,j._reactInternals=b,Og(b,$,k,_),b=qi(null,b,$,!0,_e,_)}else b.tag=0,fi(null,b,j,_),b=b.child;return b;case 16:j=b.elementType;e:{switch(k!==null&&(k.alternate=null,b.alternate=null,b.flags|=2),k=b.pendingProps,_e=j._init,j=_e(j._payload),b.type=j,_e=b.tag=hk(j),k=lg(j,k),_e){case 0:b=li(null,b,j,k,_);break e;case 1:b=pi(null,b,j,k,_);break e;case 11:b=gi(null,b,j,k,_);break e;case 14:b=ii(null,b,j,lg(j.type,k),$,_);break e}throw Error(y(306,j,""))}return b;case 0:return $=b.type,j=b.pendingProps,j=b.elementType===$?j:lg($,j),li(k,b,$,j,_);case 1:return $=b.type,j=b.pendingProps,j=b.elementType===$?j:lg($,j),pi(k,b,$,j,_);case 3:if(ri(b),$=b.updateQueue,k===null||$===null)throw Error(y(282));if($=b.pendingProps,j=b.memoizedState,j=j!==null?j.element:null,yg(k,b),Cg(b,$,null,_),$=b.memoizedState.element,$===j)sh(),b=hi(k,b,_);else{if(j=b.stateNode,(_e=j.hydrate)&&(kh=rf(b.stateNode.containerInfo.firstChild),jh=b,_e=lh=!0),_e){if(k=j.mutableSourceEagerHydrationData,k!=null)for(j=0;j<k.length;j+=2)_e=k[j],_e._workInProgressVersionPrimary=k[j+1],th.push(_e);for(_=Zg(b,null,$,_),b.child=_;_;)_.flags=_.flags&-3|1024,_=_.sibling}else fi(k,b,$,_),sh();b=b.child}return b;case 5:return gh(b),k===null&&ph(b),$=b.type,j=b.pendingProps,_e=k!==null?k.memoizedProps:null,et=j.children,nf($,j)?et=null:_e!==null&&nf($,_e)&&(b.flags|=16),oi(k,b),fi(k,b,et,_),b.child;case 6:return k===null&&ph(b),null;case 13:return ti(k,b,_);case 4:return eh(b,b.stateNode.containerInfo),$=b.pendingProps,k===null?b.child=Yg(b,null,$,_):fi(k,b,$,_),b.child;case 11:return $=b.type,j=b.pendingProps,j=b.elementType===$?j:lg($,j),gi(k,b,$,j,_);case 7:return fi(k,b,b.pendingProps,_),b.child;case 8:return fi(k,b,b.pendingProps.children,_),b.child;case 12:return fi(k,b,b.pendingProps.children,_),b.child;case 10:e:{$=b.type._context,j=b.pendingProps,et=b.memoizedProps,_e=j.value;var tt=b.type._context;if(I(mg,tt._currentValue),tt._currentValue=_e,et!==null)if(tt=et.value,_e=He(tt,_e)?0:(typeof $._calculateChangedBits=="function"?$._calculateChangedBits(tt,_e):1073741823)|0,_e===0){if(et.children===j.children&&!N.current){b=hi(k,b,_);break e}}else for(tt=b.child,tt!==null&&(tt.return=b);tt!==null;){var nt=tt.dependencies;if(nt!==null){et=tt.child;for(var it=nt.firstContext;it!==null;){if(it.context===$&&(it.observedBits&_e)!==0){tt.tag===1&&(it=zg(-1,_&-_),it.tag=2,Ag(tt,it)),tt.lanes|=_,it=tt.alternate,it!==null&&(it.lanes|=_),sg(tt.return,_),nt.lanes|=_;break}it=it.next}}else et=tt.tag===10&&tt.type===b.type?null:tt.child;if(et!==null)et.return=tt;else for(et=tt;et!==null;){if(et===b){et=null;break}if(tt=et.sibling,tt!==null){tt.return=et.return,et=tt;break}et=et.return}tt=et}fi(k,b,j.children,_),b=b.child}return b;case 9:return j=b.type,_e=b.pendingProps,$=_e.children,tg(b,_),j=vg(j,_e.unstable_observedBits),$=$(j),b.flags|=1,fi(k,b,$,_),b.child;case 14:return j=b.type,_e=lg(j,b.pendingProps),_e=lg(j.type,_e),ii(k,b,j,_e,$,_);case 15:return ki(k,b,b.type,b.pendingProps,$,_);case 17:return $=b.type,j=b.pendingProps,j=b.elementType===$?j:lg($,j),k!==null&&(k.alternate=null,b.alternate=null,b.flags|=2),b.tag=1,Ff($)?(k=!0,Jf(b)):k=!1,tg(b,_),Mg(b,$,j),Og(b,$,j,_),qi(null,b,$,!0,k,_);case 19:return Ai(k,b,_);case 23:return mi(k,b,_);case 24:return mi(k,b,_)}throw Error(y(156,b.tag))};function ik(k,b,_,$){this.tag=k,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=b,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=$,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function nh(k,b,_,$){return new ik(k,b,_,$)}function ji(k){return k=k.prototype,!(!k||!k.isReactComponent)}function hk(k){if(typeof k=="function")return ji(k)?1:0;if(k!=null){if(k=k.$$typeof,k===Aa)return 11;if(k===Da)return 14}return 2}function Tg(k,b){var _=k.alternate;return _===null?(_=nh(k.tag,b,k.key,k.mode),_.elementType=k.elementType,_.type=k.type,_.stateNode=k.stateNode,_.alternate=k,k.alternate=_):(_.pendingProps=b,_.type=k.type,_.flags=0,_.nextEffect=null,_.firstEffect=null,_.lastEffect=null),_.childLanes=k.childLanes,_.lanes=k.lanes,_.child=k.child,_.memoizedProps=k.memoizedProps,_.memoizedState=k.memoizedState,_.updateQueue=k.updateQueue,b=k.dependencies,_.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext},_.sibling=k.sibling,_.index=k.index,_.ref=k.ref,_}function Vg(k,b,_,$,j,_e){var et=2;if($=k,typeof k=="function")ji(k)&&(et=1);else if(typeof k=="string")et=5;else e:switch(k){case ua:return Xg(_.children,j,_e,b);case Ha:et=8,j|=16;break;case wa:et=8,j|=1;break;case xa:return k=nh(12,_,b,j|8),k.elementType=xa,k.type=xa,k.lanes=_e,k;case Ba:return k=nh(13,_,b,j),k.type=Ba,k.elementType=Ba,k.lanes=_e,k;case Ca:return k=nh(19,_,b,j),k.elementType=Ca,k.lanes=_e,k;case Ia:return vi(_,j,_e,b);case Ja:return k=nh(24,_,b,j),k.elementType=Ja,k.lanes=_e,k;default:if(typeof k=="object"&&k!==null)switch(k.$$typeof){case ya:et=10;break e;case za:et=9;break e;case Aa:et=11;break e;case Da:et=14;break e;case Ea:et=16,$=null;break e;case Fa:et=22;break e}throw Error(y(130,k==null?k:typeof k,""))}return b=nh(et,_,b,j),b.elementType=k,b.type=$,b.lanes=_e,b}function Xg(k,b,_,$){return k=nh(7,k,$,b),k.lanes=_,k}function vi(k,b,_,$){return k=nh(23,k,$,b),k.elementType=Ia,k.lanes=_,k}function Ug(k,b,_){return k=nh(6,k,null,b),k.lanes=_,k}function Wg(k,b,_){return b=nh(4,k.children!==null?k.children:[],k.key,b),b.lanes=_,b.stateNode={containerInfo:k.containerInfo,pendingChildren:null,implementation:k.implementation},b}function jk(k,b,_){this.tag=b,this.containerInfo=k,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=_,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Zc(0),this.expirationTimes=Zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zc(0),this.mutableSourceEagerHydrationData=null}function kk(k,b,_){var $=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ta,key:$==null?null:""+$,children:k,containerInfo:b,implementation:_}}function lk(k,b,_,$){var j=b.current,_e=Hg(),et=Ig(j);e:if(_){_=_._reactInternals;t:{if(Zb(_)!==_||_.tag!==1)throw Error(y(170));var tt=_;do{switch(tt.tag){case 3:tt=tt.stateNode.context;break t;case 1:if(Ff(tt.type)){tt=tt.stateNode.__reactInternalMemoizedMergedChildContext;break t}}tt=tt.return}while(tt!==null);throw Error(y(171))}if(_.tag===1){var nt=_.type;if(Ff(nt)){_=If(_,nt,tt);break e}}_=tt}else _=Cf;return b.context===null?b.context=_:b.pendingContext=_,b=zg(_e,et),b.payload={element:k},$=$===void 0?null:$,$!==null&&(b.callback=$),Ag(j,b),Jg(j,et,_e),et}function mk(k){if(k=k.current,!k.child)return null;switch(k.child.tag){case 5:return k.child.stateNode;default:return k.child.stateNode}}function nk(k,b){if(k=k.memoizedState,k!==null&&k.dehydrated!==null){var _=k.retryLane;k.retryLane=_!==0&&_<b?_:b}}function ok(k,b){nk(k,b),(k=k.alternate)&&nk(k,b)}function pk(){return null}function qk(k,b,_){var $=_!=null&&_.hydrationOptions!=null&&_.hydrationOptions.mutableSources||null;if(_=new jk(k,b,_!=null&&_.hydrate===!0),b=nh(3,null,null,b===2?7:b===1?3:0),_.current=b,b.stateNode=_,xg(b),k[ff]=_.current,cf(k.nodeType===8?k.parentNode:k),$)for(k=0;k<$.length;k++){b=$[k];var j=b._getVersion;j=j(b._source),_.mutableSourceEagerHydrationData==null?_.mutableSourceEagerHydrationData=[b,j]:_.mutableSourceEagerHydrationData.push(b,j)}this._internalRoot=_}qk.prototype.render=function(k){lk(k,this._internalRoot,null,null)};qk.prototype.unmount=function(){var k=this._internalRoot,b=k.containerInfo;lk(null,k,null,function(){b[ff]=null})};function rk(k){return!(!k||k.nodeType!==1&&k.nodeType!==9&&k.nodeType!==11&&(k.nodeType!==8||k.nodeValue!==" react-mount-point-unstable "))}function sk(k,b){if(b||(b=k?k.nodeType===9?k.documentElement:k.firstChild:null,b=!(!b||b.nodeType!==1||!b.hasAttribute("data-reactroot"))),!b)for(var _;_=k.lastChild;)k.removeChild(_);return new qk(k,0,b?{hydrate:!0}:void 0)}function tk(k,b,_,$,j){var _e=_._reactRootContainer;if(_e){var et=_e._internalRoot;if(typeof j=="function"){var tt=j;j=function(){var it=mk(et);tt.call(it)}}lk(b,et,k,j)}else{if(_e=_._reactRootContainer=sk(_,$),et=_e._internalRoot,typeof j=="function"){var nt=j;j=function(){var it=mk(et);nt.call(it)}}Xj(function(){lk(b,et,k,j)})}return mk(et)}ec=function(k){if(k.tag===13){var b=Hg();Jg(k,4,b),ok(k,4)}};fc=function(k){if(k.tag===13){var b=Hg();Jg(k,67108864,b),ok(k,67108864)}};gc=function(k){if(k.tag===13){var b=Hg(),_=Ig(k);Jg(k,_,b),ok(k,_)}};hc=function(k,b){return b()};yb=function(k,b,_){switch(b){case"input":if(ab(k,_),b=_.name,_.type==="radio"&&b!=null){for(_=k;_.parentNode;)_=_.parentNode;for(_=_.querySelectorAll("input[name="+JSON.stringify(""+b)+'][type="radio"]'),b=0;b<_.length;b++){var $=_[b];if($!==k&&$.form===k.form){var j=Db($);if(!j)throw Error(y(90));Wa($),ab($,j)}}}break;case"textarea":ib(k,_);break;case"select":b=_.value,b!=null&&fb(k,!!_.multiple,b,!1)}};Gb=Wj;Hb=function(k,b,_,$,j){var _e=X;X|=4;try{return gg(98,k.bind(null,b,_,$,j))}finally{X=_e,X===0&&(wj(),ig())}};Ib=function(){(X&49)===0&&(Vj(),Oj())};Jb=function(k,b){var _=X;X|=2;try{return k(b)}finally{X=_,X===0&&(wj(),ig())}};function uk(k,b){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rk(b))throw Error(y(200));return kk(k,b,null,_)}var vk={Events:[Cb,ue$1,Db,Eb,Fb,Oj,{current:!1}]},wk={findFiberByHostInstance:wc,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},xk={bundleType:wk.bundleType,version:wk.version,rendererPackageName:wk.rendererPackageName,rendererConfig:wk.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ra.ReactCurrentDispatcher,findHostInstanceByFiber:function(k){return k=cc(k),k===null?null:k.stateNode},findFiberByHostInstance:wk.findFiberByHostInstance||pk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yk=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yk.isDisabled&&yk.supportsFiber)try{Lf=yk.inject(xk),Mf=yk}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vk;reactDom_production_min.createPortal=uk;reactDom_production_min.findDOMNode=function(k){if(k==null)return null;if(k.nodeType===1)return k;var b=k._reactInternals;if(b===void 0)throw typeof k.render=="function"?Error(y(188)):Error(y(268,Object.keys(k)));return k=cc(b),k=k===null?null:k.stateNode,k};reactDom_production_min.flushSync=function(k,b){var _=X;if((_&48)!==0)return k(b);X|=1;try{if(k)return gg(99,k.bind(null,b))}finally{X=_,ig()}};reactDom_production_min.hydrate=function(k,b,_){if(!rk(b))throw Error(y(200));return tk(null,k,b,!0,_)};reactDom_production_min.render=function(k,b,_){if(!rk(b))throw Error(y(200));return tk(null,k,b,!1,_)};reactDom_production_min.unmountComponentAtNode=function(k){if(!rk(k))throw Error(y(40));return k._reactRootContainer?(Xj(function(){tk(null,null,k,!1,function(){k._reactRootContainer=null,k[ff]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Wj;reactDom_production_min.unstable_createPortal=function(k,b){return uk(k,b,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};reactDom_production_min.unstable_renderSubtreeIntoContainer=function(k,b,_,$){if(!rk(_))throw Error(y(200));if(k==null||k._reactInternals===void 0)throw Error(y(38));return tk(k,b,_,!1,$)};reactDom_production_min.version="17.0.2";(function(k){function b(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(b)}catch(_){console.error(_)}}b(),k.exports=reactDom_production_min})(reactDom);const ReactDOM=getDefaultExportFromCjs(reactDom.exports);var fraction$2={exports:{}};/**
 * @license Fraction.js v4.2.0 05/03/2022
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2021, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(k,b){(function(_){var $=2e3,j={s:1,n:0,d:1};function _e(lt,ft){if(isNaN(lt=parseInt(lt,10)))throw ut.InvalidParameter;return lt*ft}function et(lt,ft){if(ft===0)throw ut.DivisionByZero;var ct=Object.create(ut.prototype);ct.s=lt<0?-1:1,lt=lt<0?-lt:lt;var pt=ot(lt,ft);return ct.n=lt/pt,ct.d=ft/pt,ct}function tt(lt){for(var ft={},ct=lt,pt=2,mt=4;mt<=ct;){for(;ct%pt===0;)ct/=pt,ft[pt]=(ft[pt]||0)+1;mt+=1+2*pt++}return ct!==lt?ct>1&&(ft[ct]=(ft[ct]||0)+1):ft[lt]=(ft[lt]||0)+1,ft}var nt=function(lt,ft){var ct=0,pt=1,mt=1,wt=0,gt=0,vt=0,bt=1,Ct=1,Dt=0,_t=1,Rt=1,jt=1,Qt=1e7,Nt;if(lt!=null)if(ft!==void 0){if(ct=lt,pt=ft,mt=ct*pt,ct%1!==0||pt%1!==0)throw ut.NonIntegerParameter}else switch(typeof lt){case"object":{if("d"in lt&&"n"in lt)ct=lt.n,pt=lt.d,"s"in lt&&(ct*=lt.s);else if(0 in lt)ct=lt[0],1 in lt&&(pt=lt[1]);else throw ut.InvalidParameter;mt=ct*pt;break}case"number":{if(lt<0&&(mt=lt,lt=-lt),lt%1===0)ct=lt;else if(lt>0){for(lt>=1&&(Ct=Math.pow(10,Math.floor(1+Math.log(lt)/Math.LN10)),lt/=Ct);_t<=Qt&&jt<=Qt;)if(Nt=(Dt+Rt)/(_t+jt),lt===Nt){_t+jt<=Qt?(ct=Dt+Rt,pt=_t+jt):jt>_t?(ct=Rt,pt=jt):(ct=Dt,pt=_t);break}else lt>Nt?(Dt+=Rt,_t+=jt):(Rt+=Dt,jt+=_t),_t>Qt?(ct=Rt,pt=jt):(ct=Dt,pt=_t);ct*=Ct}else(isNaN(lt)||isNaN(ft))&&(pt=ct=NaN);break}case"string":{if(_t=lt.match(/\d+|./g),_t===null)throw ut.InvalidParameter;if(_t[Dt]==="-"?(mt=-1,Dt++):_t[Dt]==="+"&&Dt++,_t.length===Dt+1?gt=_e(_t[Dt++],mt):_t[Dt+1]==="."||_t[Dt]==="."?(_t[Dt]!=="."&&(wt=_e(_t[Dt++],mt)),Dt++,(Dt+1===_t.length||_t[Dt+1]==="("&&_t[Dt+3]===")"||_t[Dt+1]==="'"&&_t[Dt+3]==="'")&&(gt=_e(_t[Dt],mt),bt=Math.pow(10,_t[Dt].length),Dt++),(_t[Dt]==="("&&_t[Dt+2]===")"||_t[Dt]==="'"&&_t[Dt+2]==="'")&&(vt=_e(_t[Dt+1],mt),Ct=Math.pow(10,_t[Dt+1].length)-1,Dt+=3)):_t[Dt+1]==="/"||_t[Dt+1]===":"?(gt=_e(_t[Dt],mt),bt=_e(_t[Dt+2],1),Dt+=3):_t[Dt+3]==="/"&&_t[Dt+1]===" "&&(wt=_e(_t[Dt],mt),gt=_e(_t[Dt+2],mt),bt=_e(_t[Dt+4],1),Dt+=5),_t.length<=Dt){pt=bt*Ct,mt=ct=vt+pt*wt+Ct*gt;break}}default:throw ut.InvalidParameter}if(pt===0)throw ut.DivisionByZero;j.s=mt<0?-1:1,j.n=Math.abs(ct),j.d=Math.abs(pt)};function it(lt,ft,ct){for(var pt=1;ft>0;lt=lt*lt%ct,ft>>=1)ft&1&&(pt=pt*lt%ct);return pt}function rt(lt,ft){for(;ft%2===0;ft/=2);for(;ft%5===0;ft/=5);if(ft===1)return 0;for(var ct=10%ft,pt=1;ct!==1;pt++)if(ct=ct*10%ft,pt>$)return 0;return pt}function st(lt,ft,ct){for(var pt=1,mt=it(10,ct,ft),wt=0;wt<300;wt++){if(pt===mt)return wt;pt=pt*10%ft,mt=mt*10%ft}return 0}function ot(lt,ft){if(!lt)return ft;if(!ft)return lt;for(;;){if(lt%=ft,!lt)return ft;if(ft%=lt,!ft)return lt}}function ut(lt,ft){if(nt(lt,ft),this instanceof ut)lt=ot(j.d,j.n),this.s=j.s,this.n=j.n/lt,this.d=j.d/lt;else return et(j.s*j.n,j.d)}ut.DivisionByZero=new Error("Division by Zero"),ut.InvalidParameter=new Error("Invalid argument"),ut.NonIntegerParameter=new Error("Parameters must be integer"),ut.prototype={s:1,n:0,d:1,abs:function(){return et(this.n,this.d)},neg:function(){return et(-this.s*this.n,this.d)},add:function(lt,ft){return nt(lt,ft),et(this.s*this.n*j.d+j.s*this.d*j.n,this.d*j.d)},sub:function(lt,ft){return nt(lt,ft),et(this.s*this.n*j.d-j.s*this.d*j.n,this.d*j.d)},mul:function(lt,ft){return nt(lt,ft),et(this.s*j.s*this.n*j.n,this.d*j.d)},div:function(lt,ft){return nt(lt,ft),et(this.s*j.s*this.n*j.d,this.d*j.n)},clone:function(){return et(this.s*this.n,this.d)},mod:function(lt,ft){if(isNaN(this.n)||isNaN(this.d))return new ut(NaN);if(lt===void 0)return et(this.s*this.n%this.d,1);if(nt(lt,ft),j.n===0&&this.d===0)throw ut.DivisionByZero;return et(this.s*(j.d*this.n)%(j.n*this.d),j.d*this.d)},gcd:function(lt,ft){return nt(lt,ft),et(ot(j.n,this.n)*ot(j.d,this.d),j.d*this.d)},lcm:function(lt,ft){return nt(lt,ft),j.n===0&&this.n===0?et(0,1):et(j.n*this.n,ot(j.n,this.n)*ot(j.d,this.d))},ceil:function(lt){return lt=Math.pow(10,lt||0),isNaN(this.n)||isNaN(this.d)?new ut(NaN):et(Math.ceil(lt*this.s*this.n/this.d),lt)},floor:function(lt){return lt=Math.pow(10,lt||0),isNaN(this.n)||isNaN(this.d)?new ut(NaN):et(Math.floor(lt*this.s*this.n/this.d),lt)},round:function(lt){return lt=Math.pow(10,lt||0),isNaN(this.n)||isNaN(this.d)?new ut(NaN):et(Math.round(lt*this.s*this.n/this.d),lt)},inverse:function(){return et(this.s*this.d,this.n)},pow:function(lt,ft){if(nt(lt,ft),j.d===1)return j.s<0?et(Math.pow(this.s*this.d,j.n),Math.pow(this.n,j.n)):et(Math.pow(this.s*this.n,j.n),Math.pow(this.d,j.n));if(this.s<0)return null;var ct=tt(this.n),pt=tt(this.d),mt=1,wt=1;for(var gt in ct)if(gt!=="1"){if(gt==="0"){mt=0;break}if(ct[gt]*=j.n,ct[gt]%j.d===0)ct[gt]/=j.d;else return null;mt*=Math.pow(gt,ct[gt])}for(var gt in pt)if(gt!=="1"){if(pt[gt]*=j.n,pt[gt]%j.d===0)pt[gt]/=j.d;else return null;wt*=Math.pow(gt,pt[gt])}return j.s<0?et(wt,mt):et(mt,wt)},equals:function(lt,ft){return nt(lt,ft),this.s*this.n*j.d===j.s*j.n*this.d},compare:function(lt,ft){nt(lt,ft);var ct=this.s*this.n*j.d-j.s*j.n*this.d;return(0<ct)-(ct<0)},simplify:function(lt){if(isNaN(this.n)||isNaN(this.d))return this;lt=lt||.001;for(var ft=this.abs(),ct=ft.toContinued(),pt=1;pt<ct.length;pt++){for(var mt=et(ct[pt-1],1),wt=pt-2;wt>=0;wt--)mt=mt.inverse().add(ct[wt]);if(mt.sub(ft).abs().valueOf()<lt)return mt.mul(this.s)}return this},divisible:function(lt,ft){return nt(lt,ft),!(!(j.n*this.d)||this.n*j.d%(j.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(lt){var ft,ct="",pt=this.n,mt=this.d;return this.s<0&&(ct+="-"),mt===1?ct+=pt:(lt&&(ft=Math.floor(pt/mt))>0&&(ct+=ft,ct+=" ",pt%=mt),ct+=pt,ct+="/",ct+=mt),ct},toLatex:function(lt){var ft,ct="",pt=this.n,mt=this.d;return this.s<0&&(ct+="-"),mt===1?ct+=pt:(lt&&(ft=Math.floor(pt/mt))>0&&(ct+=ft,pt%=mt),ct+="\\frac{",ct+=pt,ct+="}{",ct+=mt,ct+="}"),ct},toContinued:function(){var lt,ft=this.n,ct=this.d,pt=[];if(isNaN(ft)||isNaN(ct))return pt;do pt.push(Math.floor(ft/ct)),lt=ft%ct,ft=ct,ct=lt;while(ft!==1);return pt},toString:function(lt){var ft=this.n,ct=this.d;if(isNaN(ft)||isNaN(ct))return"NaN";lt=lt||15;var pt=rt(ft,ct),mt=st(ft,ct,pt),wt=this.s<0?"-":"";if(wt+=ft/ct|0,ft%=ct,ft*=10,ft&&(wt+="."),pt){for(var gt=mt;gt--;)wt+=ft/ct|0,ft%=ct,ft*=10;wt+="(";for(var gt=pt;gt--;)wt+=ft/ct|0,ft%=ct,ft*=10;wt+=")"}else for(var gt=lt;ft&&gt--;)wt+=ft/ct|0,ft%=ct,ft*=10;return wt}},Object.defineProperty(ut,"__esModule",{value:!0}),ut.default=ut,ut.Fraction=ut,k.exports=ut})()})(fraction$2);const Fraction$1=getDefaultExportFromCjs(fraction$2.exports);Fraction$1.prototype.sam=function(){return this.floor()};Fraction$1.prototype.nextSam=function(){return this.sam().add(1)};Fraction$1.prototype.wholeCycle=function(){return new TimeSpan$1(this.sam(),this.nextSam())};Fraction$1.prototype.cyclePos=function(){return this.sub(this.sam())};Fraction$1.prototype.lt=function(k){return this.compare(k)<0};Fraction$1.prototype.gt=function(k){return this.compare(k)>0};Fraction$1.prototype.lte=function(k){return this.compare(k)<=0};Fraction$1.prototype.gte=function(k){return this.compare(k)>=0};Fraction$1.prototype.eq=function(k){return this.compare(k)==0};Fraction$1.prototype.max=function(k){return this.gt(k)?this:k};Fraction$1.prototype.min=function(k){return this.lt(k)?this:k};Fraction$1.prototype.show=function(){return this.s*this.n+"/"+this.d};Fraction$1.prototype.or=function(k){return this.eq(0)?k:this};const fraction$1=k=>Fraction$1(k),gcd=(...k)=>k.reduce((b,_)=>b.gcd(_),fraction$1(1));fraction$1._original=Fraction$1;class TimeSpan$1{constructor(b,_){this.begin=fraction$1(b),this.end=fraction$1(_)}get spanCycles(){const b=[];var _=this.begin;const $=this.end,j=$.sam();if(_.equals($))return[new TimeSpan$1(_,$)];for(;$.gt(_);){if(_.sam().equals(j)){b.push(new TimeSpan$1(_,this.end));break}const _e=_.nextSam();b.push(new TimeSpan$1(_,_e)),_=_e}return b}get duration(){return this.end.sub(this.begin)}cycleArc(){const b=this.begin.cyclePos(),_=b.add(this.duration);return new TimeSpan$1(b,_)}withTime(b){return new TimeSpan$1(b(this.begin),b(this.end))}withEnd(b){return new TimeSpan$1(this.begin,b(this.end))}withCycle(b){const _=this.begin.sam(),$=_.add(b(this.begin.sub(_))),j=_.add(b(this.end.sub(_)));return new TimeSpan$1($,j)}intersection(b){const _=this.begin.max(b.begin),$=this.end.min(b.end);if(!_.gt($)&&!(_.equals($)&&(_.equals(this.end)&&this.begin.lt(this.end)||_.equals(b.end)&&b.begin.lt(b.end))))return new TimeSpan$1(_,$)}intersection_e(b){const _=this.intersection(b);if(_==null)throw"TimeSpans do not intersect";return _}midpoint(){return this.begin.add(this.duration.div(fraction$1(2)))}equals(b){return this.begin.equals(b.begin)&&this.end.equals(b.end)}show(){return this.begin.show()+" -> "+this.end.show()}}class Hap{constructor(b,_,$,j={},_e=!1){this.whole=b,this.part=_,this.value=$,this.context=j,this.stateful=_e,_e&&console.assert(typeof this.value=="function","Stateful values must be functions")}get duration(){return this.whole.end.sub(this.whole.begin)}wholeOrPart(){return this.whole?this.whole:this.part}withSpan(b){const _=this.whole?b(this.whole):void 0;return new Hap(_,b(this.part),this.value,this.context)}withValue(b){return new Hap(this.whole,this.part,b(this.value),this.context)}hasOnset(){return this.whole!=null&&this.whole.begin.equals(this.part.begin)}resolveState(b){if(this.stateful&&this.hasOnset()){console.log("stateful");const _=this.value,[$,j]=_(b);return[$,new Hap(this.whole,this.part,j,this.context,!1)]}return[b,this]}spanEquals(b){return this.whole==null&&b.whole==null||this.whole.equals(b.whole)}equals(b){return this.spanEquals(b)&&this.part.equals(b.part)&&this.value===b.value}show(){return"("+(this.whole==null?"~":this.whole.show())+", "+this.part.show()+", "+this.value+")"}showWhole(b=!1){return`${this.whole==null?"~":this.whole.show()}: ${typeof this.value=="object"?b?JSON.stringify(this.value).slice(1,-1).replaceAll('"',"").replaceAll(","," "):JSON.stringify(this.value):this.value}`}combineContext(b){const _=this;return{..._.context,...b.context,locations:(_.context.locations||[]).concat(b.context.locations||[])}}setContext(b){return new Hap(this.whole,this.part,this.value,b)}}class State$1{constructor(b,_={}){this.span=b,this.controls=_}setSpan(b){return new State$1(b,this.controls)}withSpan(b){return this.setSpan(b(this.span))}setControls(b){return new State$1(this.span,b)}}const isNote=k=>/^[a-gA-G][#bs]*[0-9]$/.test(k),tokenizeNote$1=k=>{var j;if(typeof k!="string")return[];const[b,_="",$]=((j=k.match(/^([a-gA-G])([#bs]*)([0-9])?$/))==null?void 0:j.slice(1))||[];return b?[b,_,$?Number($):void 0]:[]},toMidi$2=k=>{const[b,_,$]=tokenizeNote$1(k);if(!b)throw new Error('not a note: "'+k+'"');const j={c:0,d:2,e:4,f:5,g:7,a:9,b:11}[b.toLowerCase()],_e=(_==null?void 0:_.split("").reduce((et,tt)=>et+{"#":1,b:-1,s:1}[tt],0))||0;return(Number($)+1)*12+j+_e},fromMidi$1=k=>Math.pow(2,(k-69)/12)*440,getFreq=k=>fromMidi$1(typeof k=="number"?k:toMidi$2(k)),midi2note=k=>{const b=Math.floor(k/12)-1;return["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"][k%12]+b},mod$1=(k,b)=>(k%b+b)%b,getPlayableNoteValue=k=>{let{value:b,context:_}=k,$=b;if(typeof $=="object"&&!Array.isArray($)&&($=$.note||$.n||$.value,$===void 0))throw new Error(`cannot find a playable note for ${JSON.stringify(b)}`);if(typeof $=="number"&&_.type!=="frequency")$=fromMidi$1(k.value);else if(typeof $=="number"&&_.type==="frequency")$=k.value;else if(typeof $!="string"||!isNote($))throw new Error("not a note: "+JSON.stringify($));return $},getFrequency=k=>{let{value:b,context:_}=k;if(typeof b=="object")return b.freq?b.freq:getFreq(b.note||b.n||b.value);if(typeof b=="number"&&_.type!=="frequency")b=fromMidi$1(k.value);else if(typeof b=="string"&&isNote(b))b=fromMidi$1(toMidi$2(k.value));else if(typeof b!="number")throw new Error("not a note or frequency: "+b);return b},rotate$2=(k,b)=>k.slice(b).concat(k.slice(0,b)),pipe=(...k)=>k.reduce((b,_)=>(...$)=>b(_(...$)),b=>b),compose=(...k)=>pipe(...k.reverse()),removeUndefineds=k=>k.filter(b=>b!=null),flatten$1=k=>[].concat(...k),id$1=k=>k,constant=(k,b)=>k,listRange=(k,b)=>Array.from({length:b-k+1},(_,$)=>$+k);function curry(k,b){const _=function $(...j){if(j.length>=k.length)return k.apply(this,j);{const _e=function(...et){return $.apply(this,j.concat(et))};return b&&b(_e,j),_e}};return b&&b(_,[]),_}function parseNumeral(k){const b=Number(k);if(!isNaN(b))return b;if(isNote(k))return toMidi$2(k);throw new Error(`cannot parse as numeral: "${k}"`)}function mapArgs(k,b){return(..._)=>k(..._.map(b))}function numeralArgs(k){return mapArgs(k,parseNumeral)}function parseFractional(k){const b=Number(k);if(!isNaN(b))return b;const _={pi:Math.PI,w:1,h:.5,q:.25,e:.125,s:.0625,t:1/3,f:.2,x:1/6}[k];if(typeof _<"u")return _;throw new Error(`cannot parse as fractional: "${k}"`)}const fractionalArgs=k=>mapArgs(k,parseFractional);function unionWithObj(k,b,_){const $=Object.keys(k).filter(j=>Object.keys(b).includes(j));return Object.assign({},k,b,Object.fromEntries($.map(j=>[j,_(k[j],b[j])])))}curry((k,b)=>k*b);curry((k,b)=>b.map(k));function drawLine(k,b=60){let _=0,$=fraction$1(0),j=[""],_e="";for(;j[0].length<b;){const et=k.queryArc(_,_+1),tt=et.filter(rt=>rt.hasOnset()).map(rt=>rt.duration),nt=gcd(...tt),it=nt.inverse();j=j.map(rt=>rt+"|"),_e+="|";for(let rt=0;rt<it;rt++){const[st,ot]=[$,$.add(nt)],ut=et.filter(ft=>ft.whole.begin.lte(st)&&ft.whole.end.gte(ot)),lt=ut.length-j.length;lt>0&&(j=j.concat(Array(lt).fill(_e))),j=j.map((ft,ct)=>{const pt=ut[ct];if(pt){const wt=pt.whole.begin.eq(st)?""+pt.value:"-";return ft+wt}return ft+"."}),_e+=".",$=$.add(nt)}_++}return j.join(`
`)}const logKey="strudel.log";function logger(k,b,_={}){console.log(`%c${k}`,"background-color: black;color:white;border-radius:15px"),typeof CustomEvent<"u"&&document.dispatchEvent(new CustomEvent(logKey,{detail:{message:k,type:b,data:_}}))}logger.key=logKey;let stringParser;const setStringParser=k=>stringParser=k;class Pattern$3{constructor(b){Zn(this,"_Pattern",!0);this.query=b}withValue(b){return new Pattern$3(_=>this.query(_).map($=>$.withValue(b)))}fmap(b){return this.withValue(b)}appWhole(b,_){const $=this,j=function(_e){const et=$.query(_e),tt=_.query(_e),nt=function(it,rt){const st=it.part.intersection(rt.part);if(st!=null)return new Hap(b(it.whole,rt.whole),st,it.value(rt.value),rt.combineContext(it))};return flatten$1(et.map(it=>removeUndefineds(tt.map(rt=>nt(it,rt)))))};return new Pattern$3(j)}appBoth(b){const _=function($,j){if(!($==null||j==null))return $.intersection_e(j)};return this.appWhole(_,b)}appLeft(b){const _=this,$=function(j){const _e=[];for(const et of _.query(j)){const tt=b.query(j.setSpan(et.wholeOrPart()));for(const nt of tt){const it=et.whole,rt=et.part.intersection(nt.part);if(rt){const st=et.value(nt.value),ot=nt.combineContext(et),ut=new Hap(it,rt,st,ot);_e.push(ut)}}}return _e};return new Pattern$3($)}appRight(b){const _=this,$=function(j){const _e=[];for(const et of b.query(j)){const tt=_.query(j.setSpan(et.wholeOrPart()));for(const nt of tt){const it=et.whole,rt=nt.part.intersection(et.part);if(rt){const st=nt.value(et.value),ot=et.combineContext(nt),ut=new Hap(it,rt,st,ot);_e.push(ut)}}}return _e};return new Pattern$3($)}bindWhole(b,_){const $=this,j=function(_e){const et=function(nt,it){return new Hap(b(nt.whole,it.whole),it.part,it.value,Object.assign({},nt.context,it.context,{locations:(nt.context.locations||[]).concat(it.context.locations||[])}))},tt=function(nt){return _(nt.value).query(_e.setSpan(nt.part)).map(it=>et(nt,it))};return flatten$1($.query(_e).map(nt=>tt(nt)))};return new Pattern$3(j)}bind(b){const _=function($,j){if(!($==null||j==null))return $.intersection_e(j)};return this.bindWhole(_,b)}join(){return this.bind(id$1)}outerBind(b){return this.bindWhole((_,$)=>_,b)}outerJoin(){return this.outerBind(id$1)}innerBind(b){return this.bindWhole((_,$)=>$,b)}innerJoin(){return this.innerBind(id$1)}trigJoin(b=!1){const _=this;return new Pattern$3($=>_.discreteOnly().query($).map(j=>j.value.late(b?j.whole.begin:j.whole.begin.cyclePos()).query($).map(_e=>new Hap(_e.whole?_e.whole.intersection(j.whole):void 0,_e.part.intersection(j.part),_e.value).setContext(j.combineContext(_e))).filter(_e=>_e.part)).flat())}trigzeroJoin(){return this.trigJoin(!0)}squeezeJoin(){const b=this;function _($){const j=b.discreteOnly().query($);function _e(tt){const it=tt.value._focusSpan(tt.wholeOrPart()).query($.setSpan(tt.part));function rt(st,ot){let ut;if(ot.whole&&st.whole&&(ut=ot.whole.intersection(st.whole),!ut))return;const lt=ot.part.intersection(st.part);if(!lt)return;const ft=ot.combineContext(st);return new Hap(ut,lt,ot.value,ft)}return it.map(st=>rt(tt,st))}return flatten$1(j.map(_e)).filter(tt=>tt)}return new Pattern$3(_)}squeezeBind(b){return this.fmap(b).squeezeJoin()}queryArc(b,_){return this.query(new State$1(new TimeSpan$1(b,_)))}splitQueries(){const b=this,_=$=>flatten$1($.span.spanCycles.map(j=>b.query($.setSpan(j))));return new Pattern$3(_)}withQuerySpan(b){return new Pattern$3(_=>this.query(_.withSpan(b)))}withQuerySpanMaybe(b){const _=this;return new Pattern$3($=>{const j=$.withSpan(b);return j.span?_.query(j):[]})}withQueryTime(b){return new Pattern$3(_=>this.query(_.withSpan($=>$.withTime(b))))}withHapSpan(b){return new Pattern$3(_=>this.query(_).map($=>$.withSpan(b)))}withHapTime(b){return this.withHapSpan(_=>_.withTime(b))}withHaps(b){return new Pattern$3(_=>b(this.query(_)))}withHap(b){return this.withHaps(_=>_.map(b))}setContext(b){return this.withHap(_=>_.setContext(b))}withContext(b){return this.withHap(_=>_.setContext(b(_.context)))}stripContext(){return this.withHap(b=>b.setContext({}))}withLocation(b,_){const $={start:{line:b[0],column:b[1],offset:b[2]},end:{line:_[0],column:_[1],offset:_[2]}};return this.withContext(j=>{const _e=(j.locations||[]).concat([$]);return{...j,locations:_e}})}withMiniLocation(b,_){const $={start:{line:b[0],column:b[1],offset:b[2]},end:{line:_[0],column:_[1],offset:_[2]}};return this.withContext(j=>{let _e=j.locations||[];return _e=_e.map(({start:et,end:tt})=>{const nt=et.line===1?$.start.column:0;return{start:{...et,line:et.line-1+($.start.line-1)+1,column:et.column-1+nt},end:{...tt,line:tt.line-1+($.start.line-1)+1,column:tt.column-1+nt}}}),{...j,locations:_e}})}filterHaps(b){return new Pattern$3(_=>this.query(_).filter(b))}filterValues(b){return new Pattern$3(_=>this.query(_).filter($=>b($.value)))}removeUndefineds(){return this.filterValues(b=>b!=null)}onsetsOnly(){return this.filterHaps(b=>b.hasOnset())}discreteOnly(){return this.filterHaps(b=>b.whole)}firstCycle(b=!1){var _=this;return b||(_=_.stripContext()),_.query(new State$1(new TimeSpan$1(fraction$1(0),fraction$1(1))))}get firstCycleValues(){return this.firstCycle().map(b=>b.value)}get showFirstCycle(){return this.firstCycle().map(b=>`${b.value}: ${b.whole.begin.toFraction()} - ${b.whole.end.toFraction()}`)}sortHapsByPart(){return this.withHaps(b=>b.sort((_,$)=>_.part.begin.sub($.part.begin).or(_.part.end.sub($.part.end)).or(_.whole.begin.sub($.whole.begin).or(_.whole.end.sub($.whole.end)))))}patternify(b,_){const $=this;return function(...j){j=j.map(et=>isPattern(et)?et.fmap(tt=>tt.value||tt):et);const _e=sequence$1(...j);return b(_e.fmap(et=>_.call($,et)))}}asNumber(){return this.fmap(parseNumeral)}_opIn(b,_){return this.fmap(_).appLeft(reify$2(b))}_opOut(b,_){return this.fmap(_).appRight(reify$2(b))}_opMix(b,_){return this.fmap(_).appBoth(reify$2(b))}_opSqueeze(b,_){const $=reify$2(b);return this.fmap(j=>$.fmap(_e=>_(j)(_e))).squeezeJoin()}_opSqueezeOut(b,_){const $=this;return reify$2(b).fmap(_e=>$.fmap(et=>_(et)(_e))).squeezeJoin()}_opTrig(b,_){return reify$2(b).fmap(j=>this.fmap(_e=>_(_e)(j))).trigJoin()}_opTrigzero(b,_){return reify$2(b).fmap(j=>this.fmap(_e=>_(_e)(j))).trigzeroJoin()}round(){return this.asNumber().fmap(b=>Math.round(b))}floor(){return this.asNumber().fmap(b=>Math.floor(b))}ceil(){return this.asNumber().fmap(b=>Math.ceil(b))}toBipolar(){return this.fmap(b=>b*2-1)}fromBipolar(){return this.fmap(b=>(b+1)/2)}_range(b,_){return this.mul(_-b).add(b)}_rangex(b,_){return this._range(Math.log(b),Math.log(_)).fmap(Math.exp)}_range2(b,_){return this.fromBipolar()._range(b,_)}_apply(b){return b(this)}layer(...b){return stack$1(...b.map(_=>_(this)))}_ply(b){return this.fmap(_=>pure$1(_)._fast(b)).squeezeJoin()}_fastGap(b){const _=function(j){const _e=j.begin.sam(),et=j.begin.sub(_e).mul(b).min(1),tt=j.end.sub(_e).mul(b).min(1);if(!(et>=1))return new TimeSpan$1(_e.add(et),_e.add(tt))},$=function(j){const _e=j.part.begin,et=j.part.end,tt=_e.sam(),nt=_e.sub(tt).div(b).min(1),it=et.sub(tt).div(b).min(1),rt=new TimeSpan$1(tt.add(nt),tt.add(it)),st=j.whole?new TimeSpan$1(rt.begin.sub(_e.sub(j.whole.begin).div(b)),rt.end.add(j.whole.end.sub(et).div(b))):void 0;return new Hap(st,rt,j.value,j.context)};return this.withQuerySpanMaybe(_).withHap($).splitQueries()}_compress(b,_){return b.gt(_)||b.gt(1)||_.gt(1)||b.lt(0)||_.lt(0)?silence$1:this._fastGap(fraction$1(1).div(_.sub(b)))._late(b)}_compressSpan(b){return this._compress(b.begin,b.end)}_focus(b,_){return this._fast(fraction$1(1).div(_.sub(b))).late(b.cyclePos())}_focusSpan(b){return this._focus(b.begin,b.end)}_fast(b){return b=fraction$1(b),this.withQueryTime($=>$.mul(b)).withHapTime($=>$.div(b))}_slow(b){return this._fast(fraction$1(1).div(b))}_inside(b,_){return _(this._slow(b))._fast(b)}_outside(b,_){return _(this._fast(b))._slow(b)}_cpm(b){return this._fast(b/60)}_early(b){return b=fraction$1(b),this.withQueryTime(_=>_.add(b)).withHapTime(_=>_.sub(b))}_late(b){return b=fraction$1(b),this._early(fraction$1(0).sub(b))}_zoom(b,_){_=fraction$1(_),b=fraction$1(b);const $=_.sub(b);return this.withQuerySpan(j=>j.withCycle(_e=>_e.mul($).add(b))).withHapSpan(j=>j.withCycle(_e=>_e.sub(b).div($))).splitQueries()}_zoomArc(b){return this.zoom(b.begin,b.end)}_linger(b){return b==0?silence$1:b<0?this._zoom(b.add(1),1)._slow(b):this._zoom(0,b)._slow(b)}_segment(b){return this.struct(pure$1(!0)._fast(b))}invert(){return this.fmap(b=>!b)}inv(){return this.invert()}when(b,_){const $=b.filterValues(id$1),j=b.filterValues(tt=>!tt),_e=$.fmap(tt=>nt=>nt).appRight(_(this)),et=j.fmap(tt=>nt=>nt).appRight(this);return stack$1(_e,et)}off(b,_){return stack$1(this,_(this.late(b)))}firstOf(b,_){const $=this,j=Array(b-1).fill($);return j.unshift(_($)),slowcatPrime(...j)}lastOf(b,_){const $=this,j=Array(b-1).fill($);return j.push(_($)),slowcatPrime(...j)}every(b,_){return this.firstOf(b,_)}brak(){return this.when(slowcat$1(!1,!0),b=>fastcat(b,silence$1)._late(.25))}rev(){const b=this,_=function($){const j=$.span,_e=j.begin.sam(),et=j.begin.nextSam(),tt=function(it){const rt=it.withTime(ot=>_e.add(et.sub(ot))),st=rt.begin;return rt.begin=rt.end,rt.end=st,rt};return b.query($.setSpan(tt(j))).map(it=>it.withSpan(tt))};return new Pattern$3(_).splitQueries()}palindrome(){return this.every(2,rev)}juxBy(b,_){b/=2;const $=function(et,tt,nt){return tt in et?et[tt]:nt},j=this.withValue(et=>Object.assign({},et,{pan:$(et,"pan",.5)-b})),_e=this.withValue(et=>Object.assign({},et,{pan:$(et,"pan",.5)+b}));return stack$1(j,_(_e))}_jux(b){return this.juxBy(1,b)}stack(...b){return stack$1(this,...b)}sequence(...b){return sequence$1(this,...b)}seq(...b){return sequence$1(this,...b)}cat(...b){return cat(this,...b)}fastcat(...b){return fastcat(this,...b)}slowcat(...b){return slowcat$1(this,...b)}superimpose(...b){return this.stack(...b.map(_=>_(this)))}stutWith(b,_,$){return stack$1(...listRange(0,b-1).map(j=>$(this.late(fraction$1(_).mul(j)),j)))}stut(b,_,$){return this.stutWith(b,$,(j,_e)=>j.velocity(Math.pow(_,_e)))}_echoWith(b,_,$){return stack$1(...listRange(0,b-1).map(j=>$(this.late(fraction$1(_).mul(j)),j)))}_echo(b,_,$){return this._echoWith(b,_,(j,_e)=>j.velocity(Math.pow($,_e)))}_iter(b,_=!1){return b=fraction$1(b),slowcat$1(...listRange(0,b.sub(1)).map($=>_?this.late(fraction$1($).div(b)):this.early(fraction$1($).div(b))))}_iterBack(b){return this._iter(b,!0)}_chunk(b,_,$=!1){const j=Array(b-1).fill(!1);j.unshift(!0);const _e=sequence$1(...j)._iter(b,$);return this.when(_e,_)}_chunkBack(b,_){return this._chunk(b,_,!0)}_bypass(b){return b=Boolean(parseInt(b)),b?silence$1:this}_chop(b){const $=Array.from({length:b},(_e,et)=>et).map(_e=>({begin:_e/b,end:(_e+1)/b})),j=function(_e){return sequence$1($.map(et=>Object.assign({},_e,et)))};return this.squeezeBind(j)}_striate(b){const $=Array.from({length:b},(_e,et)=>et).map(_e=>({begin:_e/b,end:(_e+1)/b})),j=slowcat$1(...$);return this.set(j)._fast(b)}_loopAt(b,_=1){return this.speed(1/b*_).unit("c").slow(b)}_color(b){return this.withContext(_=>({..._,color:b}))}log(){return this.withHap(b=>{var _;return b.setContext({...b.context,logs:(((_=b.context)==null?void 0:_.logs)||[]).concat([b.show()])})})}_velocity(b){return this.withContext(_=>({..._,velocity:(_.velocity||1)*b}))}onTrigger(b,_=!0){return this.withHap($=>$.setContext({...$.context,onTrigger:(...j)=>{!_&&$.context.onTrigger&&$.context.onTrigger(...j),b(...j)},dominantTrigger:_}))}log(b=(_,$)=>`[hap] ${$.showWhole(!0)}`){return this.onTrigger((..._)=>logger(b(..._)),!1)}logValues(b=id$1){return this.log((_,$)=>b($.value))}drawLine(){return console.log(drawLine(this)),this}hush(){return silence$1}_duration(b){return this.withHapSpan(_=>new TimeSpan$1(_.begin,_.begin.add(b)))}_legato(b){return this.withHapSpan(_=>new TimeSpan$1(_.begin,_.begin.add(_.end.sub(_.begin).mul(b))))}}function _composeOp(k,b,_){function $(j){return j instanceof Object&&!(j instanceof Function)}return $(k)||$(b)?($(k)||(k={value:k}),$(b)||(b={value:b}),unionWithObj(k,b,_)):_(k,b)}(function(){const k={set:[(_,$)=>$],keep:[(_,$)=>_],keepif:[(_,$)=>$?_:void 0],add:[numeralArgs((_,$)=>_+$)],sub:[numeralArgs((_,$)=>_-$)],mul:[numeralArgs((_,$)=>_*$)],div:[numeralArgs((_,$)=>_/$)],mod:[numeralArgs(mod$1)],pow:[numeralArgs(Math.pow)],_and:[numeralArgs((_,$)=>_&$)],_or:[numeralArgs((_,$)=>_|$)],_xor:[numeralArgs((_,$)=>_^$)],_lshift:[numeralArgs((_,$)=>_<<$)],_rshift:[numeralArgs((_,$)=>_>>$)],lt:[(_,$)=>_<$],gt:[(_,$)=>_>$],lte:[(_,$)=>_<=$],gte:[(_,$)=>_>=$],eq:[(_,$)=>_==$],eqt:[(_,$)=>_===$],ne:[(_,$)=>_!=$],net:[(_,$)=>_!==$],and:[(_,$)=>_&&$],or:[(_,$)=>_||$],func:[(_,$)=>$(_)]},b=["In","Out","Mix","Squeeze","SqueezeOut","Trig","Trigzero"];for(const[_,[$,j]]of Object.entries(k))for(const _e of b)Pattern$3.prototype[_+_e]=function(...et){var tt=this;et=sequence$1(et),j&&(tt=j(tt),et=j(et));var nt;return _==="keepif"?(nt=tt["_op"+_e](et,it=>rt=>$(it,rt)),nt=nt.removeUndefineds()):nt=tt["_op"+_e](et,it=>rt=>_composeOp(it,rt,$)),nt},_e==="Squeeze"&&(Pattern$3.prototype[_+"SqueezeIn"]=Pattern$3.prototype[_+_e]),_e==="In"?Object.defineProperty(Pattern$3.prototype,_,{get:function(){const et=this,tt=(...nt)=>et[_+"In"](...nt);for(const nt of b)tt[nt.toLowerCase()]=(...it)=>et[_+nt](...it);return tt}}):_==="set"&&(Pattern$3.prototype[_e.toLowerCase()]=Pattern$3.prototype[_+_e]);Pattern$3.prototype.struct=Pattern$3.prototype.keepifOut,Pattern$3.prototype.structAll=Pattern$3.prototype.keepOut,Pattern$3.prototype.mask=Pattern$3.prototype.keepifIn,Pattern$3.prototype.maskAll=Pattern$3.prototype.keepIn,Pattern$3.prototype.reset=Pattern$3.prototype.keepifTrig,Pattern$3.prototype.resetAll=Pattern$3.prototype.keepTrig,Pattern$3.prototype.restart=Pattern$3.prototype.keepifTrigzero,Pattern$3.prototype.restartAll=Pattern$3.prototype.keepTrigzero})();Pattern$3.prototype.patternified=["apply","chop","color","cpm","duration","early","fast","iter","iterBack","jux","late","legato","linger","ply","segment","striate","slow","velocity"];const polyrhythm=stack$1,pr=stack$1;Pattern$3.prototype.factories={pure:pure$1,stack:stack$1,slowcat:slowcat$1,fastcat,cat,timeCat:timeCat$1,sequence:sequence$1,seq,polymeter,pm,polyrhythm,pr};const silence$1=new Pattern$3(k=>[]);function pure$1(k){function b(_){return _.span.spanCycles.map($=>new Hap(fraction$1($.begin).wholeCycle(),$,k))}return new Pattern$3(b)}function isPattern(k){const b=k instanceof Pattern$3||(k==null?void 0:k._Pattern);return!k instanceof Pattern$3&&console.warn(`Found Pattern that fails "instanceof Pattern" check.
      This may happen if you are using multiple versions of @strudel.cycles/core. 
      Please check by running "npm ls @strudel.cycles/core".`),b}function reify$2(k){return isPattern(k)?k:stringParser&&typeof k=="string"?stringParser(k):pure$1(k)}function stack$1(...k){k=k.map(_=>Array.isArray(_)?sequence$1(..._):reify$2(_));const b=_=>flatten$1(k.map($=>$.query(_)));return new Pattern$3(b)}function slowcat$1(...k){k=k.map(_=>Array.isArray(_)?sequence$1(..._):reify$2(_));const b=function(_){const $=_.span,j=mod$1($.begin.sam(),k.length),_e=k[j];if(!_e)return[];const et=$.begin.floor().sub($.begin.div(k.length).floor());return _e.withHapTime(tt=>tt.add(et)).query(_.setSpan($.withTime(tt=>tt.sub(et))))};return new Pattern$3(b).splitQueries()}function slowcatPrime(...k){k=k.map(reify$2);const b=function(_){const $=Math.floor(_.span.begin)%k.length,j=k[$];return(j==null?void 0:j.query(_))||[]};return new Pattern$3(b).splitQueries()}function fastcat(...k){return slowcat$1(...k)._fast(k.length)}function cat(...k){return slowcat$1(...k)}function timeCat$1(...k){const b=k.map(j=>j[0]).reduce((j,_e)=>j.add(_e),fraction$1(0));let _=fraction$1(0);const $=[];for(const[j,_e]of k){const et=_.add(j);$.push(reify$2(_e)._compress(_.div(b),et.div(b))),_=et}return stack$1(...$)}function sequence$1(...k){return fastcat(...k)}function seq(...k){return fastcat(...k)}function _sequenceCount(k){return Array.isArray(k)?k.length==0?[silence$1,0]:k.length==1?_sequenceCount(k[0]):[fastcat(...k.map(b=>_sequenceCount(b)[0])),k.length]:[reify$2(k),1]}function polymeterSteps(k,...b){const _=b.map(j=>_sequenceCount(j));if(_.length==0)return silence$1;k==0&&(k=_[0][1]);const $=[];for(const j of _)j[1]==0&&next,k==j[1]?$.push(j[0]):$.push(j[0]._fast(fraction$1(k).div(fraction$1(j[1]))));return stack$1(...$)}function polymeter(...k){return polymeterSteps(0,...k)}function pm(...k){polymeter(...k)}const add$5=curry((k,b)=>b.add(k)),chop=curry((k,b)=>b.chop(k)),chunk=curry((k,b)=>b.chunk(k)),chunkBack=curry((k,b)=>b.chunkBack(k)),div=curry((k,b)=>b.div(k)),early=curry((k,b)=>b.early(k)),echo=curry((k,b,_,$)=>$.echo(k,b,_)),every=curry((k,b,_)=>_.every(k,b)),fast=curry((k,b)=>b.fast(k)),inv=k=>k.inv(),invert$1=k=>k.invert(),iter=curry((k,b)=>b.iter(k)),iterBack=curry((k,b)=>b.iterBack(k)),jux=curry((k,b)=>b.jux(k)),juxBy=curry((k,b,_)=>_.juxBy(k,b)),late=curry((k,b)=>b.late(k)),linger=curry((k,b)=>b.linger(k)),mask=curry((k,b)=>b.mask(k)),mul=curry((k,b)=>b.mul(k)),off=curry((k,b,_)=>_.off(k,b)),ply=curry((k,b)=>b.ply(k)),range$2=curry((k,b,_)=>_.range(k,b)),rangex=curry((k,b,_)=>_.rangex(k,b)),range2=curry((k,b,_)=>_.range2(k,b)),rev=k=>k.rev(),slow=curry((k,b)=>b.slow(k)),struct=curry((k,b)=>b.struct(k)),sub=curry((k,b)=>b.sub(k)),superimpose=curry((k,b)=>b.superimpose(...k)),set=curry((k,b)=>b.set(k)),when=curry((k,b,_)=>_.when(k,b));Pattern$3.prototype.composable={fast,slow,early,late,superimpose};function makeComposable(k){return Object.entries(Pattern$3.prototype.composable).forEach(([b,_])=>{k[b]=(...$)=>{const j=compose(k,_(...$));return makeComposable(j)}}),k}const patternify2=k=>(b,_,$)=>b.fmap(j=>_e=>k.call($,j,_e)).appLeft(_).innerJoin(),patternify3=k=>(b,_,$,j)=>b.fmap(_e=>et=>tt=>k.call(j,_e,et,tt)).appLeft(_).appLeft($).innerJoin(),patternify4=k=>(b,_,$,j,_e)=>b.fmap(et=>tt=>nt=>it=>k.call(_e,et,tt,nt,it)).appLeft(_).appLeft($).appLeft(j).innerJoin();Pattern$3.prototype.echo=function(...k){return k=k.map(reify$2),patternify3(Pattern$3.prototype._echo)(...k,this)};Pattern$3.prototype.echoWith=function(...k){return k=k.map(reify$2),patternify3(Pattern$3.prototype._echoWith)(...k,this)};Pattern$3.prototype.chunk=function(...k){return k=k.map(reify$2),patternify2(Pattern$3.prototype._chunk)(...k,this)};Pattern$3.prototype.chunkBack=function(...k){return k=k.map(reify$2),patternify2(Pattern$3.prototype._chunkBack)(...k,this)};Pattern$3.prototype.loopAt=function(...k){return k=k.map(reify$2),patternify2(Pattern$3.prototype._loopAt)(...k,this)};Pattern$3.prototype.zoom=function(...k){return k=k.map(reify$2),patternify2(Pattern$3.prototype._zoom)(...k,this)};Pattern$3.prototype.compress=function(...k){return k=k.map(reify$2),patternify2(Pattern$3.prototype._compress)(...k,this)};Pattern$3.prototype.outside=function(...k){return k=k.map(reify$2),patternify2(Pattern$3.prototype._outside)(...k,this)};Pattern$3.prototype.inside=function(...k){return k=k.map(reify$2),patternify2(Pattern$3.prototype._inside)(...k,this)};Pattern$3.prototype.range=function(...k){return k=k.map(reify$2),patternify2(Pattern$3.prototype._range)(...k,this)};Pattern$3.prototype.rangex=function(...k){return k=k.map(reify$2),patternify2(Pattern$3.prototype._rangex)(...k,this)};Pattern$3.prototype.range2=function(...k){return k=k.map(reify$2),patternify2(Pattern$3.prototype._range2)(...k,this)};Pattern$3.prototype.bootstrap=function(){const k=Object.fromEntries(Object.entries(Pattern$3.prototype.composable).map(([b,_])=>(Pattern$3.prototype[b],[b,curry(_,makeComposable)])));return this.patternified.forEach(b=>{Pattern$3.prototype[b]=function(..._){return this.patternify($=>$.innerJoin(),Pattern$3.prototype["_"+b])(..._)}}),k};Pattern$3.prototype.define=(k,b,_={})=>{_.composable&&(Pattern$3.prototype.composable[k]=b),_.patternified&&(Pattern$3.prototype.patternified=Pattern$3.prototype.patternified.concat([k])),Pattern$3.prototype.bootstrap()};Pattern$3.prototype.define("hush",k=>k.hush(),{patternified:!1,composable:!0});Pattern$3.prototype.define("bypass",k=>k.bypass(on),{patternified:!0,composable:!0});const controls={},generic_params=[["s","s","sound"],["f","n","The note or sample number to choose for a synth or sampleset"],["f","note","The note or pitch to play a sound or synth with"],["f","accelerate","a pattern of numbers that speed up (or slow down) samples while they play."],["f","gain","a pattern of numbers that specify volume. Values less than 1 make the sound quieter. Values greater than 1 make the sound louder. For the linear equivalent, see @amp@."],["f","amp","like @gain@, but linear."],["f","attack","a pattern of numbers to specify the attack time (in seconds) of an envelope applied to each sample."],["f","bank","selects sound bank to use"],["f","decay",""],["f","sustain",""],["f","release","a pattern of numbers to specify the release time (in seconds) of an envelope applied to each sample."],["f","hold","a pattern of numbers to specify the hold time (in seconds) of an envelope applied to each sample. Only takes effect if `attack` and `release` are also specified."],["f","bandf","A pattern of numbers from 0 to 1. Sets the center frequency of the band-pass filter."],["f","bandq","a pattern of anumbers from 0 to 1. Sets the q-factor of the band-pass filter."],["f","begin","a pattern of numbers from 0 to 1. Skips the beginning of each sample, e.g. `0.25` to cut off the first quarter from each sample."],["f","end","the same as `begin`, but cuts the end off samples, shortening them; e.g. `0.75` to cut off the last quarter of each sample."],["f","loop","loops the sample (from `begin` to `end`) the specified number of times."],["f","legato","controls the amount of overlap between two adjacent sounds"],["f","crush","bit crushing, a pattern of numbers from 1 (for drastic reduction in bit-depth) to 16 (for barely no reduction)."],["f","coarse","fake-resampling, a pattern of numbers for lowering the sample rate, i.e. 1 for original 2 for half, 3 for a third and so on."],["i","channel","choose the channel the pattern is sent to in superdirt"],["i","cut","In the style of classic drum-machines, `cut` will stop a playing sample as soon as another samples with in same cutgroup is to be played. An example would be an open hi-hat followed by a closed one, essentially muting the open."],["f","cutoff","a pattern of numbers from 0 to 1. Applies the cutoff frequency of the low-pass filter."],["f","hcutoff","a pattern of numbers from 0 to 1. Applies the cutoff frequency of the high-pass filter. Also has alias @hpf@"],["f","hresonance","a pattern of numbers from 0 to 1. Applies the resonance of the high-pass filter. Has alias @hpq@"],["f","resonance","a pattern of numbers from 0 to 1. Specifies the resonance of the low-pass filter."],["f","djf","DJ filter, below 0.5 is low pass filter, above is high pass filter."],["f","delay","a pattern of numbers from 0 to 1. Sets the level of the delay signal."],["f","delayfeedback","a pattern of numbers from 0 to 1. Sets the amount of delay feedback."],["f","delaytime","a pattern of numbers from 0 to 1. Sets the length of the delay."],["f","lock","A pattern of numbers. Specifies whether delaytime is calculated relative to cps. When set to 1, delaytime is a direct multiple of a cycle."],["f","detune",""],["f","dry","when set to `1` will disable all reverb for this pattern. See `room` and `size` for more information about reverb."],["f","fadeTime","Used when using begin/end or chop/striate and friends, to change the fade out time of the 'grain' envelope."],["f","fadeInTime","As with fadeTime, but controls the fade in time of the grain envelope. Not used if the grain begins at position 0 in the sample."],["f","freq",""],["f","gate",""],["f","leslie",""],["f","lrate",""],["f","lsize",""],["f","degree",""],["f","mtranspose",""],["f","ctranspose",""],["f","harmonic",""],["f","stepsPerOctave",""],["f","octaveR",""],["f","nudge","Nudges events into the future by the specified number of seconds. Negative numbers work up to a point as well (due to internal latency)"],["i","octave",""],["f","offset",""],["i","orbit","a pattern of numbers. An `orbit` is a global parameter context for patterns. Patterns with the same orbit will share hardware output bus offset and global effects, e.g. reverb and delay. The maximum number of orbits is specified in the superdirt startup, numbers higher than maximum will wrap around."],["f","overgain",""],["f","overshape",""],["f","pan","a pattern of numbers between 0 and 1, from left to right (assuming stereo), once round a circle (assuming multichannel)"],["f","panspan","a pattern of numbers between -inf and inf, which controls how much multichannel output is fanned out (negative is backwards ordering)"],["f","pansplay","a pattern of numbers between 0.0 and 1.0, which controls the multichannel spread range (multichannel only)"],["f","panwidth","a pattern of numbers between 0.0 and inf, which controls how much each channel is distributed over neighbours (multichannel only)"],["f","panorient","a pattern of numbers between -1.0 and 1.0, which controls the relative position of the centre pan in a pair of adjacent speakers (multichannel only)"],["f","rate","used in SuperDirt softsynths as a control rate or 'speed'"],["f","slide",""],["f","semitone",""],["f","velocity",""],["f","voice",""],["f","room","a pattern of numbers from 0 to 1. Sets the level of reverb."],["f","size","a pattern of numbers from 0 to 1. Sets the perceptual size (reverb time) of the `room` to be used in reverb."],["f","roomsize","a pattern of numbers from 0 to 1. Sets the perceptual size (reverb time) of the `room` to be used in reverb."],["f","shape","wave shaping distortion, a pattern of numbers from 0 for no distortion up to 1 for loads of distortion."],["f","speed","a pattern of numbers which changes the speed of sample playback, i.e. a cheap way of changing pitch. Negative values will play the sample backwards!"],["s","unit",'used in conjunction with `speed`, accepts values of "r" (rate, default behavior), "c" (cycles), or "s" (seconds). Using `unit "c"` means `speed` will be interpreted in units of cycles, e.g. `speed "1"` means samples will be stretched to fill a cycle. Using `unit "s"` means the playback speed will be adjusted so that the duration is the number of seconds specified by `speed`.'],["f","squiz",""],["f","stutterdepth",""],["f","stuttertime",""],["f","timescale",""],["f","timescalewin",""],["s","vowel","formant filter to make things sound like vowels, a pattern of either `a`, `e`, `i`, `o` or `u`. Use a rest (`~`) for no effect."],["f","waveloss",""],["f","dur",""],["f","expression",""],["f","sustainpedal",""],["f","tremolodepth","Tremolo Audio DSP effect | params are 'tremolorate' and 'tremolodepth'"],["f","tremolorate","Tremolo Audio DSP effect | params are 'tremolorate' and 'tremolodepth'"],["f","phaserdepth","Phaser Audio DSP effect | params are 'phaserrate' and 'phaserdepth'"],["f","phaserrate","Phaser Audio DSP effect | params are 'phaserrate' and 'phaserdepth'"],["f","fshift","frequency shifter"],["f","fshiftnote","frequency shifter"],["f","fshiftphase","frequency shifter"],["f","triode","tube distortion"],["f","krush","shape/bass enhancer"],["f","kcutoff",""],["f","octer","octaver effect"],["f","octersub","octaver effect"],["f","octersubsub","octaver effect"],["f","ring","ring modulation"],["f","ringf","ring modulation"],["f","ringdf","ring modulation"],["f","distort","noisy fuzzy distortion"],["f","freeze","Spectral freeze"],["f","xsdelay",""],["f","tsdelay",""],["f","real","Spectral conform"],["f","imag",""],["f","enhance","Spectral enhance"],["f","partials",""],["f","comb","Spectral comb"],["f","smear","Spectral smear"],["f","scram","Spectral scramble"],["f","binshift","Spectral binshift"],["f","hbrick","High pass sort of spectral filter"],["f","lbrick","Low pass sort of spectral filter"],["f","midichan",""],["f","control",""],["f","ccn",""],["f","ccv",""],["f","polyTouch",""],["f","midibend",""],["f","miditouch",""],["f","ctlNum",""],["f","frameRate",""],["f","frames",""],["f","hours",""],["s","midicmd",""],["f","minutes",""],["f","progNum",""],["f","seconds",""],["f","songPtr",""],["f","uid",""],["f","val",""],["f","cps",""],["f","clip",""]],_name=(k,...b)=>sequence$1(...b).withValue(_=>({[k]:_})),_setter=(k,b)=>function(..._){return _.length?this.set(k(..._)):this.fmap($=>({[b]:$}))};generic_params.forEach(([k,b,_])=>{controls[b]=(...$)=>_name(b,...$),Pattern$3.prototype[b]=_setter(controls[b],b)});controls.createParam=k=>{const b=(..._)=>_name(k,..._);return Pattern$3.prototype[k]=_setter(b,k),(..._)=>_name(k,..._)};controls.createParams=(...k)=>k.reduce((b,_)=>Object.assign(b,{[_]:createParam(_)}),{});function bjorklund(k,b){for(var _=[],$=[],j=[b],_e=k-b,et=0,tt=function(nt){if(nt==-1)_.push(0);else if(nt==-2)_.push(1);else{for(var it=0;it<$[nt];it++)tt(nt-1);j[nt]&&tt(nt-2)}};j[et]>1;)$.push(Math.floor(_e/j[et])),j.push(_e%j[et]),_e=j[et],et++;return $.push(_e),tt(et),_.reverse()}var bjork=function(k,b){return k>b?bjorklund(k,b):bjorklund(b,k)};const euclid=(k,b,_=0)=>{const $=bjork(b,k);return _?rotate$2($,-_):$};Pattern$3.prototype.euclid=function(k,b,_=0){return this.struct(euclid(k,b,_))};Pattern$3.prototype.euclidLegato=function(k,b,_=0){const $=euclid(k,b,_),j=$.indexOf(1),_e=rotate$2($,j).join("").split("1").slice(1).map(et=>[et.length+1,!0]);return this.struct(timeCat$1(..._e)).late(fraction$1(j).div(b))};function steady(k){return new Pattern$3(b=>[new Hap(void 0,b.span,k)])}const signal=k=>{const b=_=>[new Hap(void 0,_.span,k(_.span.midpoint()))];return new Pattern$3(b)},isaw=signal(k=>1-k%1),isaw2=isaw.toBipolar(),saw=signal(k=>k%1),saw2=saw.toBipolar(),sine2=signal(k=>Math.sin(Math.PI*2*k)),sine=sine2.fromBipolar(),cosine=sine._early(fraction$1(1).div(4)),cosine2=sine2._early(fraction$1(1).div(4)),square=signal(k=>Math.floor(k*2%2)),square2=square.toBipolar(),tri=fastcat(isaw,saw),tri2=fastcat(isaw2,saw2),time$1=signal(id$1),xorwise=k=>{const b=k<<13^k,_=b>>17^b;return _<<5^_},_frac=k=>k-Math.trunc(k),timeToIntSeed=k=>xorwise(Math.trunc(_frac(k/300)*536870912)),intSeedToRand=k=>k%536870912/536870912,timeToRand=k=>Math.abs(intSeedToRand(timeToIntSeed(k))),rand=signal(timeToRand),rand2=rand.toBipolar(),_brandBy=k=>rand.fmap(b=>b<k),brandBy=k=>reify$2(k).fmap(_brandBy).innerJoin(),brand=_brandBy(.5),_irand=k=>rand.fmap(b=>Math.trunc(b*k)),irand=k=>reify$2(k).fmap(_irand).innerJoin(),__chooseWith=(k,b)=>(b=b.map(reify$2),b.length==0?silence$1:k.range(0,b.length).fmap(_=>b[Math.floor(_)])),chooseWith=(k,b)=>__chooseWith(k,b).outerJoin(),chooseInWith=(k,b)=>__chooseWith(k,b).innerJoin(),choose=(...k)=>chooseWith(rand,k);Pattern$3.prototype.choose=function(...k){return chooseWith(this,k)};Pattern$3.prototype.choose2=function(...k){return chooseWith(this.fromBipolar(),k)};const chooseCycles=(...k)=>chooseInWith(rand.segment(1),k),randcat=chooseCycles,_wchooseWith=function(k,...b){const _=b.map(tt=>reify$2(tt[0])),$=[];let j=0;for(const tt of b)j+=tt[1],$.push(j);const _e=j,et=function(tt){const nt=tt*_e;return _[$.findIndex(it=>it>nt,$)]};return k.fmap(et)},wchooseWith=(...k)=>_wchooseWith(...k).outerJoin(),wchoose=(...k)=>wchooseWith(rand,...k),wchooseCycles=(...k)=>_wchooseWith(rand,...k).innerJoin(),perlinWith=k=>{const b=k.fmap(Math.floor),_=k.fmap(_e=>Math.floor(_e)+1),$=_e=>6*_e**5-15*_e**4+10*_e**3,j=_e=>et=>tt=>et+$(_e)*(tt-et);return k.sub(b).fmap(j).appBoth(b.fmap(timeToRand)).appBoth(_.fmap(timeToRand))},perlin=perlinWith(time$1.fmap(k=>Number(k)));Pattern$3.prototype._degradeByWith=function(k,b){return this.fmap(_=>$=>_).appLeft(k.filterValues(_=>_>b))};Pattern$3.prototype._degradeBy=function(k){return this._degradeByWith(rand,k)};Pattern$3.prototype.degrade=function(){return this._degradeBy(.5)};Pattern$3.prototype._undegradeBy=function(k){return this._degradeByWith(rand.fmap(b=>1-b),k)};Pattern$3.prototype.undegrade=function(){return this._undegradeBy(.5)};Pattern$3.prototype._sometimesBy=function(k,b){return stack$1(this._degradeBy(k),b(this._undegradeBy(1-k)))};Pattern$3.prototype.sometimesBy=function(k,b){const _=this;return reify$2(k).fmap($=>_._sometimesBy($,b)).innerJoin()};Pattern$3.prototype._sometimesByPre=function(k,b){return stack$1(this._degradeBy(k),b(this).undegradeBy(1-k))};Pattern$3.prototype.sometimesByPre=function(k,b){const _=this;return reify$2(k).fmap($=>_._sometimesByPre($,b)).innerJoin()};Pattern$3.prototype.sometimes=function(k){return this._sometimesBy(.5,k)};Pattern$3.prototype.sometimesPre=function(k){return this._sometimesByPre(.5,k)};Pattern$3.prototype._someCyclesBy=function(k,b){return stack$1(this._degradeByWith(rand._segment(1),k),b(this._degradeByWith(rand.fmap(_=>1-_)._segment(1),1-k)))};Pattern$3.prototype.someCyclesBy=function(k,b){const _=this;return reify$2(k).fmap($=>_._someCyclesBy($,b)).innerJoin()};Pattern$3.prototype.someCycles=function(k){return this._someCyclesBy(.5,k)};Pattern$3.prototype.often=function(k){return this.sometimesBy(.75,k)};Pattern$3.prototype.rarely=function(k){return this.sometimesBy(.25,k)};Pattern$3.prototype.almostNever=function(k){return this.sometimesBy(.1,k)};Pattern$3.prototype.almostAlways=function(k){return this.sometimesBy(.9,k)};Pattern$3.prototype.never=function(k){return this};Pattern$3.prototype.always=function(k){return k(this)};Pattern$3.prototype.patternified.push("degradeBy","undegradeBy");let synth;try{synth=window==null?void 0:window.speechSynthesis}catch{console.warn("cannot use window: not in browser?")}let allVoices=synth==null?void 0:synth.getVoices();function speak(k,b,_){synth.cancel();const $=new SpeechSynthesisUtterance(k);$.lang=b,allVoices=synth.getVoices();const j=allVoices.filter(_e=>_e.lang.includes(b));typeof _=="number"?$.voice=j[_%j.length]:typeof _=="string"&&($.voice=j.find(_e=>_e.name===_e)),speechSynthesis.speak($)}Pattern$3.prototype._speak=function(k,b){return this.onTrigger((_,$)=>{speak($.value,k,b)})};Pattern$3.prototype.speak=function(k,b){return patternify2(Pattern$3.prototype._speak)(reify(k),reify(b),this)};let scoped=!1;const evalScope=async(...k)=>{scoped&&console.warn("evalScope was called more than once."),scoped=!0;const b=await Promise.allSettled(k),_=b.filter($=>$.status==="fulfilled").map($=>$.value);b.forEach(($,j)=>{$.status==="rejected"&&console.warn(`evalScope: module with index ${j} could not be loaded:`,$.reason)}),Object.assign(globalThis,..._,Pattern$3.prototype.bootstrap())};function safeEval(k,b={}){const{wrapExpression:_=!0,wrapAsync:$=!0}=b;_&&(k=`{${k}}`),$&&(k=`(async ()=>${k})()`);const j=`"use strict";return (${k})`;return Function(j)()}const evaluate=async(k,b)=>{scoped||await evalScope(),b&&(k=b(k));let $=await safeEval(k,{wrapExpression:!!b});if(!isPattern($)){console.log("evaluated",$);const j=`got "${typeof $}" instead of pattern`;throw new Error(j+(typeof $=="function"?", did you forget to call a function?":"."))}return{mode:"javascript",pattern:$}};function createClock(k,b,_=.05,$=.1,j=.1){let _e=0,et=0,tt=10**4,nt=.01;const it=pt=>_=pt(_);j=j||$/2;const rt=()=>{const pt=k(),mt=pt+$+j;for(et===0&&(et=pt+nt);et<mt;)et=Math.round(et*tt)/tt,et>=pt&&b(et,_,_e),et<pt&&console.log("TOO LATE",et),et+=_,_e++};let st;const ot=()=>{ut(),rt(),st=setInterval(rt,$*1e3)},ut=()=>st!==void 0&&clearInterval(st);return{setDuration:it,start:ot,stop:()=>{_e=0,et=0,ut()},pause:()=>ut(),duration:_,getPhase:()=>et}}class Cyclist{constructor({interval:b,onTrigger:_,onToggle:$,onError:j,getTime:_e,latency:et=.1}){Zn(this,"worker");Zn(this,"pattern");Zn(this,"started",!1);Zn(this,"cps",1);Zn(this,"getTime");Zn(this,"phase",0);this.getTime=_e,this.onToggle=$,this.latency=et;const tt=nt=>Math.round(nt*1e3)/1e3;this.clock=createClock(_e,(nt,it,rt)=>{rt===0&&(this.origin=nt);const st=tt(nt-this.origin);this.phase=st-et;const ot=tt(st+it),ut=_e();try{this.pattern.queryArc(st,ot).forEach(ft=>{if(ft.part.begin.equals(ft.whole.begin)){const ct=ft.whole.begin+this.origin-ut+et,pt=ft.duration*1;_==null||_(ft,ct,pt)}})}catch(lt){logger(`[cyclist] error: ${lt.message}`),j==null||j(lt)}},b)}getPhase(){return this.getTime()-this.origin-this.latency}setStarted(b){var _;this.started=b,(_=this.onToggle)==null||_.call(this,b)}start(){if(!this.pattern)throw new Error("Scheduler: no pattern set! call .setPattern first.");logger("[cyclist] start"),this.clock.start(),this.setStarted(!0)}pause(){logger("[cyclist] pause"),this.clock.pause(),this.setStarted(!1)}stop(){logger("[cyclist] stop"),this.clock.stop(),this.setStarted(!1)}setPattern(b,_=!1){this.pattern=b,_&&!this.started&&this.start()}setCps(b=1){this.cps=b}log(b,_,$){const j=$.filter(_e=>_e.hasOnset());console.log(`${b.toFixed(4)} - ${_.toFixed(4)} ${Array(j.length).fill("I").join("")}`)}}let time;function getTime(){if(!time)throw new Error("no time set! use setTime to define a time source");return time()}function setTime(k){time=k}function repl({interval:k,defaultOutput:b,onSchedulerError:_,onEvalError:$,beforeEval:j,afterEval:_e,getTime:et,transpiler:tt,onToggle:nt}){const it=new Cyclist({interval:k,onTrigger:async(lt,ft,ct)=>{try{(!lt.context.onTrigger||!lt.context.dominantTrigger)&&await b(lt,ft,ct),lt.context.onTrigger&&await lt.context.onTrigger(et()+ft,lt,et(),1)}catch(pt){logger(`[cyclist] error: ${pt.message}`,"error")}},onError:_,getTime:et,onToggle:nt});return setTime(()=>it.getPhase()),{scheduler:it,evaluate:async(lt,ft=!0)=>{if(!lt)throw new Error("no code to evaluate");try{j({code:lt});const{pattern:ct}=await evaluate(lt,tt);return logger("[eval] code updated"),it.setPattern(ct,ft),_e({code:lt,pattern:ct}),ct}catch(ct){logger(`[eval] error: ${ct.message}`,"error"),$==null||$(ct)}},start:()=>it.start(),stop:()=>it.stop(),pause:()=>it.pause()}}const getDrawContext$1=(k="test-canvas")=>{let b=document.querySelector("#"+k);return b||(b=document.createElement("canvas"),b.id=k,b.width=window.innerWidth,b.height=window.innerHeight,b.style="pointer-events:none;width:100%;height:100%;position:fixed;top:0;left:0;z-index:5",document.body.prepend(b)),b.getContext("2d")};Pattern$3.prototype.draw=function(k,{from:b,to:_,onQuery:$}){window.strudelAnimation&&cancelAnimationFrame(window.strudelAnimation);const j=getDrawContext$1();let _e,et=[];const tt=nt=>{const it=getTime();if(b!==void 0&&_!==void 0){const rt=Math.floor(it);if(_e!==rt){_e=rt;const st=rt+b,ot=rt+_;setTimeout(()=>{et=this.query(new State(new TimeSpan(st,ot))).filter(Boolean).filter(ut=>ut.part.begin.equals(ut.whole.begin)),$==null||$(et)},0)}}k(j,et,it,nt),window.strudelAnimation=requestAnimationFrame(tt)};return requestAnimationFrame(tt),this};const cleanupDraw=(k=!0)=>{const b=getDrawContext$1();k&&b.clearRect(0,0,window.innerWidth,window.innerHeight),window.strudelAnimation&&cancelAnimationFrame(window.strudelAnimation),window.strudelScheduler&&clearInterval(window.strudelScheduler)},scale$1=(k,b,_)=>k*(_-b)+b,getValue=k=>{var _;let b=typeof k.value=="object"?(_=k.value.note)!=null?_:k.value.n:k.value;return typeof b=="string"&&(b=toMidi(b)),b};Pattern$3.prototype.pianoroll=function({cycles:k=4,playhead:b=.5,overscan:_=1,flipTime:$=0,flipValues:j=0,hideNegative:_e=!1,inactive:et="#7491D2",active:tt="#FFCA28",background:nt="transparent",smear:it=0,playheadColor:rt="white",minMidi:st=10,maxMidi:ot=90,autorange:ut=0,timeframe:lt,fold:ft=0,vertical:ct=0}={}){const pt=getDrawContext(),mt=pt.canvas.width,wt=pt.canvas.height;let gt=-k*b,vt=k*(1-b);lt&&(console.warn("timeframe is deprecated! use from/to instead"),gt=0,vt=lt),!ut&&ft&&console.warn("disabling autorange has no effect when fold is enabled");const bt=ct?wt:mt,Ct=ct?mt:wt;let Dt=ct?[bt,0]:[0,bt];const _t=vt-gt,Rt=ct?[0,Ct]:[Ct,0];let jt=ot-st+1,Qt=Ct/jt,Nt=[];return $&&Dt.reverse(),j&&Rt.reverse(),this.draw((Vt,Yt,Wt)=>{Vt.fillStyle=nt,Vt.globalAlpha=1,it||(Vt.clearRect(0,0,mt,wt),Vt.fillRect(0,0,mt,wt));const Jt=Kt=>(!_e||Kt.whole.begin>=0)&&Kt.whole.begin<=Wt+vt&&Kt.whole.end>=Wt+gt;Yt.filter(Jt).forEach(Kt=>{var vn,xn,Rn;const mn=Kt.whole.begin<=Wt&&Kt.whole.end>Wt;Vt.fillStyle=((vn=Kt.context)==null?void 0:vn.color)||et,Vt.strokeStyle=((xn=Kt.context)==null?void 0:xn.color)||tt,Vt.globalAlpha=(Rn=Kt.context.velocity)!=null?Rn:1;const Mt=scale$1((Kt.whole.begin-($?vt:gt))/_t,...Dt);let qt=scale$1(Kt.duration/_t,0,bt);const Ht=getValue(Kt),an=scale$1(ft?Nt.indexOf(Ht)/Nt.length:(Number(Ht)-st)/jt,...Rt);let en=0;const pn=scale$1(Wt/_t,...Dt);let bn;ct?bn=[an+1-(j?Qt:0),bt-pn+Mt+en+1-($?0:qt),Qt-2,qt-2]:bn=[Mt-pn+en+1-($?qt:0),an+1-(j?0:Qt),qt-2,Qt-2],mn?Vt.strokeRect(...bn):Vt.fillRect(...bn)}),Vt.globalAlpha=1;const Ut=scale$1(-gt/_t,...Dt);Vt.strokeStyle=rt,Vt.beginPath(),ct?(Vt.moveTo(0,Ut),Vt.lineTo(Ct,Ut)):(Vt.moveTo(Ut,0),Vt.lineTo(Ut,Ct)),Vt.stroke()},{from:gt-_,to:vt+_,onQuery:Vt=>{const{min:Yt,max:Wt,values:Jt}=Vt.reduce(({min:Ut,max:Kt,values:mn},Mt)=>{const qt=getValue(Mt);return{min:qt<Ut?qt:Ut,max:qt>Kt?qt:Kt,values:mn.includes(qt)?mn:[...mn,qt]}},{min:1/0,max:-1/0,values:[]});ut&&(st=Yt,ot=Wt,jt=ot-st+1),Nt=Jt.sort((Ut,Kt)=>Ut-Kt),Qt=ft?Ct/Nt.length:Ct/jt}}),this};function frame(k){window.strudelAnimation&&cancelAnimationFrame(window.strudelAnimation);const b=_=>{k(_,getTime()),window.strudelAnimation=requestAnimationFrame(b)};requestAnimationFrame(b)}const backgroundImage=function(k,b={}){const _=document.getElementById("code"),$="background-image:url("+k+");background-size:contain;";_.style=$;const{className:j}=_,_e=(nt,it)=>{({style:()=>_.style=$+";"+it,className:()=>_.className=it+" "+j})[nt]()},et=Object.entries(b).filter(([nt,it])=>typeof it=="function");Object.entries(b).filter(([nt,it])=>typeof it=="string").forEach(([nt,it])=>_e(nt,it)),et.length!==0&&frame((nt,it)=>et.forEach(([rt,st])=>{_e(rt,st(it))}))},cleanupUi=()=>{const k=document.getElementById("code");k&&(k.style="",k.className="grow flex text-gray-100 relative overflow-auto cursor-text pb-0")},gist=(route,cache=!0)=>fetch(`https://gist.githubusercontent.com/${route}?cachebust=${cache?"":Date.now()}`).then(k=>k.text()).then(code=>eval(code));logger("\u{1F300} @strudel.cycles/core loaded \u{1F300}");globalThis._strudelLoaded&&console.warn(`@strudel.cycles/core was loaded more than once...
This might happen when you have multiple versions of strudel installed. 
Please check with "npm ls @strudel.cycles/core".`);globalThis._strudelLoaded=!0;const strudel=Object.freeze(Object.defineProperty({__proto__:null,Fraction:fraction$1,controls,drawLine,gist,Hap,setStringParser,Pattern:Pattern$3,polyrhythm,pr,silence:silence$1,pure:pure$1,isPattern,reify:reify$2,stack:stack$1,slowcat:slowcat$1,slowcatPrime,fastcat,cat,timeCat:timeCat$1,sequence:sequence$1,seq,polymeterSteps,polymeter,pm,add:add$5,chop,chunk,chunkBack,div,early,echo,every,fast,inv,invert:invert$1,iter,iterBack,jux,juxBy,late,linger,mask,mul,off,ply,range:range$2,rangex,range2,rev,slow,struct,sub,superimpose,set,when,makeComposable,patternify2,patternify3,patternify4,steady,signal,isaw,isaw2,saw,saw2,sine2,sine,cosine,cosine2,square,square2,tri,tri2,time:time$1,rand,rand2,_brandBy,brandBy,brand,_irand,irand,__chooseWith,chooseWith,chooseInWith,choose,chooseCycles,randcat,wchoose,wchooseCycles,perlinWith,perlin,State:State$1,TimeSpan:TimeSpan$1,isNote,tokenizeNote:tokenizeNote$1,toMidi:toMidi$2,fromMidi:fromMidi$1,getFreq,midi2note,mod:mod$1,getPlayableNoteValue,getFrequency,rotate:rotate$2,pipe,compose,removeUndefineds,flatten:flatten$1,id:id$1,constant,listRange,curry,parseNumeral,mapArgs,numeralArgs,parseFractional,fractionalArgs,evalScope,evaluate,repl,logKey,logger,getTime,setTime,getDrawContext:getDrawContext$1,cleanupDraw,backgroundImage,cleanupUi},Symbol.toStringTag,{value:"Module"}));if(typeof DelayNode<"u"){class k extends DelayNode{constructor(_,$,j,_e){super(_),$=Math.abs($),this.delayTime.value=j;const et=_.createGain();et.gain.value=Math.min(Math.abs(_e),.995),this.feedback=et.gain;const tt=_.createGain();return tt.gain.value=$,this.delayGain=tt,this.connect(et),this.connect(tt),et.connect(this),this.connect=nt=>tt.connect(nt),this}start(_){this.delayGain.gain.setValueAtTime(this.delayGain.gain.value,_+this.delayTime.value)}}AudioContext.prototype.createFeedbackDelay=function(b,_,$){return new k(this,b,_,$)}}typeof AudioContext<"u"&&(AudioContext.prototype.impulseResponse=function(k,b=1){const _=this.sampleRate*k,$=this.createBuffer(b,_,this.sampleRate),j=$.getChannelData(0);for(let _e=0;_e<_;_e++)j[_e]=(2*Math.random()-1)*Math.pow(1-_e/_,k);return $},AudioContext.prototype.createReverb=function(k){const b=this.createConvolver();return b.setDuration=_=>(b.buffer=this.impulseResponse(_),b.duration=k,b),b.setDuration(k),b});const bufferCache={},loadCache={},getCachedBuffer=k=>bufferCache[k];function humanFileSize(k,b){var _=b?1e3:1024;if(k<_)return k+" B";var $=b?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],j=-1;do k/=_,++j;while(k>=_);return k.toFixed(1)+" "+$[j]}const getSampleBufferSource=async(k,b,_,$)=>{let j=0,_e=typeof _=="string"?toMidi(_):_||36;j=_e-36;const et=getAudioContext(),tt=getLoadedSamples();if(!tt)throw new Error("no samples loaded");const nt=tt==null?void 0:tt[k];if(!nt)throw new Error(`sample not found: "${k}"`);if(typeof nt!="object")throw new Error("wrong format for sample bank:",k);let it;if(Array.isArray(nt))it=nt[b%nt.length];else{const ut=ft=>toMidi(ft)-_e,lt=Object.keys(nt).filter(ft=>!ft.startsWith("_")).reduce((ft,ct,pt)=>!ft||Math.abs(ut(ct))<Math.abs(ut(ft))?ct:ft,null);j=-ut(lt),it=nt[lt][b%nt[lt].length]}let rt=await loadBuffer(it,et,k,b);$<0&&(rt=reverseBuffer(rt));const st=et.createBufferSource();st.buffer=rt;const ot=1*Math.pow(2,j/12);return st.playbackRate.value=ot,st},loadBuffer=(k,b,_,$=0)=>{const j=_?`sound "${_}:${$}"`:"sample";if(!loadCache[k]){logger(`[sampler] load ${j}..`,"load-sample",{url:k});const _e=Date.now();loadCache[k]=fetch(k).then(et=>et.arrayBuffer()).then(async et=>{const tt=Date.now()-_e,nt=humanFileSize(et.byteLength);logger(`[sampler] load ${j}... done! loaded ${nt} in ${tt}ms`,"loaded-sample",{url:k});const it=await b.decodeAudioData(et);return bufferCache[k]=it,it})}return loadCache[k]};function reverseBuffer(k){const b=getAudioContext(),_=b.createBuffer(k.numberOfChannels,k.length,b.sampleRate);for(let $=0;$<k.numberOfChannels;$++)_.copyToChannel(k.getChannelData($).slice().reverse(),$,$);return _}const getLoadedBuffer=k=>bufferCache[k];let sampleCache={current:void 0};const samples=async(k,b=k._base||"")=>{if(typeof k=="string"){if(k.startsWith("github:")){const[$,j]=k.split("github:");k=`https://raw.githubusercontent.com/${j}/strudel.json`}if(typeof fetch!="function")return;const _=k.split("/").slice(0,-1).join("/");return typeof fetch>"u"?void 0:fetch(k).then($=>$.json()).then($=>samples($,b||$._base||_)).catch($=>{throw console.error($),new Error(`error loading "${k}"`)})}sampleCache.current={...sampleCache.current,...Object.fromEntries(Object.entries(k).map(([_,$])=>{if(typeof $=="string"&&($=[$]),typeof $!="object")throw new Error("wrong sample map format for "+_);b=$._base||b;const j=_e=>(b+_e).replace("github:","https://raw.githubusercontent.com/");return Array.isArray($)?[_,$.map(j)]:[_,Object.fromEntries(Object.entries($).map(([_e,et])=>[_e,(typeof et=="string"?[et]:et).map(j)]))]}))}},resetLoadedSamples=()=>{sampleCache.current=void 0},getLoadedSamples=()=>sampleCache.current;var vowelFormant={a:{freqs:[660,1120,2750,3e3,3350],gains:[1,.5012,.0708,.0631,.0126],qs:[80,90,120,130,140]},e:{freqs:[440,1800,2700,3e3,3300],gains:[1,.1995,.1259,.1,.1],qs:[70,80,100,120,120]},i:{freqs:[270,1850,2900,3350,3590],gains:[1,.0631,.0631,.0158,.0158],qs:[40,90,100,120,120]},o:{freqs:[430,820,2700,3e3,3300],gains:[1,.3162,.0501,.0794,.01995],qs:[40,80,100,120,120]},u:{freqs:[370,630,2750,3e3,3400],gains:[1,.1,.0708,.0316,.01995],qs:[40,60,100,120,120]}};if(typeof GainNode<"u"){class k extends GainNode{constructor(_,$){if(super(_),!vowelFormant[$])throw new Error("vowel: unknown vowel "+$);const{gains:j,qs:_e,freqs:et}=vowelFormant[$],tt=_.createGain();for(let nt=0;nt<5;nt++){const it=_.createGain();it.gain.value=j[nt];const rt=_.createBiquadFilter();rt.type="bandpass",rt.Q.value=_e[nt],rt.frequency.value=et[nt],this.connect(rt),rt.connect(it),it.connect(tt)}return tt.gain.value=8,this.connect=nt=>tt.connect(nt),this}}AudioContext.prototype.createVowelFilter=function(b){return new k(this,b)}}const workletsUrl="data:application/javascript;base64,Ly8gTElDRU5TRSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSB2My4wIHNlZSBodHRwczovL2dpdGh1Yi5jb20vZGt0cjAvV2ViRGlydC9ibG9iL21haW4vTElDRU5TRQovLyBhbGwgdGhlIGNyZWRpdCBnb2VzIHRvIGRrdHIwJ3Mgd2ViZGlydDogaHR0cHM6Ly9naXRodWIuY29tL2RrdHIwL1dlYkRpcnQvYmxvYi81Y2UzZDY5ODM2MmM1NGQ2ZTFiNjhhY2M0N2ViMjk1NWFjNjJjNzkzL2Rpc3QvQXVkaW9Xb3JrbGV0cy5qcwovLyA8MwoKY2xhc3MgQ29hcnNlUHJvY2Vzc29yIGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29yIHsKICBzdGF0aWMgZ2V0IHBhcmFtZXRlckRlc2NyaXB0b3JzKCkgewogICAgcmV0dXJuIFt7IG5hbWU6ICdjb2Fyc2UnLCBkZWZhdWx0VmFsdWU6IDEgfV07CiAgfQoKICBjb25zdHJ1Y3RvcigpIHsKICAgIHN1cGVyKCk7CiAgICB0aGlzLm5vdFN0YXJ0ZWQgPSB0cnVlOwogIH0KCiAgcHJvY2VzcyhpbnB1dHMsIG91dHB1dHMsIHBhcmFtZXRlcnMpIHsKICAgIGNvbnN0IGlucHV0ID0gaW5wdXRzWzBdOwogICAgY29uc3Qgb3V0cHV0ID0gb3V0cHV0c1swXTsKICAgIGNvbnN0IGNvYXJzZSA9IHBhcmFtZXRlcnMuY29hcnNlOwogICAgY29uc3QgYmxvY2tTaXplID0gMTI4OwogICAgY29uc3QgaGFzSW5wdXQgPSAhKGlucHV0WzBdID09PSB1bmRlZmluZWQpOwogICAgaWYgKGhhc0lucHV0KSB7CiAgICAgIHRoaXMubm90U3RhcnRlZCA9IGZhbHNlOwogICAgICBvdXRwdXRbMF1bMF0gPSBpbnB1dFswXVswXTsKICAgICAgZm9yIChsZXQgbiA9IDE7IG4gPCBibG9ja1NpemU7IG4rKykgewogICAgICAgIGZvciAobGV0IG8gPSAwOyBvIDwgb3V0cHV0Lmxlbmd0aDsgbysrKSB7CiAgICAgICAgICBvdXRwdXRbb11bbl0gPSBuICUgY29hcnNlID09IDAgPyBpbnB1dFswXVtuXSA6IG91dHB1dFtvXVtuIC0gMV07CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICByZXR1cm4gdGhpcy5ub3RTdGFydGVkIHx8IGhhc0lucHV0OwogIH0KfQoKcmVnaXN0ZXJQcm9jZXNzb3IoJ2NvYXJzZS1wcm9jZXNzb3InLCBDb2Fyc2VQcm9jZXNzb3IpOwoKY2xhc3MgQ3J1c2hQcm9jZXNzb3IgZXh0ZW5kcyBBdWRpb1dvcmtsZXRQcm9jZXNzb3IgewogIHN0YXRpYyBnZXQgcGFyYW1ldGVyRGVzY3JpcHRvcnMoKSB7CiAgICByZXR1cm4gW3sgbmFtZTogJ2NydXNoJywgZGVmYXVsdFZhbHVlOiAwIH1dOwogIH0KCiAgY29uc3RydWN0b3IoKSB7CiAgICBzdXBlcigpOwogICAgdGhpcy5ub3RTdGFydGVkID0gdHJ1ZTsKICB9CgogIHByb2Nlc3MoaW5wdXRzLCBvdXRwdXRzLCBwYXJhbWV0ZXJzKSB7CiAgICBjb25zdCBpbnB1dCA9IGlucHV0c1swXTsKICAgIGNvbnN0IG91dHB1dCA9IG91dHB1dHNbMF07CiAgICBjb25zdCBjcnVzaCA9IHBhcmFtZXRlcnMuY3J1c2g7CiAgICBjb25zdCBibG9ja1NpemUgPSAxMjg7CiAgICBjb25zdCBoYXNJbnB1dCA9ICEoaW5wdXRbMF0gPT09IHVuZGVmaW5lZCk7CiAgICBpZiAoaGFzSW5wdXQpIHsKICAgICAgdGhpcy5ub3RTdGFydGVkID0gZmFsc2U7CiAgICAgIGlmIChjcnVzaC5sZW5ndGggPT09IDEpIHsKICAgICAgICBjb25zdCB4ID0gTWF0aC5wb3coMiwgY3J1c2hbMF0gLSAxKTsKICAgICAgICBmb3IgKGxldCBuID0gMDsgbiA8IGJsb2NrU2l6ZTsgbisrKSB7CiAgICAgICAgICBjb25zdCB2YWx1ZSA9IE1hdGgucm91bmQoaW5wdXRbMF1bbl0gKiB4KSAvIHg7CiAgICAgICAgICBmb3IgKGxldCBvID0gMDsgbyA8IG91dHB1dC5sZW5ndGg7IG8rKykgewogICAgICAgICAgICBvdXRwdXRbb11bbl0gPSB2YWx1ZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZm9yIChsZXQgbiA9IDA7IG4gPCBibG9ja1NpemU7IG4rKykgewogICAgICAgICAgbGV0IHggPSBNYXRoLnBvdygyLCBjcnVzaFtuXSAtIDEpOwogICAgICAgICAgY29uc3QgdmFsdWUgPSBNYXRoLnJvdW5kKGlucHV0WzBdW25dICogeCkgLyB4OwogICAgICAgICAgZm9yIChsZXQgbyA9IDA7IG8gPCBvdXRwdXQubGVuZ3RoOyBvKyspIHsKICAgICAgICAgICAgb3V0cHV0W29dW25dID0gdmFsdWU7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICByZXR1cm4gdGhpcy5ub3RTdGFydGVkIHx8IGhhc0lucHV0OwogIH0KfQpyZWdpc3RlclByb2Nlc3NvcignY3J1c2gtcHJvY2Vzc29yJywgQ3J1c2hQcm9jZXNzb3IpOwoKY2xhc3MgU2hhcGVQcm9jZXNzb3IgZXh0ZW5kcyBBdWRpb1dvcmtsZXRQcm9jZXNzb3IgewogIHN0YXRpYyBnZXQgcGFyYW1ldGVyRGVzY3JpcHRvcnMoKSB7CiAgICByZXR1cm4gW3sgbmFtZTogJ3NoYXBlJywgZGVmYXVsdFZhbHVlOiAwIH1dOwogIH0KCiAgY29uc3RydWN0b3IoKSB7CiAgICBzdXBlcigpOwogICAgdGhpcy5ub3RTdGFydGVkID0gdHJ1ZTsKICB9CgogIHByb2Nlc3MoaW5wdXRzLCBvdXRwdXRzLCBwYXJhbWV0ZXJzKSB7CiAgICBjb25zdCBpbnB1dCA9IGlucHV0c1swXTsKICAgIGNvbnN0IG91dHB1dCA9IG91dHB1dHNbMF07CiAgICBjb25zdCBzaGFwZTAgPSBwYXJhbWV0ZXJzLnNoYXBlWzBdOwogICAgY29uc3Qgc2hhcGUxID0gc2hhcGUwIDwgMSA/IHNoYXBlMCA6IDEuMCAtIDRlLTEwOwogICAgY29uc3Qgc2hhcGUgPSAoMi4wICogc2hhcGUxKSAvICgxLjAgLSBzaGFwZTEpOwogICAgY29uc3QgYmxvY2tTaXplID0gMTI4OwogICAgY29uc3QgaGFzSW5wdXQgPSAhKGlucHV0WzBdID09PSB1bmRlZmluZWQpOwogICAgaWYgKGhhc0lucHV0KSB7CiAgICAgIHRoaXMubm90U3RhcnRlZCA9IGZhbHNlOwogICAgICBmb3IgKGxldCBuID0gMDsgbiA8IGJsb2NrU2l6ZTsgbisrKSB7CiAgICAgICAgY29uc3QgdmFsdWUgPSAoKDEgKyBzaGFwZSkgKiBpbnB1dFswXVtuXSkgLyAoMSArIHNoYXBlICogTWF0aC5hYnMoaW5wdXRbMF1bbl0pKTsKICAgICAgICBmb3IgKGxldCBvID0gMDsgbyA8IG91dHB1dC5sZW5ndGg7IG8rKykgewogICAgICAgICAgb3V0cHV0W29dW25dID0gdmFsdWU7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICByZXR1cm4gdGhpcy5ub3RTdGFydGVkIHx8IGhhc0lucHV0OwogIH0KfQoKcmVnaXN0ZXJQcm9jZXNzb3IoJ3NoYXBlLXByb2Nlc3NvcicsIFNoYXBlUHJvY2Vzc29yKTsK",{Pattern:Pattern$2}=strudel;let audioContext;const getAudioContext$1=()=>(audioContext||(audioContext=new AudioContext),audioContext);let destination;const getDestination=()=>{const k=getAudioContext$1();return destination||(destination=k.createGain(),destination.connect(k.destination)),destination},panic=()=>{getDestination().gain.linearRampToValueAtTime(0,getAudioContext$1().currentTime+.01),destination=null},getFilter=(k,b,_)=>{const $=getAudioContext$1().createBiquadFilter();return $.type=k,$.frequency.value=b,$.Q.value=_,$},getADSR=(k,b,_,$,j,_e,et)=>{const tt=getAudioContext$1().createGain();return tt.gain.setValueAtTime(0,_e),tt.gain.linearRampToValueAtTime(j,_e+k),tt.gain.linearRampToValueAtTime(_*j,_e+k+b),tt.gain.setValueAtTime(_*j,et),tt.gain.linearRampToValueAtTime(0,et+$),tt},getOscillator=({s:k,freq:b,t:_,duration:$,release:j})=>{const _e=getAudioContext$1().createOscillator();return _e.type=k||"triangle",_e.frequency.value=Number(b),_e.start(_),_e.stop(_+$+j),_e},getSoundfontKey=k=>{var $,j,_e,et;if(!globalThis.soundfontList)return!1;if((j=($=globalThis.soundfontList)==null?void 0:$.instruments)!=null&&j.includes(k))return k;const b=(et=(_e=globalThis.soundfontList)==null?void 0:_e.instrumentNames)==null?void 0:et.indexOf(k),_=b<10?`00${b}`:b<100?`0${b}`:b;if(b!==-1)return globalThis.soundfontList.instruments.find(tt=>tt.startsWith(_))},splitSN=(k,b)=>{if(!k.includes(":"))return[k,b];let[_,$]=k.split(":");return isNaN(Number($))?[k,b]:[_,$]};let workletsLoading;function loadWorklets(){return workletsLoading||(workletsLoading=getAudioContext$1().audioWorklet.addModule(workletsUrl),workletsLoading)}function getWorklet(k,b,_){const $=new AudioWorkletNode(k,b);return Object.entries(_).forEach(([j,_e])=>{$.parameters.get(j).value=_e}),$}function initAudio(){if(typeof window<"u")try{getAudioContext$1().resume(),loadWorklets()}catch(k){console.warn("could not load AudioWorklet effects coarse, crush and shape",k)}}function initAudioOnFirstClick(){document.addEventListener("click",function k(){initAudio(),document.removeEventListener("click",k)})}function gainNode(k){const b=getAudioContext$1().createGain();return b.gain.value=k,b}const cutGroups=[];let delays={};function getDelay(k,b,_,$){var j;if(!delays[k]){const et=getAudioContext$1().createFeedbackDelay(1,b,_);(j=et.start)==null||j.call(et,$),et.connect(getDestination()),delays[k]=et}return delays[k].delayTime.value!==b&&delays[k].delayTime.setValueAtTime(b,$),delays[k].feedback.value!==_&&delays[k].feedback.setValueAtTime(_,$),delays[k]}let reverbs={};function getReverb(k,b=2){if(!reverbs[k]){const $=getAudioContext$1().createReverb(b);$.connect(getDestination()),reverbs[k]=$}return reverbs[k].duration!==b&&(reverbs[k]=reverbs[k].setDuration(b),reverbs[k].duration=b),reverbs[k]}function effectSend(k,b,_){const $=gainNode(_);return k.connect($),$.connect(b),$}const webaudioOutput=async(k,b,_)=>{var bn;const $=getAudioContext$1();if(typeof k.value!="object")throw new Error(`hap.value ${k.value} is not supported by webaudio output. Hint: append .note() or .s() to the end`);let j=$.currentTime+b,{freq:_e,s:et,bank:tt,sf:nt,clip:it=0,n:rt=0,note:st,gain:ot=.8,cutoff:ut,resonance:lt=1,hcutoff:ft,hresonance:ct=1,bandf:pt,bandq:mt=1,coarse:wt,crush:gt,shape:vt,pan:bt,speed:Ct=1,begin:Dt=0,end:_t=1,vowel:Rt,delay:jt=0,delayfeedback:Qt=.5,delaytime:Nt=.25,unit:Vt,nudge:Yt=0,cut:Wt,loop:Jt,orbit:Ut=1,room:Kt,size:mn=2,roomsize:Mt=mn}=k.value;const{velocity:qt=1}=k.context;ot*=qt;const Ht=[];if(tt&&et&&(et=`${tt}_${et}`),typeof et=="string"&&([et,rt]=splitSN(et,rt)),typeof st=="string"&&([st,rt]=splitSN(st,rt)),!et||["sine","square","triangle","sawtooth"].includes(et)){const{attack:vn=.001,decay:xn=.05,sustain:Rn=.6,release:_n=.01}=k.value;rt=st||rt||36,typeof rt=="string"&&(rt=toMidi$2(rt)),!_e&&typeof rt=="number"&&(_e=fromMidi$1(rt));const Fn=getOscillator({t:j,s:et,freq:_e,duration:_,release:_n});Ht.push(Fn),Ht.push(gainNode(.3));const ln=getADSR(vn,xn,Rn,_n,1,j,j+_);Ht.push(ln)}else{const{attack:vn=.001,decay:xn=.001,sustain:Rn=1,release:_n=.001}=k.value;if(Ct===0)return;if(!et){console.warn("no sample specified");return}const Fn=getSoundfontKey(et);let ln;if(Fn?ln=await globalThis.getFontBufferSource(Fn,st||rt,$):ln=await getSampleBufferSource(et,rt,st,Ct),$.currentTime>j){logger(`[sampler] still loading sound "${et}:${rt}"`,"highlight");return}if(!ln){console.warn("no buffer source");return}ln.playbackRate.value=Math.abs(Ct)*ln.playbackRate.value,Vt==="c"&&(ln.playbackRate.value=ln.playbackRate.value*ln.buffer.duration);let $n=Fn||it?_:ln.buffer.duration/ln.playbackRate.value;const Tn=Dt*$n*ln.playbackRate.value;$n=(_t-Dt)*$n,Jt&&(ln.loop=!0,ln.loopStart=Tn,ln.loopEnd=Tn+$n,$n=Jt*$n),j+=Yt,ln.start(j,Tn),Wt!==void 0&&((bn=cutGroups[Wt])==null||bn.stop(j),cutGroups[Wt]=ln),Ht.push(ln),ln.stop(j+$n+_n);const Un=getADSR(vn,xn,Rn,_n,1,j,j+$n);Ht.push(Un)}if(Ht.push(gainNode(ot)),ut!==void 0&&Ht.push(getFilter("lowpass",ut,lt)),ft!==void 0&&Ht.push(getFilter("highpass",ft,ct)),pt!==void 0&&Ht.push(getFilter("bandpass",pt,mt)),Rt!==void 0&&Ht.push($.createVowelFilter(Rt)),wt!==void 0&&Ht.push(getWorklet($,"coarse-processor",{coarse:wt})),gt!==void 0&&Ht.push(getWorklet($,"crush-processor",{crush:gt})),vt!==void 0&&Ht.push(getWorklet($,"shape-processor",{shape:vt})),bt!==void 0){const vn=$.createStereoPanner();vn.pan.value=2*bt-1,Ht.push(vn)}const an=gainNode(1);Ht.push(an),an.connect(getDestination());let en;if(jt>0&&Nt>0&&Qt>0){const vn=getDelay(Ut,Nt,Qt,j);en=effectSend(an,vn,jt)}let pn;if(Kt>0&&Mt>0){const vn=getReverb(Ut,Mt);pn=effectSend(an,vn,Kt)}Ht.slice(1).reduce((vn,xn)=>vn.connect(xn),Ht[0]),Ht[0].onended=()=>Ht.concat([en,pn]).forEach(vn=>vn==null?void 0:vn.disconnect())},webaudioOutputTrigger=(k,b,_,$)=>webaudioOutput(b,k-_,b.duration/$);Pattern$2.prototype.out=function(){return this.onTrigger(webaudioOutputTrigger)};const index$l=Object.freeze(Object.defineProperty({__proto__:null,getAudioContext:getAudioContext$1,panic,initAudio,initAudioOnFirstClick,webaudioOutput,webaudioOutputTrigger,getCachedBuffer,getSampleBufferSource,loadBuffer,reverseBuffer,getLoadedBuffer,samples,resetLoadedSamples,getLoadedSamples},Symbol.toStringTag,{value:"Module"}));var jsxRuntime={exports:{}},reactJsxRuntime_production_min={};/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=react.exports,g=60103;reactJsxRuntime_production_min.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var h$2=Symbol.for;g=h$2("react.element"),reactJsxRuntime_production_min.Fragment=h$2("react.fragment")}var m=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n$1=Object.prototype.hasOwnProperty,p={key:!0,ref:!0,__self:!0,__source:!0};function q(k,b,_){var $,j={},_e=null,et=null;_!==void 0&&(_e=""+_),b.key!==void 0&&(_e=""+b.key),b.ref!==void 0&&(et=b.ref);for($ in b)n$1.call(b,$)&&!p.hasOwnProperty($)&&(j[$]=b[$]);if(k&&k.defaultProps)for($ in b=k.defaultProps,b)j[$]===void 0&&(j[$]=b[$]);return{$$typeof:g,type:k,key:_e,ref:et,props:j,_owner:m.current}}reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;(function(k){k.exports=reactJsxRuntime_production_min})(jsxRuntime);const Fragment=jsxRuntime.exports.Fragment,jsx=jsxRuntime.exports.jsx,jsxs=jsxRuntime.exports.jsxs;function _defineProperty(k,b,_){return b in k?Object.defineProperty(k,b,{value:_,enumerable:!0,configurable:!0,writable:!0}):k[b]=_,k}function ownKeys(k,b){var _=Object.keys(k);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(k);b&&($=$.filter(function(j){return Object.getOwnPropertyDescriptor(k,j).enumerable})),_.push.apply(_,$)}return _}function _objectSpread2(k){for(var b=1;b<arguments.length;b++){var _=arguments[b]!=null?arguments[b]:{};b%2?ownKeys(Object(_),!0).forEach(function($){_defineProperty(k,$,_[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(k,Object.getOwnPropertyDescriptors(_)):ownKeys(Object(_)).forEach(function($){Object.defineProperty(k,$,Object.getOwnPropertyDescriptor(_,$))})}return k}function _objectWithoutPropertiesLoose$1(k,b){if(k==null)return{};var _={},$=Object.keys(k),j,_e;for(_e=0;_e<$.length;_e++)j=$[_e],!(b.indexOf(j)>=0)&&(_[j]=k[j]);return _}function _objectWithoutProperties(k,b){if(k==null)return{};var _=_objectWithoutPropertiesLoose$1(k,b),$,j;if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(k);for(j=0;j<_e.length;j++)$=_e[j],!(b.indexOf($)>=0)&&(!Object.prototype.propertyIsEnumerable.call(k,$)||(_[$]=k[$]))}return _}var isFunction=function k(b){return typeof b=="function"},MDXContext=React.createContext({}),useMDXComponents=function k(b){var _=React.useContext(MDXContext),$=_;return b&&($=isFunction(b)?b(_):_objectSpread2(_objectSpread2({},_),b)),$},TYPE_PROP_NAME="mdxType",DEFAULTS={inlineCode:"code",wrapper:function k(b){var _=b.children;return jsx(Fragment,{children:_})}},MDXCreateElement=React.forwardRef(function(k,b){var _=k.components,$=k.mdxType,j=k.originalType,_e=k.parentName,et=_objectWithoutProperties(k,["components","mdxType","originalType","parentName"]),tt=useMDXComponents(_),nt=$,it=tt["".concat(_e,".").concat(nt)]||tt[nt]||DEFAULTS[nt]||j;return _?jsx(it,{..._objectSpread2(_objectSpread2({ref:b},et),{},{components:_})}):jsx(it,{..._objectSpread2({ref:b},et)})});MDXCreateElement.displayName="MDXCreateElement";function createElement(k,b){var _=arguments,$=b&&b.mdxType;if(typeof k=="string"||$){var j=_.length,_e=new Array(j);_e[0]=MDXCreateElement;var et={};for(var tt in b)hasOwnProperty.call(b,tt)&&(et[tt]=b[tt]);et.originalType=k,et[TYPE_PROP_NAME]=typeof k=="string"?k:$,_e[1]=et;for(var nt=2;nt<j;nt++)_e[nt]=_[nt];return React.createElement.apply(null,_e)}return React.createElement.apply(null,_)}const scriptRel="modulepreload",assetsURL=function(k){return"/"+k},seen={},__vitePreload=function k(b,_,$){if(!_||_.length===0)return b();const j=document.getElementsByTagName("link");return Promise.all(_.map(_e=>{if(_e=assetsURL(_e),_e in seen)return;seen[_e]=!0;const et=_e.endsWith(".css"),tt=et?'[rel="stylesheet"]':"";if(!!$)for(let rt=j.length-1;rt>=0;rt--){const st=j[rt];if(st.href===_e&&(!et||st.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${_e}"]${tt}`))return;const it=document.createElement("link");if(it.rel=et?"stylesheet":scriptRel,et||(it.as="script",it.crossOrigin=""),it.href=_e,document.head.appendChild(it),et)return new Promise((rt,st)=>{it.addEventListener("load",rt),it.addEventListener("error",()=>st(new Error(`Unable to preload CSS for ${_e}`)))})})).then(()=>b())};function _extends(){return _extends=Object.assign?Object.assign.bind():function(k){for(var b=1;b<arguments.length;b++){var _=arguments[b];for(var $ in _)Object.prototype.hasOwnProperty.call(_,$)&&(k[$]=_[$])}return k},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(k,b){if(k==null)return{};var _={},$=Object.keys(k),j,_e;for(_e=0;_e<$.length;_e++)j=$[_e],!(b.indexOf(j)>=0)&&(_[j]=k[j]);return _}class Text{constructor(){}lineAt(b){if(b<0||b>this.length)throw new RangeError(`Invalid position ${b} in document of length ${this.length}`);return this.lineInner(b,!1,1,0)}line(b){if(b<1||b>this.lines)throw new RangeError(`Invalid line number ${b} in ${this.lines}-line document`);return this.lineInner(b,!0,1,0)}replace(b,_,$){let j=[];return this.decompose(0,b,j,2),$.length&&$.decompose(0,$.length,j,3),this.decompose(_,this.length,j,1),TextNode.from(j,this.length-(_-b)+$.length)}append(b){return this.replace(this.length,this.length,b)}slice(b,_=this.length){let $=[];return this.decompose(b,_,$,0),TextNode.from($,_-b)}eq(b){if(b==this)return!0;if(b.length!=this.length||b.lines!=this.lines)return!1;let _=this.scanIdentical(b,1),$=this.length-this.scanIdentical(b,-1),j=new RawTextCursor(this),_e=new RawTextCursor(b);for(let et=_,tt=_;;){if(j.next(et),_e.next(et),et=0,j.lineBreak!=_e.lineBreak||j.done!=_e.done||j.value!=_e.value)return!1;if(tt+=j.value.length,j.done||tt>=$)return!0}}iter(b=1){return new RawTextCursor(this,b)}iterRange(b,_=this.length){return new PartialTextCursor(this,b,_)}iterLines(b,_){let $;if(b==null)$=this.iter();else{_==null&&(_=this.lines+1);let j=this.line(b).from;$=this.iterRange(j,Math.max(j,_==this.lines+1?this.length:_<=1?0:this.line(_-1).to))}return new LineCursor($)}toString(){return this.sliceString(0)}toJSON(){let b=[];return this.flatten(b),b}static of(b){if(b.length==0)throw new RangeError("A document must have at least one line");return b.length==1&&!b[0]?Text.empty:b.length<=32?new TextLeaf(b):TextNode.from(TextLeaf.split(b,[]))}}class TextLeaf extends Text{constructor(b,_=textLength(b)){super(),this.text=b,this.length=_}get lines(){return this.text.length}get children(){return null}lineInner(b,_,$,j){for(let _e=0;;_e++){let et=this.text[_e],tt=j+et.length;if((_?$:tt)>=b)return new Line(j,tt,$,et);j=tt+1,$++}}decompose(b,_,$,j){let _e=b<=0&&_>=this.length?this:new TextLeaf(sliceText(this.text,b,_),Math.min(_,this.length)-Math.max(0,b));if(j&1){let et=$.pop(),tt=appendText(_e.text,et.text.slice(),0,_e.length);if(tt.length<=32)$.push(new TextLeaf(tt,et.length+_e.length));else{let nt=tt.length>>1;$.push(new TextLeaf(tt.slice(0,nt)),new TextLeaf(tt.slice(nt)))}}else $.push(_e)}replace(b,_,$){if(!($ instanceof TextLeaf))return super.replace(b,_,$);let j=appendText(this.text,appendText($.text,sliceText(this.text,0,b)),_),_e=this.length+$.length-(_-b);return j.length<=32?new TextLeaf(j,_e):TextNode.from(TextLeaf.split(j,[]),_e)}sliceString(b,_=this.length,$=`
`){let j="";for(let _e=0,et=0;_e<=_&&et<this.text.length;et++){let tt=this.text[et],nt=_e+tt.length;_e>b&&et&&(j+=$),b<nt&&_>_e&&(j+=tt.slice(Math.max(0,b-_e),_-_e)),_e=nt+1}return j}flatten(b){for(let _ of this.text)b.push(_)}scanIdentical(){return 0}static split(b,_){let $=[],j=-1;for(let _e of b)$.push(_e),j+=_e.length+1,$.length==32&&(_.push(new TextLeaf($,j)),$=[],j=-1);return j>-1&&_.push(new TextLeaf($,j)),_}}class TextNode extends Text{constructor(b,_){super(),this.children=b,this.length=_,this.lines=0;for(let $ of b)this.lines+=$.lines}lineInner(b,_,$,j){for(let _e=0;;_e++){let et=this.children[_e],tt=j+et.length,nt=$+et.lines-1;if((_?nt:tt)>=b)return et.lineInner(b,_,$,j);j=tt+1,$=nt+1}}decompose(b,_,$,j){for(let _e=0,et=0;et<=_&&_e<this.children.length;_e++){let tt=this.children[_e],nt=et+tt.length;if(b<=nt&&_>=et){let it=j&((et<=b?1:0)|(nt>=_?2:0));et>=b&&nt<=_&&!it?$.push(tt):tt.decompose(b-et,_-et,$,it)}et=nt+1}}replace(b,_,$){if($.lines<this.lines)for(let j=0,_e=0;j<this.children.length;j++){let et=this.children[j],tt=_e+et.length;if(b>=_e&&_<=tt){let nt=et.replace(b-_e,_-_e,$),it=this.lines-et.lines+nt.lines;if(nt.lines<it>>5-1&&nt.lines>it>>5+1){let rt=this.children.slice();return rt[j]=nt,new TextNode(rt,this.length-(_-b)+$.length)}return super.replace(_e,tt,nt)}_e=tt+1}return super.replace(b,_,$)}sliceString(b,_=this.length,$=`
`){let j="";for(let _e=0,et=0;_e<this.children.length&&et<=_;_e++){let tt=this.children[_e],nt=et+tt.length;et>b&&_e&&(j+=$),b<nt&&_>et&&(j+=tt.sliceString(b-et,_-et,$)),et=nt+1}return j}flatten(b){for(let _ of this.children)_.flatten(b)}scanIdentical(b,_){if(!(b instanceof TextNode))return 0;let $=0,[j,_e,et,tt]=_>0?[0,0,this.children.length,b.children.length]:[this.children.length-1,b.children.length-1,-1,-1];for(;;j+=_,_e+=_){if(j==et||_e==tt)return $;let nt=this.children[j],it=b.children[_e];if(nt!=it)return $+nt.scanIdentical(it,_);$+=nt.length+1}}static from(b,_=b.reduce(($,j)=>$+j.length+1,-1)){let $=0;for(let ut of b)$+=ut.lines;if($<32){let ut=[];for(let lt of b)lt.flatten(ut);return new TextLeaf(ut,_)}let j=Math.max(32,$>>5),_e=j<<1,et=j>>1,tt=[],nt=0,it=-1,rt=[];function st(ut){let lt;if(ut.lines>_e&&ut instanceof TextNode)for(let ft of ut.children)st(ft);else ut.lines>et&&(nt>et||!nt)?(ot(),tt.push(ut)):ut instanceof TextLeaf&&nt&&(lt=rt[rt.length-1])instanceof TextLeaf&&ut.lines+lt.lines<=32?(nt+=ut.lines,it+=ut.length+1,rt[rt.length-1]=new TextLeaf(lt.text.concat(ut.text),lt.length+1+ut.length)):(nt+ut.lines>j&&ot(),nt+=ut.lines,it+=ut.length+1,rt.push(ut))}function ot(){nt!=0&&(tt.push(rt.length==1?rt[0]:TextNode.from(rt,it)),it=-1,nt=rt.length=0)}for(let ut of b)st(ut);return ot(),tt.length==1?tt[0]:new TextNode(tt,_)}}Text.empty=new TextLeaf([""],0);function textLength(k){let b=-1;for(let _ of k)b+=_.length+1;return b}function appendText(k,b,_=0,$=1e9){for(let j=0,_e=0,et=!0;_e<k.length&&j<=$;_e++){let tt=k[_e],nt=j+tt.length;nt>=_&&(nt>$&&(tt=tt.slice(0,$-j)),j<_&&(tt=tt.slice(_-j)),et?(b[b.length-1]+=tt,et=!1):b.push(tt)),j=nt+1}return b}function sliceText(k,b,_){return appendText(k,[""],b,_)}class RawTextCursor{constructor(b,_=1){this.dir=_,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[b],this.offsets=[_>0?1:(b instanceof TextLeaf?b.text.length:b.children.length)<<1]}nextInner(b,_){for(this.done=this.lineBreak=!1;;){let $=this.nodes.length-1,j=this.nodes[$],_e=this.offsets[$],et=_e>>1,tt=j instanceof TextLeaf?j.text.length:j.children.length;if(et==(_>0?tt:0)){if($==0)return this.done=!0,this.value="",this;_>0&&this.offsets[$-1]++,this.nodes.pop(),this.offsets.pop()}else if((_e&1)==(_>0?0:1)){if(this.offsets[$]+=_,b==0)return this.lineBreak=!0,this.value=`
`,this;b--}else if(j instanceof TextLeaf){let nt=j.text[et+(_<0?-1:0)];if(this.offsets[$]+=_,nt.length>Math.max(0,b))return this.value=b==0?nt:_>0?nt.slice(b):nt.slice(0,nt.length-b),this;b-=nt.length}else{let nt=j.children[et+(_<0?-1:0)];b>nt.length?(b-=nt.length,this.offsets[$]+=_):(_<0&&this.offsets[$]--,this.nodes.push(nt),this.offsets.push(_>0?1:(nt instanceof TextLeaf?nt.text.length:nt.children.length)<<1))}}}next(b=0){return b<0&&(this.nextInner(-b,-this.dir),b=this.value.length),this.nextInner(b,this.dir)}}class PartialTextCursor{constructor(b,_,$){this.value="",this.done=!1,this.cursor=new RawTextCursor(b,_>$?-1:1),this.pos=_>$?b.length:0,this.from=Math.min(_,$),this.to=Math.max(_,$)}nextInner(b,_){if(_<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;b+=Math.max(0,_<0?this.pos-this.to:this.from-this.pos);let $=_<0?this.pos-this.from:this.to-this.pos;b>$&&(b=$),$-=b;let{value:j}=this.cursor.next(b);return this.pos+=(j.length+b)*_,this.value=j.length<=$?j:_<0?j.slice(j.length-$):j.slice(0,$),this.done=!this.value,this}next(b=0){return b<0?b=Math.max(b,this.from-this.pos):b>0&&(b=Math.min(b,this.to-this.pos)),this.nextInner(b,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class LineCursor{constructor(b){this.inner=b,this.afterBreak=!0,this.value="",this.done=!1}next(b=0){let{done:_,lineBreak:$,value:j}=this.inner.next(b);return _?(this.done=!0,this.value=""):$?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=j,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Text.prototype[Symbol.iterator]=function(){return this.iter()},RawTextCursor.prototype[Symbol.iterator]=PartialTextCursor.prototype[Symbol.iterator]=LineCursor.prototype[Symbol.iterator]=function(){return this});class Line{constructor(b,_,$,j){this.from=b,this.to=_,this.number=$,this.text=j}get length(){return this.to-this.from}}let extend="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(k=>k?parseInt(k,36):1);for(let k=1;k<extend.length;k++)extend[k]+=extend[k-1];function isExtendingChar(k){for(let b=1;b<extend.length;b+=2)if(extend[b]>k)return extend[b-1]<=k;return!1}function isRegionalIndicator(k){return k>=127462&&k<=127487}const ZWJ=8205;function findClusterBreak(k,b,_=!0,$=!0){return(_?nextClusterBreak:prevClusterBreak)(k,b,$)}function nextClusterBreak(k,b,_){if(b==k.length)return b;b&&surrogateLow(k.charCodeAt(b))&&surrogateHigh(k.charCodeAt(b-1))&&b--;let $=codePointAt(k,b);for(b+=codePointSize($);b<k.length;){let j=codePointAt(k,b);if($==ZWJ||j==ZWJ||_&&isExtendingChar(j))b+=codePointSize(j),$=j;else if(isRegionalIndicator(j)){let _e=0,et=b-2;for(;et>=0&&isRegionalIndicator(codePointAt(k,et));)_e++,et-=2;if(_e%2==0)break;b+=2}else break}return b}function prevClusterBreak(k,b,_){for(;b>0;){let $=nextClusterBreak(k,b-2,_);if($<b)return $;b--}return 0}function surrogateLow(k){return k>=56320&&k<57344}function surrogateHigh(k){return k>=55296&&k<56320}function codePointAt(k,b){let _=k.charCodeAt(b);if(!surrogateHigh(_)||b+1==k.length)return _;let $=k.charCodeAt(b+1);return surrogateLow($)?(_-55296<<10)+($-56320)+65536:_}function fromCodePoint(k){return k<=65535?String.fromCharCode(k):(k-=65536,String.fromCharCode((k>>10)+55296,(k&1023)+56320))}function codePointSize(k){return k<65536?1:2}const DefaultSplit=/\r\n?|\n/;var MapMode=function(k){return k[k.Simple=0]="Simple",k[k.TrackDel=1]="TrackDel",k[k.TrackBefore=2]="TrackBefore",k[k.TrackAfter=3]="TrackAfter",k}(MapMode||(MapMode={}));class ChangeDesc{constructor(b){this.sections=b}get length(){let b=0;for(let _=0;_<this.sections.length;_+=2)b+=this.sections[_];return b}get newLength(){let b=0;for(let _=0;_<this.sections.length;_+=2){let $=this.sections[_+1];b+=$<0?this.sections[_]:$}return b}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(b){for(let _=0,$=0,j=0;_<this.sections.length;){let _e=this.sections[_++],et=this.sections[_++];et<0?(b($,j,_e),j+=_e):j+=et,$+=_e}}iterChangedRanges(b,_=!1){iterChanges(this,b,_)}get invertedDesc(){let b=[];for(let _=0;_<this.sections.length;){let $=this.sections[_++],j=this.sections[_++];j<0?b.push($,j):b.push(j,$)}return new ChangeDesc(b)}composeDesc(b){return this.empty?b:b.empty?this:composeSets(this,b)}mapDesc(b,_=!1){return b.empty?this:mapSet(this,b,_)}mapPos(b,_=-1,$=MapMode.Simple){let j=0,_e=0;for(let et=0;et<this.sections.length;){let tt=this.sections[et++],nt=this.sections[et++],it=j+tt;if(nt<0){if(it>b)return _e+(b-j);_e+=tt}else{if($!=MapMode.Simple&&it>=b&&($==MapMode.TrackDel&&j<b&&it>b||$==MapMode.TrackBefore&&j<b||$==MapMode.TrackAfter&&it>b))return null;if(it>b||it==b&&_<0&&!tt)return b==j||_<0?_e:_e+nt;_e+=nt}j=it}if(b>j)throw new RangeError(`Position ${b} is out of range for changeset of length ${j}`);return _e}touchesRange(b,_=b){for(let $=0,j=0;$<this.sections.length&&j<=_;){let _e=this.sections[$++],et=this.sections[$++],tt=j+_e;if(et>=0&&j<=_&&tt>=b)return j<b&&tt>_?"cover":!0;j=tt}return!1}toString(){let b="";for(let _=0;_<this.sections.length;){let $=this.sections[_++],j=this.sections[_++];b+=(b?" ":"")+$+(j>=0?":"+j:"")}return b}toJSON(){return this.sections}static fromJSON(b){if(!Array.isArray(b)||b.length%2||b.some(_=>typeof _!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new ChangeDesc(b)}static create(b){return new ChangeDesc(b)}}class ChangeSet extends ChangeDesc{constructor(b,_){super(b),this.inserted=_}apply(b){if(this.length!=b.length)throw new RangeError("Applying change set to a document with the wrong length");return iterChanges(this,(_,$,j,_e,et)=>b=b.replace(j,j+($-_),et),!1),b}mapDesc(b,_=!1){return mapSet(this,b,_,!0)}invert(b){let _=this.sections.slice(),$=[];for(let j=0,_e=0;j<_.length;j+=2){let et=_[j],tt=_[j+1];if(tt>=0){_[j]=tt,_[j+1]=et;let nt=j>>1;for(;$.length<nt;)$.push(Text.empty);$.push(et?b.slice(_e,_e+et):Text.empty)}_e+=et}return new ChangeSet(_,$)}compose(b){return this.empty?b:b.empty?this:composeSets(this,b,!0)}map(b,_=!1){return b.empty?this:mapSet(this,b,_,!0)}iterChanges(b,_=!1){iterChanges(this,b,_)}get desc(){return ChangeDesc.create(this.sections)}filter(b){let _=[],$=[],j=[],_e=new SectionIter(this);e:for(let et=0,tt=0;;){let nt=et==b.length?1e9:b[et++];for(;tt<nt||tt==nt&&_e.len==0;){if(_e.done)break e;let rt=Math.min(_e.len,nt-tt);addSection(j,rt,-1);let st=_e.ins==-1?-1:_e.off==0?_e.ins:0;addSection(_,rt,st),st>0&&addInsert($,_,_e.text),_e.forward(rt),tt+=rt}let it=b[et++];for(;tt<it;){if(_e.done)break e;let rt=Math.min(_e.len,it-tt);addSection(_,rt,-1),addSection(j,rt,_e.ins==-1?-1:_e.off==0?_e.ins:0),_e.forward(rt),tt+=rt}}return{changes:new ChangeSet(_,$),filtered:ChangeDesc.create(j)}}toJSON(){let b=[];for(let _=0;_<this.sections.length;_+=2){let $=this.sections[_],j=this.sections[_+1];j<0?b.push($):j==0?b.push([$]):b.push([$].concat(this.inserted[_>>1].toJSON()))}return b}static of(b,_,$){let j=[],_e=[],et=0,tt=null;function nt(rt=!1){if(!rt&&!j.length)return;et<_&&addSection(j,_-et,-1);let st=new ChangeSet(j,_e);tt=tt?tt.compose(st.map(tt)):st,j=[],_e=[],et=0}function it(rt){if(Array.isArray(rt))for(let st of rt)it(st);else if(rt instanceof ChangeSet){if(rt.length!=_)throw new RangeError(`Mismatched change set length (got ${rt.length}, expected ${_})`);nt(),tt=tt?tt.compose(rt.map(tt)):rt}else{let{from:st,to:ot=st,insert:ut}=rt;if(st>ot||st<0||ot>_)throw new RangeError(`Invalid change range ${st} to ${ot} (in doc of length ${_})`);let lt=ut?typeof ut=="string"?Text.of(ut.split($||DefaultSplit)):ut:Text.empty,ft=lt.length;if(st==ot&&ft==0)return;st<et&&nt(),st>et&&addSection(j,st-et,-1),addSection(j,ot-st,ft),addInsert(_e,j,lt),et=ot}}return it(b),nt(!tt),tt}static empty(b){return new ChangeSet(b?[b,-1]:[],[])}static fromJSON(b){if(!Array.isArray(b))throw new RangeError("Invalid JSON representation of ChangeSet");let _=[],$=[];for(let j=0;j<b.length;j++){let _e=b[j];if(typeof _e=="number")_.push(_e,-1);else{if(!Array.isArray(_e)||typeof _e[0]!="number"||_e.some((et,tt)=>tt&&typeof et!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(_e.length==1)_.push(_e[0],0);else{for(;$.length<j;)$.push(Text.empty);$[j]=Text.of(_e.slice(1)),_.push(_e[0],$[j].length)}}}return new ChangeSet(_,$)}static createSet(b,_){return new ChangeSet(b,_)}}function addSection(k,b,_,$=!1){if(b==0&&_<=0)return;let j=k.length-2;j>=0&&_<=0&&_==k[j+1]?k[j]+=b:b==0&&k[j]==0?k[j+1]+=_:$?(k[j]+=b,k[j+1]+=_):k.push(b,_)}function addInsert(k,b,_){if(_.length==0)return;let $=b.length-2>>1;if($<k.length)k[k.length-1]=k[k.length-1].append(_);else{for(;k.length<$;)k.push(Text.empty);k.push(_)}}function iterChanges(k,b,_){let $=k.inserted;for(let j=0,_e=0,et=0;et<k.sections.length;){let tt=k.sections[et++],nt=k.sections[et++];if(nt<0)j+=tt,_e+=tt;else{let it=j,rt=_e,st=Text.empty;for(;it+=tt,rt+=nt,nt&&$&&(st=st.append($[et-2>>1])),!(_||et==k.sections.length||k.sections[et+1]<0);)tt=k.sections[et++],nt=k.sections[et++];b(j,it,_e,rt,st),j=it,_e=rt}}}function mapSet(k,b,_,$=!1){let j=[],_e=$?[]:null,et=new SectionIter(k),tt=new SectionIter(b);for(let nt=-1;;)if(et.ins==-1&&tt.ins==-1){let it=Math.min(et.len,tt.len);addSection(j,it,-1),et.forward(it),tt.forward(it)}else if(tt.ins>=0&&(et.ins<0||nt==et.i||et.off==0&&(tt.len<et.len||tt.len==et.len&&!_))){let it=tt.len;for(addSection(j,tt.ins,-1);it;){let rt=Math.min(et.len,it);et.ins>=0&&nt<et.i&&et.len<=rt&&(addSection(j,0,et.ins),_e&&addInsert(_e,j,et.text),nt=et.i),et.forward(rt),it-=rt}tt.next()}else if(et.ins>=0){let it=0,rt=et.len;for(;rt;)if(tt.ins==-1){let st=Math.min(rt,tt.len);it+=st,rt-=st,tt.forward(st)}else if(tt.ins==0&&tt.len<rt)rt-=tt.len,tt.next();else break;addSection(j,it,nt<et.i?et.ins:0),_e&&nt<et.i&&addInsert(_e,j,et.text),nt=et.i,et.forward(et.len-rt)}else{if(et.done&&tt.done)return _e?ChangeSet.createSet(j,_e):ChangeDesc.create(j);throw new Error("Mismatched change set lengths")}}function composeSets(k,b,_=!1){let $=[],j=_?[]:null,_e=new SectionIter(k),et=new SectionIter(b);for(let tt=!1;;){if(_e.done&&et.done)return j?ChangeSet.createSet($,j):ChangeDesc.create($);if(_e.ins==0)addSection($,_e.len,0,tt),_e.next();else if(et.len==0&&!et.done)addSection($,0,et.ins,tt),j&&addInsert(j,$,et.text),et.next();else{if(_e.done||et.done)throw new Error("Mismatched change set lengths");{let nt=Math.min(_e.len2,et.len),it=$.length;if(_e.ins==-1){let rt=et.ins==-1?-1:et.off?0:et.ins;addSection($,nt,rt,tt),j&&rt&&addInsert(j,$,et.text)}else et.ins==-1?(addSection($,_e.off?0:_e.len,nt,tt),j&&addInsert(j,$,_e.textBit(nt))):(addSection($,_e.off?0:_e.len,et.off?0:et.ins,tt),j&&!et.off&&addInsert(j,$,et.text));tt=(_e.ins>nt||et.ins>=0&&et.len>nt)&&(tt||$.length>it),_e.forward2(nt),et.forward(nt)}}}}class SectionIter{constructor(b){this.set=b,this.i=0,this.next()}next(){let{sections:b}=this.set;this.i<b.length?(this.len=b[this.i++],this.ins=b[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:b}=this.set,_=this.i-2>>1;return _>=b.length?Text.empty:b[_]}textBit(b){let{inserted:_}=this.set,$=this.i-2>>1;return $>=_.length&&!b?Text.empty:_[$].slice(this.off,b==null?void 0:this.off+b)}forward(b){b==this.len?this.next():(this.len-=b,this.off+=b)}forward2(b){this.ins==-1?this.forward(b):b==this.ins?this.next():(this.ins-=b,this.off+=b)}}class SelectionRange{constructor(b,_,$){this.from=b,this.to=_,this.flags=$}get anchor(){return this.flags&16?this.to:this.from}get head(){return this.flags&16?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&4?-1:this.flags&8?1:0}get bidiLevel(){let b=this.flags&3;return b==3?null:b}get goalColumn(){let b=this.flags>>5;return b==33554431?void 0:b}map(b,_=-1){let $,j;return this.empty?$=j=b.mapPos(this.from,_):($=b.mapPos(this.from,1),j=b.mapPos(this.to,-1)),$==this.from&&j==this.to?this:new SelectionRange($,j,this.flags)}extend(b,_=b){if(b<=this.anchor&&_>=this.anchor)return EditorSelection.range(b,_);let $=Math.abs(b-this.anchor)>Math.abs(_-this.anchor)?b:_;return EditorSelection.range(this.anchor,$)}eq(b){return this.anchor==b.anchor&&this.head==b.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(b){if(!b||typeof b.anchor!="number"||typeof b.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return EditorSelection.range(b.anchor,b.head)}static create(b,_,$){return new SelectionRange(b,_,$)}}class EditorSelection{constructor(b,_){this.ranges=b,this.mainIndex=_}map(b,_=-1){return b.empty?this:EditorSelection.create(this.ranges.map($=>$.map(b,_)),this.mainIndex)}eq(b){if(this.ranges.length!=b.ranges.length||this.mainIndex!=b.mainIndex)return!1;for(let _=0;_<this.ranges.length;_++)if(!this.ranges[_].eq(b.ranges[_]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new EditorSelection([this.main],0)}addRange(b,_=!0){return EditorSelection.create([b].concat(this.ranges),_?0:this.mainIndex+1)}replaceRange(b,_=this.mainIndex){let $=this.ranges.slice();return $[_]=b,EditorSelection.create($,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(b=>b.toJSON()),main:this.mainIndex}}static fromJSON(b){if(!b||!Array.isArray(b.ranges)||typeof b.main!="number"||b.main>=b.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new EditorSelection(b.ranges.map(_=>SelectionRange.fromJSON(_)),b.main)}static single(b,_=b){return new EditorSelection([EditorSelection.range(b,_)],0)}static create(b,_=0){if(b.length==0)throw new RangeError("A selection needs at least one range");for(let $=0,j=0;j<b.length;j++){let _e=b[j];if(_e.empty?_e.from<=$:_e.from<$)return EditorSelection.normalized(b.slice(),_);$=_e.to}return new EditorSelection(b,_)}static cursor(b,_=0,$,j){return SelectionRange.create(b,b,(_==0?0:_<0?4:8)|($==null?3:Math.min(2,$))|(j!=null?j:33554431)<<5)}static range(b,_,$){let j=($!=null?$:33554431)<<5;return _<b?SelectionRange.create(_,b,16|j|8):SelectionRange.create(b,_,j|(_>b?4:0))}static normalized(b,_=0){let $=b[_];b.sort((j,_e)=>j.from-_e.from),_=b.indexOf($);for(let j=1;j<b.length;j++){let _e=b[j],et=b[j-1];if(_e.empty?_e.from<=et.to:_e.from<et.to){let tt=et.from,nt=Math.max(_e.to,et.to);j<=_&&_--,b.splice(--j,2,_e.anchor>_e.head?EditorSelection.range(nt,tt):EditorSelection.range(tt,nt))}}return new EditorSelection(b,_)}}function checkSelection(k,b){for(let _ of k.ranges)if(_.to>b)throw new RangeError("Selection points outside of document")}let nextID=0;class Facet{constructor(b,_,$,j,_e){this.combine=b,this.compareInput=_,this.compare=$,this.isStatic=j,this.id=nextID++,this.default=b([]),this.extensions=typeof _e=="function"?_e(this):_e}static define(b={}){return new Facet(b.combine||(_=>_),b.compareInput||((_,$)=>_===$),b.compare||(b.combine?(_,$)=>_===$:sameArray$1),!!b.static,b.enables)}of(b){return new FacetProvider([],this,0,b)}compute(b,_){if(this.isStatic)throw new Error("Can't compute a static facet");return new FacetProvider(b,this,1,_)}computeN(b,_){if(this.isStatic)throw new Error("Can't compute a static facet");return new FacetProvider(b,this,2,_)}from(b,_){return _||(_=$=>$),this.compute([b],$=>_($.field(b)))}}function sameArray$1(k,b){return k==b||k.length==b.length&&k.every((_,$)=>_===b[$])}class FacetProvider{constructor(b,_,$,j){this.dependencies=b,this.facet=_,this.type=$,this.value=j,this.id=nextID++}dynamicSlot(b){var _;let $=this.value,j=this.facet.compareInput,_e=this.id,et=b[_e]>>1,tt=this.type==2,nt=!1,it=!1,rt=[];for(let st of this.dependencies)st=="doc"?nt=!0:st=="selection"?it=!0:(((_=b[st.id])!==null&&_!==void 0?_:1)&1)==0&&rt.push(b[st.id]);return{create(st){return st.values[et]=$(st),1},update(st,ot){if(nt&&ot.docChanged||it&&(ot.docChanged||ot.selection)||ensureAll(st,rt)){let ut=$(st);if(tt?!compareArray(ut,st.values[et],j):!j(ut,st.values[et]))return st.values[et]=ut,1}return 0},reconfigure:(st,ot)=>{let ut=$(st),lt=ot.config.address[_e];if(lt!=null){let ft=getAddr(ot,lt);if(this.dependencies.every(ct=>ct instanceof Facet?ot.facet(ct)===st.facet(ct):ct instanceof StateField?ot.field(ct,!1)==st.field(ct,!1):!0)||(tt?compareArray(ut,ft,j):j(ut,ft)))return st.values[et]=ft,0}return st.values[et]=ut,1}}}}function compareArray(k,b,_){if(k.length!=b.length)return!1;for(let $=0;$<k.length;$++)if(!_(k[$],b[$]))return!1;return!0}function ensureAll(k,b){let _=!1;for(let $ of b)ensureAddr(k,$)&1&&(_=!0);return _}function dynamicFacetSlot(k,b,_){let $=_.map(nt=>k[nt.id]),j=_.map(nt=>nt.type),_e=$.filter(nt=>!(nt&1)),et=k[b.id]>>1;function tt(nt){let it=[];for(let rt=0;rt<$.length;rt++){let st=getAddr(nt,$[rt]);if(j[rt]==2)for(let ot of st)it.push(ot);else it.push(st)}return b.combine(it)}return{create(nt){for(let it of $)ensureAddr(nt,it);return nt.values[et]=tt(nt),1},update(nt,it){if(!ensureAll(nt,_e))return 0;let rt=tt(nt);return b.compare(rt,nt.values[et])?0:(nt.values[et]=rt,1)},reconfigure(nt,it){let rt=ensureAll(nt,$),st=it.config.facets[b.id],ot=it.facet(b);if(st&&!rt&&sameArray$1(_,st))return nt.values[et]=ot,0;let ut=tt(nt);return b.compare(ut,ot)?(nt.values[et]=ot,0):(nt.values[et]=ut,1)}}}const initField=Facet.define({static:!0});class StateField{constructor(b,_,$,j,_e){this.id=b,this.createF=_,this.updateF=$,this.compareF=j,this.spec=_e,this.provides=void 0}static define(b){let _=new StateField(nextID++,b.create,b.update,b.compare||(($,j)=>$===j),b);return b.provide&&(_.provides=b.provide(_)),_}create(b){let _=b.facet(initField).find($=>$.field==this);return((_==null?void 0:_.create)||this.createF)(b)}slot(b){let _=b[this.id]>>1;return{create:$=>($.values[_]=this.create($),1),update:($,j)=>{let _e=$.values[_],et=this.updateF(_e,j);return this.compareF(_e,et)?0:($.values[_]=et,1)},reconfigure:($,j)=>j.config.address[this.id]!=null?($.values[_]=j.field(this),0):($.values[_]=this.create($),1)}}init(b){return[this,initField.of({field:this,create:b})]}get extension(){return this}}const Prec_={lowest:4,low:3,default:2,high:1,highest:0};function prec(k){return b=>new PrecExtension(b,k)}const Prec={highest:prec(Prec_.highest),high:prec(Prec_.high),default:prec(Prec_.default),low:prec(Prec_.low),lowest:prec(Prec_.lowest)};class PrecExtension{constructor(b,_){this.inner=b,this.prec=_}}class Compartment{of(b){return new CompartmentInstance(this,b)}reconfigure(b){return Compartment.reconfigure.of({compartment:this,extension:b})}get(b){return b.config.compartments.get(this)}}class CompartmentInstance{constructor(b,_){this.compartment=b,this.inner=_}}class Configuration{constructor(b,_,$,j,_e,et){for(this.base=b,this.compartments=_,this.dynamicSlots=$,this.address=j,this.staticValues=_e,this.facets=et,this.statusTemplate=[];this.statusTemplate.length<$.length;)this.statusTemplate.push(0)}staticFacet(b){let _=this.address[b.id];return _==null?b.default:this.staticValues[_>>1]}static resolve(b,_,$){let j=[],_e=Object.create(null),et=new Map;for(let ot of flatten(b,_,et))ot instanceof StateField?j.push(ot):(_e[ot.facet.id]||(_e[ot.facet.id]=[])).push(ot);let tt=Object.create(null),nt=[],it=[];for(let ot of j)tt[ot.id]=it.length<<1,it.push(ut=>ot.slot(ut));let rt=$==null?void 0:$.config.facets;for(let ot in _e){let ut=_e[ot],lt=ut[0].facet,ft=rt&&rt[ot]||[];if(ut.every(ct=>ct.type==0))if(tt[lt.id]=nt.length<<1|1,sameArray$1(ft,ut))nt.push($.facet(lt));else{let ct=lt.combine(ut.map(pt=>pt.value));nt.push($&&lt.compare(ct,$.facet(lt))?$.facet(lt):ct)}else{for(let ct of ut)ct.type==0?(tt[ct.id]=nt.length<<1|1,nt.push(ct.value)):(tt[ct.id]=it.length<<1,it.push(pt=>ct.dynamicSlot(pt)));tt[lt.id]=it.length<<1,it.push(ct=>dynamicFacetSlot(ct,lt,ut))}}let st=it.map(ot=>ot(tt));return new Configuration(b,et,st,tt,nt,_e)}}function flatten(k,b,_){let $=[[],[],[],[],[]],j=new Map;function _e(et,tt){let nt=j.get(et);if(nt!=null){if(nt<=tt)return;let it=$[nt].indexOf(et);it>-1&&$[nt].splice(it,1),et instanceof CompartmentInstance&&_.delete(et.compartment)}if(j.set(et,tt),Array.isArray(et))for(let it of et)_e(it,tt);else if(et instanceof CompartmentInstance){if(_.has(et.compartment))throw new RangeError("Duplicate use of compartment in extensions");let it=b.get(et.compartment)||et.inner;_.set(et.compartment,it),_e(it,tt)}else if(et instanceof PrecExtension)_e(et.inner,et.prec);else if(et instanceof StateField)$[tt].push(et),et.provides&&_e(et.provides,tt);else if(et instanceof FacetProvider)$[tt].push(et),et.facet.extensions&&_e(et.facet.extensions,Prec_.default);else{let it=et.extension;if(!it)throw new Error(`Unrecognized extension value in extension set (${et}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);_e(it,tt)}}return _e(k,Prec_.default),$.reduce((et,tt)=>et.concat(tt))}function ensureAddr(k,b){if(b&1)return 2;let _=b>>1,$=k.status[_];if($==4)throw new Error("Cyclic dependency between fields and/or facets");if($&2)return $;k.status[_]=4;let j=k.computeSlot(k,k.config.dynamicSlots[_]);return k.status[_]=2|j}function getAddr(k,b){return b&1?k.config.staticValues[b>>1]:k.values[b>>1]}const languageData=Facet.define(),allowMultipleSelections=Facet.define({combine:k=>k.some(b=>b),static:!0}),lineSeparator=Facet.define({combine:k=>k.length?k[0]:void 0,static:!0}),changeFilter=Facet.define(),transactionFilter=Facet.define(),transactionExtender=Facet.define(),readOnly=Facet.define({combine:k=>k.length?k[0]:!1});class Annotation{constructor(b,_){this.type=b,this.value=_}static define(){return new AnnotationType}}class AnnotationType{of(b){return new Annotation(this,b)}}class StateEffectType{constructor(b){this.map=b}of(b){return new StateEffect(this,b)}}class StateEffect{constructor(b,_){this.type=b,this.value=_}map(b){let _=this.type.map(this.value,b);return _===void 0?void 0:_==this.value?this:new StateEffect(this.type,_)}is(b){return this.type==b}static define(b={}){return new StateEffectType(b.map||(_=>_))}static mapEffects(b,_){if(!b.length)return b;let $=[];for(let j of b){let _e=j.map(_);_e&&$.push(_e)}return $}}StateEffect.reconfigure=StateEffect.define();StateEffect.appendConfig=StateEffect.define();class Transaction{constructor(b,_,$,j,_e,et){this.startState=b,this.changes=_,this.selection=$,this.effects=j,this.annotations=_e,this.scrollIntoView=et,this._doc=null,this._state=null,$&&checkSelection($,_.newLength),_e.some(tt=>tt.type==Transaction.time)||(this.annotations=_e.concat(Transaction.time.of(Date.now())))}static create(b,_,$,j,_e,et){return new Transaction(b,_,$,j,_e,et)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(b){for(let _ of this.annotations)if(_.type==b)return _.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(b){let _=this.annotation(Transaction.userEvent);return!!(_&&(_==b||_.length>b.length&&_.slice(0,b.length)==b&&_[b.length]=="."))}}Transaction.time=Annotation.define();Transaction.userEvent=Annotation.define();Transaction.addToHistory=Annotation.define();Transaction.remote=Annotation.define();function joinRanges(k,b){let _=[];for(let $=0,j=0;;){let _e,et;if($<k.length&&(j==b.length||b[j]>=k[$]))_e=k[$++],et=k[$++];else if(j<b.length)_e=b[j++],et=b[j++];else return _;!_.length||_[_.length-1]<_e?_.push(_e,et):_[_.length-1]<et&&(_[_.length-1]=et)}}function mergeTransaction(k,b,_){var $;let j,_e,et;return _?(j=b.changes,_e=ChangeSet.empty(b.changes.length),et=k.changes.compose(b.changes)):(j=b.changes.map(k.changes),_e=k.changes.mapDesc(b.changes,!0),et=k.changes.compose(j)),{changes:et,selection:b.selection?b.selection.map(_e):($=k.selection)===null||$===void 0?void 0:$.map(j),effects:StateEffect.mapEffects(k.effects,j).concat(StateEffect.mapEffects(b.effects,_e)),annotations:k.annotations.length?k.annotations.concat(b.annotations):b.annotations,scrollIntoView:k.scrollIntoView||b.scrollIntoView}}function resolveTransactionInner(k,b,_){let $=b.selection,j=asArray$1(b.annotations);return b.userEvent&&(j=j.concat(Transaction.userEvent.of(b.userEvent))),{changes:b.changes instanceof ChangeSet?b.changes:ChangeSet.of(b.changes||[],_,k.facet(lineSeparator)),selection:$&&($ instanceof EditorSelection?$:EditorSelection.single($.anchor,$.head)),effects:asArray$1(b.effects),annotations:j,scrollIntoView:!!b.scrollIntoView}}function resolveTransaction(k,b,_){let $=resolveTransactionInner(k,b.length?b[0]:{},k.doc.length);b.length&&b[0].filter===!1&&(_=!1);for(let _e=1;_e<b.length;_e++){b[_e].filter===!1&&(_=!1);let et=!!b[_e].sequential;$=mergeTransaction($,resolveTransactionInner(k,b[_e],et?$.changes.newLength:k.doc.length),et)}let j=Transaction.create(k,$.changes,$.selection,$.effects,$.annotations,$.scrollIntoView);return extendTransaction(_?filterTransaction(j):j)}function filterTransaction(k){let b=k.startState,_=!0;for(let j of b.facet(changeFilter)){let _e=j(k);if(_e===!1){_=!1;break}Array.isArray(_e)&&(_=_===!0?_e:joinRanges(_,_e))}if(_!==!0){let j,_e;if(_===!1)_e=k.changes.invertedDesc,j=ChangeSet.empty(b.doc.length);else{let et=k.changes.filter(_);j=et.changes,_e=et.filtered.mapDesc(et.changes).invertedDesc}k=Transaction.create(b,j,k.selection&&k.selection.map(_e),StateEffect.mapEffects(k.effects,_e),k.annotations,k.scrollIntoView)}let $=b.facet(transactionFilter);for(let j=$.length-1;j>=0;j--){let _e=$[j](k);_e instanceof Transaction?k=_e:Array.isArray(_e)&&_e.length==1&&_e[0]instanceof Transaction?k=_e[0]:k=resolveTransaction(b,asArray$1(_e),!1)}return k}function extendTransaction(k){let b=k.startState,_=b.facet(transactionExtender),$=k;for(let j=_.length-1;j>=0;j--){let _e=_[j](k);_e&&Object.keys(_e).length&&($=mergeTransaction(k,resolveTransactionInner(b,_e,k.changes.newLength),!0))}return $==k?k:Transaction.create(b,k.changes,k.selection,$.effects,$.annotations,$.scrollIntoView)}const none$2=[];function asArray$1(k){return k==null?none$2:Array.isArray(k)?k:[k]}var CharCategory=function(k){return k[k.Word=0]="Word",k[k.Space=1]="Space",k[k.Other=2]="Other",k}(CharCategory||(CharCategory={}));const nonASCIISingleCaseWordChar=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let wordChar;try{wordChar=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(k){}function hasWordChar(k){if(wordChar)return wordChar.test(k);for(let b=0;b<k.length;b++){let _=k[b];if(/\w/.test(_)||_>"\x80"&&(_.toUpperCase()!=_.toLowerCase()||nonASCIISingleCaseWordChar.test(_)))return!0}return!1}function makeCategorizer(k){return b=>{if(!/\S/.test(b))return CharCategory.Space;if(hasWordChar(b))return CharCategory.Word;for(let _=0;_<k.length;_++)if(b.indexOf(k[_])>-1)return CharCategory.Word;return CharCategory.Other}}class EditorState{constructor(b,_,$,j,_e,et){this.config=b,this.doc=_,this.selection=$,this.values=j,this.status=b.statusTemplate.slice(),this.computeSlot=_e,et&&(et._state=this);for(let tt=0;tt<this.config.dynamicSlots.length;tt++)ensureAddr(this,tt<<1);this.computeSlot=null}field(b,_=!0){let $=this.config.address[b.id];if($==null){if(_)throw new RangeError("Field is not present in this state");return}return ensureAddr(this,$),getAddr(this,$)}update(...b){return resolveTransaction(this,b,!0)}applyTransaction(b){let _=this.config,{base:$,compartments:j}=_;for(let et of b.effects)et.is(Compartment.reconfigure)?(_&&(j=new Map,_.compartments.forEach((tt,nt)=>j.set(nt,tt)),_=null),j.set(et.value.compartment,et.value.extension)):et.is(StateEffect.reconfigure)?(_=null,$=et.value):et.is(StateEffect.appendConfig)&&(_=null,$=asArray$1($).concat(et.value));let _e;_?_e=b.startState.values.slice():(_=Configuration.resolve($,j,this),_e=new EditorState(_,this.doc,this.selection,_.dynamicSlots.map(()=>null),(tt,nt)=>nt.reconfigure(tt,this),null).values),new EditorState(_,b.newDoc,b.newSelection,_e,(et,tt)=>tt.update(et,b),b)}replaceSelection(b){return typeof b=="string"&&(b=this.toText(b)),this.changeByRange(_=>({changes:{from:_.from,to:_.to,insert:b},range:EditorSelection.cursor(_.from+b.length)}))}changeByRange(b){let _=this.selection,$=b(_.ranges[0]),j=this.changes($.changes),_e=[$.range],et=asArray$1($.effects);for(let tt=1;tt<_.ranges.length;tt++){let nt=b(_.ranges[tt]),it=this.changes(nt.changes),rt=it.map(j);for(let ot=0;ot<tt;ot++)_e[ot]=_e[ot].map(rt);let st=j.mapDesc(it,!0);_e.push(nt.range.map(st)),j=j.compose(rt),et=StateEffect.mapEffects(et,rt).concat(StateEffect.mapEffects(asArray$1(nt.effects),st))}return{changes:j,selection:EditorSelection.create(_e,_.mainIndex),effects:et}}changes(b=[]){return b instanceof ChangeSet?b:ChangeSet.of(b,this.doc.length,this.facet(EditorState.lineSeparator))}toText(b){return Text.of(b.split(this.facet(EditorState.lineSeparator)||DefaultSplit))}sliceDoc(b=0,_=this.doc.length){return this.doc.sliceString(b,_,this.lineBreak)}facet(b){let _=this.config.address[b.id];return _==null?b.default:(ensureAddr(this,_),getAddr(this,_))}toJSON(b){let _={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(b)for(let $ in b){let j=b[$];j instanceof StateField&&this.config.address[j.id]!=null&&(_[$]=j.spec.toJSON(this.field(b[$]),this))}return _}static fromJSON(b,_={},$){if(!b||typeof b.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let j=[];if($){for(let _e in $)if(Object.prototype.hasOwnProperty.call(b,_e)){let et=$[_e],tt=b[_e];j.push(et.init(nt=>et.spec.fromJSON(tt,nt)))}}return EditorState.create({doc:b.doc,selection:EditorSelection.fromJSON(b.selection),extensions:_.extensions?j.concat([_.extensions]):j})}static create(b={}){let _=Configuration.resolve(b.extensions||[],new Map),$=b.doc instanceof Text?b.doc:Text.of((b.doc||"").split(_.staticFacet(EditorState.lineSeparator)||DefaultSplit)),j=b.selection?b.selection instanceof EditorSelection?b.selection:EditorSelection.single(b.selection.anchor,b.selection.head):EditorSelection.single(0);return checkSelection(j,$.length),_.staticFacet(allowMultipleSelections)||(j=j.asSingle()),new EditorState(_,$,j,_.dynamicSlots.map(()=>null),(_e,et)=>et.create(_e),null)}get tabSize(){return this.facet(EditorState.tabSize)}get lineBreak(){return this.facet(EditorState.lineSeparator)||`
`}get readOnly(){return this.facet(readOnly)}phrase(b,..._){for(let $ of this.facet(EditorState.phrases))if(Object.prototype.hasOwnProperty.call($,b)){b=$[b];break}return _.length&&(b=b.replace(/\$(\$|\d*)/g,($,j)=>{if(j=="$")return"$";let _e=+(j||1);return!_e||_e>_.length?$:_[_e-1]})),b}languageDataAt(b,_,$=-1){let j=[];for(let _e of this.facet(languageData))for(let et of _e(this,_,$))Object.prototype.hasOwnProperty.call(et,b)&&j.push(et[b]);return j}charCategorizer(b){return makeCategorizer(this.languageDataAt("wordChars",b).join(""))}wordAt(b){let{text:_,from:$,length:j}=this.doc.lineAt(b),_e=this.charCategorizer(b),et=b-$,tt=b-$;for(;et>0;){let nt=findClusterBreak(_,et,!1);if(_e(_.slice(nt,et))!=CharCategory.Word)break;et=nt}for(;tt<j;){let nt=findClusterBreak(_,tt);if(_e(_.slice(tt,nt))!=CharCategory.Word)break;tt=nt}return et==tt?null:EditorSelection.range(et+$,tt+$)}}EditorState.allowMultipleSelections=allowMultipleSelections;EditorState.tabSize=Facet.define({combine:k=>k.length?k[0]:4});EditorState.lineSeparator=lineSeparator;EditorState.readOnly=readOnly;EditorState.phrases=Facet.define({compare(k,b){let _=Object.keys(k),$=Object.keys(b);return _.length==$.length&&_.every(j=>k[j]==b[j])}});EditorState.languageData=languageData;EditorState.changeFilter=changeFilter;EditorState.transactionFilter=transactionFilter;EditorState.transactionExtender=transactionExtender;Compartment.reconfigure=StateEffect.define();function combineConfig(k,b,_={}){let $={};for(let j of k)for(let _e of Object.keys(j)){let et=j[_e],tt=$[_e];if(tt===void 0)$[_e]=et;else if(!(tt===et||et===void 0))if(Object.hasOwnProperty.call(_,_e))$[_e]=_[_e](tt,et);else throw new Error("Config merge conflict for field "+_e)}for(let j in b)$[j]===void 0&&($[j]=b[j]);return $}class RangeValue{eq(b){return this==b}range(b,_=b){return Range$1.create(b,_,this)}}RangeValue.prototype.startSide=RangeValue.prototype.endSide=0;RangeValue.prototype.point=!1;RangeValue.prototype.mapMode=MapMode.TrackDel;class Range$1{constructor(b,_,$){this.from=b,this.to=_,this.value=$}static create(b,_,$){return new Range$1(b,_,$)}}function cmpRange(k,b){return k.from-b.from||k.value.startSide-b.value.startSide}class Chunk{constructor(b,_,$,j){this.from=b,this.to=_,this.value=$,this.maxPoint=j}get length(){return this.to[this.to.length-1]}findIndex(b,_,$,j=0){let _e=$?this.to:this.from;for(let et=j,tt=_e.length;;){if(et==tt)return et;let nt=et+tt>>1,it=_e[nt]-b||($?this.value[nt].endSide:this.value[nt].startSide)-_;if(nt==et)return it>=0?et:tt;it>=0?tt=nt:et=nt+1}}between(b,_,$,j){for(let _e=this.findIndex(_,-1e9,!0),et=this.findIndex($,1e9,!1,_e);_e<et;_e++)if(j(this.from[_e]+b,this.to[_e]+b,this.value[_e])===!1)return!1}map(b,_){let $=[],j=[],_e=[],et=-1,tt=-1;for(let nt=0;nt<this.value.length;nt++){let it=this.value[nt],rt=this.from[nt]+b,st=this.to[nt]+b,ot,ut;if(rt==st){let lt=_.mapPos(rt,it.startSide,it.mapMode);if(lt==null||(ot=ut=lt,it.startSide!=it.endSide&&(ut=_.mapPos(rt,it.endSide),ut<ot)))continue}else if(ot=_.mapPos(rt,it.startSide),ut=_.mapPos(st,it.endSide),ot>ut||ot==ut&&it.startSide>0&&it.endSide<=0)continue;(ut-ot||it.endSide-it.startSide)<0||(et<0&&(et=ot),it.point&&(tt=Math.max(tt,ut-ot)),$.push(it),j.push(ot-et),_e.push(ut-et))}return{mapped:$.length?new Chunk(j,_e,$,tt):null,pos:et}}}class RangeSet{constructor(b,_,$,j){this.chunkPos=b,this.chunk=_,this.nextLayer=$,this.maxPoint=j}static create(b,_,$,j){return new RangeSet(b,_,$,j)}get length(){let b=this.chunk.length-1;return b<0?0:Math.max(this.chunkEnd(b),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let b=this.nextLayer.size;for(let _ of this.chunk)b+=_.value.length;return b}chunkEnd(b){return this.chunkPos[b]+this.chunk[b].length}update(b){let{add:_=[],sort:$=!1,filterFrom:j=0,filterTo:_e=this.length}=b,et=b.filter;if(_.length==0&&!et)return this;if($&&(_=_.slice().sort(cmpRange)),this.isEmpty)return _.length?RangeSet.of(_):this;let tt=new LayerCursor(this,null,-1).goto(0),nt=0,it=[],rt=new RangeSetBuilder;for(;tt.value||nt<_.length;)if(nt<_.length&&(tt.from-_[nt].from||tt.startSide-_[nt].value.startSide)>=0){let st=_[nt++];rt.addInner(st.from,st.to,st.value)||it.push(st)}else tt.rangeIndex==1&&tt.chunkIndex<this.chunk.length&&(nt==_.length||this.chunkEnd(tt.chunkIndex)<_[nt].from)&&(!et||j>this.chunkEnd(tt.chunkIndex)||_e<this.chunkPos[tt.chunkIndex])&&rt.addChunk(this.chunkPos[tt.chunkIndex],this.chunk[tt.chunkIndex])?tt.nextChunk():((!et||j>tt.to||_e<tt.from||et(tt.from,tt.to,tt.value))&&(rt.addInner(tt.from,tt.to,tt.value)||it.push(Range$1.create(tt.from,tt.to,tt.value))),tt.next());return rt.finishInner(this.nextLayer.isEmpty&&!it.length?RangeSet.empty:this.nextLayer.update({add:it,filter:et,filterFrom:j,filterTo:_e}))}map(b){if(b.empty||this.isEmpty)return this;let _=[],$=[],j=-1;for(let et=0;et<this.chunk.length;et++){let tt=this.chunkPos[et],nt=this.chunk[et],it=b.touchesRange(tt,tt+nt.length);if(it===!1)j=Math.max(j,nt.maxPoint),_.push(nt),$.push(b.mapPos(tt));else if(it===!0){let{mapped:rt,pos:st}=nt.map(tt,b);rt&&(j=Math.max(j,rt.maxPoint),_.push(rt),$.push(st))}}let _e=this.nextLayer.map(b);return _.length==0?_e:new RangeSet($,_,_e||RangeSet.empty,j)}between(b,_,$){if(!this.isEmpty){for(let j=0;j<this.chunk.length;j++){let _e=this.chunkPos[j],et=this.chunk[j];if(_>=_e&&b<=_e+et.length&&et.between(_e,b-_e,_-_e,$)===!1)return}this.nextLayer.between(b,_,$)}}iter(b=0){return HeapCursor.from([this]).goto(b)}get isEmpty(){return this.nextLayer==this}static iter(b,_=0){return HeapCursor.from(b).goto(_)}static compare(b,_,$,j,_e=-1){let et=b.filter(st=>st.maxPoint>0||!st.isEmpty&&st.maxPoint>=_e),tt=_.filter(st=>st.maxPoint>0||!st.isEmpty&&st.maxPoint>=_e),nt=findSharedChunks(et,tt,$),it=new SpanCursor(et,nt,_e),rt=new SpanCursor(tt,nt,_e);$.iterGaps((st,ot,ut)=>compare(it,st,rt,ot,ut,j)),$.empty&&$.length==0&&compare(it,0,rt,0,0,j)}static eq(b,_,$=0,j){j==null&&(j=1e9);let _e=b.filter(rt=>!rt.isEmpty&&_.indexOf(rt)<0),et=_.filter(rt=>!rt.isEmpty&&b.indexOf(rt)<0);if(_e.length!=et.length)return!1;if(!_e.length)return!0;let tt=findSharedChunks(_e,et),nt=new SpanCursor(_e,tt,0).goto($),it=new SpanCursor(et,tt,0).goto($);for(;;){if(nt.to!=it.to||!sameValues(nt.active,it.active)||nt.point&&(!it.point||!nt.point.eq(it.point)))return!1;if(nt.to>j)return!0;nt.next(),it.next()}}static spans(b,_,$,j,_e=-1){let et=new SpanCursor(b,null,_e).goto(_),tt=_,nt=et.openStart;for(;;){let it=Math.min(et.to,$);if(et.point?(j.point(tt,it,et.point,et.activeForPoint(et.to),nt,et.pointRank),nt=et.openEnd(it)+(et.to>it?1:0)):it>tt&&(j.span(tt,it,et.active,nt),nt=et.openEnd(it)),et.to>$)break;tt=et.to,et.next()}return nt}static of(b,_=!1){let $=new RangeSetBuilder;for(let j of b instanceof Range$1?[b]:_?lazySort(b):b)$.add(j.from,j.to,j.value);return $.finish()}}RangeSet.empty=new RangeSet([],[],null,-1);function lazySort(k){if(k.length>1)for(let b=k[0],_=1;_<k.length;_++){let $=k[_];if(cmpRange(b,$)>0)return k.slice().sort(cmpRange);b=$}return k}RangeSet.empty.nextLayer=RangeSet.empty;class RangeSetBuilder{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(b){this.chunks.push(new Chunk(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,b&&(this.from=[],this.to=[],this.value=[])}add(b,_,$){this.addInner(b,_,$)||(this.nextLayer||(this.nextLayer=new RangeSetBuilder)).add(b,_,$)}addInner(b,_,$){let j=b-this.lastTo||$.startSide-this.last.endSide;if(j<=0&&(b-this.lastFrom||$.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return j<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=b),this.from.push(b-this.chunkStart),this.to.push(_-this.chunkStart),this.last=$,this.lastFrom=b,this.lastTo=_,this.value.push($),$.point&&(this.maxPoint=Math.max(this.maxPoint,_-b)),!0)}addChunk(b,_){if((b-this.lastTo||_.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,_.maxPoint),this.chunks.push(_),this.chunkPos.push(b);let $=_.value.length-1;return this.last=_.value[$],this.lastFrom=_.from[$]+b,this.lastTo=_.to[$]+b,!0}finish(){return this.finishInner(RangeSet.empty)}finishInner(b){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return b;let _=RangeSet.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(b):b,this.setMaxPoint);return this.from=null,_}}function findSharedChunks(k,b,_){let $=new Map;for(let _e of k)for(let et=0;et<_e.chunk.length;et++)_e.chunk[et].maxPoint<=0&&$.set(_e.chunk[et],_e.chunkPos[et]);let j=new Set;for(let _e of b)for(let et=0;et<_e.chunk.length;et++){let tt=$.get(_e.chunk[et]);tt!=null&&(_?_.mapPos(tt):tt)==_e.chunkPos[et]&&!(_!=null&&_.touchesRange(tt,tt+_e.chunk[et].length))&&j.add(_e.chunk[et])}return j}class LayerCursor{constructor(b,_,$,j=0){this.layer=b,this.skip=_,this.minPoint=$,this.rank=j}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(b,_=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(b,_,!1),this}gotoInner(b,_,$){for(;this.chunkIndex<this.layer.chunk.length;){let j=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(j)||this.layer.chunkEnd(this.chunkIndex)<b||j.maxPoint<this.minPoint))break;this.chunkIndex++,$=!1}if(this.chunkIndex<this.layer.chunk.length){let j=this.layer.chunk[this.chunkIndex].findIndex(b-this.layer.chunkPos[this.chunkIndex],_,!0);(!$||this.rangeIndex<j)&&this.setRangeIndex(j)}this.next()}forward(b,_){(this.to-b||this.endSide-_)<0&&this.gotoInner(b,_,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let b=this.layer.chunkPos[this.chunkIndex],_=this.layer.chunk[this.chunkIndex],$=b+_.from[this.rangeIndex];if(this.from=$,this.to=b+_.to[this.rangeIndex],this.value=_.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(b){if(b==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=b}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(b){return this.from-b.from||this.startSide-b.startSide||this.rank-b.rank||this.to-b.to||this.endSide-b.endSide}}class HeapCursor{constructor(b){this.heap=b}static from(b,_=null,$=-1){let j=[];for(let _e=0;_e<b.length;_e++)for(let et=b[_e];!et.isEmpty;et=et.nextLayer)et.maxPoint>=$&&j.push(new LayerCursor(et,_,$,_e));return j.length==1?j[0]:new HeapCursor(j)}get startSide(){return this.value?this.value.startSide:0}goto(b,_=-1e9){for(let $ of this.heap)$.goto(b,_);for(let $=this.heap.length>>1;$>=0;$--)heapBubble(this.heap,$);return this.next(),this}forward(b,_){for(let $ of this.heap)$.forward(b,_);for(let $=this.heap.length>>1;$>=0;$--)heapBubble(this.heap,$);(this.to-b||this.value.endSide-_)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let b=this.heap[0];this.from=b.from,this.to=b.to,this.value=b.value,this.rank=b.rank,b.value&&b.next(),heapBubble(this.heap,0)}}}function heapBubble(k,b){for(let _=k[b];;){let $=(b<<1)+1;if($>=k.length)break;let j=k[$];if($+1<k.length&&j.compare(k[$+1])>=0&&(j=k[$+1],$++),_.compare(j)<0)break;k[$]=_,k[b]=j,b=$}}class SpanCursor{constructor(b,_,$){this.minPoint=$,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=HeapCursor.from(b,_,$)}goto(b,_=-1e9){return this.cursor.goto(b,_),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=b,this.endSide=_,this.openStart=-1,this.next(),this}forward(b,_){for(;this.minActive>-1&&(this.activeTo[this.minActive]-b||this.active[this.minActive].endSide-_)<0;)this.removeActive(this.minActive);this.cursor.forward(b,_)}removeActive(b){remove(this.active,b),remove(this.activeTo,b),remove(this.activeRank,b),this.minActive=findMinIndex(this.active,this.activeTo)}addActive(b){let _=0,{value:$,to:j,rank:_e}=this.cursor;for(;_<this.activeRank.length&&this.activeRank[_]<=_e;)_++;insert(this.active,_,$),insert(this.activeTo,_,j),insert(this.activeRank,_,_e),b&&insert(b,_,this.cursor.from),this.minActive=findMinIndex(this.active,this.activeTo)}next(){let b=this.to,_=this.point;this.point=null;let $=this.openStart<0?[]:null,j=0;for(;;){let _e=this.minActive;if(_e>-1&&(this.activeTo[_e]-this.cursor.from||this.active[_e].endSide-this.cursor.startSide)<0){if(this.activeTo[_e]>b){this.to=this.activeTo[_e],this.endSide=this.active[_e].endSide;break}this.removeActive(_e),$&&remove($,_e)}else if(this.cursor.value)if(this.cursor.from>b){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let et=this.cursor.value;if(!et.point)this.addActive($),this.cursor.from<b&&this.cursor.to>b&&j++,this.cursor.next();else if(_&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=et,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=et.endSide,this.cursor.from<b&&(j=1),this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if($){let _e=0;for(;_e<$.length&&$[_e]<b;)_e++;this.openStart=_e+j}}activeForPoint(b){if(!this.active.length)return this.active;let _=[];for(let $=this.active.length-1;$>=0&&!(this.activeRank[$]<this.pointRank);$--)(this.activeTo[$]>b||this.activeTo[$]==b&&this.active[$].endSide>=this.point.endSide)&&_.push(this.active[$]);return _.reverse()}openEnd(b){let _=0;for(let $=this.activeTo.length-1;$>=0&&this.activeTo[$]>b;$--)_++;return _}}function compare(k,b,_,$,j,_e){k.goto(b),_.goto($);let et=$+j,tt=$,nt=$-b;for(;;){let it=k.to+nt-_.to||k.endSide-_.endSide,rt=it<0?k.to+nt:_.to,st=Math.min(rt,et);if(k.point||_.point?k.point&&_.point&&(k.point==_.point||k.point.eq(_.point))&&sameValues(k.activeForPoint(k.to+nt),_.activeForPoint(_.to))||_e.comparePoint(tt,st,k.point,_.point):st>tt&&!sameValues(k.active,_.active)&&_e.compareRange(tt,st,k.active,_.active),rt>et)break;tt=rt,it<=0&&k.next(),it>=0&&_.next()}}function sameValues(k,b){if(k.length!=b.length)return!1;for(let _=0;_<k.length;_++)if(k[_]!=b[_]&&!k[_].eq(b[_]))return!1;return!0}function remove(k,b){for(let _=b,$=k.length-1;_<$;_++)k[_]=k[_+1];k.pop()}function insert(k,b,_){for(let $=k.length-1;$>=b;$--)k[$+1]=k[$];k[b]=_}function findMinIndex(k,b){let _=-1,$=1e9;for(let j=0;j<b.length;j++)(b[j]-$||k[j].endSide-k[_].endSide)<0&&(_=j,$=b[j]);return _}function countColumn(k,b,_=k.length){let $=0;for(let j=0;j<_;)k.charCodeAt(j)==9?($+=b-$%b,j++):($++,j=findClusterBreak(k,j));return $}function findColumn(k,b,_,$){for(let j=0,_e=0;;){if(_e>=b)return j;if(j==k.length)break;_e+=k.charCodeAt(j)==9?_-_e%_:1,j=findClusterBreak(k,j)}return $===!0?-1:k.length}const C="\u037C",COUNT=typeof Symbol>"u"?"__"+C:Symbol.for(C),SET=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),top=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class StyleModule{constructor(b,_){this.rules=[];let{finish:$}=_||{};function j(et){return/^@/.test(et)?[et]:et.split(/,\s*/)}function _e(et,tt,nt,it){let rt=[],st=/^@(\w+)\b/.exec(et[0]),ot=st&&st[1]=="keyframes";if(st&&tt==null)return nt.push(et[0]+";");for(let ut in tt){let lt=tt[ut];if(/&/.test(ut))_e(ut.split(/,\s*/).map(ft=>et.map(ct=>ft.replace(/&/,ct))).reduce((ft,ct)=>ft.concat(ct)),lt,nt);else if(lt&&typeof lt=="object"){if(!st)throw new RangeError("The value of a property ("+ut+") should be a primitive value.");_e(j(ut),lt,rt,ot)}else lt!=null&&rt.push(ut.replace(/_.*/,"").replace(/[A-Z]/g,ft=>"-"+ft.toLowerCase())+": "+lt+";")}(rt.length||ot)&&nt.push(($&&!st&&!it?et.map($):et).join(", ")+" {"+rt.join(" ")+"}")}for(let et in b)_e(j(et),b[et],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let b=top[COUNT]||1;return top[COUNT]=b+1,C+b.toString(36)}static mount(b,_){(b[SET]||new StyleSet(b)).mount(Array.isArray(_)?_:[_])}}let adoptedSet=null;class StyleSet{constructor(b){if(!b.head&&b.adoptedStyleSheets&&typeof CSSStyleSheet<"u"){if(adoptedSet)return b.adoptedStyleSheets=[adoptedSet.sheet].concat(b.adoptedStyleSheets),b[SET]=adoptedSet;this.sheet=new CSSStyleSheet,b.adoptedStyleSheets=[this.sheet].concat(b.adoptedStyleSheets),adoptedSet=this}else{this.styleTag=(b.ownerDocument||b).createElement("style");let _=b.head||b;_.insertBefore(this.styleTag,_.firstChild)}this.modules=[],b[SET]=this}mount(b){let _=this.sheet,$=0,j=0;for(let _e=0;_e<b.length;_e++){let et=b[_e],tt=this.modules.indexOf(et);if(tt<j&&tt>-1&&(this.modules.splice(tt,1),j--,tt=-1),tt==-1){if(this.modules.splice(j++,0,et),_)for(let nt=0;nt<et.rules.length;nt++)_.insertRule(et.rules[nt],$++)}else{for(;j<tt;)$+=this.modules[j++].rules.length;$+=et.rules.length,j++}}if(!_){let _e="";for(let et=0;et<this.modules.length;et++)_e+=this.modules[et].getRules()+`
`;this.styleTag.textContent=_e}}}var base={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},shift={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},chrome$1=typeof navigator<"u"&&/Chrome\/(\d+)/.exec(navigator.userAgent),safari$1=typeof navigator<"u"&&/Apple Computer/.test(navigator.vendor),gecko$1=typeof navigator<"u"&&/Gecko\/\d+/.test(navigator.userAgent),mac=typeof navigator<"u"&&/Mac/.test(navigator.platform),ie$2=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),brokenModifierNames=chrome$1&&(mac||+chrome$1[1]<57)||gecko$1&&mac;for(var i$2=0;i$2<10;i$2++)base[48+i$2]=base[96+i$2]=String(i$2);for(var i$2=1;i$2<=24;i$2++)base[i$2+111]="F"+i$2;for(var i$2=65;i$2<=90;i$2++)base[i$2]=String.fromCharCode(i$2+32),shift[i$2]=String.fromCharCode(i$2);for(var code$1 in base)shift.hasOwnProperty(code$1)||(shift[code$1]=base[code$1]);function keyName(k){var b=brokenModifierNames&&(k.ctrlKey||k.altKey||k.metaKey)||(safari$1||ie$2)&&k.shiftKey&&k.key&&k.key.length==1,_=!b&&k.key||(k.shiftKey?shift:base)[k.keyCode]||k.key||"Unidentified";return _=="Esc"&&(_="Escape"),_=="Del"&&(_="Delete"),_=="Left"&&(_="ArrowLeft"),_=="Up"&&(_="ArrowUp"),_=="Right"&&(_="ArrowRight"),_=="Down"&&(_="ArrowDown"),_}function getSelection(k){let b;return k.nodeType==11?b=k.getSelection?k:k.ownerDocument:b=k,b.getSelection()}function contains(k,b){return b?k==b||k.contains(b.nodeType!=1?b.parentNode:b):!1}function deepActiveElement(){let k=document.activeElement;for(;k&&k.shadowRoot;)k=k.shadowRoot.activeElement;return k}function hasSelection(k,b){if(!b.anchorNode)return!1;try{return contains(k,b.anchorNode)}catch{return!1}}function clientRectsFor(k){return k.nodeType==3?textRange(k,0,k.nodeValue.length).getClientRects():k.nodeType==1?k.getClientRects():[]}function isEquivalentPosition(k,b,_,$){return _?scanFor(k,b,_,$,-1)||scanFor(k,b,_,$,1):!1}function domIndex(k){for(var b=0;;b++)if(k=k.previousSibling,!k)return b}function scanFor(k,b,_,$,j){for(;;){if(k==_&&b==$)return!0;if(b==(j<0?0:maxOffset(k))){if(k.nodeName=="DIV")return!1;let _e=k.parentNode;if(!_e||_e.nodeType!=1)return!1;b=domIndex(k)+(j<0?0:1),k=_e}else if(k.nodeType==1){if(k=k.childNodes[b+(j<0?-1:0)],k.nodeType==1&&k.contentEditable=="false")return!1;b=j<0?maxOffset(k):0}else return!1}}function maxOffset(k){return k.nodeType==3?k.nodeValue.length:k.childNodes.length}const Rect0={left:0,right:0,top:0,bottom:0};function flattenRect(k,b){let _=b?k.left:k.right;return{left:_,right:_,top:k.top,bottom:k.bottom}}function windowRect(k){return{left:0,right:k.innerWidth,top:0,bottom:k.innerHeight}}function scrollRectIntoView(k,b,_,$,j,_e,et,tt){let nt=k.ownerDocument,it=nt.defaultView;for(let rt=k;rt;)if(rt.nodeType==1){let st,ot=rt==nt.body;if(ot)st=windowRect(it);else{if(rt.scrollHeight<=rt.clientHeight&&rt.scrollWidth<=rt.clientWidth){rt=rt.parentNode;continue}let ft=rt.getBoundingClientRect();st={left:ft.left,right:ft.left+rt.clientWidth,top:ft.top,bottom:ft.top+rt.clientHeight}}let ut=0,lt=0;if(j=="nearest")b.top<st.top?(lt=-(st.top-b.top+et),_>0&&b.bottom>st.bottom+lt&&(lt=b.bottom-st.bottom+lt+et)):b.bottom>st.bottom&&(lt=b.bottom-st.bottom+et,_<0&&b.top-lt<st.top&&(lt=-(st.top+lt-b.top+et)));else{let ft=b.bottom-b.top,ct=st.bottom-st.top;lt=(j=="center"&&ft<=ct?b.top+ft/2-ct/2:j=="start"||j=="center"&&_<0?b.top-et:b.bottom-ct+et)-st.top}if($=="nearest"?b.left<st.left?(ut=-(st.left-b.left+_e),_>0&&b.right>st.right+ut&&(ut=b.right-st.right+ut+_e)):b.right>st.right&&(ut=b.right-st.right+_e,_<0&&b.left<st.left+ut&&(ut=-(st.left+ut-b.left+_e))):ut=($=="center"?b.left+(b.right-b.left)/2-(st.right-st.left)/2:$=="start"==tt?b.left-_e:b.right-(st.right-st.left)+_e)-st.left,ut||lt)if(ot)it.scrollBy(ut,lt);else{if(lt){let ft=rt.scrollTop;rt.scrollTop+=lt,lt=rt.scrollTop-ft}if(ut){let ft=rt.scrollLeft;rt.scrollLeft+=ut,ut=rt.scrollLeft-ft}b={left:b.left-ut,top:b.top-lt,right:b.right-ut,bottom:b.bottom-lt}}if(ot)break;rt=rt.assignedSlot||rt.parentNode,$=j="nearest"}else if(rt.nodeType==11)rt=rt.host;else break}class DOMSelectionState{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(b){return this.anchorNode==b.anchorNode&&this.anchorOffset==b.anchorOffset&&this.focusNode==b.focusNode&&this.focusOffset==b.focusOffset}setRange(b){this.set(b.anchorNode,b.anchorOffset,b.focusNode,b.focusOffset)}set(b,_,$,j){this.anchorNode=b,this.anchorOffset=_,this.focusNode=$,this.focusOffset=j}}let preventScrollSupported=null;function focusPreventScroll(k){if(k.setActive)return k.setActive();if(preventScrollSupported)return k.focus(preventScrollSupported);let b=[];for(let _=k;_&&(b.push(_,_.scrollTop,_.scrollLeft),_!=_.ownerDocument);_=_.parentNode);if(k.focus(preventScrollSupported==null?{get preventScroll(){return preventScrollSupported={preventScroll:!0},!0}}:void 0),!preventScrollSupported){preventScrollSupported=!1;for(let _=0;_<b.length;){let $=b[_++],j=b[_++],_e=b[_++];$.scrollTop!=j&&($.scrollTop=j),$.scrollLeft!=_e&&($.scrollLeft=_e)}}}let scratchRange;function textRange(k,b,_=b){let $=scratchRange||(scratchRange=document.createRange());return $.setEnd(k,_),$.setStart(k,b),$}function dispatchKey(k,b,_){let $={key:b,code:b,keyCode:_,which:_,cancelable:!0},j=new KeyboardEvent("keydown",$);j.synthetic=!0,k.dispatchEvent(j);let _e=new KeyboardEvent("keyup",$);return _e.synthetic=!0,k.dispatchEvent(_e),j.defaultPrevented||_e.defaultPrevented}function getRoot(k){for(;k;){if(k&&(k.nodeType==9||k.nodeType==11&&k.host))return k;k=k.assignedSlot||k.parentNode}return null}function clearAttributes(k){for(;k.attributes.length;)k.removeAttributeNode(k.attributes[0])}function atElementStart(k,b){let _=b.focusNode,$=b.focusOffset;if(!_||b.anchorNode!=_||b.anchorOffset!=$)return!1;for(;;)if($){if(_.nodeType!=1)return!1;let j=_.childNodes[$-1];j.contentEditable=="false"?$--:(_=j,$=maxOffset(_))}else{if(_==k)return!0;$=domIndex(_),_=_.parentNode}}class DOMPos{constructor(b,_,$=!0){this.node=b,this.offset=_,this.precise=$}static before(b,_){return new DOMPos(b.parentNode,domIndex(b),_)}static after(b,_){return new DOMPos(b.parentNode,domIndex(b)+1,_)}}const noChildren=[];class ContentView{constructor(){this.parent=null,this.dom=null,this.dirty=2}get editorView(){if(!this.parent)throw new Error("Accessing view in orphan content view");return this.parent.editorView}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(b){let _=this.posAtStart;for(let $ of this.children){if($==b)return _;_+=$.length+$.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(b){return this.posBefore(b)+b.length}coordsAt(b,_){return null}sync(b){if(this.dirty&2){let _=this.dom,$=null,j;for(let _e of this.children){if(_e.dirty){if(!_e.dom&&(j=$?$.nextSibling:_.firstChild)){let et=ContentView.get(j);(!et||!et.parent&&et.constructor==_e.constructor)&&_e.reuseDOM(j)}_e.sync(b),_e.dirty=0}if(j=$?$.nextSibling:_.firstChild,b&&!b.written&&b.node==_&&j!=_e.dom&&(b.written=!0),_e.dom.parentNode==_)for(;j&&j!=_e.dom;)j=rm$1(j);else _.insertBefore(_e.dom,j);$=_e.dom}for(j=$?$.nextSibling:_.firstChild,j&&b&&b.node==_&&(b.written=!0);j;)j=rm$1(j)}else if(this.dirty&1)for(let _ of this.children)_.dirty&&(_.sync(b),_.dirty=0)}reuseDOM(b){}localPosFromDOM(b,_){let $;if(b==this.dom)$=this.dom.childNodes[_];else{let j=maxOffset(b)==0?0:_==0?-1:1;for(;;){let _e=b.parentNode;if(_e==this.dom)break;j==0&&_e.firstChild!=_e.lastChild&&(b==_e.firstChild?j=-1:j=1),b=_e}j<0?$=b:$=b.nextSibling}if($==this.dom.firstChild)return 0;for(;$&&!ContentView.get($);)$=$.nextSibling;if(!$)return this.length;for(let j=0,_e=0;;j++){let et=this.children[j];if(et.dom==$)return _e;_e+=et.length+et.breakAfter}}domBoundsAround(b,_,$=0){let j=-1,_e=-1,et=-1,tt=-1;for(let nt=0,it=$,rt=$;nt<this.children.length;nt++){let st=this.children[nt],ot=it+st.length;if(it<b&&ot>_)return st.domBoundsAround(b,_,it);if(ot>=b&&j==-1&&(j=nt,_e=it),it>_&&st.dom.parentNode==this.dom){et=nt,tt=rt;break}rt=ot,it=ot+st.breakAfter}return{from:_e,to:tt<0?$+this.length:tt,startDOM:(j?this.children[j-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:et<this.children.length&&et>=0?this.children[et].dom:null}}markDirty(b=!1){this.dirty|=2,this.markParentsDirty(b)}markParentsDirty(b){for(let _=this.parent;_;_=_.parent){if(b&&(_.dirty|=2),_.dirty&1)return;_.dirty|=1,b=!1}}setParent(b){this.parent!=b&&(this.parent=b,this.dirty&&this.markParentsDirty(!0))}setDOM(b){this.dom&&(this.dom.cmView=null),this.dom=b,b.cmView=this}get rootView(){for(let b=this;;){let _=b.parent;if(!_)return b;b=_}}replaceChildren(b,_,$=noChildren){this.markDirty();for(let j=b;j<_;j++){let _e=this.children[j];_e.parent==this&&_e.destroy()}this.children.splice(b,_-b,...$);for(let j=0;j<$.length;j++)$[j].setParent(this)}ignoreMutation(b){return!1}ignoreEvent(b){return!1}childCursor(b=this.length){return new ChildCursor(this.children,b,this.children.length)}childPos(b,_=1){return this.childCursor().findPos(b,_)}toString(){let b=this.constructor.name.replace("View","");return b+(this.children.length?"("+this.children.join()+")":this.length?"["+(b=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(b){return b.cmView}get isEditable(){return!0}merge(b,_,$,j,_e,et){return!1}become(b){return!1}getSide(){return 0}destroy(){this.parent=null}}ContentView.prototype.breakAfter=0;function rm$1(k){let b=k.nextSibling;return k.parentNode.removeChild(k),b}class ChildCursor{constructor(b,_,$){this.children=b,this.pos=_,this.i=$,this.off=0}findPos(b,_=1){for(;;){if(b>this.pos||b==this.pos&&(_>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=b-this.pos,this;let $=this.children[--this.i];this.pos-=$.length+$.breakAfter}}}function replaceRange(k,b,_,$,j,_e,et,tt,nt){let{children:it}=k,rt=it.length?it[b]:null,st=_e.length?_e[_e.length-1]:null,ot=st?st.breakAfter:et;if(!(b==$&&rt&&!et&&!ot&&_e.length<2&&rt.merge(_,j,_e.length?st:null,_==0,tt,nt))){if($<it.length){let ut=it[$];ut&&j<ut.length?(b==$&&(ut=ut.split(j),j=0),!ot&&st&&ut.merge(0,j,st,!0,0,nt)?_e[_e.length-1]=ut:(j&&ut.merge(0,j,null,!1,0,nt),_e.push(ut))):ut!=null&&ut.breakAfter&&(st?st.breakAfter=1:et=1),$++}for(rt&&(rt.breakAfter=et,_>0&&(!et&&_e.length&&rt.merge(_,rt.length,_e[0],!1,tt,0)?rt.breakAfter=_e.shift().breakAfter:(_<rt.length||rt.children.length&&rt.children[rt.children.length-1].length==0)&&rt.merge(_,rt.length,null,!1,tt,0),b++));b<$&&_e.length;)if(it[$-1].become(_e[_e.length-1]))$--,_e.pop(),nt=_e.length?0:tt;else if(it[b].become(_e[0]))b++,_e.shift(),tt=_e.length?0:nt;else break;!_e.length&&b&&$<it.length&&!it[b-1].breakAfter&&it[$].merge(0,0,it[b-1],!1,tt,nt)&&b--,(b<$||_e.length)&&k.replaceChildren(b,$,_e)}}function mergeChildrenInto(k,b,_,$,j,_e){let et=k.childCursor(),{i:tt,off:nt}=et.findPos(_,1),{i:it,off:rt}=et.findPos(b,-1),st=b-_;for(let ot of $)st+=ot.length;k.length+=st,replaceRange(k,it,rt,tt,nt,$,0,j,_e)}let nav=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},doc=typeof document<"u"?document:{documentElement:{style:{}}};const ie_edge=/Edge\/(\d+)/.exec(nav.userAgent),ie_upto10=/MSIE \d/.test(nav.userAgent),ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(nav.userAgent),ie$1=!!(ie_upto10||ie_11up||ie_edge),gecko=!ie$1&&/gecko\/(\d+)/i.test(nav.userAgent),chrome=!ie$1&&/Chrome\/(\d+)/.exec(nav.userAgent),webkit="webkitFontSmoothing"in doc.documentElement.style,safari=!ie$1&&/Apple Computer/.test(nav.vendor),ios=safari&&(/Mobile\/\w+/.test(nav.userAgent)||nav.maxTouchPoints>2);var browser={mac:ios||/Mac/.test(nav.platform),windows:/Win/.test(nav.platform),linux:/Linux|X11/.test(nav.platform),ie:ie$1,ie_version:ie_upto10?doc.documentMode||6:ie_11up?+ie_11up[1]:ie_edge?+ie_edge[1]:0,gecko,gecko_version:gecko?+(/Firefox\/(\d+)/.exec(nav.userAgent)||[0,0])[1]:0,chrome:!!chrome,chrome_version:chrome?+chrome[1]:0,ios,android:/Android\b/.test(nav.userAgent),webkit,safari,webkit_version:webkit?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:doc.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const MaxJoinLen=256;class TextView extends ContentView{constructor(b){super(),this.text=b}get length(){return this.text.length}createDOM(b){this.setDOM(b||document.createTextNode(this.text))}sync(b){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(b&&b.node==this.dom&&(b.written=!0),this.dom.nodeValue=this.text)}reuseDOM(b){b.nodeType==3&&this.createDOM(b)}merge(b,_,$){return $&&(!($ instanceof TextView)||this.length-(_-b)+$.length>MaxJoinLen)?!1:(this.text=this.text.slice(0,b)+($?$.text:"")+this.text.slice(_),this.markDirty(),!0)}split(b){let _=new TextView(this.text.slice(b));return this.text=this.text.slice(0,b),this.markDirty(),_}localPosFromDOM(b,_){return b==this.dom?_:_?this.text.length:0}domAtPos(b){return new DOMPos(this.dom,b)}domBoundsAround(b,_,$){return{from:$,to:$+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(b,_){return textCoords(this.dom,b,_)}}class MarkView extends ContentView{constructor(b,_=[],$=0){super(),this.mark=b,this.children=_,this.length=$;for(let j of _)j.setParent(this)}setAttrs(b){if(clearAttributes(b),this.mark.class&&(b.className=this.mark.class),this.mark.attrs)for(let _ in this.mark.attrs)b.setAttribute(_,this.mark.attrs[_]);return b}reuseDOM(b){b.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(b),this.dirty|=6)}sync(b){this.dom?this.dirty&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(b)}merge(b,_,$,j,_e,et){return $&&(!($ instanceof MarkView&&$.mark.eq(this.mark))||b&&_e<=0||_<this.length&&et<=0)?!1:(mergeChildrenInto(this,b,_,$?$.children:[],_e-1,et-1),this.markDirty(),!0)}split(b){let _=[],$=0,j=-1,_e=0;for(let tt of this.children){let nt=$+tt.length;nt>b&&_.push($<b?tt.split(b-$):tt),j<0&&$>=b&&(j=_e),$=nt,_e++}let et=this.length-b;return this.length=b,j>-1&&(this.children.length=j,this.markDirty()),new MarkView(this.mark,_,et)}domAtPos(b){return inlineDOMAtPos(this.dom,this.children,b)}coordsAt(b,_){return coordsInChildren(this,b,_)}}function textCoords(k,b,_){let $=k.nodeValue.length;b>$&&(b=$);let j=b,_e=b,et=0;b==0&&_<0||b==$&&_>=0?browser.chrome||browser.gecko||(b?(j--,et=1):_e<$&&(_e++,et=-1)):_<0?j--:_e<$&&_e++;let tt=textRange(k,j,_e).getClientRects();if(!tt.length)return Rect0;let nt=tt[(et?et<0:_>=0)?0:tt.length-1];return browser.safari&&!et&&nt.width==0&&(nt=Array.prototype.find.call(tt,it=>it.width)||nt),et?flattenRect(nt,et<0):nt||null}class WidgetView extends ContentView{constructor(b,_,$){super(),this.widget=b,this.length=_,this.side=$,this.prevWidget=null}static create(b,_,$){return new(b.customView||WidgetView)(b,_,$)}split(b){let _=WidgetView.create(this.widget,this.length-b,this.side);return this.length-=b,_}sync(){(!this.dom||!this.widget.updateDOM(this.dom))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}getSide(){return this.side}merge(b,_,$,j,_e,et){return $&&(!($ instanceof WidgetView)||!this.widget.compare($.widget)||b>0&&_e<=0||_<this.length&&et<=0)?!1:(this.length=b+($?$.length:0)+(this.length-_),!0)}become(b){return b.length==this.length&&b instanceof WidgetView&&b.side==this.side&&this.widget.constructor==b.widget.constructor?(this.widget.eq(b.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=b.widget,!0):!1}ignoreMutation(){return!0}ignoreEvent(b){return this.widget.ignoreEvent(b)}get overrideDOMText(){if(this.length==0)return Text.empty;let b=this;for(;b.parent;)b=b.parent;let _=b.editorView,$=_&&_.state.doc,j=this.posAtStart;return $?$.slice(j,j+this.length):Text.empty}domAtPos(b){return b==0?DOMPos.before(this.dom):DOMPos.after(this.dom,b==this.length)}domBoundsAround(){return null}coordsAt(b,_){let $=this.dom.getClientRects(),j=null;if(!$.length)return Rect0;for(let _e=b>0?$.length-1:0;j=$[_e],!(b>0?_e==0:_e==$.length-1||j.top<j.bottom);_e+=b>0?-1:1);return b==0&&_>0||b==this.length&&_<=0?j:flattenRect(j,b==0)}get isEditable(){return!1}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class CompositionView extends WidgetView{domAtPos(b){let{topView:_,text:$}=this.widget;return _?scanCompositionTree(b,0,_,$,(j,_e)=>j.domAtPos(_e),j=>new DOMPos($,Math.min(j,$.nodeValue.length))):new DOMPos($,Math.min(b,$.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(b,_){let{topView:$,text:j}=this.widget;return $?posFromDOMInCompositionTree(b,_,$,j):Math.min(_,this.length)}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(b,_){let{topView:$,text:j}=this.widget;return $?scanCompositionTree(b,_,$,j,(_e,et,tt)=>_e.coordsAt(et,tt),(_e,et)=>textCoords(j,_e,et)):textCoords(j,b,_)}destroy(){var b;super.destroy(),(b=this.widget.topView)===null||b===void 0||b.destroy()}get isEditable(){return!0}}function scanCompositionTree(k,b,_,$,j,_e){if(_ instanceof MarkView){for(let et of _.children){let tt=contains(et.dom,$),nt=tt?$.nodeValue.length:et.length;if(k<nt||k==nt&&et.getSide()<=0)return tt?scanCompositionTree(k,b,et,$,j,_e):j(et,k,b);k-=nt}return j(_,_.length,-1)}else return _.dom==$?_e(k,b):j(_,k,b)}function posFromDOMInCompositionTree(k,b,_,$){if(_ instanceof MarkView)for(let j of _.children){let _e=0,et=contains(j.dom,$);if(contains(j.dom,k))return _e+(et?posFromDOMInCompositionTree(k,b,j,$):j.localPosFromDOM(k,b));_e+=et?$.nodeValue.length:j.length}else if(_.dom==$)return Math.min(b,$.nodeValue.length);return _.localPosFromDOM(k,b)}class WidgetBufferView extends ContentView{constructor(b){super(),this.side=b}get length(){return 0}merge(){return!1}become(b){return b instanceof WidgetBufferView&&b.side==this.side}split(){return new WidgetBufferView(this.side)}sync(){if(!this.dom){let b=document.createElement("img");b.className="cm-widgetBuffer",b.setAttribute("aria-hidden","true"),this.setDOM(b)}}getSide(){return this.side}domAtPos(b){return DOMPos.before(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(b){let _=this.dom.getBoundingClientRect(),$=inlineSiblingRect(this,this.side>0?-1:1);return $&&$.top<_.bottom&&$.bottom>_.top?{left:_.left,right:_.right,top:$.top,bottom:$.bottom}:_}get overrideDOMText(){return Text.empty}}TextView.prototype.children=WidgetView.prototype.children=WidgetBufferView.prototype.children=noChildren;function inlineSiblingRect(k,b){let _=k.parent,$=_?_.children.indexOf(k):-1;for(;_&&$>=0;)if(b<0?$>0:$<_.children.length){let j=_.children[$+b];if(j instanceof TextView){let _e=j.coordsAt(b<0?j.length:0,b);if(_e)return _e}$+=b}else if(_ instanceof MarkView&&_.parent)$=_.parent.children.indexOf(_)+(b<0?0:1),_=_.parent;else{let j=_.dom.lastChild;if(j&&j.nodeName=="BR")return j.getClientRects()[0];break}}function inlineDOMAtPos(k,b,_){let $=0;for(let j=0;$<b.length;$++){let _e=b[$],et=j+_e.length;if(!(et==j&&_e.getSide()<=0)){if(_>j&&_<et&&_e.dom.parentNode==k)return _e.domAtPos(_-j);if(_<=j)break;j=et}}for(;$>0;$--){let j=b[$-1].dom;if(j.parentNode==k)return DOMPos.after(j)}return new DOMPos(k,0)}function joinInlineInto(k,b,_){let $,{children:j}=k;_>0&&b instanceof MarkView&&j.length&&($=j[j.length-1])instanceof MarkView&&$.mark.eq(b.mark)?joinInlineInto($,b.children[0],_-1):(j.push(b),b.setParent(k)),k.length+=b.length}function coordsInChildren(k,b,_){for(let _e=0,et=0;et<k.children.length;et++){let tt=k.children[et],nt=_e+tt.length,it;if((_<=0||nt==k.length||tt.getSide()>0?nt>=b:nt>b)&&(b<nt||et+1==k.children.length||(it=k.children[et+1]).length||it.getSide()>0)){let rt=0;if(nt==_e){if(tt.getSide()<=0)continue;rt=_=-tt.getSide()}let st=tt.coordsAt(Math.max(0,b-_e),_);return rt&&st?flattenRect(st,_<0):st}_e=nt}let $=k.dom.lastChild;if(!$)return k.dom.getBoundingClientRect();let j=clientRectsFor($);return j[j.length-1]||null}function combineAttrs(k,b){for(let _ in k)_=="class"&&b.class?b.class+=" "+k.class:_=="style"&&b.style?b.style+=";"+k.style:b[_]=k[_];return b}function attrsEq(k,b){if(k==b)return!0;if(!k||!b)return!1;let _=Object.keys(k),$=Object.keys(b);if(_.length!=$.length)return!1;for(let j of _)if($.indexOf(j)==-1||k[j]!==b[j])return!1;return!0}function updateAttrs(k,b,_){let $=null;if(b)for(let j in b)_&&j in _||k.removeAttribute($=j);if(_)for(let j in _)b&&b[j]==_[j]||k.setAttribute($=j,_[j]);return!!$}class WidgetType{eq(b){return!1}updateDOM(b){return!1}compare(b){return this==b||this.constructor==b.constructor&&this.eq(b)}get estimatedHeight(){return-1}ignoreEvent(b){return!0}get customView(){return null}destroy(b){}}var BlockType=function(k){return k[k.Text=0]="Text",k[k.WidgetBefore=1]="WidgetBefore",k[k.WidgetAfter=2]="WidgetAfter",k[k.WidgetRange=3]="WidgetRange",k}(BlockType||(BlockType={}));class Decoration extends RangeValue{constructor(b,_,$,j){super(),this.startSide=b,this.endSide=_,this.widget=$,this.spec=j}get heightRelevant(){return!1}static mark(b){return new MarkDecoration(b)}static widget(b){let _=b.side||0,$=!!b.block;return _+=$?_>0?3e8:-4e8:_>0?1e8:-1e8,new PointDecoration(b,_,_,$,b.widget||null,!1)}static replace(b){let _=!!b.block,$,j;if(b.isBlockGap)$=-5e8,j=4e8;else{let{start:_e,end:et}=getInclusive(b,_);$=(_e?_?-3e8:-1:5e8)-1,j=(et?_?2e8:1:-6e8)+1}return new PointDecoration(b,$,j,_,b.widget||null,!0)}static line(b){return new LineDecoration(b)}static set(b,_=!1){return RangeSet.of(b,_)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Decoration.none=RangeSet.empty;class MarkDecoration extends Decoration{constructor(b){let{start:_,end:$}=getInclusive(b);super(_?-1:5e8,$?1:-6e8,null,b),this.tagName=b.tagName||"span",this.class=b.class||"",this.attrs=b.attributes||null}eq(b){return this==b||b instanceof MarkDecoration&&this.tagName==b.tagName&&this.class==b.class&&attrsEq(this.attrs,b.attrs)}range(b,_=b){if(b>=_)throw new RangeError("Mark decorations may not be empty");return super.range(b,_)}}MarkDecoration.prototype.point=!1;class LineDecoration extends Decoration{constructor(b){super(-2e8,-2e8,null,b)}eq(b){return b instanceof LineDecoration&&attrsEq(this.spec.attributes,b.spec.attributes)}range(b,_=b){if(_!=b)throw new RangeError("Line decoration ranges must be zero-length");return super.range(b,_)}}LineDecoration.prototype.mapMode=MapMode.TrackBefore;LineDecoration.prototype.point=!0;class PointDecoration extends Decoration{constructor(b,_,$,j,_e,et){super(_,$,_e,b),this.block=j,this.isReplace=et,this.mapMode=j?_<=0?MapMode.TrackBefore:MapMode.TrackAfter:MapMode.TrackDel}get type(){return this.startSide<this.endSide?BlockType.WidgetRange:this.startSide<=0?BlockType.WidgetBefore:BlockType.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(b){return b instanceof PointDecoration&&widgetsEq(this.widget,b.widget)&&this.block==b.block&&this.startSide==b.startSide&&this.endSide==b.endSide}range(b,_=b){if(this.isReplace&&(b>_||b==_&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&_!=b)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(b,_)}}PointDecoration.prototype.point=!0;function getInclusive(k,b=!1){let{inclusiveStart:_,inclusiveEnd:$}=k;return _==null&&(_=k.inclusive),$==null&&($=k.inclusive),{start:_!=null?_:b,end:$!=null?$:b}}function widgetsEq(k,b){return k==b||!!(k&&b&&k.compare(b))}function addRange(k,b,_,$=0){let j=_.length-1;j>=0&&_[j]+$>=k?_[j]=Math.max(_[j],b):_.push(k,b)}class LineView extends ContentView{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(b,_,$,j,_e,et){if($){if(!($ instanceof LineView))return!1;this.dom||$.transferDOM(this)}return j&&this.setDeco($?$.attrs:null),mergeChildrenInto(this,b,_,$?$.children:[],_e,et),!0}split(b){let _=new LineView;if(_.breakAfter=this.breakAfter,this.length==0)return _;let{i:$,off:j}=this.childPos(b);j&&(_.append(this.children[$].split(j),0),this.children[$].merge(j,this.children[$].length,null,!1,0,0),$++);for(let _e=$;_e<this.children.length;_e++)_.append(this.children[_e],0);for(;$>0&&this.children[$-1].length==0;)this.children[--$].destroy();return this.children.length=$,this.markDirty(),this.length=b,_}transferDOM(b){!this.dom||(this.markDirty(),b.setDOM(this.dom),b.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(b){attrsEq(this.attrs,b)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=b)}append(b,_){joinInlineInto(this,b,_)}addLineDeco(b){let _=b.spec.attributes,$=b.spec.class;_&&(this.attrs=combineAttrs(_,this.attrs||{})),$&&(this.attrs=combineAttrs({class:$},this.attrs||{}))}domAtPos(b){return inlineDOMAtPos(this.dom,this.children,b)}reuseDOM(b){b.nodeName=="DIV"&&(this.setDOM(b),this.dirty|=6)}sync(b){var _;this.dom?this.dirty&4&&(clearAttributes(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(updateAttrs(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(b);let $=this.dom.lastChild;for(;$&&ContentView.get($)instanceof MarkView;)$=$.lastChild;if(!$||!this.length||$.nodeName!="BR"&&((_=ContentView.get($))===null||_===void 0?void 0:_.isEditable)==!1&&(!browser.ios||!this.children.some(j=>j instanceof TextView))){let j=document.createElement("BR");j.cmIgnore=!0,this.dom.appendChild(j)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let b=0;for(let _ of this.children){if(!(_ instanceof TextView)||/[^ -~]/.test(_.text))return null;let $=clientRectsFor(_.dom);if($.length!=1)return null;b+=$[0].width}return b?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:b/this.length}:null}coordsAt(b,_){return coordsInChildren(this,b,_)}become(b){return!1}get type(){return BlockType.Text}static find(b,_){for(let $=0,j=0;$<b.children.length;$++){let _e=b.children[$],et=j+_e.length;if(et>=_){if(_e instanceof LineView)return _e;if(et>_)break}j=et+_e.breakAfter}return null}}class BlockWidgetView extends ContentView{constructor(b,_,$){super(),this.widget=b,this.length=_,this.type=$,this.breakAfter=0,this.prevWidget=null}merge(b,_,$,j,_e,et){return $&&(!($ instanceof BlockWidgetView)||!this.widget.compare($.widget)||b>0&&_e<=0||_<this.length&&et<=0)?!1:(this.length=b+($?$.length:0)+(this.length-_),!0)}domAtPos(b){return b==0?DOMPos.before(this.dom):DOMPos.after(this.dom,b==this.length)}split(b){let _=this.length-b;this.length=b;let $=new BlockWidgetView(this.widget,_,this.type);return $.breakAfter=this.breakAfter,$}get children(){return noChildren}sync(){(!this.dom||!this.widget.updateDOM(this.dom))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Text.empty}domBoundsAround(){return null}become(b){return b instanceof BlockWidgetView&&b.type==this.type&&b.widget.constructor==this.widget.constructor?(b.widget.eq(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=b.widget,this.length=b.length,this.breakAfter=b.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(b){return this.widget.ignoreEvent(b)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class ContentBuilder{constructor(b,_,$,j){this.doc=b,this.pos=_,this.end=$,this.disallowBlockEffectsFor=j,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=b.iter(),this.skip=_}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let b=this.content[this.content.length-1];return!b.breakAfter&&!(b instanceof BlockWidgetView&&b.type==BlockType.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new LineView),this.atCursorPos=!0),this.curLine}flushBuffer(b){this.pendingBuffer&&(this.curLine.append(wrapMarks(new WidgetBufferView(-1),b),b.length),this.pendingBuffer=0)}addBlockWidget(b){this.flushBuffer([]),this.curLine=null,this.content.push(b)}finish(b){b?this.pendingBuffer=0:this.flushBuffer([]),this.posCovered()||this.getLine()}buildText(b,_,$){for(;b>0;){if(this.textOff==this.text.length){let{value:_e,lineBreak:et,done:tt}=this.cursor.next(this.skip);if(this.skip=0,tt)throw new Error("Ran out of text content when drawing inline views");if(et){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer([]),this.curLine=null,b--;continue}else this.text=_e,this.textOff=0}let j=Math.min(this.text.length-this.textOff,b,512);this.flushBuffer(_.slice(0,$)),this.getLine().append(wrapMarks(new TextView(this.text.slice(this.textOff,this.textOff+j)),_),$),this.atCursorPos=!0,this.textOff+=j,b-=j,$=0}}span(b,_,$,j){this.buildText(_-b,$,j),this.pos=_,this.openStart<0&&(this.openStart=j)}point(b,_,$,j,_e,et){if(this.disallowBlockEffectsFor[et]&&$ instanceof PointDecoration){if($.block)throw new RangeError("Block decorations may not be specified via plugins");if(_>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let tt=_-b;if($ instanceof PointDecoration)if($.block){let{type:nt}=$;nt==BlockType.WidgetAfter&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new BlockWidgetView($.widget||new NullWidget("div"),tt,nt))}else{let nt=WidgetView.create($.widget||new NullWidget("span"),tt,$.startSide),it=this.atCursorPos&&!nt.isEditable&&_e<=j.length&&(b<_||$.startSide>0),rt=!nt.isEditable&&(b<_||$.startSide<=0),st=this.getLine();this.pendingBuffer==2&&!it&&(this.pendingBuffer=0),this.flushBuffer(j),it&&(st.append(wrapMarks(new WidgetBufferView(1),j),_e),_e=j.length+Math.max(0,_e-j.length)),st.append(wrapMarks(nt,j),_e),this.atCursorPos=rt,this.pendingBuffer=rt?b<_?1:2:0}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco($);tt&&(this.textOff+tt<=this.text.length?this.textOff+=tt:(this.skip+=tt-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=_),this.openStart<0&&(this.openStart=_e)}static build(b,_,$,j,_e){let et=new ContentBuilder(b,_,$,_e);return et.openEnd=RangeSet.spans(j,_,$,et),et.openStart<0&&(et.openStart=et.openEnd),et.finish(et.openEnd),et}}function wrapMarks(k,b){for(let _ of b)k=new MarkView(_,[k],k.length);return k}class NullWidget extends WidgetType{constructor(b){super(),this.tag=b}eq(b){return b.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(b){return b.nodeName.toLowerCase()==this.tag}}const clickAddsSelectionRange=Facet.define(),dragMovesSelection$1=Facet.define(),mouseSelectionStyle=Facet.define(),exceptionSink=Facet.define(),updateListener=Facet.define(),inputHandler$1=Facet.define(),perLineTextDirection=Facet.define({combine:k=>k.some(b=>b)});class ScrollTarget{constructor(b,_="nearest",$="nearest",j=5,_e=5){this.range=b,this.y=_,this.x=$,this.yMargin=j,this.xMargin=_e}map(b){return b.empty?this:new ScrollTarget(this.range.map(b),this.y,this.x,this.yMargin,this.xMargin)}}const scrollIntoView$1=StateEffect.define({map:(k,b)=>k.map(b)});function logException(k,b,_){let $=k.facet(exceptionSink);$.length?$[0](b):window.onerror?window.onerror(String(b),_,void 0,void 0,b):_?console.error(_+":",b):console.error(b)}const editable=Facet.define({combine:k=>k.length?k[0]:!0});let nextPluginID=0;const viewPlugin=Facet.define();class ViewPlugin{constructor(b,_,$,j){this.id=b,this.create=_,this.domEventHandlers=$,this.extension=j(this)}static define(b,_){const{eventHandlers:$,provide:j,decorations:_e}=_||{};return new ViewPlugin(nextPluginID++,b,$,et=>{let tt=[viewPlugin.of(et)];return _e&&tt.push(decorations.of(nt=>{let it=nt.plugin(et);return it?_e(it):Decoration.none})),j&&tt.push(j(et)),tt})}static fromClass(b,_){return ViewPlugin.define($=>new b($),_)}}class PluginInstance{constructor(b){this.spec=b,this.mustUpdate=null,this.value=null}update(b){if(this.value){if(this.mustUpdate){let _=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(_)}catch($){if(logException(_.state,$,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(b)}catch(_){logException(b.state,_,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(b){var _;if(!((_=this.value)===null||_===void 0)&&_.destroy)try{this.value.destroy()}catch($){logException(b.state,$,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const editorAttributes=Facet.define(),contentAttributes=Facet.define(),decorations=Facet.define(),atomicRanges=Facet.define(),scrollMargins=Facet.define(),styleModule=Facet.define();class ChangedRange{constructor(b,_,$,j){this.fromA=b,this.toA=_,this.fromB=$,this.toB=j}join(b){return new ChangedRange(Math.min(this.fromA,b.fromA),Math.max(this.toA,b.toA),Math.min(this.fromB,b.fromB),Math.max(this.toB,b.toB))}addToSet(b){let _=b.length,$=this;for(;_>0;_--){let j=b[_-1];if(!(j.fromA>$.toA)){if(j.toA<$.fromA)break;$=$.join(j),b.splice(_-1,1)}}return b.splice(_,0,$),b}static extendWithRanges(b,_){if(_.length==0)return b;let $=[];for(let j=0,_e=0,et=0,tt=0;;j++){let nt=j==b.length?null:b[j],it=et-tt,rt=nt?nt.fromB:1e9;for(;_e<_.length&&_[_e]<rt;){let st=_[_e],ot=_[_e+1],ut=Math.max(tt,st),lt=Math.min(rt,ot);if(ut<=lt&&new ChangedRange(ut+it,lt+it,ut,lt).addToSet($),ot>rt)break;_e+=2}if(!nt)return $;new ChangedRange(nt.fromA,nt.toA,nt.fromB,nt.toB).addToSet($),et=nt.toA,tt=nt.toB}}}class ViewUpdate{constructor(b,_,$){this.view=b,this.state=_,this.transactions=$,this.flags=0,this.startState=b.state,this.changes=ChangeSet.empty(this.startState.doc.length);for(let et of $)this.changes=this.changes.compose(et.changes);let j=[];this.changes.iterChangedRanges((et,tt,nt,it)=>j.push(new ChangedRange(et,tt,nt,it))),this.changedRanges=j;let _e=b.hasFocus;_e!=b.inputState.notifiedFocused&&(b.inputState.notifiedFocused=_e,this.flags|=1)}static create(b,_,$){return new ViewUpdate(b,_,$)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(b=>b.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}var Direction=function(k){return k[k.LTR=0]="LTR",k[k.RTL=1]="RTL",k}(Direction||(Direction={}));const LTR=Direction.LTR,RTL=Direction.RTL;function dec(k){let b=[];for(let _=0;_<k.length;_++)b.push(1<<+k[_]);return b}const LowTypes=dec("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),ArabicTypes=dec("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Brackets=Object.create(null),BracketStack=[];for(let k of["()","[]","{}"]){let b=k.charCodeAt(0),_=k.charCodeAt(1);Brackets[b]=_,Brackets[_]=-b}function charType(k){return k<=247?LowTypes[k]:1424<=k&&k<=1524?2:1536<=k&&k<=1785?ArabicTypes[k-1536]:1774<=k&&k<=2220?4:8192<=k&&k<=8203||k==8204?256:1}const BidiRE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;class BidiSpan{constructor(b,_,$){this.from=b,this.to=_,this.level=$}get dir(){return this.level%2?RTL:LTR}side(b,_){return this.dir==_==b?this.to:this.from}static find(b,_,$,j){let _e=-1;for(let et=0;et<b.length;et++){let tt=b[et];if(tt.from<=_&&tt.to>=_){if(tt.level==$)return et;(_e<0||(j!=0?j<0?tt.from<_:tt.to>_:b[_e].level>tt.level))&&(_e=et)}}if(_e<0)throw new RangeError("Index out of range");return _e}}const types$2=[];function computeOrder(k,b){let _=k.length,$=b==LTR?1:2,j=b==LTR?2:1;if(!k||$==1&&!BidiRE.test(k))return trivialOrder(_);for(let et=0,tt=$,nt=$;et<_;et++){let it=charType(k.charCodeAt(et));it==512?it=tt:it==8&&nt==4&&(it=16),types$2[et]=it==4?2:it,it&7&&(nt=it),tt=it}for(let et=0,tt=$,nt=$;et<_;et++){let it=types$2[et];if(it==128)et<_-1&&tt==types$2[et+1]&&tt&24?it=types$2[et]=tt:types$2[et]=256;else if(it==64){let rt=et+1;for(;rt<_&&types$2[rt]==64;)rt++;let st=et&&tt==8||rt<_&&types$2[rt]==8?nt==1?1:8:256;for(let ot=et;ot<rt;ot++)types$2[ot]=st;et=rt-1}else it==8&&nt==1&&(types$2[et]=1);tt=it,it&7&&(nt=it)}for(let et=0,tt=0,nt=0,it,rt,st;et<_;et++)if(rt=Brackets[it=k.charCodeAt(et)])if(rt<0){for(let ot=tt-3;ot>=0;ot-=3)if(BracketStack[ot+1]==-rt){let ut=BracketStack[ot+2],lt=ut&2?$:ut&4?ut&1?j:$:0;lt&&(types$2[et]=types$2[BracketStack[ot]]=lt),tt=ot;break}}else{if(BracketStack.length==189)break;BracketStack[tt++]=et,BracketStack[tt++]=it,BracketStack[tt++]=nt}else if((st=types$2[et])==2||st==1){let ot=st==$;nt=ot?0:1;for(let ut=tt-3;ut>=0;ut-=3){let lt=BracketStack[ut+2];if(lt&2)break;if(ot)BracketStack[ut+2]|=2;else{if(lt&4)break;BracketStack[ut+2]|=4}}}for(let et=0;et<_;et++)if(types$2[et]==256){let tt=et+1;for(;tt<_&&types$2[tt]==256;)tt++;let nt=(et?types$2[et-1]:$)==1,it=(tt<_?types$2[tt]:$)==1,rt=nt==it?nt?1:2:$;for(let st=et;st<tt;st++)types$2[st]=rt;et=tt-1}let _e=[];if($==1)for(let et=0;et<_;){let tt=et,nt=types$2[et++]!=1;for(;et<_&&nt==(types$2[et]!=1);)et++;if(nt)for(let it=et;it>tt;){let rt=it,st=types$2[--it]!=2;for(;it>tt&&st==(types$2[it-1]!=2);)it--;_e.push(new BidiSpan(it,rt,st?2:1))}else _e.push(new BidiSpan(tt,et,0))}else for(let et=0;et<_;){let tt=et,nt=types$2[et++]==2;for(;et<_&&nt==(types$2[et]==2);)et++;_e.push(new BidiSpan(tt,et,nt?1:2))}return _e}function trivialOrder(k){return[new BidiSpan(0,k,0)]}let movedOver="";function moveVisually(k,b,_,$,j){var _e;let et=$.head-k.from,tt=-1;if(et==0){if(!j||!k.length)return null;b[0].level!=_&&(et=b[0].side(!1,_),tt=0)}else if(et==k.length){if(j)return null;let ot=b[b.length-1];ot.level!=_&&(et=ot.side(!0,_),tt=b.length-1)}tt<0&&(tt=BidiSpan.find(b,et,(_e=$.bidiLevel)!==null&&_e!==void 0?_e:-1,$.assoc));let nt=b[tt];et==nt.side(j,_)&&(nt=b[tt+=j?1:-1],et=nt.side(!j,_));let it=j==(nt.dir==_),rt=findClusterBreak(k.text,et,it);if(movedOver=k.text.slice(Math.min(et,rt),Math.max(et,rt)),rt!=nt.side(j,_))return EditorSelection.cursor(rt+k.from,it?-1:1,nt.level);let st=tt==(j?b.length-1:0)?null:b[tt+(j?1:-1)];return!st&&nt.level!=_?EditorSelection.cursor(j?k.to:k.from,j?-1:1,_):st&&st.level<nt.level?EditorSelection.cursor(st.side(!j,_)+k.from,j?1:-1,st.level):EditorSelection.cursor(rt+k.from,j?-1:1,nt.level)}const LineBreakPlaceholder="\uFFFF";class DOMReader{constructor(b,_){this.points=b,this.text="",this.lineSeparator=_.facet(EditorState.lineSeparator)}append(b){this.text+=b}lineBreak(){this.text+=LineBreakPlaceholder}readRange(b,_){if(!b)return this;let $=b.parentNode;for(let j=b;;){this.findPointBefore($,j),this.readNode(j);let _e=j.nextSibling;if(_e==_)break;let et=ContentView.get(j),tt=ContentView.get(_e);(et&&tt?et.breakAfter:(et?et.breakAfter:isBlockElement(j))||isBlockElement(_e)&&(j.nodeName!="BR"||j.cmIgnore))&&this.lineBreak(),j=_e}return this.findPointBefore($,_),this}readTextNode(b){let _=b.nodeValue;for(let $ of this.points)$.node==b&&($.pos=this.text.length+Math.min($.offset,_.length));for(let $=0,j=this.lineSeparator?null:/\r\n?|\n/g;;){let _e=-1,et=1,tt;if(this.lineSeparator?(_e=_.indexOf(this.lineSeparator,$),et=this.lineSeparator.length):(tt=j.exec(_))&&(_e=tt.index,et=tt[0].length),this.append(_.slice($,_e<0?_.length:_e)),_e<0)break;if(this.lineBreak(),et>1)for(let nt of this.points)nt.node==b&&nt.pos>this.text.length&&(nt.pos-=et-1);$=_e+et}}readNode(b){if(b.cmIgnore)return;let _=ContentView.get(b),$=_&&_.overrideDOMText;if($!=null){this.findPointInside(b,$.length);for(let j=$.iter();!j.next().done;)j.lineBreak?this.lineBreak():this.append(j.value)}else b.nodeType==3?this.readTextNode(b):b.nodeName=="BR"?b.nextSibling&&this.lineBreak():b.nodeType==1&&this.readRange(b.firstChild,null)}findPointBefore(b,_){for(let $ of this.points)$.node==b&&b.childNodes[$.offset]==_&&($.pos=this.text.length)}findPointInside(b,_){for(let $ of this.points)(b.nodeType==3?$.node==b:b.contains($.node))&&($.pos=this.text.length+Math.min(_,$.offset))}}function isBlockElement(k){return k.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(k.nodeName)}class DOMPoint{constructor(b,_){this.node=b,this.offset=_,this.pos=-1}}class DocView extends ContentView{constructor(b){super(),this.view=b,this.compositionDeco=Decoration.none,this.decorations=[],this.dynamicDecorationMap=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(b.contentDOM),this.children=[new LineView],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new ChangedRange(0,0,0,b.state.doc.length)],0)}get editorView(){return this.view}get length(){return this.view.state.doc.length}update(b){let _=b.changedRanges;this.minWidth>0&&_.length&&(_.every(({fromA:et,toA:tt})=>tt<this.minWidthFrom||et>this.minWidthTo)?(this.minWidthFrom=b.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=b.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=Decoration.none:(b.transactions.length||this.dirty)&&(this.compositionDeco=computeCompositionDeco(this.view,b.changes)),(browser.ie||browser.chrome)&&!this.compositionDeco.size&&b&&b.state.doc.lines!=b.startState.doc.lines&&(this.forceSelection=!0);let $=this.decorations,j=this.updateDeco(),_e=findChangedDeco($,j,b.changes);return _=ChangedRange.extendWithRanges(_,_e),this.dirty==0&&_.length==0?!1:(this.updateInner(_,b.startState.doc.length),b.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(b,_){this.view.viewState.mustMeasureContent=!0,this.updateChildren(b,_);let{observer:$}=this.view;$.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let _e=browser.chrome||browser.ios?{node:$.selectionRange.focusNode,written:!1}:void 0;this.sync(_e),this.dirty=0,_e&&(_e.written||$.selectionRange.focusNode!=_e.node)&&(this.forceSelection=!0),this.dom.style.height=""});let j=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let _e of this.children)_e instanceof BlockWidgetView&&_e.widget instanceof BlockGapWidget&&j.push(_e.dom);$.updateGaps(j)}updateChildren(b,_){let $=this.childCursor(_);for(let j=b.length-1;;j--){let _e=j>=0?b[j]:null;if(!_e)break;let{fromA:et,toA:tt,fromB:nt,toB:it}=_e,{content:rt,breakAtStart:st,openStart:ot,openEnd:ut}=ContentBuilder.build(this.view.state.doc,nt,it,this.decorations,this.dynamicDecorationMap),{i:lt,off:ft}=$.findPos(tt,1),{i:ct,off:pt}=$.findPos(et,-1);replaceRange(this,ct,pt,lt,ft,rt,st,ot,ut)}}updateSelection(b=!1,_=!1){if((b||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange(),!(_||this.mayControlSelection())||browser.ios&&this.view.inputState.rapidCompositionStart)return;let $=this.forceSelection;this.forceSelection=!1;let j=this.view.state.selection.main,_e=this.domAtPos(j.anchor),et=j.empty?_e:this.domAtPos(j.head);if(browser.gecko&&j.empty&&betweenUneditable(_e)){let nt=document.createTextNode("");this.view.observer.ignore(()=>_e.node.insertBefore(nt,_e.node.childNodes[_e.offset]||null)),_e=et=new DOMPos(nt,0),$=!0}let tt=this.view.observer.selectionRange;($||!tt.focusNode||!isEquivalentPosition(_e.node,_e.offset,tt.anchorNode,tt.anchorOffset)||!isEquivalentPosition(et.node,et.offset,tt.focusNode,tt.focusOffset))&&(this.view.observer.ignore(()=>{browser.android&&browser.chrome&&this.dom.contains(tt.focusNode)&&inUneditable(tt.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let nt=getSelection(this.view.root);if(nt)if(j.empty){if(browser.gecko){let it=nextToUneditable(_e.node,_e.offset);if(it&&it!=3){let rt=nearbyTextNode(_e.node,_e.offset,it==1?1:-1);rt&&(_e=new DOMPos(rt,it==1?0:rt.nodeValue.length))}}nt.collapse(_e.node,_e.offset),j.bidiLevel!=null&&tt.cursorBidiLevel!=null&&(tt.cursorBidiLevel=j.bidiLevel)}else if(nt.extend)nt.collapse(_e.node,_e.offset),nt.extend(et.node,et.offset);else{let it=document.createRange();j.anchor>j.head&&([_e,et]=[et,_e]),it.setEnd(et.node,et.offset),it.setStart(_e.node,_e.offset),nt.removeAllRanges(),nt.addRange(it)}}),this.view.observer.setSelectionRange(_e,et)),this.impreciseAnchor=_e.precise?null:new DOMPos(tt.anchorNode,tt.anchorOffset),this.impreciseHead=et.precise?null:new DOMPos(tt.focusNode,tt.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let b=this.view.state.selection.main,_=getSelection(this.view.root);if(!_||!b.empty||!b.assoc||!_.modify)return;let $=LineView.find(this,b.head);if(!$)return;let j=$.posAtStart;if(b.head==j||b.head==j+$.length)return;let _e=this.coordsAt(b.head,-1),et=this.coordsAt(b.head,1);if(!_e||!et||_e.bottom>et.top)return;let tt=this.domAtPos(b.head+b.assoc);_.collapse(tt.node,tt.offset),_.modify("move",b.assoc<0?"forward":"backward","lineboundary")}mayControlSelection(){let b=this.view.root.activeElement;return b==this.dom||hasSelection(this.dom,this.view.observer.selectionRange)&&!(b&&this.dom.contains(b))}nearest(b){for(let _=b;_;){let $=ContentView.get(_);if($&&$.rootView==this)return $;_=_.parentNode}return null}posFromDOM(b,_){let $=this.nearest(b);if(!$)throw new RangeError("Trying to find position for a DOM position outside of the document");return $.localPosFromDOM(b,_)+$.posAtStart}domAtPos(b){let{i:_,off:$}=this.childCursor().findPos(b,-1);for(;_<this.children.length-1;){let j=this.children[_];if($<j.length||j instanceof LineView)break;_++,$=0}return this.children[_].domAtPos($)}coordsAt(b,_){for(let $=this.length,j=this.children.length-1;;j--){let _e=this.children[j],et=$-_e.breakAfter-_e.length;if(b>et||b==et&&_e.type!=BlockType.WidgetBefore&&_e.type!=BlockType.WidgetAfter&&(!j||_==2||this.children[j-1].breakAfter||this.children[j-1].type==BlockType.WidgetBefore&&_>-2))return _e.coordsAt(b-et,_);$=et}}measureVisibleLineHeights(b){let _=[],{from:$,to:j}=b,_e=this.view.contentDOM.clientWidth,et=_e>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,tt=-1,nt=this.view.textDirection==Direction.LTR;for(let it=0,rt=0;rt<this.children.length;rt++){let st=this.children[rt],ot=it+st.length;if(ot>j)break;if(it>=$){let ut=st.dom.getBoundingClientRect();if(_.push(ut.height),et){let lt=st.dom.lastChild,ft=lt?clientRectsFor(lt):[];if(ft.length){let ct=ft[ft.length-1],pt=nt?ct.right-ut.left:ut.right-ct.left;pt>tt&&(tt=pt,this.minWidth=_e,this.minWidthFrom=it,this.minWidthTo=ot)}}}it=ot+st.breakAfter}return _}textDirectionAt(b){let{i:_}=this.childPos(b,1);return getComputedStyle(this.children[_].dom).direction=="rtl"?Direction.RTL:Direction.LTR}measureTextSize(){for(let j of this.children)if(j instanceof LineView){let _e=j.measureTextSize();if(_e)return _e}let b=document.createElement("div"),_,$;return b.className="cm-line",b.style.width="99999px",b.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(b);let j=clientRectsFor(b.firstChild)[0];_=b.getBoundingClientRect().height,$=j?j.width/27:7,b.remove()}),{lineHeight:_,charWidth:$}}childCursor(b=this.length){let _=this.children.length;return _&&(b-=this.children[--_].length),new ChildCursor(this.children,b,_)}computeBlockGapDeco(){let b=[],_=this.view.viewState;for(let $=0,j=0;;j++){let _e=j==_.viewports.length?null:_.viewports[j],et=_e?_e.from-1:this.length;if(et>$){let tt=_.lineBlockAt(et).bottom-_.lineBlockAt($).top;b.push(Decoration.replace({widget:new BlockGapWidget(tt),block:!0,inclusive:!0,isBlockGap:!0}).range($,et))}if(!_e)break;$=_e.to+1}return Decoration.set(b)}updateDeco(){let b=this.view.state.facet(decorations).map((_,$)=>(this.dynamicDecorationMap[$]=typeof _=="function")?_(this.view):_);for(let _=b.length;_<b.length+3;_++)this.dynamicDecorationMap[_]=!1;return this.decorations=[...b,this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(b){let{range:_}=b,$=this.coordsAt(_.head,_.empty?_.assoc:_.head>_.anchor?-1:1),j;if(!$)return;!_.empty&&(j=this.coordsAt(_.anchor,_.anchor>_.head?-1:1))&&($={left:Math.min($.left,j.left),top:Math.min($.top,j.top),right:Math.max($.right,j.right),bottom:Math.max($.bottom,j.bottom)});let _e=0,et=0,tt=0,nt=0;for(let rt of this.view.state.facet(scrollMargins).map(st=>st(this.view)))if(rt){let{left:st,right:ot,top:ut,bottom:lt}=rt;st!=null&&(_e=Math.max(_e,st)),ot!=null&&(et=Math.max(et,ot)),ut!=null&&(tt=Math.max(tt,ut)),lt!=null&&(nt=Math.max(nt,lt))}let it={left:$.left-_e,top:$.top-tt,right:$.right+et,bottom:$.bottom+nt};scrollRectIntoView(this.view.scrollDOM,it,_.head<_.anchor?-1:1,b.x,b.y,b.xMargin,b.yMargin,this.view.textDirection==Direction.LTR)}}function betweenUneditable(k){return k.node.nodeType==1&&k.node.firstChild&&(k.offset==0||k.node.childNodes[k.offset-1].contentEditable=="false")&&(k.offset==k.node.childNodes.length||k.node.childNodes[k.offset].contentEditable=="false")}class BlockGapWidget extends WidgetType{constructor(b){super(),this.height=b}toDOM(){let b=document.createElement("div");return this.updateDOM(b),b}eq(b){return b.height==this.height}updateDOM(b){return b.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function compositionSurroundingNode(k){let b=k.observer.selectionRange,_=b.focusNode&&nearbyTextNode(b.focusNode,b.focusOffset,0);if(!_)return null;let $=k.docView.nearest(_);if(!$)return null;if($ instanceof LineView){let j=_;for(;j.parentNode!=$.dom;)j=j.parentNode;let _e=j.previousSibling;for(;_e&&!ContentView.get(_e);)_e=_e.previousSibling;let et=_e?ContentView.get(_e).posAtEnd:$.posAtStart;return{from:et,to:et,node:j,text:_}}else{for(;;){let{parent:_e}=$;if(!_e)return null;if(_e instanceof LineView)break;$=_e}let j=$.posAtStart;return{from:j,to:j+$.length,node:$.dom,text:_}}}function computeCompositionDeco(k,b){let _=compositionSurroundingNode(k);if(!_)return Decoration.none;let{from:$,to:j,node:_e,text:et}=_,tt=b.mapPos($,1),nt=Math.max(tt,b.mapPos(j,-1)),{state:it}=k,rt=_e.nodeType==3?_e.nodeValue:new DOMReader([],it).readRange(_e.firstChild,null).text;if(nt-tt<rt.length)if(it.doc.sliceString(tt,Math.min(it.doc.length,tt+rt.length),LineBreakPlaceholder)==rt)nt=tt+rt.length;else if(it.doc.sliceString(Math.max(0,nt-rt.length),nt,LineBreakPlaceholder)==rt)tt=nt-rt.length;else return Decoration.none;else if(it.doc.sliceString(tt,nt,LineBreakPlaceholder)!=rt)return Decoration.none;let st=ContentView.get(_e);return st instanceof CompositionView?st=st.widget.topView:st&&(st.parent=null),Decoration.set(Decoration.replace({widget:new CompositionWidget(_e,et,st),inclusive:!0}).range(tt,nt))}class CompositionWidget extends WidgetType{constructor(b,_,$){super(),this.top=b,this.text=_,this.topView=$}eq(b){return this.top==b.top&&this.text==b.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return CompositionView}}function nearbyTextNode(k,b,_){for(;;){if(k.nodeType==3)return k;if(k.nodeType==1&&b>0&&_<=0)k=k.childNodes[b-1],b=maxOffset(k);else if(k.nodeType==1&&b<k.childNodes.length&&_>=0)k=k.childNodes[b],b=0;else return null}}function nextToUneditable(k,b){return k.nodeType!=1?0:(b&&k.childNodes[b-1].contentEditable=="false"?1:0)|(b<k.childNodes.length&&k.childNodes[b].contentEditable=="false"?2:0)}class DecorationComparator$1{constructor(){this.changes=[]}compareRange(b,_){addRange(b,_,this.changes)}comparePoint(b,_){addRange(b,_,this.changes)}}function findChangedDeco(k,b,_){let $=new DecorationComparator$1;return RangeSet.compare(k,b,_,$),$.changes}function inUneditable(k,b){for(let _=k;_&&_!=b;_=_.assignedSlot||_.parentNode)if(_.nodeType==1&&_.contentEditable=="false")return!0;return!1}function groupAt(k,b,_=1){let $=k.charCategorizer(b),j=k.doc.lineAt(b),_e=b-j.from;if(j.length==0)return EditorSelection.cursor(b);_e==0?_=1:_e==j.length&&(_=-1);let et=_e,tt=_e;_<0?et=findClusterBreak(j.text,_e,!1):tt=findClusterBreak(j.text,_e);let nt=$(j.text.slice(et,tt));for(;et>0;){let it=findClusterBreak(j.text,et,!1);if($(j.text.slice(it,et))!=nt)break;et=it}for(;tt<j.length;){let it=findClusterBreak(j.text,tt);if($(j.text.slice(tt,it))!=nt)break;tt=it}return EditorSelection.range(et+j.from,tt+j.from)}function getdx(k,b){return b.left>k?b.left-k:Math.max(0,k-b.right)}function getdy(k,b){return b.top>k?b.top-k:Math.max(0,k-b.bottom)}function yOverlap(k,b){return k.top<b.bottom-1&&k.bottom>b.top+1}function upTop(k,b){return b<k.top?{top:b,left:k.left,right:k.right,bottom:k.bottom}:k}function upBot(k,b){return b>k.bottom?{top:k.top,left:k.left,right:k.right,bottom:b}:k}function domPosAtCoords(k,b,_){let $,j,_e,et,tt=!1,nt,it,rt,st;for(let lt=k.firstChild;lt;lt=lt.nextSibling){let ft=clientRectsFor(lt);for(let ct=0;ct<ft.length;ct++){let pt=ft[ct];j&&yOverlap(j,pt)&&(pt=upTop(upBot(pt,j.bottom),j.top));let mt=getdx(b,pt),wt=getdy(_,pt);if(mt==0&&wt==0)return lt.nodeType==3?domPosInText(lt,b,_):domPosAtCoords(lt,b,_);(!$||et>wt||et==wt&&_e>mt)&&($=lt,j=pt,_e=mt,et=wt,tt=!mt||(mt>0?ct<ft.length-1:ct>0)),mt==0?_>pt.bottom&&(!rt||rt.bottom<pt.bottom)?(nt=lt,rt=pt):_<pt.top&&(!st||st.top>pt.top)&&(it=lt,st=pt):rt&&yOverlap(rt,pt)?rt=upBot(rt,pt.bottom):st&&yOverlap(st,pt)&&(st=upTop(st,pt.top))}}if(rt&&rt.bottom>=_?($=nt,j=rt):st&&st.top<=_&&($=it,j=st),!$)return{node:k,offset:0};let ot=Math.max(j.left,Math.min(j.right,b));if($.nodeType==3)return domPosInText($,ot,_);if(tt&&$.contentEditable!="false")return domPosAtCoords($,ot,_);let ut=Array.prototype.indexOf.call(k.childNodes,$)+(b>=(j.left+j.right)/2?1:0);return{node:k,offset:ut}}function domPosInText(k,b,_){let $=k.nodeValue.length,j=-1,_e=1e9,et=0;for(let tt=0;tt<$;tt++){let nt=textRange(k,tt,tt+1).getClientRects();for(let it=0;it<nt.length;it++){let rt=nt[it];if(rt.top==rt.bottom)continue;et||(et=b-rt.left);let st=(rt.top>_?rt.top-_:_-rt.bottom)-1;if(rt.left-1<=b&&rt.right+1>=b&&st<_e){let ot=b>=(rt.left+rt.right)/2,ut=ot;if((browser.chrome||browser.gecko)&&textRange(k,tt).getBoundingClientRect().left==rt.right&&(ut=!ot),st<=0)return{node:k,offset:tt+(ut?1:0)};j=tt+(ut?1:0),_e=st}}}return{node:k,offset:j>-1?j:et>0?k.nodeValue.length:0}}function posAtCoords(k,{x:b,y:_},$,j=-1){var _e;let et=k.contentDOM.getBoundingClientRect(),tt=et.top+k.viewState.paddingTop,nt,{docHeight:it}=k.viewState,rt=_-tt;if(rt<0)return 0;if(rt>it)return k.state.doc.length;for(let pt=k.defaultLineHeight/2,mt=!1;nt=k.elementAtHeight(rt),nt.type!=BlockType.Text;)for(;rt=j>0?nt.bottom+pt:nt.top-pt,!(rt>=0&&rt<=it);){if(mt)return $?null:0;mt=!0,j=-j}_=tt+rt;let st=nt.from;if(st<k.viewport.from)return k.viewport.from==0?0:$?null:posAtCoordsImprecise(k,et,nt,b,_);if(st>k.viewport.to)return k.viewport.to==k.state.doc.length?k.state.doc.length:$?null:posAtCoordsImprecise(k,et,nt,b,_);let ot=k.dom.ownerDocument,ut=k.root.elementFromPoint?k.root:ot,lt=ut.elementFromPoint(b,_);lt&&!k.contentDOM.contains(lt)&&(lt=null),lt||(b=Math.max(et.left+1,Math.min(et.right-1,b)),lt=ut.elementFromPoint(b,_),lt&&!k.contentDOM.contains(lt)&&(lt=null));let ft,ct=-1;if(lt&&((_e=k.docView.nearest(lt))===null||_e===void 0?void 0:_e.isEditable)!=!1){if(ot.caretPositionFromPoint){let pt=ot.caretPositionFromPoint(b,_);pt&&({offsetNode:ft,offset:ct}=pt)}else if(ot.caretRangeFromPoint){let pt=ot.caretRangeFromPoint(b,_);pt&&({startContainer:ft,startOffset:ct}=pt,(!k.contentDOM.contains(ft)||browser.safari&&isSuspiciousSafariCaretResult(ft,ct,b)||browser.chrome&&isSuspiciousChromeCaretResult(ft,ct,b))&&(ft=void 0))}}if(!ft||!k.docView.dom.contains(ft)){let pt=LineView.find(k.docView,st);if(!pt)return rt>nt.top+nt.height/2?nt.to:nt.from;({node:ft,offset:ct}=domPosAtCoords(pt.dom,b,_))}return k.docView.posFromDOM(ft,ct)}function posAtCoordsImprecise(k,b,_,$,j){let _e=Math.round(($-b.left)*k.defaultCharacterWidth);if(k.lineWrapping&&_.height>k.defaultLineHeight*1.5){let tt=Math.floor((j-_.top)/k.defaultLineHeight);_e+=tt*k.viewState.heightOracle.lineLength}let et=k.state.sliceDoc(_.from,_.to);return _.from+findColumn(et,_e,k.state.tabSize)}function isSuspiciousSafariCaretResult(k,b,_){let $;if(k.nodeType!=3||b!=($=k.nodeValue.length))return!1;for(let j=k.nextSibling;j;j=j.nextSibling)if(j.nodeType!=1||j.nodeName!="BR")return!1;return textRange(k,$-1,$).getBoundingClientRect().left>_}function isSuspiciousChromeCaretResult(k,b,_){if(b!=0)return!1;for(let j=k;;){let _e=j.parentNode;if(!_e||_e.nodeType!=1||_e.firstChild!=j)return!1;if(_e.classList.contains("cm-line"))break;j=_e}let $=k.nodeType==1?k.getBoundingClientRect():textRange(k,0,Math.max(k.nodeValue.length,1)).getBoundingClientRect();return _-$.left>5}function moveToLineBoundary(k,b,_,$){let j=k.state.doc.lineAt(b.head),_e=!$||!k.lineWrapping?null:k.coordsAtPos(b.assoc<0&&b.head>j.from?b.head-1:b.head);if(_e){let nt=k.dom.getBoundingClientRect(),it=k.textDirectionAt(j.from),rt=k.posAtCoords({x:_==(it==Direction.LTR)?nt.right-1:nt.left+1,y:(_e.top+_e.bottom)/2});if(rt!=null)return EditorSelection.cursor(rt,_?-1:1)}let et=LineView.find(k.docView,b.head),tt=et?_?et.posAtEnd:et.posAtStart:_?j.to:j.from;return EditorSelection.cursor(tt,_?-1:1)}function moveByChar(k,b,_,$){let j=k.state.doc.lineAt(b.head),_e=k.bidiSpans(j),et=k.textDirectionAt(j.from);for(let tt=b,nt=null;;){let it=moveVisually(j,_e,et,tt,_),rt=movedOver;if(!it){if(j.number==(_?k.state.doc.lines:1))return tt;rt=`
`,j=k.state.doc.line(j.number+(_?1:-1)),_e=k.bidiSpans(j),it=EditorSelection.cursor(_?j.from:j.to)}if(nt){if(!nt(rt))return tt}else{if(!$)return it;nt=$(rt)}tt=it}}function byGroup(k,b,_){let $=k.state.charCategorizer(b),j=$(_);return _e=>{let et=$(_e);return j==CharCategory.Space&&(j=et),j==et}}function moveVertically(k,b,_,$){let j=b.head,_e=_?1:-1;if(j==(_?k.state.doc.length:0))return EditorSelection.cursor(j,b.assoc);let et=b.goalColumn,tt,nt=k.contentDOM.getBoundingClientRect(),it=k.coordsAtPos(j),rt=k.documentTop;if(it)et==null&&(et=it.left-nt.left),tt=_e<0?it.top:it.bottom;else{let ut=k.viewState.lineBlockAt(j);et==null&&(et=Math.min(nt.right-nt.left,k.defaultCharacterWidth*(j-ut.from))),tt=(_e<0?ut.top:ut.bottom)+rt}let st=nt.left+et,ot=$!=null?$:k.defaultLineHeight>>1;for(let ut=0;;ut+=10){let lt=tt+(ot+ut)*_e,ft=posAtCoords(k,{x:st,y:lt},!1,_e);if(lt<nt.top||lt>nt.bottom||(_e<0?ft<j:ft>j))return EditorSelection.cursor(ft,b.assoc,void 0,et)}}function skipAtoms(k,b,_){let $=k.state.facet(atomicRanges).map(j=>j(k));for(;;){let j=!1;for(let _e of $)_e.between(_.from-1,_.from+1,(et,tt,nt)=>{_.from>et&&_.from<tt&&(_=b.from>_.from?EditorSelection.cursor(et,1):EditorSelection.cursor(tt,-1),j=!0)});if(!j)return _}}class InputState{constructor(b){this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.rapidCompositionStart=!1,this.mouseSelection=null;for(let _ in handlers){let $=handlers[_];b.contentDOM.addEventListener(_,j=>{!eventBelongsToEditor(b,j)||this.ignoreDuringComposition(j)||_=="keydown"&&this.keydown(b,j)||(this.mustFlushObserver(j)&&b.observer.forceFlush(),this.runCustomHandlers(_,b,j)?j.preventDefault():$(b,j))},handlerOptions[_]),this.registeredEvents.push(_)}browser.chrome&&browser.chrome_version==102&&b.scrollDOM.addEventListener("wheel",()=>{this.chromeScrollHack<0?b.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout(()=>{this.chromeScrollHack=-1,b.contentDOM.style.pointerEvents=""},100)},{passive:!0}),this.notifiedFocused=b.hasFocus,browser.safari&&b.contentDOM.addEventListener("input",()=>null)}setSelectionOrigin(b){this.lastSelectionOrigin=b,this.lastSelectionTime=Date.now()}ensureHandlers(b,_){var $;let j;this.customHandlers=[];for(let _e of _)if(j=($=_e.update(b).spec)===null||$===void 0?void 0:$.domEventHandlers){this.customHandlers.push({plugin:_e.value,handlers:j});for(let et in j)this.registeredEvents.indexOf(et)<0&&et!="scroll"&&(this.registeredEvents.push(et),b.contentDOM.addEventListener(et,tt=>{!eventBelongsToEditor(b,tt)||this.runCustomHandlers(et,b,tt)&&tt.preventDefault()}))}}runCustomHandlers(b,_,$){for(let j of this.customHandlers){let _e=j.handlers[b];if(_e)try{if(_e.call(j.plugin,$,_)||$.defaultPrevented)return!0}catch(et){logException(_.state,et)}}return!1}runScrollHandlers(b,_){this.lastScrollTop=b.scrollDOM.scrollTop,this.lastScrollLeft=b.scrollDOM.scrollLeft;for(let $ of this.customHandlers){let j=$.handlers.scroll;if(j)try{j.call($.plugin,_,b)}catch(_e){logException(b.state,_e)}}}keydown(b,_){if(this.lastKeyCode=_.keyCode,this.lastKeyTime=Date.now(),_.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(browser.android&&browser.chrome&&!_.synthetic&&(_.keyCode==13||_.keyCode==8))return b.observer.delayAndroidKey(_.key,_.keyCode),!0;let $;return browser.ios&&($=PendingKeys.find(j=>j.keyCode==_.keyCode))&&!(_.ctrlKey||_.altKey||_.metaKey)&&!_.synthetic?(this.pendingIOSKey=$,setTimeout(()=>this.flushIOSKey(b),250),!0):!1}flushIOSKey(b){let _=this.pendingIOSKey;return _?(this.pendingIOSKey=void 0,dispatchKey(b.contentDOM,_.key,_.keyCode)):!1}ignoreDuringComposition(b){return/^key/.test(b.type)?this.composing>0?!0:browser.safari&&!browser.ios&&Date.now()-this.compositionEndedAt<100?(this.compositionEndedAt=0,!0):!1:!1}mustFlushObserver(b){return b.type=="keydown"&&b.keyCode!=229||b.type=="compositionend"&&!browser.ios}startMouseSelection(b){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=b}update(b){this.mouseSelection&&this.mouseSelection.update(b),b.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const PendingKeys=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],modifierCodes=[16,17,18,20,91,92,224,225];class MouseSelection{constructor(b,_,$,j){this.view=b,this.style=$,this.mustSelect=j,this.lastEvent=_;let _e=b.contentDOM.ownerDocument;_e.addEventListener("mousemove",this.move=this.move.bind(this)),_e.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=_.shiftKey,this.multiple=b.state.facet(EditorState.allowMultipleSelections)&&addsSelectionRange(b,_),this.dragMove=dragMovesSelection(b,_),this.dragging=isInPrimarySelection(b,_)&&getClickType(_)==1?null:!1,this.dragging===!1&&(_.preventDefault(),this.select(_))}move(b){if(b.buttons==0)return this.destroy();this.dragging===!1&&this.select(this.lastEvent=b)}up(b){this.dragging==null&&this.select(this.lastEvent),this.dragging||b.preventDefault(),this.destroy()}destroy(){let b=this.view.contentDOM.ownerDocument;b.removeEventListener("mousemove",this.move),b.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}select(b){let _=this.style.get(b,this.extend,this.multiple);(this.mustSelect||!_.eq(this.view.state.selection)||_.main.assoc!=this.view.state.selection.main.assoc)&&this.view.dispatch({selection:_,userEvent:"select.pointer",scrollIntoView:!0}),this.mustSelect=!1}update(b){b.docChanged&&this.dragging&&(this.dragging=this.dragging.map(b.changes)),this.style.update(b)&&setTimeout(()=>this.select(this.lastEvent),20)}}function addsSelectionRange(k,b){let _=k.state.facet(clickAddsSelectionRange);return _.length?_[0](b):browser.mac?b.metaKey:b.ctrlKey}function dragMovesSelection(k,b){let _=k.state.facet(dragMovesSelection$1);return _.length?_[0](b):browser.mac?!b.altKey:!b.ctrlKey}function isInPrimarySelection(k,b){let{main:_}=k.state.selection;if(_.empty)return!1;let $=getSelection(k.root);if(!$||$.rangeCount==0)return!0;let j=$.getRangeAt(0).getClientRects();for(let _e=0;_e<j.length;_e++){let et=j[_e];if(et.left<=b.clientX&&et.right>=b.clientX&&et.top<=b.clientY&&et.bottom>=b.clientY)return!0}return!1}function eventBelongsToEditor(k,b){if(!b.bubbles)return!0;if(b.defaultPrevented)return!1;for(let _=b.target,$;_!=k.contentDOM;_=_.parentNode)if(!_||_.nodeType==11||($=ContentView.get(_))&&$.ignoreEvent(b))return!1;return!0}const handlers=Object.create(null),handlerOptions=Object.create(null),brokenClipboardAPI=browser.ie&&browser.ie_version<15||browser.ios&&browser.webkit_version<604;function capturePaste(k){let b=k.dom.parentNode;if(!b)return;let _=b.appendChild(document.createElement("textarea"));_.style.cssText="position: fixed; left: -10000px; top: 10px",_.focus(),setTimeout(()=>{k.focus(),_.remove(),doPaste(k,_.value)},50)}function doPaste(k,b){let{state:_}=k,$,j=1,_e=_.toText(b),et=_e.lines==_.selection.ranges.length;if(lastLinewiseCopy!=null&&_.selection.ranges.every(nt=>nt.empty)&&lastLinewiseCopy==_e.toString()){let nt=-1;$=_.changeByRange(it=>{let rt=_.doc.lineAt(it.from);if(rt.from==nt)return{range:it};nt=rt.from;let st=_.toText((et?_e.line(j++).text:b)+_.lineBreak);return{changes:{from:rt.from,insert:st},range:EditorSelection.cursor(it.from+st.length)}})}else et?$=_.changeByRange(nt=>{let it=_e.line(j++);return{changes:{from:nt.from,to:nt.to,insert:it.text},range:EditorSelection.cursor(nt.from+it.length)}}):$=_.replaceSelection(_e);k.dispatch($,{userEvent:"input.paste",scrollIntoView:!0})}handlers.keydown=(k,b)=>{k.inputState.setSelectionOrigin("select"),b.keyCode==27?k.inputState.lastEscPress=Date.now():modifierCodes.indexOf(b.keyCode)<0&&(k.inputState.lastEscPress=0)};handlers.touchstart=(k,b)=>{k.inputState.lastTouchTime=Date.now(),k.inputState.setSelectionOrigin("select.pointer")};handlers.touchmove=k=>{k.inputState.setSelectionOrigin("select.pointer")};handlerOptions.touchstart=handlerOptions.touchmove={passive:!0};handlers.mousedown=(k,b)=>{if(k.observer.flush(),k.inputState.lastTouchTime>Date.now()-2e3&&getClickType(b)==1)return;let _=null;for(let $ of k.state.facet(mouseSelectionStyle))if(_=$(k,b),_)break;if(!_&&b.button==0&&(_=basicMouseSelection(k,b)),_){let $=k.root.activeElement!=k.contentDOM;$&&k.observer.ignore(()=>focusPreventScroll(k.contentDOM)),k.inputState.startMouseSelection(new MouseSelection(k,b,_,$))}};function rangeForClick(k,b,_,$){if($==1)return EditorSelection.cursor(b,_);if($==2)return groupAt(k.state,b,_);{let j=LineView.find(k.docView,b),_e=k.state.doc.lineAt(j?j.posAtEnd:b),et=j?j.posAtStart:_e.from,tt=j?j.posAtEnd:_e.to;return tt<k.state.doc.length&&tt==_e.to&&tt++,EditorSelection.range(et,tt)}}let insideY=(k,b)=>k>=b.top&&k<=b.bottom,inside=(k,b,_)=>insideY(b,_)&&k>=_.left&&k<=_.right;function findPositionSide(k,b,_,$){let j=LineView.find(k.docView,b);if(!j)return 1;let _e=b-j.posAtStart;if(_e==0)return 1;if(_e==j.length)return-1;let et=j.coordsAt(_e,-1);if(et&&inside(_,$,et))return-1;let tt=j.coordsAt(_e,1);return tt&&inside(_,$,tt)?1:et&&insideY($,et)?-1:1}function queryPos(k,b){let _=k.posAtCoords({x:b.clientX,y:b.clientY},!1);return{pos:_,bias:findPositionSide(k,_,b.clientX,b.clientY)}}const BadMouseDetail=browser.ie&&browser.ie_version<=11;let lastMouseDown=null,lastMouseDownCount=0,lastMouseDownTime=0;function getClickType(k){if(!BadMouseDetail)return k.detail;let b=lastMouseDown,_=lastMouseDownTime;return lastMouseDown=k,lastMouseDownTime=Date.now(),lastMouseDownCount=!b||_>Date.now()-400&&Math.abs(b.clientX-k.clientX)<2&&Math.abs(b.clientY-k.clientY)<2?(lastMouseDownCount+1)%3:1}function basicMouseSelection(k,b){let _=queryPos(k,b),$=getClickType(b),j=k.state.selection,_e=_,et=b;return{update(tt){tt.docChanged&&(_&&(_.pos=tt.changes.mapPos(_.pos)),j=j.map(tt.changes),et=null)},get(tt,nt,it){let rt;if(et&&tt.clientX==et.clientX&&tt.clientY==et.clientY?rt=_e:(rt=_e=queryPos(k,tt),et=tt),!rt||!_)return j;let st=rangeForClick(k,rt.pos,rt.bias,$);if(_.pos!=rt.pos&&!nt){let ot=rangeForClick(k,_.pos,_.bias,$),ut=Math.min(ot.from,st.from),lt=Math.max(ot.to,st.to);st=ut<st.from?EditorSelection.range(ut,lt):EditorSelection.range(lt,ut)}return nt?j.replaceRange(j.main.extend(st.from,st.to)):it&&j.ranges.length>1&&j.ranges.some(ot=>ot.eq(st))?removeRange(j,st):it?j.addRange(st):EditorSelection.create([st])}}}function removeRange(k,b){for(let _=0;;_++)if(k.ranges[_].eq(b))return EditorSelection.create(k.ranges.slice(0,_).concat(k.ranges.slice(_+1)),k.mainIndex==_?0:k.mainIndex-(k.mainIndex>_?1:0))}handlers.dragstart=(k,b)=>{let{selection:{main:_}}=k.state,{mouseSelection:$}=k.inputState;$&&($.dragging=_),b.dataTransfer&&(b.dataTransfer.setData("Text",k.state.sliceDoc(_.from,_.to)),b.dataTransfer.effectAllowed="copyMove")};function dropText(k,b,_,$){if(!_)return;let j=k.posAtCoords({x:b.clientX,y:b.clientY},!1);b.preventDefault();let{mouseSelection:_e}=k.inputState,et=$&&_e&&_e.dragging&&_e.dragMove?{from:_e.dragging.from,to:_e.dragging.to}:null,tt={from:j,insert:_},nt=k.state.changes(et?[et,tt]:tt);k.focus(),k.dispatch({changes:nt,selection:{anchor:nt.mapPos(j,-1),head:nt.mapPos(j,1)},userEvent:et?"move.drop":"input.drop"})}handlers.drop=(k,b)=>{if(!b.dataTransfer)return;if(k.state.readOnly)return b.preventDefault();let _=b.dataTransfer.files;if(_&&_.length){b.preventDefault();let $=Array(_.length),j=0,_e=()=>{++j==_.length&&dropText(k,b,$.filter(et=>et!=null).join(k.state.lineBreak),!1)};for(let et=0;et<_.length;et++){let tt=new FileReader;tt.onerror=_e,tt.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(tt.result)||($[et]=tt.result),_e()},tt.readAsText(_[et])}}else dropText(k,b,b.dataTransfer.getData("Text"),!0)};handlers.paste=(k,b)=>{if(k.state.readOnly)return b.preventDefault();k.observer.flush();let _=brokenClipboardAPI?null:b.clipboardData;_?(doPaste(k,_.getData("text/plain")),b.preventDefault()):capturePaste(k)};function captureCopy(k,b){let _=k.dom.parentNode;if(!_)return;let $=_.appendChild(document.createElement("textarea"));$.style.cssText="position: fixed; left: -10000px; top: 10px",$.value=b,$.focus(),$.selectionEnd=b.length,$.selectionStart=0,setTimeout(()=>{$.remove(),k.focus()},50)}function copiedRange(k){let b=[],_=[],$=!1;for(let j of k.selection.ranges)j.empty||(b.push(k.sliceDoc(j.from,j.to)),_.push(j));if(!b.length){let j=-1;for(let{from:_e}of k.selection.ranges){let et=k.doc.lineAt(_e);et.number>j&&(b.push(et.text),_.push({from:et.from,to:Math.min(k.doc.length,et.to+1)})),j=et.number}$=!0}return{text:b.join(k.lineBreak),ranges:_,linewise:$}}let lastLinewiseCopy=null;handlers.copy=handlers.cut=(k,b)=>{let{text:_,ranges:$,linewise:j}=copiedRange(k.state);if(!_&&!j)return;lastLinewiseCopy=j?_:null;let _e=brokenClipboardAPI?null:b.clipboardData;_e?(b.preventDefault(),_e.clearData(),_e.setData("text/plain",_)):captureCopy(k,_),b.type=="cut"&&!k.state.readOnly&&k.dispatch({changes:$,scrollIntoView:!0,userEvent:"delete.cut"})};function updateForFocusChange(k){setTimeout(()=>{k.hasFocus!=k.inputState.notifiedFocused&&k.update([])},10)}handlers.focus=k=>{k.inputState.lastFocusTime=Date.now(),!k.scrollDOM.scrollTop&&(k.inputState.lastScrollTop||k.inputState.lastScrollLeft)&&(k.scrollDOM.scrollTop=k.inputState.lastScrollTop,k.scrollDOM.scrollLeft=k.inputState.lastScrollLeft),updateForFocusChange(k)};handlers.blur=k=>{k.observer.clearSelectionRange(),updateForFocusChange(k)};function forceClearComposition(k,b){if(k.docView.compositionDeco.size){k.inputState.rapidCompositionStart=b;try{k.update([])}finally{k.inputState.rapidCompositionStart=!1}}}handlers.compositionstart=handlers.compositionupdate=k=>{k.inputState.compositionFirstChange==null&&(k.inputState.compositionFirstChange=!0),k.inputState.composing<0&&(k.inputState.composing=0,k.docView.compositionDeco.size&&(k.observer.flush(),forceClearComposition(k,!0)))};handlers.compositionend=k=>{k.inputState.composing=-1,k.inputState.compositionEndedAt=Date.now(),k.inputState.compositionFirstChange=null,setTimeout(()=>{k.inputState.composing<0&&forceClearComposition(k,!1)},50)};handlers.contextmenu=k=>{k.inputState.lastContextMenu=Date.now()};handlers.beforeinput=(k,b)=>{var _;let $;if(browser.chrome&&browser.android&&($=PendingKeys.find(j=>j.inputType==b.inputType))&&(k.observer.delayAndroidKey($.key,$.keyCode),$.key=="Backspace"||$.key=="Delete")){let j=((_=window.visualViewport)===null||_===void 0?void 0:_.height)||0;setTimeout(()=>{var _e;(((_e=window.visualViewport)===null||_e===void 0?void 0:_e.height)||0)>j+10&&k.hasFocus&&(k.contentDOM.blur(),k.focus())},100)}};const wrappingWhiteSpace=["pre-wrap","normal","pre-line","break-spaces"];class HeightOracle{constructor(){this.doc=Text.empty,this.lineWrapping=!1,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.lineLength=30,this.heightChanged=!1}heightForGap(b,_){let $=this.doc.lineAt(_).number-this.doc.lineAt(b).number+1;return this.lineWrapping&&($+=Math.ceil((_-b-$*this.lineLength*.5)/this.lineLength)),this.lineHeight*$}heightForLine(b){return this.lineWrapping?(1+Math.max(0,Math.ceil((b-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(b){return this.doc=b,this}mustRefreshForWrapping(b){return wrappingWhiteSpace.indexOf(b)>-1!=this.lineWrapping}mustRefreshForHeights(b){let _=!1;for(let $=0;$<b.length;$++){let j=b[$];j<0?$++:this.heightSamples[Math.floor(j*10)]||(_=!0,this.heightSamples[Math.floor(j*10)]=!0)}return _}refresh(b,_,$,j,_e){let et=wrappingWhiteSpace.indexOf(b)>-1,tt=Math.round(_)!=Math.round(this.lineHeight)||this.lineWrapping!=et;if(this.lineWrapping=et,this.lineHeight=_,this.charWidth=$,this.lineLength=j,tt){this.heightSamples={};for(let nt=0;nt<_e.length;nt++){let it=_e[nt];it<0?nt++:this.heightSamples[Math.floor(it*10)]=!0}}return tt}}class MeasuredHeights{constructor(b,_){this.from=b,this.heights=_,this.index=0}get more(){return this.index<this.heights.length}}class BlockInfo{constructor(b,_,$,j,_e){this.from=b,this.length=_,this.top=$,this.height=j,this.type=_e}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(b){let _=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(b.type)?b.type:[b]);return new BlockInfo(this.from,this.length+b.length,this.top,this.height+b.height,_)}}var QueryType$1=function(k){return k[k.ByPos=0]="ByPos",k[k.ByHeight=1]="ByHeight",k[k.ByPosNoHeight=2]="ByPosNoHeight",k}(QueryType$1||(QueryType$1={}));const Epsilon=.001;class HeightMap{constructor(b,_,$=2){this.length=b,this.height=_,this.flags=$}get outdated(){return(this.flags&2)>0}set outdated(b){this.flags=(b?2:0)|this.flags&-3}setHeight(b,_){this.height!=_&&(Math.abs(this.height-_)>Epsilon&&(b.heightChanged=!0),this.height=_)}replace(b,_,$){return HeightMap.of($)}decomposeLeft(b,_){_.push(this)}decomposeRight(b,_){_.push(this)}applyChanges(b,_,$,j){let _e=this;for(let et=j.length-1;et>=0;et--){let{fromA:tt,toA:nt,fromB:it,toB:rt}=j[et],st=_e.lineAt(tt,QueryType$1.ByPosNoHeight,_,0,0),ot=st.to>=nt?st:_e.lineAt(nt,QueryType$1.ByPosNoHeight,_,0,0);for(rt+=ot.to-nt,nt=ot.to;et>0&&st.from<=j[et-1].toA;)tt=j[et-1].fromA,it=j[et-1].fromB,et--,tt<st.from&&(st=_e.lineAt(tt,QueryType$1.ByPosNoHeight,_,0,0));it+=st.from-tt,tt=st.from;let ut=NodeBuilder.build($,b,it,rt);_e=_e.replace(tt,nt,ut)}return _e.updateHeight($,0)}static empty(){return new HeightMapText(0,0)}static of(b){if(b.length==1)return b[0];let _=0,$=b.length,j=0,_e=0;for(;;)if(_==$)if(j>_e*2){let tt=b[_-1];tt.break?b.splice(--_,1,tt.left,null,tt.right):b.splice(--_,1,tt.left,tt.right),$+=1+tt.break,j-=tt.size}else if(_e>j*2){let tt=b[$];tt.break?b.splice($,1,tt.left,null,tt.right):b.splice($,1,tt.left,tt.right),$+=2+tt.break,_e-=tt.size}else break;else if(j<_e){let tt=b[_++];tt&&(j+=tt.size)}else{let tt=b[--$];tt&&(_e+=tt.size)}let et=0;return b[_-1]==null?(et=1,_--):b[_]==null&&(et=1,$++),new HeightMapBranch(HeightMap.of(b.slice(0,_)),et,HeightMap.of(b.slice($)))}}HeightMap.prototype.size=1;class HeightMapBlock extends HeightMap{constructor(b,_,$){super(b,_),this.type=$}blockAt(b,_,$,j){return new BlockInfo(j,this.length,$,this.height,this.type)}lineAt(b,_,$,j,_e){return this.blockAt(0,$,j,_e)}forEachLine(b,_,$,j,_e,et){b<=_e+this.length&&_>=_e&&et(this.blockAt(0,$,j,_e))}updateHeight(b,_=0,$=!1,j){return j&&j.from<=_&&j.more&&this.setHeight(b,j.heights[j.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class HeightMapText extends HeightMapBlock{constructor(b,_){super(b,_,BlockType.Text),this.collapsed=0,this.widgetHeight=0}replace(b,_,$){let j=$[0];return $.length==1&&(j instanceof HeightMapText||j instanceof HeightMapGap&&j.flags&4)&&Math.abs(this.length-j.length)<10?(j instanceof HeightMapGap?j=new HeightMapText(j.length,this.height):j.height=this.height,this.outdated||(j.outdated=!1),j):HeightMap.of($)}updateHeight(b,_=0,$=!1,j){return j&&j.from<=_&&j.more?this.setHeight(b,j.heights[j.index++]):($||this.outdated)&&this.setHeight(b,Math.max(this.widgetHeight,b.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class HeightMapGap extends HeightMap{constructor(b){super(b,0)}lines(b,_){let $=b.lineAt(_).number,j=b.lineAt(_+this.length).number;return{firstLine:$,lastLine:j,lineHeight:this.height/(j-$+1)}}blockAt(b,_,$,j){let{firstLine:_e,lastLine:et,lineHeight:tt}=this.lines(_,j),nt=Math.max(0,Math.min(et-_e,Math.floor((b-$)/tt))),{from:it,length:rt}=_.line(_e+nt);return new BlockInfo(it,rt,$+tt*nt,tt,BlockType.Text)}lineAt(b,_,$,j,_e){if(_==QueryType$1.ByHeight)return this.blockAt(b,$,j,_e);if(_==QueryType$1.ByPosNoHeight){let{from:st,to:ot}=$.lineAt(b);return new BlockInfo(st,ot-st,0,0,BlockType.Text)}let{firstLine:et,lineHeight:tt}=this.lines($,_e),{from:nt,length:it,number:rt}=$.lineAt(b);return new BlockInfo(nt,it,j+tt*(rt-et),tt,BlockType.Text)}forEachLine(b,_,$,j,_e,et){let{firstLine:tt,lineHeight:nt}=this.lines($,_e);for(let it=Math.max(b,_e),rt=Math.min(_e+this.length,_);it<=rt;){let st=$.lineAt(it);it==b&&(j+=nt*(st.number-tt)),et(new BlockInfo(st.from,st.length,j,nt,BlockType.Text)),j+=nt,it=st.to+1}}replace(b,_,$){let j=this.length-_;if(j>0){let _e=$[$.length-1];_e instanceof HeightMapGap?$[$.length-1]=new HeightMapGap(_e.length+j):$.push(null,new HeightMapGap(j-1))}if(b>0){let _e=$[0];_e instanceof HeightMapGap?$[0]=new HeightMapGap(b+_e.length):$.unshift(new HeightMapGap(b-1),null)}return HeightMap.of($)}decomposeLeft(b,_){_.push(new HeightMapGap(b-1),null)}decomposeRight(b,_){_.push(null,new HeightMapGap(this.length-b-1))}updateHeight(b,_=0,$=!1,j){let _e=_+this.length;if(j&&j.from<=_+this.length&&j.more){let et=[],tt=Math.max(_,j.from),nt=-1,it=b.heightChanged;for(j.from>_&&et.push(new HeightMapGap(j.from-_-1).updateHeight(b,_));tt<=_e&&j.more;){let st=b.doc.lineAt(tt).length;et.length&&et.push(null);let ot=j.heights[j.index++];nt==-1?nt=ot:Math.abs(ot-nt)>=Epsilon&&(nt=-2);let ut=new HeightMapText(st,ot);ut.outdated=!1,et.push(ut),tt+=st+1}tt<=_e&&et.push(null,new HeightMapGap(_e-tt).updateHeight(b,tt));let rt=HeightMap.of(et);return b.heightChanged=it||nt<0||Math.abs(rt.height-this.height)>=Epsilon||Math.abs(nt-this.lines(b.doc,_).lineHeight)>=Epsilon,rt}else($||this.outdated)&&(this.setHeight(b,b.heightForGap(_,_+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class HeightMapBranch extends HeightMap{constructor(b,_,$){super(b.length+_+$.length,b.height+$.height,_|(b.outdated||$.outdated?2:0)),this.left=b,this.right=$,this.size=b.size+$.size}get break(){return this.flags&1}blockAt(b,_,$,j){let _e=$+this.left.height;return b<_e?this.left.blockAt(b,_,$,j):this.right.blockAt(b,_,_e,j+this.left.length+this.break)}lineAt(b,_,$,j,_e){let et=j+this.left.height,tt=_e+this.left.length+this.break,nt=_==QueryType$1.ByHeight?b<et:b<tt,it=nt?this.left.lineAt(b,_,$,j,_e):this.right.lineAt(b,_,$,et,tt);if(this.break||(nt?it.to<tt:it.from>tt))return it;let rt=_==QueryType$1.ByPosNoHeight?QueryType$1.ByPosNoHeight:QueryType$1.ByPos;return nt?it.join(this.right.lineAt(tt,rt,$,et,tt)):this.left.lineAt(tt,rt,$,j,_e).join(it)}forEachLine(b,_,$,j,_e,et){let tt=j+this.left.height,nt=_e+this.left.length+this.break;if(this.break)b<nt&&this.left.forEachLine(b,_,$,j,_e,et),_>=nt&&this.right.forEachLine(b,_,$,tt,nt,et);else{let it=this.lineAt(nt,QueryType$1.ByPos,$,j,_e);b<it.from&&this.left.forEachLine(b,it.from-1,$,j,_e,et),it.to>=b&&it.from<=_&&et(it),_>it.to&&this.right.forEachLine(it.to+1,_,$,tt,nt,et)}}replace(b,_,$){let j=this.left.length+this.break;if(_<j)return this.balanced(this.left.replace(b,_,$),this.right);if(b>this.left.length)return this.balanced(this.left,this.right.replace(b-j,_-j,$));let _e=[];b>0&&this.decomposeLeft(b,_e);let et=_e.length;for(let tt of $)_e.push(tt);if(b>0&&mergeGaps(_e,et-1),_<this.length){let tt=_e.length;this.decomposeRight(_,_e),mergeGaps(_e,tt)}return HeightMap.of(_e)}decomposeLeft(b,_){let $=this.left.length;if(b<=$)return this.left.decomposeLeft(b,_);_.push(this.left),this.break&&($++,b>=$&&_.push(null)),b>$&&this.right.decomposeLeft(b-$,_)}decomposeRight(b,_){let $=this.left.length,j=$+this.break;if(b>=j)return this.right.decomposeRight(b-j,_);b<$&&this.left.decomposeRight(b,_),this.break&&b<j&&_.push(null),_.push(this.right)}balanced(b,_){return b.size>2*_.size||_.size>2*b.size?HeightMap.of(this.break?[b,null,_]:[b,_]):(this.left=b,this.right=_,this.height=b.height+_.height,this.outdated=b.outdated||_.outdated,this.size=b.size+_.size,this.length=b.length+this.break+_.length,this)}updateHeight(b,_=0,$=!1,j){let{left:_e,right:et}=this,tt=_+_e.length+this.break,nt=null;return j&&j.from<=_+_e.length&&j.more?nt=_e=_e.updateHeight(b,_,$,j):_e.updateHeight(b,_,$),j&&j.from<=tt+et.length&&j.more?nt=et=et.updateHeight(b,tt,$,j):et.updateHeight(b,tt,$),nt?this.balanced(_e,et):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function mergeGaps(k,b){let _,$;k[b]==null&&(_=k[b-1])instanceof HeightMapGap&&($=k[b+1])instanceof HeightMapGap&&k.splice(b-1,3,new HeightMapGap(_.length+1+$.length))}const relevantWidgetHeight=5;class NodeBuilder{constructor(b,_){this.pos=b,this.oracle=_,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=b}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(b,_){if(this.lineStart>-1){let $=Math.min(_,this.lineEnd),j=this.nodes[this.nodes.length-1];j instanceof HeightMapText?j.length+=$-this.pos:($>this.pos||!this.isCovered)&&this.nodes.push(new HeightMapText($-this.pos,-1)),this.writtenTo=$,_>$&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=_}point(b,_,$){if(b<_||$.heightRelevant){let j=$.widget?$.widget.estimatedHeight:0;j<0&&(j=this.oracle.lineHeight);let _e=_-b;$.block?this.addBlock(new HeightMapBlock(_e,j,$.type)):(_e||j>=relevantWidgetHeight)&&this.addLineDeco(j,_e)}else _>b&&this.span(b,_);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:b,to:_}=this.oracle.doc.lineAt(this.pos);this.lineStart=b,this.lineEnd=_,this.writtenTo<b&&((this.writtenTo<b-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,b-1)),this.nodes.push(null)),this.pos>b&&this.nodes.push(new HeightMapText(this.pos-b,-1)),this.writtenTo=this.pos}blankContent(b,_){let $=new HeightMapGap(_-b);return this.oracle.doc.lineAt(b).to==_&&($.flags|=4),$}ensureLine(){this.enterLine();let b=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(b instanceof HeightMapText)return b;let _=new HeightMapText(0,-1);return this.nodes.push(_),_}addBlock(b){this.enterLine(),b.type==BlockType.WidgetAfter&&!this.isCovered&&this.ensureLine(),this.nodes.push(b),this.writtenTo=this.pos=this.pos+b.length,b.type!=BlockType.WidgetBefore&&(this.covering=b)}addLineDeco(b,_){let $=this.ensureLine();$.length+=_,$.collapsed+=_,$.widgetHeight=Math.max($.widgetHeight,b),this.writtenTo=this.pos=this.pos+_}finish(b){let _=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(_ instanceof HeightMapText)&&!this.isCovered?this.nodes.push(new HeightMapText(0,-1)):(this.writtenTo<this.pos||_==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let $=b;for(let j of this.nodes)j instanceof HeightMapText&&j.updateHeight(this.oracle,$),$+=j?j.length:1;return this.nodes}static build(b,_,$,j){let _e=new NodeBuilder($,b);return RangeSet.spans(_,$,j,_e,0),_e.finish($)}}function heightRelevantDecoChanges(k,b,_){let $=new DecorationComparator;return RangeSet.compare(k,b,_,$,0),$.changes}class DecorationComparator{constructor(){this.changes=[]}compareRange(){}comparePoint(b,_,$,j){(b<_||$&&$.heightRelevant||j&&j.heightRelevant)&&addRange(b,_,this.changes,5)}}function visiblePixelRange(k,b){let _=k.getBoundingClientRect(),$=Math.max(0,_.left),j=Math.min(innerWidth,_.right),_e=Math.max(0,_.top),et=Math.min(innerHeight,_.bottom),tt=k.ownerDocument.body;for(let nt=k.parentNode;nt&&nt!=tt;)if(nt.nodeType==1){let it=nt,rt=window.getComputedStyle(it);if((it.scrollHeight>it.clientHeight||it.scrollWidth>it.clientWidth)&&rt.overflow!="visible"){let st=it.getBoundingClientRect();$=Math.max($,st.left),j=Math.min(j,st.right),_e=Math.max(_e,st.top),et=nt==k.parentNode?st.bottom:Math.min(et,st.bottom)}nt=rt.position=="absolute"||rt.position=="fixed"?it.offsetParent:it.parentNode}else if(nt.nodeType==11)nt=nt.host;else break;return{left:$-_.left,right:Math.max($,j)-_.left,top:_e-(_.top+b),bottom:Math.max(_e,et)-(_.top+b)}}function fullPixelRange(k,b){let _=k.getBoundingClientRect();return{left:0,right:_.right-_.left,top:b,bottom:_.bottom-(_.top+b)}}class LineGap{constructor(b,_,$){this.from=b,this.to=_,this.size=$}static same(b,_){if(b.length!=_.length)return!1;for(let $=0;$<b.length;$++){let j=b[$],_e=_[$];if(j.from!=_e.from||j.to!=_e.to||j.size!=_e.size)return!1}return!0}draw(b){return Decoration.replace({widget:new LineGapWidget(this.size,b)}).range(this.from,this.to)}}class LineGapWidget extends WidgetType{constructor(b,_){super(),this.size=b,this.vertical=_}eq(b){return b.size==this.size&&b.vertical==this.vertical}toDOM(){let b=document.createElement("div");return this.vertical?b.style.height=this.size+"px":(b.style.width=this.size+"px",b.style.height="2px",b.style.display="inline-block"),b}get estimatedHeight(){return this.vertical?this.size:-1}}class ViewState{constructor(b){this.state=b,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.heightOracle=new HeightOracle,this.scaler=IdScaler,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Direction.RTL,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1,this.stateDeco=b.facet(decorations).filter(_=>typeof _!="function"),this.heightMap=HeightMap.empty().applyChanges(this.stateDeco,Text.empty,this.heightOracle.setDoc(b.doc),[new ChangedRange(0,0,0,b.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Decoration.set(this.lineGaps.map(_=>_.draw(!1))),this.computeVisibleRanges()}updateForViewport(){let b=[this.viewport],{main:_}=this.state.selection;for(let $=0;$<=1;$++){let j=$?_.head:_.anchor;if(!b.some(({from:_e,to:et})=>j>=_e&&j<=et)){let{from:_e,to:et}=this.lineBlockAt(j);b.push(new Viewport(_e,et))}}this.viewports=b.sort(($,j)=>$.from-j.from),this.scaler=this.heightMap.height<=7e6?IdScaler:new BigScaler(this.heightOracle.doc,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.state.doc,0,0,b=>{this.viewportLines.push(this.scaler.scale==1?b:scaleBlock(b,this.scaler))})}update(b,_=null){this.state=b.state;let $=this.stateDeco;this.stateDeco=this.state.facet(decorations).filter(it=>typeof it!="function");let j=b.changedRanges,_e=ChangedRange.extendWithRanges(j,heightRelevantDecoChanges($,this.stateDeco,b?b.changes:ChangeSet.empty(this.state.doc.length))),et=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(this.stateDeco,b.startState.doc,this.heightOracle.setDoc(this.state.doc),_e),this.heightMap.height!=et&&(b.flags|=2);let tt=_e.length?this.mapViewport(this.viewport,b.changes):this.viewport;(_&&(_.range.head<tt.from||_.range.head>tt.to)||!this.viewportIsAppropriate(tt))&&(tt=this.getViewport(0,_));let nt=!b.changes.empty||b.flags&2||tt.from!=this.viewport.from||tt.to!=this.viewport.to;this.viewport=tt,this.updateForViewport(),nt&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,b.changes))),b.flags|=this.computeVisibleRanges(),_&&(this.scrollTarget=_),!this.mustEnforceCursorAssoc&&b.selectionSet&&b.view.lineWrapping&&b.state.selection.main.empty&&b.state.selection.main.assoc&&(this.mustEnforceCursorAssoc=!0)}measure(b){let _=b.contentDOM,$=window.getComputedStyle(_),j=this.heightOracle,_e=$.whiteSpace;this.defaultTextDirection=$.direction=="rtl"?Direction.RTL:Direction.LTR;let et=this.heightOracle.mustRefreshForWrapping(_e),tt=et||this.mustMeasureContent||this.contentDOMHeight!=_.clientHeight;this.contentDOMHeight=_.clientHeight,this.mustMeasureContent=!1;let nt=0,it=0,rt=parseInt($.paddingTop)||0,st=parseInt($.paddingBottom)||0;(this.paddingTop!=rt||this.paddingBottom!=st)&&(this.paddingTop=rt,this.paddingBottom=st,nt|=10),this.editorWidth!=b.scrollDOM.clientWidth&&(j.lineWrapping&&(tt=!0),this.editorWidth=b.scrollDOM.clientWidth,nt|=8);let ot=(this.printing?fullPixelRange:visiblePixelRange)(_,this.paddingTop),ut=ot.top-this.pixelViewport.top,lt=ot.bottom-this.pixelViewport.bottom;this.pixelViewport=ot;let ft=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(ft!=this.inView&&(this.inView=ft,ft&&(tt=!0)),!this.inView)return 0;let ct=_.clientWidth;if((this.contentDOMWidth!=ct||this.editorHeight!=b.scrollDOM.clientHeight)&&(this.contentDOMWidth=ct,this.editorHeight=b.scrollDOM.clientHeight,nt|=8),tt){let mt=b.docView.measureVisibleLineHeights(this.viewport);if(j.mustRefreshForHeights(mt)&&(et=!0),et||j.lineWrapping&&Math.abs(ct-this.contentDOMWidth)>j.charWidth){let{lineHeight:wt,charWidth:gt}=b.docView.measureTextSize();et=j.refresh(_e,wt,gt,ct/gt,mt),et&&(b.docView.minWidth=0,nt|=8)}ut>0&&lt>0?it=Math.max(ut,lt):ut<0&&lt<0&&(it=Math.min(ut,lt)),j.heightChanged=!1;for(let wt of this.viewports){let gt=wt.from==this.viewport.from?mt:b.docView.measureVisibleLineHeights(wt);this.heightMap=this.heightMap.updateHeight(j,0,et,new MeasuredHeights(wt.from,gt))}j.heightChanged&&(nt|=2)}let pt=!this.viewportIsAppropriate(this.viewport,it)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return pt&&(this.viewport=this.getViewport(it,this.scrollTarget)),this.updateForViewport(),(nt&2||pt)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(et?[]:this.lineGaps)),nt|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,b.docView.enforceCursorAssoc()),nt}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(b,_){let $=.5-Math.max(-.5,Math.min(.5,b/1e3/2)),j=this.heightMap,_e=this.state.doc,{visibleTop:et,visibleBottom:tt}=this,nt=new Viewport(j.lineAt(et-$*1e3,QueryType$1.ByHeight,_e,0,0).from,j.lineAt(tt+(1-$)*1e3,QueryType$1.ByHeight,_e,0,0).to);if(_){let{head:it}=_.range;if(it<nt.from||it>nt.to){let rt=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),st=j.lineAt(it,QueryType$1.ByPos,_e,0,0),ot;_.y=="center"?ot=(st.top+st.bottom)/2-rt/2:_.y=="start"||_.y=="nearest"&&it<nt.from?ot=st.top:ot=st.bottom-rt,nt=new Viewport(j.lineAt(ot-1e3/2,QueryType$1.ByHeight,_e,0,0).from,j.lineAt(ot+rt+1e3/2,QueryType$1.ByHeight,_e,0,0).to)}}return nt}mapViewport(b,_){let $=_.mapPos(b.from,-1),j=_.mapPos(b.to,1);return new Viewport(this.heightMap.lineAt($,QueryType$1.ByPos,this.state.doc,0,0).from,this.heightMap.lineAt(j,QueryType$1.ByPos,this.state.doc,0,0).to)}viewportIsAppropriate({from:b,to:_},$=0){if(!this.inView)return!0;let{top:j}=this.heightMap.lineAt(b,QueryType$1.ByPos,this.state.doc,0,0),{bottom:_e}=this.heightMap.lineAt(_,QueryType$1.ByPos,this.state.doc,0,0),{visibleTop:et,visibleBottom:tt}=this;return(b==0||j<=et-Math.max(10,Math.min(-$,250)))&&(_==this.state.doc.length||_e>=tt+Math.max(10,Math.min($,250)))&&j>et-2*1e3&&_e<tt+2*1e3}mapLineGaps(b,_){if(!b.length||_.empty)return b;let $=[];for(let j of b)_.touchesRange(j.from,j.to)||$.push(new LineGap(_.mapPos(j.from),_.mapPos(j.to),j.size));return $}ensureLineGaps(b){let _=[];if(this.defaultTextDirection!=Direction.LTR)return _;for(let $ of this.viewportLines){if($.length<4e3)continue;let j=lineStructure($.from,$.to,this.stateDeco);if(j.total<4e3)continue;let _e,et;if(this.heightOracle.lineWrapping){let it=2e3/this.heightOracle.lineLength*this.heightOracle.lineHeight;_e=findPosition(j,(this.visibleTop-$.top-it)/$.height),et=findPosition(j,(this.visibleBottom-$.top+it)/$.height)}else{let it=j.total*this.heightOracle.charWidth,rt=2e3*this.heightOracle.charWidth;_e=findPosition(j,(this.pixelViewport.left-rt)/it),et=findPosition(j,(this.pixelViewport.right+rt)/it)}let tt=[];_e>$.from&&tt.push({from:$.from,to:_e}),et<$.to&&tt.push({from:et,to:$.to});let nt=this.state.selection.main;nt.from>=$.from&&nt.from<=$.to&&cutRange(tt,nt.from-10,nt.from+10),!nt.empty&&nt.to>=$.from&&nt.to<=$.to&&cutRange(tt,nt.to-10,nt.to+10);for(let{from:it,to:rt}of tt)rt-it>1e3&&_.push(find(b,st=>st.from>=$.from&&st.to<=$.to&&Math.abs(st.from-it)<1e3&&Math.abs(st.to-rt)<1e3)||new LineGap(it,rt,this.gapSize($,it,rt,j)))}return _}gapSize(b,_,$,j){let _e=findFraction(j,$)-findFraction(j,_);return this.heightOracle.lineWrapping?b.height*_e:j.total*this.heightOracle.charWidth*_e}updateLineGaps(b){LineGap.same(b,this.lineGaps)||(this.lineGaps=b,this.lineGapDeco=Decoration.set(b.map(_=>_.draw(this.heightOracle.lineWrapping))))}computeVisibleRanges(){let b=this.stateDeco;this.lineGaps.length&&(b=b.concat(this.lineGapDeco));let _=[];RangeSet.spans(b,this.viewport.from,this.viewport.to,{span(j,_e){_.push({from:j,to:_e})},point(){}},20);let $=_.length!=this.visibleRanges.length||this.visibleRanges.some((j,_e)=>j.from!=_[_e].from||j.to!=_[_e].to);return this.visibleRanges=_,$?4:0}lineBlockAt(b){return b>=this.viewport.from&&b<=this.viewport.to&&this.viewportLines.find(_=>_.from<=b&&_.to>=b)||scaleBlock(this.heightMap.lineAt(b,QueryType$1.ByPos,this.state.doc,0,0),this.scaler)}lineBlockAtHeight(b){return scaleBlock(this.heightMap.lineAt(this.scaler.fromDOM(b),QueryType$1.ByHeight,this.state.doc,0,0),this.scaler)}elementAtHeight(b){return scaleBlock(this.heightMap.blockAt(this.scaler.fromDOM(b),this.state.doc,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Viewport{constructor(b,_){this.from=b,this.to=_}}function lineStructure(k,b,_){let $=[],j=k,_e=0;return RangeSet.spans(_,k,b,{span(){},point(et,tt){et>j&&($.push({from:j,to:et}),_e+=et-j),j=tt}},20),j<b&&($.push({from:j,to:b}),_e+=b-j),{total:_e,ranges:$}}function findPosition({total:k,ranges:b},_){if(_<=0)return b[0].from;if(_>=1)return b[b.length-1].to;let $=Math.floor(k*_);for(let j=0;;j++){let{from:_e,to:et}=b[j],tt=et-_e;if($<=tt)return _e+$;$-=tt}}function findFraction(k,b){let _=0;for(let{from:$,to:j}of k.ranges){if(b<=j){_+=b-$;break}_+=j-$}return _/k.total}function cutRange(k,b,_){for(let $=0;$<k.length;$++){let j=k[$];if(j.from<_&&j.to>b){let _e=[];j.from<b&&_e.push({from:j.from,to:b}),j.to>_&&_e.push({from:_,to:j.to}),k.splice($,1,..._e),$+=_e.length-1}}}function find(k,b){for(let _ of k)if(b(_))return _}const IdScaler={toDOM(k){return k},fromDOM(k){return k},scale:1};class BigScaler{constructor(b,_,$){let j=0,_e=0,et=0;this.viewports=$.map(({from:tt,to:nt})=>{let it=_.lineAt(tt,QueryType$1.ByPos,b,0,0).top,rt=_.lineAt(nt,QueryType$1.ByPos,b,0,0).bottom;return j+=rt-it,{from:tt,to:nt,top:it,bottom:rt,domTop:0,domBottom:0}}),this.scale=(7e6-j)/(_.height-j);for(let tt of this.viewports)tt.domTop=et+(tt.top-_e)*this.scale,et=tt.domBottom=tt.domTop+(tt.bottom-tt.top),_e=tt.bottom}toDOM(b){for(let _=0,$=0,j=0;;_++){let _e=_<this.viewports.length?this.viewports[_]:null;if(!_e||b<_e.top)return j+(b-$)*this.scale;if(b<=_e.bottom)return _e.domTop+(b-_e.top);$=_e.bottom,j=_e.domBottom}}fromDOM(b){for(let _=0,$=0,j=0;;_++){let _e=_<this.viewports.length?this.viewports[_]:null;if(!_e||b<_e.domTop)return $+(b-j)/this.scale;if(b<=_e.domBottom)return _e.top+(b-_e.domTop);$=_e.bottom,j=_e.domBottom}}}function scaleBlock(k,b){if(b.scale==1)return k;let _=b.toDOM(k.top),$=b.toDOM(k.bottom);return new BlockInfo(k.from,k.length,_,$-_,Array.isArray(k.type)?k.type.map(j=>scaleBlock(j,b)):k.type)}const theme=Facet.define({combine:k=>k.join(" ")}),darkTheme=Facet.define({combine:k=>k.indexOf(!0)>-1}),baseThemeID=StyleModule.newName(),baseLightID=StyleModule.newName(),baseDarkID=StyleModule.newName(),lightDarkIDs={"&light":"."+baseLightID,"&dark":"."+baseDarkID};function buildTheme(k,b,_){return new StyleModule(b,{finish($){return/&/.test($)?$.replace(/&\w*/,j=>{if(j=="&")return k;if(!_||!_[j])throw new RangeError(`Unsupported selector: ${j}`);return _[j]}):k+" "+$}})}const baseTheme$1$3=buildTheme("."+baseThemeID,{"&.cm-editor":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,minHeight:"100%",display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 4px"},".cm-selectionLayer":{zIndex:-1,contain:"size style"},".cm-selectionBackground":{position:"absolute"},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{zIndex:100,contain:"size style",pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{position:"absolute",borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#f3f9ff"},"&dark .cm-activeLine":{backgroundColor:"#223039"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},lightDarkIDs),observeOptions={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},useCharData=browser.ie&&browser.ie_version<=11;class DOMObserver{constructor(b,_,$){this.view=b,this.onChange=_,this.onScrollChanged=$,this.active=!1,this.selectionRange=new DOMSelectionState,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.scrollTargets=[],this.intersection=null,this.resize=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=b.contentDOM,this.observer=new MutationObserver(j=>{for(let _e of j)this.queue.push(_e);(browser.ie&&browser.ie_version<=11||browser.ios&&b.composing)&&j.some(_e=>_e.type=="childList"&&_e.removedNodes.length||_e.type=="characterData"&&_e.oldValue.length>_e.target.nodeValue.length)?this.flushSoon():this.flush()}),useCharData&&(this.onCharData=j=>{this.queue.push({target:j.target,type:"characterData",oldValue:j.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),typeof ResizeObserver=="function"&&(this.resize=new ResizeObserver(()=>{this.view.docView.lastUpdate<Date.now()-75&&this.onResize()}),this.resize.observe(b.scrollDOM)),this.win=b.dom.ownerDocument.defaultView,this.addWindowListeners(this.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(j=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),j.length>0&&j[j.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(j=>{j.length>0&&j[j.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScroll(b){this.intersecting&&this.flush(!1),this.onScrollChanged(b)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(b){if(this.gapIntersection&&(b.length!=this.gaps.length||this.gaps.some((_,$)=>_!=b[$]))){this.gapIntersection.disconnect();for(let _ of b)this.gapIntersection.observe(_);this.gaps=b}}onSelectionChange(b){if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:_}=this,$=this.selectionRange;if(_.state.facet(editable)?_.root.activeElement!=this.dom:!hasSelection(_.dom,$))return;let j=$.anchorNode&&_.docView.nearest($.anchorNode);j&&j.ignoreEvent(b)||((browser.ie&&browser.ie_version<=11||browser.android&&browser.chrome)&&!_.state.selection.main.empty&&$.focusNode&&isEquivalentPosition($.focusNode,$.focusOffset,$.anchorNode,$.anchorOffset)?this.flushSoon():this.flush(!1))}readSelectionRange(){let{view:b}=this,_=browser.safari&&b.root.nodeType==11&&deepActiveElement()==this.dom&&safariSelectionRangeHack(this.view)||getSelection(b.root);if(!_||this.selectionRange.eq(_))return!1;let $=hasSelection(this.dom,_);return $&&!this.selectionChanged&&b.inputState.lastFocusTime>Date.now()-200&&b.inputState.lastTouchTime<Date.now()-300&&atElementStart(this.dom,_)?(this.view.inputState.lastFocusTime=0,b.docView.updateSelection(),!1):(this.selectionRange.setRange(_),$&&(this.selectionChanged=!0),!0)}setSelectionRange(b,_){this.selectionRange.set(b.node,b.offset,_.node,_.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let b=0,_=null;for(let $=this.dom;$;)if($.nodeType==1)!_&&b<this.scrollTargets.length&&this.scrollTargets[b]==$?b++:_||(_=this.scrollTargets.slice(0,b)),_&&_.push($),$=$.assignedSlot||$.parentNode;else if($.nodeType==11)$=$.host;else break;if(b<this.scrollTargets.length&&!_&&(_=this.scrollTargets.slice(0,b)),_){for(let $ of this.scrollTargets)$.removeEventListener("scroll",this.onScroll);for(let $ of this.scrollTargets=_)$.addEventListener("scroll",this.onScroll)}}ignore(b){if(!this.active)return b();try{return this.stop(),b()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,observeOptions),useCharData&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){!this.active||(this.active=!1,this.observer.disconnect(),useCharData&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(b,_){this.delayedAndroidKey||requestAnimationFrame(()=>{let $=this.delayedAndroidKey;this.delayedAndroidKey=null,this.delayedFlush=-1,this.flush()||dispatchKey(this.dom,$.key,$.keyCode)}),(!this.delayedAndroidKey||b=="Enter")&&(this.delayedAndroidKey={key:b,keyCode:_})}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=window.setTimeout(()=>{this.delayedFlush=-1,this.flush()},20))}forceFlush(){this.delayedFlush>=0&&(window.clearTimeout(this.delayedFlush),this.delayedFlush=-1),this.flush()}processRecords(){let b=this.queue;for(let _e of this.observer.takeRecords())b.push(_e);b.length&&(this.queue=[]);let _=-1,$=-1,j=!1;for(let _e of b){let et=this.readMutation(_e);!et||(et.typeOver&&(j=!0),_==-1?{from:_,to:$}=et:(_=Math.min(et.from,_),$=Math.max(et.to,$)))}return{from:_,to:$,typeOver:j}}flush(b=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return;b&&this.readSelectionRange();let{from:_,to:$,typeOver:j}=this.processRecords(),_e=this.selectionChanged&&hasSelection(this.dom,this.selectionRange);if(_<0&&!_e)return;this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let et=this.view.state,tt=this.onChange(_,$,j);return this.view.state==et&&this.view.update([]),tt}readMutation(b){let _=this.view.docView.nearest(b.target);if(!_||_.ignoreMutation(b))return null;if(_.markDirty(b.type=="attributes"),b.type=="attributes"&&(_.dirty|=4),b.type=="childList"){let $=findChild(_,b.previousSibling||b.target.previousSibling,-1),j=findChild(_,b.nextSibling||b.target.nextSibling,1);return{from:$?_.posAfter($):_.posAtStart,to:j?_.posBefore(j):_.posAtEnd,typeOver:!1}}else return b.type=="characterData"?{from:_.posAtStart,to:_.posAtEnd,typeOver:b.target.nodeValue==b.oldValue}:null}setWindow(b){b!=this.win&&(this.removeWindowListeners(this.win),this.win=b,this.addWindowListeners(this.win))}addWindowListeners(b){b.addEventListener("resize",this.onResize),b.addEventListener("beforeprint",this.onPrint),b.addEventListener("scroll",this.onScroll),b.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(b){b.removeEventListener("scroll",this.onScroll),b.removeEventListener("resize",this.onResize),b.removeEventListener("beforeprint",this.onPrint),b.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var b,_,$;this.stop(),(b=this.intersection)===null||b===void 0||b.disconnect(),(_=this.gapIntersection)===null||_===void 0||_.disconnect(),($=this.resize)===null||$===void 0||$.disconnect();for(let j of this.scrollTargets)j.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout)}}function findChild(k,b,_){for(;b;){let $=ContentView.get(b);if($&&$.parent==k)return $;let j=b.parentNode;b=j!=k.dom?j:_>0?b.nextSibling:b.previousSibling}return null}function safariSelectionRangeHack(k){let b=null;function _(nt){nt.preventDefault(),nt.stopImmediatePropagation(),b=nt.getTargetRanges()[0]}if(k.contentDOM.addEventListener("beforeinput",_,!0),document.execCommand("indent"),k.contentDOM.removeEventListener("beforeinput",_,!0),!b)return null;let $=b.startContainer,j=b.startOffset,_e=b.endContainer,et=b.endOffset,tt=k.docView.domAtPos(k.state.selection.main.anchor);return isEquivalentPosition(tt.node,tt.offset,_e,et)&&([$,j,_e,et]=[_e,et,$,j]),{anchorNode:$,anchorOffset:j,focusNode:_e,focusOffset:et}}function applyDOMChange(k,b,_,$){let j,_e,et=k.state.selection.main;if(b>-1){let tt=k.docView.domBoundsAround(b,_,0);if(!tt||k.state.readOnly)return!1;let{from:nt,to:it}=tt,rt=k.docView.impreciseHead||k.docView.impreciseAnchor?[]:selectionPoints(k),st=new DOMReader(rt,k.state);st.readRange(tt.startDOM,tt.endDOM);let ot=et.from,ut=null;(k.inputState.lastKeyCode===8&&k.inputState.lastKeyTime>Date.now()-100||browser.android&&st.text.length<it-nt)&&(ot=et.to,ut="end");let lt=findDiff(k.state.doc.sliceString(nt,it,LineBreakPlaceholder),st.text,ot-nt,ut);lt&&(browser.chrome&&k.inputState.lastKeyCode==13&&lt.toB==lt.from+2&&st.text.slice(lt.from,lt.toB)==LineBreakPlaceholder+LineBreakPlaceholder&&lt.toB--,j={from:nt+lt.from,to:nt+lt.toA,insert:Text.of(st.text.slice(lt.from,lt.toB).split(LineBreakPlaceholder))}),_e=selectionFromPoints(rt,nt)}else if(k.hasFocus||!k.state.facet(editable)){let tt=k.observer.selectionRange,{impreciseHead:nt,impreciseAnchor:it}=k.docView,rt=nt&&nt.node==tt.focusNode&&nt.offset==tt.focusOffset||!contains(k.contentDOM,tt.focusNode)?k.state.selection.main.head:k.docView.posFromDOM(tt.focusNode,tt.focusOffset),st=it&&it.node==tt.anchorNode&&it.offset==tt.anchorOffset||!contains(k.contentDOM,tt.anchorNode)?k.state.selection.main.anchor:k.docView.posFromDOM(tt.anchorNode,tt.anchorOffset);(rt!=et.head||st!=et.anchor)&&(_e=EditorSelection.single(st,rt))}if(!j&&!_e)return!1;if(!j&&$&&!et.empty&&_e&&_e.main.empty?j={from:et.from,to:et.to,insert:k.state.doc.slice(et.from,et.to)}:j&&j.from>=et.from&&j.to<=et.to&&(j.from!=et.from||j.to!=et.to)&&et.to-et.from-(j.to-j.from)<=4?j={from:et.from,to:et.to,insert:k.state.doc.slice(et.from,j.from).append(j.insert).append(k.state.doc.slice(j.to,et.to))}:(browser.mac||browser.android)&&j&&j.from==j.to&&j.from==et.head-1&&j.insert.toString()=="."&&(j={from:et.from,to:et.to,insert:Text.of([" "])}),j){let tt=k.state;if(browser.ios&&k.inputState.flushIOSKey(k)||browser.android&&(j.from==et.from&&j.to==et.to&&j.insert.length==1&&j.insert.lines==2&&dispatchKey(k.contentDOM,"Enter",13)||j.from==et.from-1&&j.to==et.to&&j.insert.length==0&&dispatchKey(k.contentDOM,"Backspace",8)||j.from==et.from&&j.to==et.to+1&&j.insert.length==0&&dispatchKey(k.contentDOM,"Delete",46)))return!0;let nt=j.insert.toString();if(k.state.facet(inputHandler$1).some(st=>st(k,j.from,j.to,nt)))return!0;k.inputState.composing>=0&&k.inputState.composing++;let it;if(j.from>=et.from&&j.to<=et.to&&j.to-j.from>=(et.to-et.from)/3&&(!_e||_e.main.empty&&_e.main.from==j.from+j.insert.length)&&k.inputState.composing<0){let st=et.from<j.from?tt.sliceDoc(et.from,j.from):"",ot=et.to>j.to?tt.sliceDoc(j.to,et.to):"";it=tt.replaceSelection(k.state.toText(st+j.insert.sliceString(0,void 0,k.state.lineBreak)+ot))}else{let st=tt.changes(j),ot=_e&&!tt.selection.main.eq(_e.main)&&_e.main.to<=st.newLength?_e.main:void 0;if(tt.selection.ranges.length>1&&k.inputState.composing>=0&&j.to<=et.to&&j.to>=et.to-10){let ut=k.state.sliceDoc(j.from,j.to),lt=compositionSurroundingNode(k)||k.state.doc.lineAt(et.head),ft=et.to-j.to,ct=et.to-et.from;it=tt.changeByRange(pt=>{if(pt.from==et.from&&pt.to==et.to)return{changes:st,range:ot||pt.map(st)};let mt=pt.to-ft,wt=mt-ut.length;if(pt.to-pt.from!=ct||k.state.sliceDoc(wt,mt)!=ut||lt&&pt.to>=lt.from&&pt.from<=lt.to)return{range:pt};let gt=tt.changes({from:wt,to:mt,insert:j.insert}),vt=pt.to-et.to;return{changes:gt,range:ot?EditorSelection.range(Math.max(0,ot.anchor+vt),Math.max(0,ot.head+vt)):pt.map(gt)}})}else it={changes:st,selection:ot&&tt.selection.replaceRange(ot)}}let rt="input.type";return k.composing&&(rt+=".compose",k.inputState.compositionFirstChange&&(rt+=".start",k.inputState.compositionFirstChange=!1)),k.dispatch(it,{scrollIntoView:!0,userEvent:rt}),!0}else if(_e&&!_e.main.eq(et)){let tt=!1,nt="select";return k.inputState.lastSelectionTime>Date.now()-50&&(k.inputState.lastSelectionOrigin=="select"&&(tt=!0),nt=k.inputState.lastSelectionOrigin),k.dispatch({selection:_e,scrollIntoView:tt,userEvent:nt}),!0}else return!1}function findDiff(k,b,_,$){let j=Math.min(k.length,b.length),_e=0;for(;_e<j&&k.charCodeAt(_e)==b.charCodeAt(_e);)_e++;if(_e==j&&k.length==b.length)return null;let et=k.length,tt=b.length;for(;et>0&&tt>0&&k.charCodeAt(et-1)==b.charCodeAt(tt-1);)et--,tt--;if($=="end"){let nt=Math.max(0,_e-Math.min(et,tt));_-=et+nt-_e}if(et<_e&&k.length<b.length){let nt=_<=_e&&_>=et?_e-_:0;_e-=nt,tt=_e+(tt-et),et=_e}else if(tt<_e){let nt=_<=_e&&_>=tt?_e-_:0;_e-=nt,et=_e+(et-tt),tt=_e}return{from:_e,toA:et,toB:tt}}function selectionPoints(k){let b=[];if(k.root.activeElement!=k.contentDOM)return b;let{anchorNode:_,anchorOffset:$,focusNode:j,focusOffset:_e}=k.observer.selectionRange;return _&&(b.push(new DOMPoint(_,$)),(j!=_||_e!=$)&&b.push(new DOMPoint(j,_e))),b}function selectionFromPoints(k,b){if(k.length==0)return null;let _=k[0].pos,$=k.length==2?k[1].pos:_;return _>-1&&$>-1?EditorSelection.single(_+b,$+b):null}class EditorView{constructor(b={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: absolute; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=b.dispatch||(_=>this.update([_])),this.dispatch=this.dispatch.bind(this),this._root=b.root||getRoot(b.parent)||document,this.viewState=new ViewState(b.state||EditorState.create(b)),this.plugins=this.state.facet(viewPlugin).map(_=>new PluginInstance(_));for(let _ of this.plugins)_.update(this);this.observer=new DOMObserver(this,(_,$,j)=>applyDOMChange(this,_,$,j),_=>{this.inputState.runScrollHandlers(this,_),this.observer.intersecting&&this.measure()}),this.inputState=new InputState(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new DocView(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),b.parent&&b.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}dispatch(...b){this._dispatch(b.length==1&&b[0]instanceof Transaction?b[0]:this.state.update(...b))}update(b){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let _=!1,$=!1,j,_e=this.state;for(let tt of b){if(tt.startState!=_e)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");_e=tt.state}if(this.destroyed){this.viewState.state=_e;return}if(this.observer.clear(),_e.facet(EditorState.phrases)!=this.state.facet(EditorState.phrases))return this.setState(_e);j=ViewUpdate.create(this,_e,b);let et=this.viewState.scrollTarget;try{this.updateState=2;for(let tt of b){if(et&&(et=et.map(tt.changes)),tt.scrollIntoView){let{main:nt}=tt.state.selection;et=new ScrollTarget(nt.empty?nt:EditorSelection.cursor(nt.head,nt.head>nt.anchor?-1:1))}for(let nt of tt.effects)nt.is(scrollIntoView$1)&&(et=nt.value)}this.viewState.update(j,et),this.bidiCache=CachedOrder.update(this.bidiCache,j.changes),j.empty||(this.updatePlugins(j),this.inputState.update(j)),_=this.docView.update(j),this.state.facet(styleModule)!=this.styleModules&&this.mountStyles(),$=this.updateAttrs(),this.showAnnouncements(b),this.docView.updateSelection(_,b.some(tt=>tt.isUserEvent("select.pointer")))}finally{this.updateState=0}if(j.startState.facet(theme)!=j.state.facet(theme)&&(this.viewState.mustMeasureContent=!0),(_||$||et||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!j.empty)for(let tt of this.state.facet(updateListener))tt(j)}setState(b){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=b;return}this.updateState=2;let _=this.hasFocus;try{for(let $ of this.plugins)$.destroy(this);this.viewState=new ViewState(b),this.plugins=b.facet(viewPlugin).map($=>new PluginInstance($)),this.pluginMap.clear();for(let $ of this.plugins)$.update(this);this.docView=new DocView(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}_&&this.focus(),this.requestMeasure()}updatePlugins(b){let _=b.startState.facet(viewPlugin),$=b.state.facet(viewPlugin);if(_!=$){let j=[];for(let _e of $){let et=_.indexOf(_e);if(et<0)j.push(new PluginInstance(_e));else{let tt=this.plugins[et];tt.mustUpdate=b,j.push(tt)}}for(let _e of this.plugins)_e.mustUpdate!=b&&_e.destroy(this);this.plugins=j,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let j of this.plugins)j.mustUpdate=b;for(let j=0;j<this.plugins.length;j++)this.plugins[j].update(this)}measure(b=!0){if(this.destroyed)return;this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,b&&this.observer.forceFlush();let _=null,{scrollHeight:$,scrollTop:j,clientHeight:_e}=this.scrollDOM,et=j>$-_e-4?$:j;try{for(let tt=0;;tt++){this.updateState=1;let nt=this.viewport,it=this.viewState.lineBlockAtHeight(et),rt=this.viewState.measure(this);if(!rt&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(tt>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let st=[];rt&4||([this.measureRequests,st]=[st,this.measureRequests]);let ot=st.map(ct=>{try{return ct.read(this)}catch(pt){return logException(this.state,pt),BadMeasure}}),ut=ViewUpdate.create(this,this.state,[]),lt=!1,ft=!1;ut.flags|=rt,_?_.flags|=rt:_=ut,this.updateState=2,ut.empty||(this.updatePlugins(ut),this.inputState.update(ut),this.updateAttrs(),lt=this.docView.update(ut));for(let ct=0;ct<st.length;ct++)if(ot[ct]!=BadMeasure)try{let pt=st[ct];pt.write&&pt.write(ot[ct],this)}catch(pt){logException(this.state,pt)}if(this.viewState.scrollTarget)this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,ft=!0;else{let ct=this.viewState.lineBlockAt(it.from).top-it.top;(ct>1||ct<-1)&&(this.scrollDOM.scrollTop+=ct,ft=!0)}if(lt&&this.docView.updateSelection(!0),this.viewport.from==nt.from&&this.viewport.to==nt.to&&!ft&&this.measureRequests.length==0)break}}finally{this.updateState=0,this.measureScheduled=-1}if(_&&!_.empty)for(let tt of this.state.facet(updateListener))tt(_)}get themeClasses(){return baseThemeID+" "+(this.state.facet(darkTheme)?baseDarkID:baseLightID)+" "+this.state.facet(theme)}updateAttrs(){let b=attrsFromFacet(this,editorAttributes,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),_={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(editable)?"true":"false",class:"cm-content",style:`${browser.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(_["aria-readonly"]="true"),attrsFromFacet(this,contentAttributes,_);let $=this.observer.ignore(()=>{let j=updateAttrs(this.contentDOM,this.contentAttrs,_),_e=updateAttrs(this.dom,this.editorAttrs,b);return j||_e});return this.editorAttrs=b,this.contentAttrs=_,$}showAnnouncements(b){let _=!0;for(let $ of b)for(let j of $.effects)if(j.is(EditorView.announce)){_&&(this.announceDOM.textContent=""),_=!1;let _e=this.announceDOM.appendChild(document.createElement("div"));_e.textContent=j.value}}mountStyles(){this.styleModules=this.state.facet(styleModule),StyleModule.mount(this.root,this.styleModules.concat(baseTheme$1$3).reverse())}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(b){if(this.measureScheduled<0&&(this.measureScheduled=requestAnimationFrame(()=>this.measure())),b){if(b.key!=null){for(let _=0;_<this.measureRequests.length;_++)if(this.measureRequests[_].key===b.key){this.measureRequests[_]=b;return}}this.measureRequests.push(b)}}plugin(b){let _=this.pluginMap.get(b);return(_===void 0||_&&_.spec!=b)&&this.pluginMap.set(b,_=this.plugins.find($=>$.spec==b)||null),_&&_.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(b){return this.readMeasured(),this.viewState.elementAtHeight(b)}lineBlockAtHeight(b){return this.readMeasured(),this.viewState.lineBlockAtHeight(b)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(b){return this.viewState.lineBlockAt(b)}get contentHeight(){return this.viewState.contentHeight}moveByChar(b,_,$){return skipAtoms(this,b,moveByChar(this,b,_,$))}moveByGroup(b,_){return skipAtoms(this,b,moveByChar(this,b,_,$=>byGroup(this,b.head,$)))}moveToLineBoundary(b,_,$=!0){return moveToLineBoundary(this,b,_,$)}moveVertically(b,_,$){return skipAtoms(this,b,moveVertically(this,b,_,$))}domAtPos(b){return this.docView.domAtPos(b)}posAtDOM(b,_=0){return this.docView.posFromDOM(b,_)}posAtCoords(b,_=!0){return this.readMeasured(),posAtCoords(this,b,_)}coordsAtPos(b,_=1){this.readMeasured();let $=this.docView.coordsAt(b,_);if(!$||$.left==$.right)return $;let j=this.state.doc.lineAt(b),_e=this.bidiSpans(j),et=_e[BidiSpan.find(_e,b-j.from,-1,_)];return flattenRect($,et.dir==Direction.LTR==_>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(b){return!this.state.facet(perLineTextDirection)||b<this.viewport.from||b>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(b))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(b){if(b.length>MaxBidiLine)return trivialOrder(b.length);let _=this.textDirectionAt(b.from);for(let j of this.bidiCache)if(j.from==b.from&&j.dir==_)return j.order;let $=computeOrder(b.text,_);return this.bidiCache.push(new CachedOrder(b.from,b.to,_,$)),$}get hasFocus(){var b;return(document.hasFocus()||browser.safari&&((b=this.inputState)===null||b===void 0?void 0:b.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{focusPreventScroll(this.contentDOM),this.docView.updateSelection()})}setRoot(b){this._root!=b&&(this._root=b,this.observer.setWindow((b.nodeType==9?b:b.ownerDocument).defaultView),this.mountStyles())}destroy(){for(let b of this.plugins)b.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(b,_={}){return scrollIntoView$1.of(new ScrollTarget(typeof b=="number"?EditorSelection.cursor(b):b,_.y,_.x,_.yMargin,_.xMargin))}static domEventHandlers(b){return ViewPlugin.define(()=>({}),{eventHandlers:b})}static theme(b,_){let $=StyleModule.newName(),j=[theme.of($),styleModule.of(buildTheme(`.${$}`,b))];return _&&_.dark&&j.push(darkTheme.of(!0)),j}static baseTheme(b){return Prec.lowest(styleModule.of(buildTheme("."+baseThemeID,b,lightDarkIDs)))}static findFromDOM(b){var _;let $=b.querySelector(".cm-content"),j=$&&ContentView.get($)||ContentView.get(b);return((_=j==null?void 0:j.rootView)===null||_===void 0?void 0:_.view)||null}}EditorView.styleModule=styleModule;EditorView.inputHandler=inputHandler$1;EditorView.perLineTextDirection=perLineTextDirection;EditorView.exceptionSink=exceptionSink;EditorView.updateListener=updateListener;EditorView.editable=editable;EditorView.mouseSelectionStyle=mouseSelectionStyle;EditorView.dragMovesSelection=dragMovesSelection$1;EditorView.clickAddsSelectionRange=clickAddsSelectionRange;EditorView.decorations=decorations;EditorView.atomicRanges=atomicRanges;EditorView.scrollMargins=scrollMargins;EditorView.darkTheme=darkTheme;EditorView.contentAttributes=contentAttributes;EditorView.editorAttributes=editorAttributes;EditorView.lineWrapping=EditorView.contentAttributes.of({class:"cm-lineWrapping"});EditorView.announce=StateEffect.define();const MaxBidiLine=4096,BadMeasure={};class CachedOrder{constructor(b,_,$,j){this.from=b,this.to=_,this.dir=$,this.order=j}static update(b,_){if(_.empty)return b;let $=[],j=b.length?b[b.length-1].dir:Direction.LTR;for(let _e=Math.max(0,b.length-10);_e<b.length;_e++){let et=b[_e];et.dir==j&&!_.touchesRange(et.from,et.to)&&$.push(new CachedOrder(_.mapPos(et.from,1),_.mapPos(et.to,-1),et.dir,et.order))}return $}}function attrsFromFacet(k,b,_){for(let $=k.state.facet(b),j=$.length-1;j>=0;j--){let _e=$[j],et=typeof _e=="function"?_e(k):_e;et&&combineAttrs(et,_)}return _}const currentPlatform=browser.mac?"mac":browser.windows?"win":browser.linux?"linux":"key";function normalizeKeyName(k,b){const _=k.split(/-(?!$)/);let $=_[_.length-1];$=="Space"&&($=" ");let j,_e,et,tt;for(let nt=0;nt<_.length-1;++nt){const it=_[nt];if(/^(cmd|meta|m)$/i.test(it))tt=!0;else if(/^a(lt)?$/i.test(it))j=!0;else if(/^(c|ctrl|control)$/i.test(it))_e=!0;else if(/^s(hift)?$/i.test(it))et=!0;else if(/^mod$/i.test(it))b=="mac"?tt=!0:_e=!0;else throw new Error("Unrecognized modifier name: "+it)}return j&&($="Alt-"+$),_e&&($="Ctrl-"+$),tt&&($="Meta-"+$),et&&($="Shift-"+$),$}function modifiers(k,b,_){return b.altKey&&(k="Alt-"+k),b.ctrlKey&&(k="Ctrl-"+k),b.metaKey&&(k="Meta-"+k),_!==!1&&b.shiftKey&&(k="Shift-"+k),k}const handleKeyEvents=Prec.default(EditorView.domEventHandlers({keydown(k,b){return runHandlers(getKeymap(b.state),k,b,"editor")}})),keymap=Facet.define({enables:handleKeyEvents}),Keymaps=new WeakMap;function getKeymap(k){let b=k.facet(keymap),_=Keymaps.get(b);return _||Keymaps.set(b,_=buildKeymap(b.reduce(($,j)=>$.concat(j),[]))),_}function runScopeHandlers(k,b,_){return runHandlers(getKeymap(k.state),b,k,_)}let storedPrefix=null;const PrefixTimeout=4e3;function buildKeymap(k,b=currentPlatform){let _=Object.create(null),$=Object.create(null),j=(et,tt)=>{let nt=$[et];if(nt==null)$[et]=tt;else if(nt!=tt)throw new Error("Key binding "+et+" is used both as a regular binding and as a multi-stroke prefix")},_e=(et,tt,nt,it)=>{let rt=_[et]||(_[et]=Object.create(null)),st=tt.split(/ (?!$)/).map(lt=>normalizeKeyName(lt,b));for(let lt=1;lt<st.length;lt++){let ft=st.slice(0,lt).join(" ");j(ft,!0),rt[ft]||(rt[ft]={preventDefault:!0,commands:[ct=>{let pt=storedPrefix={view:ct,prefix:ft,scope:et};return setTimeout(()=>{storedPrefix==pt&&(storedPrefix=null)},PrefixTimeout),!0}]})}let ot=st.join(" ");j(ot,!1);let ut=rt[ot]||(rt[ot]={preventDefault:!1,commands:[]});ut.commands.push(nt),it&&(ut.preventDefault=!0)};for(let et of k){let tt=et[b]||et.key;if(!!tt)for(let nt of et.scope?et.scope.split(" "):["editor"])_e(nt,tt,et.run,et.preventDefault),et.shift&&_e(nt,"Shift-"+tt,et.shift,et.preventDefault)}return _}function runHandlers(k,b,_,$){let j=keyName(b),_e=codePointAt(j,0),et=codePointSize(_e)==j.length&&j!=" ",tt="",nt=!1;storedPrefix&&storedPrefix.view==_&&storedPrefix.scope==$&&(tt=storedPrefix.prefix+" ",(nt=modifierCodes.indexOf(b.keyCode)<0)&&(storedPrefix=null));let it=ot=>{if(ot){for(let ut of ot.commands)if(ut(_))return!0;ot.preventDefault&&(nt=!0)}return!1},rt=k[$],st;if(rt){if(it(rt[tt+modifiers(j,b,!et)]))return!0;if(et&&(b.shiftKey||b.altKey||b.metaKey||_e>127)&&(st=base[b.keyCode])&&st!=j){if(it(rt[tt+modifiers(st,b,!0)]))return!0;if(b.shiftKey&&shift[b.keyCode]!=st&&it(rt[tt+modifiers(shift[b.keyCode],b,!1)]))return!0}else if(et&&b.shiftKey&&it(rt[tt+modifiers(j,b,!0)]))return!0}return nt}const CanHidePrimary=!browser.ios,selectionConfig=Facet.define({combine(k){return combineConfig(k,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(b,_)=>Math.min(b,_),drawRangeCursor:(b,_)=>b||_})}});function drawSelection(k={}){return[selectionConfig.of(k),drawSelectionPlugin,hideNativeSelection]}class Piece{constructor(b,_,$,j,_e){this.left=b,this.top=_,this.width=$,this.height=j,this.className=_e}draw(){let b=document.createElement("div");return b.className=this.className,this.adjust(b),b}adjust(b){b.style.left=this.left+"px",b.style.top=this.top+"px",this.width>=0&&(b.style.width=this.width+"px"),b.style.height=this.height+"px"}eq(b){return this.left==b.left&&this.top==b.top&&this.width==b.width&&this.height==b.height&&this.className==b.className}}const drawSelectionPlugin=ViewPlugin.fromClass(class{constructor(k){this.view=k,this.rangePieces=[],this.cursors=[],this.measureReq={read:this.readPos.bind(this),write:this.drawSel.bind(this)},this.selectionLayer=k.scrollDOM.appendChild(document.createElement("div")),this.selectionLayer.className="cm-selectionLayer",this.selectionLayer.setAttribute("aria-hidden","true"),this.cursorLayer=k.scrollDOM.appendChild(document.createElement("div")),this.cursorLayer.className="cm-cursorLayer",this.cursorLayer.setAttribute("aria-hidden","true"),k.requestMeasure(this.measureReq),this.setBlinkRate()}setBlinkRate(){this.cursorLayer.style.animationDuration=this.view.state.facet(selectionConfig).cursorBlinkRate+"ms"}update(k){let b=k.startState.facet(selectionConfig)!=k.state.facet(selectionConfig);(b||k.selectionSet||k.geometryChanged||k.viewportChanged)&&this.view.requestMeasure(this.measureReq),k.transactions.some(_=>_.scrollIntoView)&&(this.cursorLayer.style.animationName=this.cursorLayer.style.animationName=="cm-blink"?"cm-blink2":"cm-blink"),b&&this.setBlinkRate()}readPos(){let{state:k}=this.view,b=k.facet(selectionConfig),_=k.selection.ranges.map(j=>j.empty?[]:measureRange(this.view,j)).reduce((j,_e)=>j.concat(_e)),$=[];for(let j of k.selection.ranges){let _e=j==k.selection.main;if(j.empty?!_e||CanHidePrimary:b.drawRangeCursor){let et=measureCursor(this.view,j,_e);et&&$.push(et)}}return{rangePieces:_,cursors:$}}drawSel({rangePieces:k,cursors:b}){if(k.length!=this.rangePieces.length||k.some((_,$)=>!_.eq(this.rangePieces[$]))){this.selectionLayer.textContent="";for(let _ of k)this.selectionLayer.appendChild(_.draw());this.rangePieces=k}if(b.length!=this.cursors.length||b.some((_,$)=>!_.eq(this.cursors[$]))){let _=this.cursorLayer.children;if(_.length!==b.length){this.cursorLayer.textContent="";for(const $ of b)this.cursorLayer.appendChild($.draw())}else b.forEach(($,j)=>$.adjust(_[j]));this.cursors=b}}destroy(){this.selectionLayer.remove(),this.cursorLayer.remove()}}),themeSpec={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};CanHidePrimary&&(themeSpec[".cm-line"].caretColor="transparent !important");const hideNativeSelection=Prec.highest(EditorView.theme(themeSpec));function getBase(k){let b=k.scrollDOM.getBoundingClientRect();return{left:(k.textDirection==Direction.LTR?b.left:b.right-k.scrollDOM.clientWidth)-k.scrollDOM.scrollLeft,top:b.top-k.scrollDOM.scrollTop}}function wrappedLine(k,b,_){let $=EditorSelection.cursor(b);return{from:Math.max(_.from,k.moveToLineBoundary($,!1,!0).from),to:Math.min(_.to,k.moveToLineBoundary($,!0,!0).from),type:BlockType.Text}}function blockAt(k,b){let _=k.lineBlockAt(b);if(Array.isArray(_.type)){for(let $ of _.type)if($.to>b||$.to==b&&($.to==_.to||$.type==BlockType.Text))return $}return _}function measureRange(k,b){if(b.to<=k.viewport.from||b.from>=k.viewport.to)return[];let _=Math.max(b.from,k.viewport.from),$=Math.min(b.to,k.viewport.to),j=k.textDirection==Direction.LTR,_e=k.contentDOM,et=_e.getBoundingClientRect(),tt=getBase(k),nt=window.getComputedStyle(_e.firstChild),it=et.left+parseInt(nt.paddingLeft)+Math.min(0,parseInt(nt.textIndent)),rt=et.right-parseInt(nt.paddingRight),st=blockAt(k,_),ot=blockAt(k,$),ut=st.type==BlockType.Text?st:null,lt=ot.type==BlockType.Text?ot:null;if(k.lineWrapping&&(ut&&(ut=wrappedLine(k,_,ut)),lt&&(lt=wrappedLine(k,$,lt))),ut&&lt&&ut.from==lt.from)return ct(pt(b.from,b.to,ut));{let wt=ut?pt(b.from,null,ut):mt(st,!1),gt=lt?pt(null,b.to,lt):mt(ot,!0),vt=[];return(ut||st).to<(lt||ot).from-1?vt.push(ft(it,wt.bottom,rt,gt.top)):wt.bottom<gt.top&&k.elementAtHeight((wt.bottom+gt.top)/2).type==BlockType.Text&&(wt.bottom=gt.top=(wt.bottom+gt.top)/2),ct(wt).concat(vt).concat(ct(gt))}function ft(wt,gt,vt,bt){return new Piece(wt-tt.left,gt-tt.top-.01,vt-wt,bt-gt+.01,"cm-selectionBackground")}function ct({top:wt,bottom:gt,horizontal:vt}){let bt=[];for(let Ct=0;Ct<vt.length;Ct+=2)bt.push(ft(vt[Ct],wt,vt[Ct+1],gt));return bt}function pt(wt,gt,vt){let bt=1e9,Ct=-1e9,Dt=[];function _t(Qt,Nt,Vt,Yt,Wt){let Jt=k.coordsAtPos(Qt,Qt==vt.to?-2:2),Ut=k.coordsAtPos(Vt,Vt==vt.from?2:-2);bt=Math.min(Jt.top,Ut.top,bt),Ct=Math.max(Jt.bottom,Ut.bottom,Ct),Wt==Direction.LTR?Dt.push(j&&Nt?it:Jt.left,j&&Yt?rt:Ut.right):Dt.push(!j&&Yt?it:Ut.left,!j&&Nt?rt:Jt.right)}let Rt=wt!=null?wt:vt.from,jt=gt!=null?gt:vt.to;for(let Qt of k.visibleRanges)if(Qt.to>Rt&&Qt.from<jt)for(let Nt=Math.max(Qt.from,Rt),Vt=Math.min(Qt.to,jt);;){let Yt=k.state.doc.lineAt(Nt);for(let Wt of k.bidiSpans(Yt)){let Jt=Wt.from+Yt.from,Ut=Wt.to+Yt.from;if(Jt>=Vt)break;Ut>Nt&&_t(Math.max(Jt,Nt),wt==null&&Jt<=Rt,Math.min(Ut,Vt),gt==null&&Ut>=jt,Wt.dir)}if(Nt=Yt.to+1,Nt>=Vt)break}return Dt.length==0&&_t(Rt,wt==null,jt,gt==null,k.textDirection),{top:bt,bottom:Ct,horizontal:Dt}}function mt(wt,gt){let vt=et.top+(gt?wt.top:wt.bottom);return{top:vt,bottom:vt,horizontal:[]}}}function measureCursor(k,b,_){let $=k.coordsAtPos(b.head,b.assoc||1);if(!$)return null;let j=getBase(k);return new Piece($.left-j.left,$.top-j.top,-1,$.bottom-$.top,_?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary")}const setDropCursorPos=StateEffect.define({map(k,b){return k==null?null:b.mapPos(k)}}),dropCursorPos=StateField.define({create(){return null},update(k,b){return k!=null&&(k=b.changes.mapPos(k)),b.effects.reduce((_,$)=>$.is(setDropCursorPos)?$.value:_,k)}}),drawDropCursor=ViewPlugin.fromClass(class{constructor(k){this.view=k,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(k){var b;let _=k.state.field(dropCursorPos);_==null?this.cursor!=null&&((b=this.cursor)===null||b===void 0||b.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(k.startState.field(dropCursorPos)!=_||k.docChanged||k.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let k=this.view.state.field(dropCursorPos),b=k!=null&&this.view.coordsAtPos(k);if(!b)return null;let _=this.view.scrollDOM.getBoundingClientRect();return{left:b.left-_.left+this.view.scrollDOM.scrollLeft,top:b.top-_.top+this.view.scrollDOM.scrollTop,height:b.bottom-b.top}}drawCursor(k){this.cursor&&(k?(this.cursor.style.left=k.left+"px",this.cursor.style.top=k.top+"px",this.cursor.style.height=k.height+"px"):this.cursor.style.left="-100000px")}destroy(){this.cursor&&this.cursor.remove()}setDropPos(k){this.view.state.field(dropCursorPos)!=k&&this.view.dispatch({effects:setDropCursorPos.of(k)})}},{eventHandlers:{dragover(k){this.setDropPos(this.view.posAtCoords({x:k.clientX,y:k.clientY}))},dragleave(k){(k.target==this.view.contentDOM||!this.view.contentDOM.contains(k.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function dropCursor(){return[dropCursorPos,drawDropCursor]}function iterMatches(k,b,_,$,j){b.lastIndex=0;for(let _e=k.iterRange(_,$),et=_,tt;!_e.next().done;et+=_e.value.length)if(!_e.lineBreak)for(;tt=b.exec(_e.value);)j(et+tt.index,tt)}function matchRanges(k,b){let _=k.visibleRanges;if(_.length==1&&_[0].from==k.viewport.from&&_[0].to==k.viewport.to)return _;let $=[];for(let{from:j,to:_e}of _)j=Math.max(k.state.doc.lineAt(j).from,j-b),_e=Math.min(k.state.doc.lineAt(_e).to,_e+b),$.length&&$[$.length-1].to>=j?$[$.length-1].to=_e:$.push({from:j,to:_e});return $}class MatchDecorator{constructor(b){const{regexp:_,decoration:$,decorate:j,boundary:_e,maxLength:et=1e3}=b;if(!_.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=_,j)this.addMatch=(tt,nt,it,rt)=>j(rt,it,it+tt[0].length,tt,nt);else if($){let tt=typeof $=="function"?$:()=>$;this.addMatch=(nt,it,rt,st)=>st(rt,rt+nt[0].length,tt(nt,it,rt))}else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=_e,this.maxLength=et}createDeco(b){let _=new RangeSetBuilder,$=_.add.bind(_);for(let{from:j,to:_e}of matchRanges(b,this.maxLength))iterMatches(b.state.doc,this.regexp,j,_e,(et,tt)=>this.addMatch(tt,b,et,$));return _.finish()}updateDeco(b,_){let $=1e9,j=-1;return b.docChanged&&b.changes.iterChanges((_e,et,tt,nt)=>{nt>b.view.viewport.from&&tt<b.view.viewport.to&&($=Math.min(tt,$),j=Math.max(nt,j))}),b.viewportChanged||j-$>1e3?this.createDeco(b.view):j>-1?this.updateRange(b.view,_.map(b.changes),$,j):_}updateRange(b,_,$,j){for(let _e of b.visibleRanges){let et=Math.max(_e.from,$),tt=Math.min(_e.to,j);if(tt>et){let nt=b.state.doc.lineAt(et),it=nt.to<tt?b.state.doc.lineAt(tt):nt,rt=Math.max(_e.from,nt.from),st=Math.min(_e.to,it.to);if(this.boundary){for(;et>nt.from;et--)if(this.boundary.test(nt.text[et-1-nt.from])){rt=et;break}for(;tt<it.to;tt++)if(this.boundary.test(it.text[tt-it.from])){st=tt;break}}let ot=[],ut,lt=(ft,ct,pt)=>ot.push(pt.range(ft,ct));if(nt==it)for(this.regexp.lastIndex=rt-nt.from;(ut=this.regexp.exec(nt.text))&&ut.index<st-nt.from;)this.addMatch(ut,b,ut.index+nt.from,lt);else iterMatches(b.state.doc,this.regexp,rt,st,(ft,ct)=>this.addMatch(ct,b,ft,lt));_=_.update({filterFrom:rt,filterTo:st,filter:(ft,ct)=>ft<rt||ct>st,add:ot})}}return _}}const UnicodeRegexpSupport=/x/.unicode!=null?"gu":"g",Specials=new RegExp(`[\0-\b
-\x7F-\x9F\xAD\u061C\u200B\u200E\u200F\u2028\u2029\u202D\u202E\u2066\u2067\u2069\uFEFF\uFFF9-\uFFFC]`,UnicodeRegexpSupport),Names={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let _supportsTabSize=null;function supportsTabSize(){var k;if(_supportsTabSize==null&&typeof document<"u"&&document.body){let b=document.body.style;_supportsTabSize=((k=b.tabSize)!==null&&k!==void 0?k:b.MozTabSize)!=null}return _supportsTabSize||!1}const specialCharConfig=Facet.define({combine(k){let b=combineConfig(k,{render:null,specialChars:Specials,addSpecialChars:null});return(b.replaceTabs=!supportsTabSize())&&(b.specialChars=new RegExp("	|"+b.specialChars.source,UnicodeRegexpSupport)),b.addSpecialChars&&(b.specialChars=new RegExp(b.specialChars.source+"|"+b.addSpecialChars.source,UnicodeRegexpSupport)),b}});function highlightSpecialChars(k={}){return[specialCharConfig.of(k),specialCharPlugin()]}let _plugin=null;function specialCharPlugin(){return _plugin||(_plugin=ViewPlugin.fromClass(class{constructor(k){this.view=k,this.decorations=Decoration.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(k.state.facet(specialCharConfig)),this.decorations=this.decorator.createDeco(k)}makeDecorator(k){return new MatchDecorator({regexp:k.specialChars,decoration:(b,_,$)=>{let{doc:j}=_.state,_e=codePointAt(b[0],0);if(_e==9){let et=j.lineAt($),tt=_.state.tabSize,nt=countColumn(et.text,tt,$-et.from);return Decoration.replace({widget:new TabWidget((tt-nt%tt)*this.view.defaultCharacterWidth)})}return this.decorationCache[_e]||(this.decorationCache[_e]=Decoration.replace({widget:new SpecialCharWidget(k,_e)}))},boundary:k.replaceTabs?void 0:/[^]/})}update(k){let b=k.state.facet(specialCharConfig);k.startState.facet(specialCharConfig)!=b?(this.decorator=this.makeDecorator(b),this.decorations=this.decorator.createDeco(k.view)):this.decorations=this.decorator.updateDeco(k,this.decorations)}},{decorations:k=>k.decorations}))}const DefaultPlaceholder="\u2022";function placeholder$1(k){return k>=32?DefaultPlaceholder:k==10?"\u2424":String.fromCharCode(9216+k)}class SpecialCharWidget extends WidgetType{constructor(b,_){super(),this.options=b,this.code=_}eq(b){return b.code==this.code}toDOM(b){let _=placeholder$1(this.code),$=b.state.phrase("Control character")+" "+(Names[this.code]||"0x"+this.code.toString(16)),j=this.options.render&&this.options.render(this.code,$,_);if(j)return j;let _e=document.createElement("span");return _e.textContent=_,_e.title=$,_e.setAttribute("aria-label",$),_e.className="cm-specialChar",_e}ignoreEvent(){return!1}}class TabWidget extends WidgetType{constructor(b){super(),this.width=b}eq(b){return b.width==this.width}toDOM(){let b=document.createElement("span");return b.textContent="	",b.className="cm-tab",b.style.width=this.width+"px",b}ignoreEvent(){return!1}}function highlightActiveLine(){return activeLineHighlighter}const lineDeco=Decoration.line({class:"cm-activeLine"}),activeLineHighlighter=ViewPlugin.fromClass(class{constructor(k){this.decorations=this.getDeco(k)}update(k){(k.docChanged||k.selectionSet)&&(this.decorations=this.getDeco(k.view))}getDeco(k){let b=-1,_=[];for(let $ of k.state.selection.ranges){if(!$.empty)return Decoration.none;let j=k.lineBlockAt($.head);j.from>b&&(_.push(lineDeco.range(j.from)),b=j.from)}return Decoration.set(_)}},{decorations:k=>k.decorations});class Placeholder extends WidgetType{constructor(b){super(),this.content=b}toDOM(){let b=document.createElement("span");return b.className="cm-placeholder",b.style.pointerEvents="none",b.appendChild(typeof this.content=="string"?document.createTextNode(this.content):this.content),typeof this.content=="string"?b.setAttribute("aria-label","placeholder "+this.content):b.setAttribute("aria-hidden","true"),b}ignoreEvent(){return!1}}function placeholder(k){return ViewPlugin.fromClass(class{constructor(b){this.view=b,this.placeholder=Decoration.set([Decoration.widget({widget:new Placeholder(k),side:1}).range(0)])}get decorations(){return this.view.state.doc.length?Decoration.none:this.placeholder}},{decorations:b=>b.decorations})}const MaxOff=2e3;function rectangleFor(k,b,_){let $=Math.min(b.line,_.line),j=Math.max(b.line,_.line),_e=[];if(b.off>MaxOff||_.off>MaxOff||b.col<0||_.col<0){let et=Math.min(b.off,_.off),tt=Math.max(b.off,_.off);for(let nt=$;nt<=j;nt++){let it=k.doc.line(nt);it.length<=tt&&_e.push(EditorSelection.range(it.from+et,it.to+tt))}}else{let et=Math.min(b.col,_.col),tt=Math.max(b.col,_.col);for(let nt=$;nt<=j;nt++){let it=k.doc.line(nt),rt=findColumn(it.text,et,k.tabSize,!0);if(rt>-1){let st=findColumn(it.text,tt,k.tabSize);_e.push(EditorSelection.range(it.from+rt,it.from+st))}}}return _e}function absoluteColumn(k,b){let _=k.coordsAtPos(k.viewport.from);return _?Math.round(Math.abs((_.left-b)/k.defaultCharacterWidth)):-1}function getPos(k,b){let _=k.posAtCoords({x:b.clientX,y:b.clientY},!1),$=k.state.doc.lineAt(_),j=_-$.from,_e=j>MaxOff?-1:j==$.length?absoluteColumn(k,b.clientX):countColumn($.text,k.state.tabSize,_-$.from);return{line:$.number,col:_e,off:j}}function rectangleSelectionStyle(k,b){let _=getPos(k,b),$=k.state.selection;return _?{update(j){if(j.docChanged){let _e=j.changes.mapPos(j.startState.doc.line(_.line).from),et=j.state.doc.lineAt(_e);_={line:et.number,col:_.col,off:Math.min(_.off,et.length)},$=$.map(j.changes)}},get(j,_e,et){let tt=getPos(k,j);if(!tt)return $;let nt=rectangleFor(k.state,_,tt);return nt.length?et?EditorSelection.create(nt.concat($.ranges)):EditorSelection.create(nt):$}}:null}function rectangularSelection(k){let b=(k==null?void 0:k.eventFilter)||(_=>_.altKey&&_.button==0);return EditorView.mouseSelectionStyle.of((_,$)=>b($)?rectangleSelectionStyle(_,$):null)}const keys$2={Alt:[18,k=>k.altKey],Control:[17,k=>k.ctrlKey],Shift:[16,k=>k.shiftKey],Meta:[91,k=>k.metaKey]},showCrosshair={style:"cursor: crosshair"};function crosshairCursor(k={}){let[b,_]=keys$2[k.key||"Alt"],$=ViewPlugin.fromClass(class{constructor(j){this.view=j,this.isDown=!1}set(j){this.isDown!=j&&(this.isDown=j,this.view.update([]))}},{eventHandlers:{keydown(j){this.set(j.keyCode==b||_(j))},keyup(j){(j.keyCode==b||!_(j))&&this.set(!1)}}});return[$,EditorView.contentAttributes.of(j=>{var _e;return!((_e=j.plugin($))===null||_e===void 0)&&_e.isDown?showCrosshair:null})]}const Outside="-10000px";class TooltipViewManager{constructor(b,_,$){this.facet=_,this.createTooltipView=$,this.input=b.state.facet(_),this.tooltips=this.input.filter(j=>j),this.tooltipViews=this.tooltips.map($)}update(b){let _=b.state.facet(this.facet),$=_.filter(_e=>_e);if(_===this.input){for(let _e of this.tooltipViews)_e.update&&_e.update(b);return!1}let j=[];for(let _e=0;_e<$.length;_e++){let et=$[_e],tt=-1;if(!!et){for(let nt=0;nt<this.tooltips.length;nt++){let it=this.tooltips[nt];it&&it.create==et.create&&(tt=nt)}if(tt<0)j[_e]=this.createTooltipView(et);else{let nt=j[_e]=this.tooltipViews[tt];nt.update&&nt.update(b)}}}for(let _e of this.tooltipViews)j.indexOf(_e)<0&&_e.dom.remove();return this.input=_,this.tooltips=$,this.tooltipViews=j,!0}}function windowSpace(){return{top:0,left:0,bottom:innerHeight,right:innerWidth}}const tooltipConfig=Facet.define({combine:k=>{var b,_,$;return{position:browser.ios?"absolute":((b=k.find(j=>j.position))===null||b===void 0?void 0:b.position)||"fixed",parent:((_=k.find(j=>j.parent))===null||_===void 0?void 0:_.parent)||null,tooltipSpace:(($=k.find(j=>j.tooltipSpace))===null||$===void 0?void 0:$.tooltipSpace)||windowSpace}}}),tooltipPlugin=ViewPlugin.fromClass(class{constructor(k){var b;this.view=k,this.inView=!0,this.lastTransaction=0,this.measureTimeout=-1;let _=k.state.facet(tooltipConfig);this.position=_.position,this.parent=_.parent,this.classes=k.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new TooltipViewManager(k,showTooltip,$=>this.createTooltip($)),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver($=>{Date.now()>this.lastTransaction-50&&$.length>0&&$[$.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),(b=k.dom.ownerDocument.defaultView)===null||b===void 0||b.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let k of this.manager.tooltipViews)this.intersectionObserver.observe(k.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(k){k.transactions.length&&(this.lastTransaction=Date.now());let b=this.manager.update(k);b&&this.observeIntersection();let _=b||k.geometryChanged,$=k.state.facet(tooltipConfig);if($.position!=this.position){this.position=$.position;for(let j of this.manager.tooltipViews)j.dom.style.position=this.position;_=!0}if($.parent!=this.parent){this.parent&&this.container.remove(),this.parent=$.parent,this.createContainer();for(let j of this.manager.tooltipViews)this.container.appendChild(j.dom);_=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);_&&this.maybeMeasure()}createTooltip(k){let b=k.create(this.view);if(b.dom.classList.add("cm-tooltip"),k.arrow&&!b.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let _=document.createElement("div");_.className="cm-tooltip-arrow",b.dom.appendChild(_)}return b.dom.style.position=this.position,b.dom.style.top=Outside,this.container.appendChild(b.dom),b.mount&&b.mount(this.view),b}destroy(){var k,b;(k=this.view.dom.ownerDocument.defaultView)===null||k===void 0||k.removeEventListener("resize",this.measureSoon);for(let{dom:_}of this.manager.tooltipViews)_.remove();(b=this.intersectionObserver)===null||b===void 0||b.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let k=this.view.dom.getBoundingClientRect();return{editor:k,parent:this.parent?this.container.getBoundingClientRect():k,pos:this.manager.tooltips.map((b,_)=>{let $=this.manager.tooltipViews[_];return $.getCoords?$.getCoords(b.pos):this.view.coordsAtPos(b.pos)}),size:this.manager.tooltipViews.map(({dom:b})=>b.getBoundingClientRect()),space:this.view.state.facet(tooltipConfig).tooltipSpace(this.view)}}writeMeasure(k){let{editor:b,space:_}=k,$=[];for(let j=0;j<this.manager.tooltips.length;j++){let _e=this.manager.tooltips[j],et=this.manager.tooltipViews[j],{dom:tt}=et,nt=k.pos[j],it=k.size[j];if(!nt||nt.bottom<=Math.max(b.top,_.top)||nt.top>=Math.min(b.bottom,_.bottom)||nt.right<Math.max(b.left,_.left)-.1||nt.left>Math.min(b.right,_.right)+.1){tt.style.top=Outside;continue}let rt=_e.arrow?et.dom.querySelector(".cm-tooltip-arrow"):null,st=rt?7:0,ot=it.right-it.left,ut=it.bottom-it.top,lt=et.offset||noOffset,ft=this.view.textDirection==Direction.LTR,ct=it.width>_.right-_.left?ft?_.left:_.right-it.width:ft?Math.min(nt.left-(rt?14:0)+lt.x,_.right-ot):Math.max(_.left,nt.left-ot+(rt?14:0)-lt.x),pt=!!_e.above;!_e.strictSide&&(pt?nt.top-(it.bottom-it.top)-lt.y<_.top:nt.bottom+(it.bottom-it.top)+lt.y>_.bottom)&&pt==_.bottom-nt.bottom>nt.top-_.top&&(pt=!pt);let mt=pt?nt.top-ut-st-lt.y:nt.bottom+st+lt.y,wt=ct+ot;if(et.overlap!==!0)for(let gt of $)gt.left<wt&&gt.right>ct&&gt.top<mt+ut&&gt.bottom>mt&&(mt=pt?gt.top-ut-2-st:gt.bottom+st+2);this.position=="absolute"?(tt.style.top=mt-k.parent.top+"px",tt.style.left=ct-k.parent.left+"px"):(tt.style.top=mt+"px",tt.style.left=ct+"px"),rt&&(rt.style.left=`${nt.left+(ft?lt.x:-lt.x)-(ct+14-7)}px`),et.overlap!==!0&&$.push({left:ct,top:mt,right:wt,bottom:mt+ut}),tt.classList.toggle("cm-tooltip-above",pt),tt.classList.toggle("cm-tooltip-below",!pt),et.positioned&&et.positioned()}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let k of this.manager.tooltipViews)k.dom.style.top=Outside}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),baseTheme$4=EditorView.baseTheme({".cm-tooltip":{zIndex:100},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:`${7}px`,width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:`${7}px solid transparent`,borderRight:`${7}px solid transparent`},".cm-tooltip-above &":{bottom:`-${7}px`,"&:before":{borderTop:`${7}px solid #bbb`},"&:after":{borderTop:`${7}px solid #f5f5f5`,bottom:"1px"}},".cm-tooltip-below &":{top:`-${7}px`,"&:before":{borderBottom:`${7}px solid #bbb`},"&:after":{borderBottom:`${7}px solid #f5f5f5`,top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),noOffset={x:0,y:0},showTooltip=Facet.define({enables:[tooltipPlugin,baseTheme$4]}),showHoverTooltip=Facet.define();class HoverTooltipHost{constructor(b){this.view=b,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new TooltipViewManager(b,showHoverTooltip,_=>this.createHostedView(_))}static create(b){return new HoverTooltipHost(b)}createHostedView(b){let _=b.create(this.view);return _.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(_.dom),this.mounted&&_.mount&&_.mount(this.view),_}mount(b){for(let _ of this.manager.tooltipViews)_.mount&&_.mount(b);this.mounted=!0}positioned(){for(let b of this.manager.tooltipViews)b.positioned&&b.positioned()}update(b){this.manager.update(b)}}const showHoverTooltipHost=showTooltip.compute([showHoverTooltip],k=>{let b=k.facet(showHoverTooltip).filter(_=>_);return b.length===0?null:{pos:Math.min(...b.map(_=>_.pos)),end:Math.max(...b.filter(_=>_.end!=null).map(_=>_.end)),create:HoverTooltipHost.create,above:b[0].above,arrow:b.some(_=>_.arrow)}});class HoverPlugin{constructor(b,_,$,j,_e){this.view=b,this.source=_,this.field=$,this.setHover=j,this.hoverTime=_e,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:b.dom,time:0},this.checkHover=this.checkHover.bind(this),b.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),b.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let b=Date.now()-this.lastMove.time;b<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-b):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{lastMove:b}=this,_=this.view.contentDOM.contains(b.target)?this.view.posAtCoords(b):null;if(_==null)return;let $=this.view.coordsAtPos(_);if($==null||b.y<$.top||b.y>$.bottom||b.x<$.left-this.view.defaultCharacterWidth||b.x>$.right+this.view.defaultCharacterWidth)return;let j=this.view.bidiSpans(this.view.state.doc.lineAt(_)).find(tt=>tt.from<=_&&tt.to>=_),_e=j&&j.dir==Direction.RTL?-1:1,et=this.source(this.view,_,b.x<$.left?-_e:_e);if(et!=null&&et.then){let tt=this.pending={pos:_};et.then(nt=>{this.pending==tt&&(this.pending=null,nt&&this.view.dispatch({effects:this.setHover.of(nt)}))},nt=>logException(this.view.state,nt,"hover tooltip"))}else et&&this.view.dispatch({effects:this.setHover.of(et)})}mousemove(b){var _;this.lastMove={x:b.clientX,y:b.clientY,target:b.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let $=this.active;if($&&!isInTooltip(this.lastMove.target)||this.pending){let{pos:j}=$||this.pending,_e=(_=$==null?void 0:$.end)!==null&&_!==void 0?_:j;(j==_e?this.view.posAtCoords(this.lastMove)!=j:!isOverRange(this.view,j,_e,b.clientX,b.clientY,6))&&(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}function isInTooltip(k){for(let b=k;b;b=b.parentNode)if(b.nodeType==1&&b.classList.contains("cm-tooltip"))return!0;return!1}function isOverRange(k,b,_,$,j,_e){let et=document.createRange(),tt=k.domAtPos(b),nt=k.domAtPos(_);et.setEnd(nt.node,nt.offset),et.setStart(tt.node,tt.offset);let it=et.getClientRects();et.detach();for(let rt=0;rt<it.length;rt++){let st=it[rt];if(Math.max(st.top-j,j-st.bottom,st.left-$,$-st.right)<=_e)return!0}return!1}function hoverTooltip(k,b={}){let _=StateEffect.define(),$=StateField.define({create(){return null},update(j,_e){if(j&&(b.hideOnChange&&(_e.docChanged||_e.selection)||b.hideOn&&b.hideOn(_e,j)))return null;if(j&&_e.docChanged){let et=_e.changes.mapPos(j.pos,-1,MapMode.TrackDel);if(et==null)return null;let tt=Object.assign(Object.create(null),j);tt.pos=et,j.end!=null&&(tt.end=_e.changes.mapPos(j.end)),j=tt}for(let et of _e.effects)et.is(_)&&(j=et.value),et.is(closeHoverTooltipEffect)&&(j=null);return j},provide:j=>showHoverTooltip.from(j)});return[$,ViewPlugin.define(j=>new HoverPlugin(j,k,$,_,b.hoverTime||300)),showHoverTooltipHost]}function getTooltip(k,b){let _=k.plugin(tooltipPlugin);if(!_)return null;let $=_.manager.tooltips.indexOf(b);return $<0?null:_.manager.tooltipViews[$]}const closeHoverTooltipEffect=StateEffect.define(),panelConfig=Facet.define({combine(k){let b,_;for(let $ of k)b=b||$.topContainer,_=_||$.bottomContainer;return{topContainer:b,bottomContainer:_}}});function getPanel(k,b){let _=k.plugin(panelPlugin),$=_?_.specs.indexOf(b):-1;return $>-1?_.panels[$]:null}const panelPlugin=ViewPlugin.fromClass(class{constructor(k){this.input=k.state.facet(showPanel),this.specs=this.input.filter(_=>_),this.panels=this.specs.map(_=>_(k));let b=k.state.facet(panelConfig);this.top=new PanelGroup(k,!0,b.topContainer),this.bottom=new PanelGroup(k,!1,b.bottomContainer),this.top.sync(this.panels.filter(_=>_.top)),this.bottom.sync(this.panels.filter(_=>!_.top));for(let _ of this.panels)_.dom.classList.add("cm-panel"),_.mount&&_.mount()}update(k){let b=k.state.facet(panelConfig);this.top.container!=b.topContainer&&(this.top.sync([]),this.top=new PanelGroup(k.view,!0,b.topContainer)),this.bottom.container!=b.bottomContainer&&(this.bottom.sync([]),this.bottom=new PanelGroup(k.view,!1,b.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let _=k.state.facet(showPanel);if(_!=this.input){let $=_.filter(nt=>nt),j=[],_e=[],et=[],tt=[];for(let nt of $){let it=this.specs.indexOf(nt),rt;it<0?(rt=nt(k.view),tt.push(rt)):(rt=this.panels[it],rt.update&&rt.update(k)),j.push(rt),(rt.top?_e:et).push(rt)}this.specs=$,this.panels=j,this.top.sync(_e),this.bottom.sync(et);for(let nt of tt)nt.dom.classList.add("cm-panel"),nt.mount&&nt.mount()}else for(let $ of this.panels)$.update&&$.update(k)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:k=>EditorView.scrollMargins.of(b=>{let _=b.plugin(k);return _&&{top:_.top.scrollMargin(),bottom:_.bottom.scrollMargin()}})});class PanelGroup{constructor(b,_,$){this.view=b,this.top=_,this.container=$,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(b){for(let _ of this.panels)_.destroy&&b.indexOf(_)<0&&_.destroy();this.panels=b,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let _=this.container||this.view.dom;_.insertBefore(this.dom,this.top?_.firstChild:null)}let b=this.dom.firstChild;for(let _ of this.panels)if(_.dom.parentNode==this.dom){for(;b!=_.dom;)b=rm(b);b=b.nextSibling}else this.dom.insertBefore(_.dom,b);for(;b;)b=rm(b)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let b of this.classes.split(" "))b&&this.container.classList.remove(b);for(let b of(this.classes=this.view.themeClasses).split(" "))b&&this.container.classList.add(b)}}}function rm(k){let b=k.nextSibling;return k.remove(),b}const showPanel=Facet.define({enables:panelPlugin});class GutterMarker extends RangeValue{compare(b){return this==b||this.constructor==b.constructor&&this.eq(b)}eq(b){return!1}destroy(b){}}GutterMarker.prototype.elementClass="";GutterMarker.prototype.toDOM=void 0;GutterMarker.prototype.mapMode=MapMode.TrackBefore;GutterMarker.prototype.startSide=GutterMarker.prototype.endSide=-1;GutterMarker.prototype.point=!0;const gutterLineClass=Facet.define(),defaults$1={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>RangeSet.empty,lineMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},activeGutters=Facet.define();function gutter(k){return[gutters(),activeGutters.of(Object.assign(Object.assign({},defaults$1),k))]}const unfixGutters=Facet.define({combine:k=>k.some(b=>b)});function gutters(k){let b=[gutterView];return k&&k.fixed===!1&&b.push(unfixGutters.of(!0)),b}const gutterView=ViewPlugin.fromClass(class{constructor(k){this.view=k,this.prevViewport=k.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=k.state.facet(activeGutters).map(b=>new SingleGutterView(k,b));for(let b of this.gutters)this.dom.appendChild(b.dom);this.fixed=!k.state.facet(unfixGutters),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),k.scrollDOM.insertBefore(this.dom,k.contentDOM)}update(k){if(this.updateGutters(k)){let b=this.prevViewport,_=k.view.viewport,$=Math.min(b.to,_.to)-Math.max(b.from,_.from);this.syncGutters($<(_.to-_.from)*.8)}k.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(unfixGutters)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=k.view.viewport}syncGutters(k){let b=this.dom.nextSibling;k&&this.dom.remove();let _=RangeSet.iter(this.view.state.facet(gutterLineClass),this.view.viewport.from),$=[],j=this.gutters.map(_e=>new UpdateContext(_e,this.view.viewport,-this.view.documentPadding.top));for(let _e of this.view.viewportLineBlocks){let et;if(Array.isArray(_e.type)){for(let tt of _e.type)if(tt.type==BlockType.Text){et=tt;break}}else et=_e.type==BlockType.Text?_e:void 0;if(!!et){$.length&&($=[]),advanceCursor(_,$,_e.from);for(let tt of j)tt.line(this.view,et,$)}}for(let _e of j)_e.finish();k&&this.view.scrollDOM.insertBefore(this.dom,b)}updateGutters(k){let b=k.startState.facet(activeGutters),_=k.state.facet(activeGutters),$=k.docChanged||k.heightChanged||k.viewportChanged||!RangeSet.eq(k.startState.facet(gutterLineClass),k.state.facet(gutterLineClass),k.view.viewport.from,k.view.viewport.to);if(b==_)for(let j of this.gutters)j.update(k)&&($=!0);else{$=!0;let j=[];for(let _e of _){let et=b.indexOf(_e);et<0?j.push(new SingleGutterView(this.view,_e)):(this.gutters[et].update(k),j.push(this.gutters[et]))}for(let _e of this.gutters)_e.dom.remove(),j.indexOf(_e)<0&&_e.destroy();for(let _e of j)this.dom.appendChild(_e.dom);this.gutters=j}return $}destroy(){for(let k of this.gutters)k.destroy();this.dom.remove()}},{provide:k=>EditorView.scrollMargins.of(b=>{let _=b.plugin(k);return!_||_.gutters.length==0||!_.fixed?null:b.textDirection==Direction.LTR?{left:_.dom.offsetWidth}:{right:_.dom.offsetWidth}})});function asArray(k){return Array.isArray(k)?k:[k]}function advanceCursor(k,b,_){for(;k.value&&k.from<=_;)k.from==_&&b.push(k.value),k.next()}class UpdateContext{constructor(b,_,$){this.gutter=b,this.height=$,this.localMarkers=[],this.i=0,this.cursor=RangeSet.iter(b.markers,_.from)}line(b,_,$){this.localMarkers.length&&(this.localMarkers=[]),advanceCursor(this.cursor,this.localMarkers,_.from);let j=$.length?this.localMarkers.concat($):this.localMarkers,_e=this.gutter.config.lineMarker(b,_,j);_e&&j.unshift(_e);let et=this.gutter;if(j.length==0&&!et.config.renderEmptyElements)return;let tt=_.top-this.height;if(this.i==et.elements.length){let nt=new GutterElement(b,_.height,tt,j);et.elements.push(nt),et.dom.appendChild(nt.dom)}else et.elements[this.i].update(b,_.height,tt,j);this.height=_.bottom,this.i++}finish(){let b=this.gutter;for(;b.elements.length>this.i;){let _=b.elements.pop();b.dom.removeChild(_.dom),_.destroy()}}}class SingleGutterView{constructor(b,_){this.view=b,this.config=_,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let $ in _.domEventHandlers)this.dom.addEventListener($,j=>{let _e=b.lineBlockAtHeight(j.clientY-b.documentTop);_.domEventHandlers[$](b,_e,j)&&j.preventDefault()});this.markers=asArray(_.markers(b)),_.initialSpacer&&(this.spacer=new GutterElement(b,0,0,[_.initialSpacer(b)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(b){let _=this.markers;if(this.markers=asArray(this.config.markers(b.view)),this.spacer&&this.config.updateSpacer){let j=this.config.updateSpacer(this.spacer.markers[0],b);j!=this.spacer.markers[0]&&this.spacer.update(b.view,0,0,[j])}let $=b.view.viewport;return!RangeSet.eq(this.markers,_,$.from,$.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(b):!1)}destroy(){for(let b of this.elements)b.destroy()}}class GutterElement{constructor(b,_,$,j){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(b,_,$,j)}update(b,_,$,j){this.height!=_&&(this.dom.style.height=(this.height=_)+"px"),this.above!=$&&(this.dom.style.marginTop=(this.above=$)?$+"px":""),sameMarkers(this.markers,j)||this.setMarkers(b,j)}setMarkers(b,_){let $="cm-gutterElement",j=this.dom.firstChild;for(let _e=0,et=0;;){let tt=et,nt=_e<_.length?_[_e++]:null,it=!1;if(nt){let rt=nt.elementClass;rt&&($+=" "+rt);for(let st=et;st<this.markers.length;st++)if(this.markers[st].compare(nt)){tt=st,it=!0;break}}else tt=this.markers.length;for(;et<tt;){let rt=this.markers[et++];if(rt.toDOM){rt.destroy(j);let st=j.nextSibling;j.remove(),j=st}}if(!nt)break;nt.toDOM&&(it?j=j.nextSibling:this.dom.insertBefore(nt.toDOM(b),j)),it&&et++}this.dom.className=$,this.markers=_}destroy(){this.setMarkers(null,[])}}function sameMarkers(k,b){if(k.length!=b.length)return!1;for(let _=0;_<k.length;_++)if(!k[_].compare(b[_]))return!1;return!0}const lineNumberMarkers=Facet.define(),lineNumberConfig=Facet.define({combine(k){return combineConfig(k,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(b,_){let $=Object.assign({},b);for(let j in _){let _e=$[j],et=_[j];$[j]=_e?(tt,nt,it)=>_e(tt,nt,it)||et(tt,nt,it):et}return $}})}});class NumberMarker extends GutterMarker{constructor(b){super(),this.number=b}eq(b){return this.number==b.number}toDOM(){return document.createTextNode(this.number)}}function formatNumber(k,b){return k.state.facet(lineNumberConfig).formatNumber(b,k.state)}const lineNumberGutter=activeGutters.compute([lineNumberConfig],k=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(b){return b.state.facet(lineNumberMarkers)},lineMarker(b,_,$){return $.some(j=>j.toDOM)?null:new NumberMarker(formatNumber(b,b.state.doc.lineAt(_.from).number))},lineMarkerChange:b=>b.startState.facet(lineNumberConfig)!=b.state.facet(lineNumberConfig),initialSpacer(b){return new NumberMarker(formatNumber(b,maxLineNumber(b.state.doc.lines)))},updateSpacer(b,_){let $=formatNumber(_.view,maxLineNumber(_.view.state.doc.lines));return $==b.number?b:new NumberMarker($)},domEventHandlers:k.facet(lineNumberConfig).domEventHandlers}));function lineNumbers(k={}){return[lineNumberConfig.of(k),gutters(),lineNumberGutter]}function maxLineNumber(k){let b=9;for(;b<k;)b=b*10+9;return b}const activeLineGutterMarker=new class extends GutterMarker{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},activeLineGutterHighlighter=gutterLineClass.compute(["selection"],k=>{let b=[],_=-1;for(let $ of k.selection.ranges)if($.empty){let j=k.doc.lineAt($.head).from;j>_&&(_=j,b.push(activeLineGutterMarker.range(j)))}return RangeSet.of(b)});function highlightActiveLineGutter(){return activeLineGutterHighlighter}const DefaultBufferLength=1024;let nextPropID=0;class Range{constructor(b,_){this.from=b,this.to=_}}class NodeProp{constructor(b={}){this.id=nextPropID++,this.perNode=!!b.perNode,this.deserialize=b.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(b){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof b!="function"&&(b=NodeType.match(b)),_=>{let $=b(_);return $===void 0?null:[this,$]}}}NodeProp.closedBy=new NodeProp({deserialize:k=>k.split(" ")});NodeProp.openedBy=new NodeProp({deserialize:k=>k.split(" ")});NodeProp.group=new NodeProp({deserialize:k=>k.split(" ")});NodeProp.contextHash=new NodeProp({perNode:!0});NodeProp.lookAhead=new NodeProp({perNode:!0});NodeProp.mounted=new NodeProp({perNode:!0});const noProps=Object.create(null);class NodeType{constructor(b,_,$,j=0){this.name=b,this.props=_,this.id=$,this.flags=j}static define(b){let _=b.props&&b.props.length?Object.create(null):noProps,$=(b.top?1:0)|(b.skipped?2:0)|(b.error?4:0)|(b.name==null?8:0),j=new NodeType(b.name||"",_,b.id,$);if(b.props){for(let _e of b.props)if(Array.isArray(_e)||(_e=_e(j)),_e){if(_e[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");_[_e[0].id]=_e[1]}}return j}prop(b){return this.props[b.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(b){if(typeof b=="string"){if(this.name==b)return!0;let _=this.prop(NodeProp.group);return _?_.indexOf(b)>-1:!1}return this.id==b}static match(b){let _=Object.create(null);for(let $ in b)for(let j of $.split(" "))_[j]=b[$];return $=>{for(let j=$.prop(NodeProp.group),_e=-1;_e<(j?j.length:0);_e++){let et=_[_e<0?$.name:j[_e]];if(et)return et}}}}NodeType.none=new NodeType("",Object.create(null),0,8);class NodeSet{constructor(b){this.types=b;for(let _=0;_<b.length;_++)if(b[_].id!=_)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...b){let _=[];for(let $ of this.types){let j=null;for(let _e of b){let et=_e($);et&&(j||(j=Object.assign({},$.props)),j[et[0].id]=et[1])}_.push(j?new NodeType($.name,j,$.id,$.flags):$)}return new NodeSet(_)}}const CachedNode=new WeakMap,CachedInnerNode=new WeakMap;var IterMode;(function(k){k[k.ExcludeBuffers=1]="ExcludeBuffers",k[k.IncludeAnonymous=2]="IncludeAnonymous",k[k.IgnoreMounts=4]="IgnoreMounts",k[k.IgnoreOverlays=8]="IgnoreOverlays"})(IterMode||(IterMode={}));class Tree{constructor(b,_,$,j,_e){if(this.type=b,this.children=_,this.positions=$,this.length=j,this.props=null,_e&&_e.length){this.props=Object.create(null);for(let[et,tt]of _e)this.props[typeof et=="number"?et:et.id]=tt}}toString(){let b=this.prop(NodeProp.mounted);if(b&&!b.overlay)return b.tree.toString();let _="";for(let $ of this.children){let j=$.toString();j&&(_&&(_+=","),_+=j)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(_.length?"("+_+")":""):_}cursor(b=0){return new TreeCursor(this.topNode,b)}cursorAt(b,_=0,$=0){let j=CachedNode.get(this)||this.topNode,_e=new TreeCursor(j);return _e.moveTo(b,_),CachedNode.set(this,_e._tree),_e}get topNode(){return new TreeNode(this,0,0,null)}resolve(b,_=0){let $=resolveNode(CachedNode.get(this)||this.topNode,b,_,!1);return CachedNode.set(this,$),$}resolveInner(b,_=0){let $=resolveNode(CachedInnerNode.get(this)||this.topNode,b,_,!0);return CachedInnerNode.set(this,$),$}iterate(b){let{enter:_,leave:$,from:j=0,to:_e=this.length}=b;for(let et=this.cursor((b.mode||0)|IterMode.IncludeAnonymous);;){let tt=!1;if(et.from<=_e&&et.to>=j&&(et.type.isAnonymous||_(et)!==!1)){if(et.firstChild())continue;tt=!0}for(;tt&&$&&!et.type.isAnonymous&&$(et),!et.nextSibling();){if(!et.parent())return;tt=!0}}}prop(b){return b.perNode?this.props?this.props[b.id]:void 0:this.type.prop(b)}get propValues(){let b=[];if(this.props)for(let _ in this.props)b.push([+_,this.props[_]]);return b}balance(b={}){return this.children.length<=8?this:balanceRange(NodeType.none,this.children,this.positions,0,this.children.length,0,this.length,(_,$,j)=>new Tree(this.type,_,$,j,this.propValues),b.makeTree||((_,$,j)=>new Tree(NodeType.none,_,$,j)))}static build(b){return buildTree(b)}}Tree.empty=new Tree(NodeType.none,[],[],0);class FlatBufferCursor{constructor(b,_){this.buffer=b,this.index=_}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new FlatBufferCursor(this.buffer,this.index)}}class TreeBuffer{constructor(b,_,$){this.buffer=b,this.length=_,this.set=$}get type(){return NodeType.none}toString(){let b=[];for(let _=0;_<this.buffer.length;)b.push(this.childString(_)),_=this.buffer[_+3];return b.join(",")}childString(b){let _=this.buffer[b],$=this.buffer[b+3],j=this.set.types[_],_e=j.name;if(/\W/.test(_e)&&!j.isError&&(_e=JSON.stringify(_e)),b+=4,$==b)return _e;let et=[];for(;b<$;)et.push(this.childString(b)),b=this.buffer[b+3];return _e+"("+et.join(",")+")"}findChild(b,_,$,j,_e){let{buffer:et}=this,tt=-1;for(let nt=b;nt!=_&&!(checkSide(_e,j,et[nt+1],et[nt+2])&&(tt=nt,$>0));nt=et[nt+3]);return tt}slice(b,_,$,j){let _e=this.buffer,et=new Uint16Array(_-b);for(let tt=b,nt=0;tt<_;)et[nt++]=_e[tt++],et[nt++]=_e[tt++]-$,et[nt++]=_e[tt++]-$,et[nt++]=_e[tt++]-b;return new TreeBuffer(et,j-$,this.set)}}function checkSide(k,b,_,$){switch(k){case-2:return _<b;case-1:return $>=b&&_<b;case 0:return _<b&&$>b;case 1:return _<=b&&$>b;case 2:return $>b;case 4:return!0}}function enterUnfinishedNodesBefore(k,b){let _=k.childBefore(b);for(;_;){let $=_.lastChild;if(!$||$.to!=_.to)break;$.type.isError&&$.from==$.to?(k=_,_=$.prevSibling):_=$}return k}function resolveNode(k,b,_,$){for(var j;k.from==k.to||(_<1?k.from>=b:k.from>b)||(_>-1?k.to<=b:k.to<b);){let et=!$&&k instanceof TreeNode&&k.index<0?null:k.parent;if(!et)return k;k=et}let _e=$?0:IterMode.IgnoreOverlays;if($)for(let et=k,tt=et.parent;tt;et=tt,tt=et.parent)et instanceof TreeNode&&et.index<0&&((j=tt.enter(b,_,_e))===null||j===void 0?void 0:j.from)!=et.from&&(k=tt);for(;;){let et=k.enter(b,_,_e);if(!et)return k;k=et}}class TreeNode{constructor(b,_,$,j){this._tree=b,this.from=_,this.index=$,this._parent=j}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(b,_,$,j,_e=0){for(let et=this;;){for(let{children:tt,positions:nt}=et._tree,it=_>0?tt.length:-1;b!=it;b+=_){let rt=tt[b],st=nt[b]+et.from;if(!!checkSide(j,$,st,st+rt.length)){if(rt instanceof TreeBuffer){if(_e&IterMode.ExcludeBuffers)continue;let ot=rt.findChild(0,rt.buffer.length,_,$-st,j);if(ot>-1)return new BufferNode(new BufferContext(et,rt,b,st),null,ot)}else if(_e&IterMode.IncludeAnonymous||!rt.type.isAnonymous||hasChild(rt)){let ot;if(!(_e&IterMode.IgnoreMounts)&&rt.props&&(ot=rt.prop(NodeProp.mounted))&&!ot.overlay)return new TreeNode(ot.tree,st,b,et);let ut=new TreeNode(rt,st,b,et);return _e&IterMode.IncludeAnonymous||!ut.type.isAnonymous?ut:ut.nextChild(_<0?rt.children.length-1:0,_,$,j)}}}if(_e&IterMode.IncludeAnonymous||!et.type.isAnonymous||(et.index>=0?b=et.index+_:b=_<0?-1:et._parent._tree.children.length,et=et._parent,!et))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(b){return this.nextChild(0,1,b,2)}childBefore(b){return this.nextChild(this._tree.children.length-1,-1,b,-2)}enter(b,_,$=0){let j;if(!($&IterMode.IgnoreOverlays)&&(j=this._tree.prop(NodeProp.mounted))&&j.overlay){let _e=b-this.from;for(let{from:et,to:tt}of j.overlay)if((_>0?et<=_e:et<_e)&&(_<0?tt>=_e:tt>_e))return new TreeNode(j.tree,j.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,b,_,$)}nextSignificantParent(){let b=this;for(;b.type.isAnonymous&&b._parent;)b=b._parent;return b}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(b=0){return new TreeCursor(this,b)}get tree(){return this._tree}toTree(){return this._tree}resolve(b,_=0){return resolveNode(this,b,_,!1)}resolveInner(b,_=0){return resolveNode(this,b,_,!0)}enterUnfinishedNodesBefore(b){return enterUnfinishedNodesBefore(this,b)}getChild(b,_=null,$=null){let j=getChildren(this,b,_,$);return j.length?j[0]:null}getChildren(b,_=null,$=null){return getChildren(this,b,_,$)}toString(){return this._tree.toString()}get node(){return this}matchContext(b){return matchNodeContext(this,b)}}function getChildren(k,b,_,$){let j=k.cursor(),_e=[];if(!j.firstChild())return _e;if(_!=null){for(;!j.type.is(_);)if(!j.nextSibling())return _e}for(;;){if($!=null&&j.type.is($))return _e;if(j.type.is(b)&&_e.push(j.node),!j.nextSibling())return $==null?_e:[]}}function matchNodeContext(k,b,_=b.length-1){for(let $=k.parent;_>=0;$=$.parent){if(!$)return!1;if(!$.type.isAnonymous){if(b[_]&&b[_]!=$.name)return!1;_--}}return!0}class BufferContext{constructor(b,_,$,j){this.parent=b,this.buffer=_,this.index=$,this.start=j}}class BufferNode{constructor(b,_,$){this.context=b,this._parent=_,this.index=$,this.type=b.buffer.set.types[b.buffer.buffer[$]]}get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}child(b,_,$){let{buffer:j}=this.context,_e=j.findChild(this.index+4,j.buffer[this.index+3],b,_-this.context.start,$);return _e<0?null:new BufferNode(this.context,this,_e)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(b){return this.child(1,b,2)}childBefore(b){return this.child(-1,b,-2)}enter(b,_,$=0){if($&IterMode.ExcludeBuffers)return null;let{buffer:j}=this.context,_e=j.findChild(this.index+4,j.buffer[this.index+3],_>0?1:-1,b-this.context.start,_);return _e<0?null:new BufferNode(this.context,this,_e)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(b){return this._parent?null:this.context.parent.nextChild(this.context.index+b,b,0,4)}get nextSibling(){let{buffer:b}=this.context,_=b.buffer[this.index+3];return _<(this._parent?b.buffer[this._parent.index+3]:b.buffer.length)?new BufferNode(this.context,this._parent,_):this.externalSibling(1)}get prevSibling(){let{buffer:b}=this.context,_=this._parent?this._parent.index+4:0;return this.index==_?this.externalSibling(-1):new BufferNode(this.context,this._parent,b.findChild(_,this.index,-1,0,4))}cursor(b=0){return new TreeCursor(this,b)}get tree(){return null}toTree(){let b=[],_=[],{buffer:$}=this.context,j=this.index+4,_e=$.buffer[this.index+3];if(_e>j){let et=$.buffer[this.index+1],tt=$.buffer[this.index+2];b.push($.slice(j,_e,et,tt)),_.push(0)}return new Tree(this.type,b,_,this.to-this.from)}resolve(b,_=0){return resolveNode(this,b,_,!1)}resolveInner(b,_=0){return resolveNode(this,b,_,!0)}enterUnfinishedNodesBefore(b){return enterUnfinishedNodesBefore(this,b)}toString(){return this.context.buffer.childString(this.index)}getChild(b,_=null,$=null){let j=getChildren(this,b,_,$);return j.length?j[0]:null}getChildren(b,_=null,$=null){return getChildren(this,b,_,$)}get node(){return this}matchContext(b){return matchNodeContext(this,b)}}class TreeCursor{constructor(b,_=0){if(this.mode=_,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,b instanceof TreeNode)this.yieldNode(b);else{this._tree=b.context.parent,this.buffer=b.context;for(let $=b._parent;$;$=$._parent)this.stack.unshift($.index);this.bufferNode=b,this.yieldBuf(b.index)}}get name(){return this.type.name}yieldNode(b){return b?(this._tree=b,this.type=b.type,this.from=b.from,this.to=b.to,!0):!1}yieldBuf(b,_){this.index=b;let{start:$,buffer:j}=this.buffer;return this.type=_||j.set.types[j.buffer[b]],this.from=$+j.buffer[b+1],this.to=$+j.buffer[b+2],!0}yield(b){return b?b instanceof TreeNode?(this.buffer=null,this.yieldNode(b)):(this.buffer=b.context,this.yieldBuf(b.index,b.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(b,_,$){if(!this.buffer)return this.yield(this._tree.nextChild(b<0?this._tree._tree.children.length-1:0,b,_,$,this.mode));let{buffer:j}=this.buffer,_e=j.findChild(this.index+4,j.buffer[this.index+3],b,_-this.buffer.start,$);return _e<0?!1:(this.stack.push(this.index),this.yieldBuf(_e))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(b){return this.enterChild(1,b,2)}childBefore(b){return this.enterChild(-1,b,-2)}enter(b,_,$=this.mode){return this.buffer?$&IterMode.ExcludeBuffers?!1:this.enterChild(1,b,_):this.yield(this._tree.enter(b,_,$))}parent(){if(!this.buffer)return this.yieldNode(this.mode&IterMode.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let b=this.mode&IterMode.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(b)}sibling(b){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+b,b,0,4,this.mode)):!1;let{buffer:_}=this.buffer,$=this.stack.length-1;if(b<0){let j=$<0?0:this.stack[$]+4;if(this.index!=j)return this.yieldBuf(_.findChild(j,this.index,-1,0,4))}else{let j=_.buffer[this.index+3];if(j<($<0?_.buffer.length:_.buffer[this.stack[$]+3]))return this.yieldBuf(j)}return $<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+b,b,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(b){let _,$,{buffer:j}=this;if(j){if(b>0){if(this.index<j.buffer.buffer.length)return!1}else for(let _e=0;_e<this.index;_e++)if(j.buffer.buffer[_e+3]<this.index)return!1;({index:_,parent:$}=j)}else({index:_,_parent:$}=this._tree);for(;$;{index:_,_parent:$}=$)if(_>-1)for(let _e=_+b,et=b<0?-1:$._tree.children.length;_e!=et;_e+=b){let tt=$._tree.children[_e];if(this.mode&IterMode.IncludeAnonymous||tt instanceof TreeBuffer||!tt.type.isAnonymous||hasChild(tt))return!1}return!0}move(b,_){if(_&&this.enterChild(b,0,4))return!0;for(;;){if(this.sibling(b))return!0;if(this.atLastNode(b)||!this.parent())return!1}}next(b=!0){return this.move(1,b)}prev(b=!0){return this.move(-1,b)}moveTo(b,_=0){for(;(this.from==this.to||(_<1?this.from>=b:this.from>b)||(_>-1?this.to<=b:this.to<b))&&this.parent(););for(;this.enterChild(1,b,_););return this}get node(){if(!this.buffer)return this._tree;let b=this.bufferNode,_=null,$=0;if(b&&b.context==this.buffer){e:for(let j=this.index,_e=this.stack.length;_e>=0;){for(let et=b;et;et=et._parent)if(et.index==j){if(j==this.index)return et;_=et,$=_e+1;break e}j=this.stack[--_e]}}for(let j=$;j<this.stack.length;j++)_=new BufferNode(this.buffer,_,this.stack[j]);return this.bufferNode=new BufferNode(this.buffer,_,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(b,_){for(let $=0;;){let j=!1;if(this.type.isAnonymous||b(this)!==!1){if(this.firstChild()){$++;continue}this.type.isAnonymous||(j=!0)}for(;j&&_&&_(this),j=this.type.isAnonymous,!this.nextSibling();){if(!$)return;this.parent(),$--,j=!0}}}matchContext(b){if(!this.buffer)return matchNodeContext(this.node,b);let{buffer:_}=this.buffer,{types:$}=_.set;for(let j=b.length-1,_e=this.stack.length-1;j>=0;_e--){if(_e<0)return matchNodeContext(this.node,b,j);let et=$[_.buffer[this.stack[_e]]];if(!et.isAnonymous){if(b[j]&&b[j]!=et.name)return!1;j--}}return!0}}function hasChild(k){return k.children.some(b=>b instanceof TreeBuffer||!b.type.isAnonymous||hasChild(b))}function buildTree(k){var b;let{buffer:_,nodeSet:$,maxBufferLength:j=DefaultBufferLength,reused:_e=[],minRepeatType:et=$.types.length}=k,tt=Array.isArray(_)?new FlatBufferCursor(_,_.length):_,nt=$.types,it=0,rt=0;function st(gt,vt,bt,Ct,Dt){let{id:_t,start:Rt,end:jt,size:Qt}=tt,Nt=rt;for(;Qt<0;)if(tt.next(),Qt==-1){let Ut=_e[_t];bt.push(Ut),Ct.push(Rt-gt);return}else if(Qt==-3){it=_t;return}else if(Qt==-4){rt=_t;return}else throw new RangeError(`Unrecognized record size: ${Qt}`);let Vt=nt[_t],Yt,Wt,Jt=Rt-gt;if(jt-Rt<=j&&(Wt=ft(tt.pos-vt,Dt))){let Ut=new Uint16Array(Wt.size-Wt.skip),Kt=tt.pos-Wt.size,mn=Ut.length;for(;tt.pos>Kt;)mn=ct(Wt.start,Ut,mn);Yt=new TreeBuffer(Ut,jt-Wt.start,$),Jt=Wt.start-gt}else{let Ut=tt.pos-Qt;tt.next();let Kt=[],mn=[],Mt=_t>=et?_t:-1,qt=0,Ht=jt;for(;tt.pos>Ut;)Mt>=0&&tt.id==Mt&&tt.size>=0?(tt.end<=Ht-j&&(ut(Kt,mn,Rt,qt,tt.end,Ht,Mt,Nt),qt=Kt.length,Ht=tt.end),tt.next()):st(Rt,Ut,Kt,mn,Mt);if(Mt>=0&&qt>0&&qt<Kt.length&&ut(Kt,mn,Rt,qt,Rt,Ht,Mt,Nt),Kt.reverse(),mn.reverse(),Mt>-1&&qt>0){let an=ot(Vt);Yt=balanceRange(Vt,Kt,mn,0,Kt.length,0,jt-Rt,an,an)}else Yt=lt(Vt,Kt,mn,jt-Rt,Nt-jt)}bt.push(Yt),Ct.push(Jt)}function ot(gt){return(vt,bt,Ct)=>{let Dt=0,_t=vt.length-1,Rt,jt;if(_t>=0&&(Rt=vt[_t])instanceof Tree){if(!_t&&Rt.type==gt&&Rt.length==Ct)return Rt;(jt=Rt.prop(NodeProp.lookAhead))&&(Dt=bt[_t]+Rt.length+jt)}return lt(gt,vt,bt,Ct,Dt)}}function ut(gt,vt,bt,Ct,Dt,_t,Rt,jt){let Qt=[],Nt=[];for(;gt.length>Ct;)Qt.push(gt.pop()),Nt.push(vt.pop()+bt-Dt);gt.push(lt($.types[Rt],Qt,Nt,_t-Dt,jt-_t)),vt.push(Dt-bt)}function lt(gt,vt,bt,Ct,Dt=0,_t){if(it){let Rt=[NodeProp.contextHash,it];_t=_t?[Rt].concat(_t):[Rt]}if(Dt>25){let Rt=[NodeProp.lookAhead,Dt];_t=_t?[Rt].concat(_t):[Rt]}return new Tree(gt,vt,bt,Ct,_t)}function ft(gt,vt){let bt=tt.fork(),Ct=0,Dt=0,_t=0,Rt=bt.end-j,jt={size:0,start:0,skip:0};e:for(let Qt=bt.pos-gt;bt.pos>Qt;){let Nt=bt.size;if(bt.id==vt&&Nt>=0){jt.size=Ct,jt.start=Dt,jt.skip=_t,_t+=4,Ct+=4,bt.next();continue}let Vt=bt.pos-Nt;if(Nt<0||Vt<Qt||bt.start<Rt)break;let Yt=bt.id>=et?4:0,Wt=bt.start;for(bt.next();bt.pos>Vt;){if(bt.size<0)if(bt.size==-3)Yt+=4;else break e;else bt.id>=et&&(Yt+=4);bt.next()}Dt=Wt,Ct+=Nt,_t+=Yt}return(vt<0||Ct==gt)&&(jt.size=Ct,jt.start=Dt,jt.skip=_t),jt.size>4?jt:void 0}function ct(gt,vt,bt){let{id:Ct,start:Dt,end:_t,size:Rt}=tt;if(tt.next(),Rt>=0&&Ct<et){let jt=bt;if(Rt>4){let Qt=tt.pos-(Rt-4);for(;tt.pos>Qt;)bt=ct(gt,vt,bt)}vt[--bt]=jt,vt[--bt]=_t-gt,vt[--bt]=Dt-gt,vt[--bt]=Ct}else Rt==-3?it=Ct:Rt==-4&&(rt=Ct);return bt}let pt=[],mt=[];for(;tt.pos>0;)st(k.start||0,k.bufferStart||0,pt,mt,-1);let wt=(b=k.length)!==null&&b!==void 0?b:pt.length?mt[0]+pt[0].length:0;return new Tree(nt[k.topID],pt.reverse(),mt.reverse(),wt)}const nodeSizeCache=new WeakMap;function nodeSize(k,b){if(!k.isAnonymous||b instanceof TreeBuffer||b.type!=k)return 1;let _=nodeSizeCache.get(b);if(_==null){_=1;for(let $ of b.children){if($.type!=k||!($ instanceof Tree)){_=1;break}_+=nodeSize(k,$)}nodeSizeCache.set(b,_)}return _}function balanceRange(k,b,_,$,j,_e,et,tt,nt){let it=0;for(let lt=$;lt<j;lt++)it+=nodeSize(k,b[lt]);let rt=Math.ceil(it*1.5/8),st=[],ot=[];function ut(lt,ft,ct,pt,mt){for(let wt=ct;wt<pt;){let gt=wt,vt=ft[wt],bt=nodeSize(k,lt[wt]);for(wt++;wt<pt;wt++){let Ct=nodeSize(k,lt[wt]);if(bt+Ct>=rt)break;bt+=Ct}if(wt==gt+1){if(bt>rt){let Ct=lt[gt];ut(Ct.children,Ct.positions,0,Ct.children.length,ft[gt]+mt);continue}st.push(lt[gt])}else{let Ct=ft[wt-1]+lt[wt-1].length-vt;st.push(balanceRange(k,lt,ft,gt,wt,vt,Ct,null,nt))}ot.push(vt+mt-_e)}}return ut(b,_,$,j,0),(tt||nt)(st,ot,et)}class NodeWeakMap{constructor(){this.map=new WeakMap}setBuffer(b,_,$){let j=this.map.get(b);j||this.map.set(b,j=new Map),j.set(_,$)}getBuffer(b,_){let $=this.map.get(b);return $&&$.get(_)}set(b,_){b instanceof BufferNode?this.setBuffer(b.context.buffer,b.index,_):b instanceof TreeNode&&this.map.set(b.tree,_)}get(b){return b instanceof BufferNode?this.getBuffer(b.context.buffer,b.index):b instanceof TreeNode?this.map.get(b.tree):void 0}cursorSet(b,_){b.buffer?this.setBuffer(b.buffer.buffer,b.index,_):this.map.set(b.tree,_)}cursorGet(b){return b.buffer?this.getBuffer(b.buffer.buffer,b.index):this.map.get(b.tree)}}class TreeFragment{constructor(b,_,$,j,_e=!1,et=!1){this.from=b,this.to=_,this.tree=$,this.offset=j,this.open=(_e?1:0)|(et?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(b,_=[],$=!1){let j=[new TreeFragment(0,b.length,b,0,!1,$)];for(let _e of _)_e.to>b.length&&j.push(_e);return j}static applyChanges(b,_,$=128){if(!_.length)return b;let j=[],_e=1,et=b.length?b[0]:null;for(let tt=0,nt=0,it=0;;tt++){let rt=tt<_.length?_[tt]:null,st=rt?rt.fromA:1e9;if(st-nt>=$)for(;et&&et.from<st;){let ot=et;if(nt>=ot.from||st<=ot.to||it){let ut=Math.max(ot.from,nt)-it,lt=Math.min(ot.to,st)-it;ot=ut>=lt?null:new TreeFragment(ut,lt,ot.tree,ot.offset+it,tt>0,!!rt)}if(ot&&j.push(ot),et.to>st)break;et=_e<b.length?b[_e++]:null}if(!rt)break;nt=rt.toA,it=rt.toA-rt.toB}return j}}class Parser$1{startParse(b,_,$){return typeof b=="string"&&(b=new StringInput(b)),$=$?$.length?$.map(j=>new Range(j.from,j.to)):[new Range(0,0)]:[new Range(0,b.length)],this.createParse(b,_||[],$)}parse(b,_,$){let j=this.startParse(b,_,$);for(;;){let _e=j.advance();if(_e)return _e}}}class StringInput{constructor(b){this.string=b}get length(){return this.string.length}chunk(b){return this.string.slice(b)}get lineChunks(){return!1}read(b,_){return this.string.slice(b,_)}}new NodeProp({perNode:!0});let nextTagID=0;class Tag{constructor(b,_,$){this.set=b,this.base=_,this.modified=$,this.id=nextTagID++}static define(b){if(b!=null&&b.base)throw new Error("Can not derive from a modified tag");let _=new Tag([],null,[]);if(_.set.push(_),b)for(let $ of b.set)_.set.push($);return _}static defineModifier(){let b=new Modifier;return _=>_.modified.indexOf(b)>-1?_:Modifier.get(_.base||_,_.modified.concat(b).sort(($,j)=>$.id-j.id))}}let nextModifierID=0;class Modifier{constructor(){this.instances=[],this.id=nextModifierID++}static get(b,_){if(!_.length)return b;let $=_[0].instances.find(tt=>tt.base==b&&sameArray(_,tt.modified));if($)return $;let j=[],_e=new Tag(j,b,_);for(let tt of _)tt.instances.push(_e);let et=permute(_);for(let tt of b.set)for(let nt of et)j.push(Modifier.get(tt,nt));return _e}}function sameArray(k,b){return k.length==b.length&&k.every((_,$)=>_==b[$])}function permute(k){let b=[k];for(let _=0;_<k.length;_++)for(let $ of permute(k.slice(0,_).concat(k.slice(_+1))))b.push($);return b}function styleTags(k){let b=Object.create(null);for(let _ in k){let $=k[_];Array.isArray($)||($=[$]);for(let j of _.split(" "))if(j){let _e=[],et=2,tt=j;for(let st=0;;){if(tt=="..."&&st>0&&st+3==j.length){et=1;break}let ot=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(tt);if(!ot)throw new RangeError("Invalid path: "+j);if(_e.push(ot[0]=="*"?"":ot[0][0]=='"'?JSON.parse(ot[0]):ot[0]),st+=ot[0].length,st==j.length)break;let ut=j[st++];if(st==j.length&&ut=="!"){et=0;break}if(ut!="/")throw new RangeError("Invalid path: "+j);tt=j.slice(st)}let nt=_e.length-1,it=_e[nt];if(!it)throw new RangeError("Invalid path: "+j);let rt=new Rule($,et,nt>0?_e.slice(0,nt):null);b[it]=rt.sort(b[it])}}return ruleNodeProp.add(b)}const ruleNodeProp=new NodeProp;class Rule{constructor(b,_,$,j){this.tags=b,this.mode=_,this.context=$,this.next=j}sort(b){return!b||b.depth<this.depth?(this.next=b,this):(b.next=this.sort(b.next),b)}get depth(){return this.context?this.context.length:0}}function tagHighlighter(k,b){let _=Object.create(null);for(let _e of k)if(!Array.isArray(_e.tag))_[_e.tag.id]=_e.class;else for(let et of _e.tag)_[et.id]=_e.class;let{scope:$,all:j=null}=b||{};return{style:_e=>{let et=j;for(let tt of _e)for(let nt of tt.set){let it=_[nt.id];if(it){et=et?et+" "+it:it;break}}return et},scope:$}}function highlightTags(k,b){let _=null;for(let $ of k){let j=$.style(b);j&&(_=_?_+" "+j:j)}return _}function highlightTree(k,b,_,$=0,j=k.length){let _e=new HighlightBuilder($,Array.isArray(b)?b:[b],_);_e.highlightRange(k.cursor(),$,j,"",_e.highlighters),_e.flush(j)}class HighlightBuilder{constructor(b,_,$){this.at=b,this.highlighters=_,this.span=$,this.class=""}startSpan(b,_){_!=this.class&&(this.flush(b),b>this.at&&(this.at=b),this.class=_)}flush(b){b>this.at&&this.class&&this.span(this.at,b,this.class)}highlightRange(b,_,$,j,_e){let{type:et,from:tt,to:nt}=b;if(tt>=$||nt<=_)return;et.isTop&&(_e=this.highlighters.filter(ut=>!ut.scope||ut.scope(et)));let it=j,rt=et.prop(ruleNodeProp),st=!1;for(;rt;){if(!rt.context||b.matchContext(rt.context)){let ut=highlightTags(_e,rt.tags);ut&&(it&&(it+=" "),it+=ut,rt.mode==1?j+=(j?" ":"")+ut:rt.mode==0&&(st=!0));break}rt=rt.next}if(this.startSpan(b.from,it),st)return;let ot=b.tree&&b.tree.prop(NodeProp.mounted);if(ot&&ot.overlay){let ut=b.node.enter(ot.overlay[0].from+tt,1),lt=this.highlighters.filter(ct=>!ct.scope||ct.scope(ot.tree.type)),ft=b.firstChild();for(let ct=0,pt=tt;;ct++){let mt=ct<ot.overlay.length?ot.overlay[ct]:null,wt=mt?mt.from+tt:nt,gt=Math.max(_,pt),vt=Math.min($,wt);if(gt<vt&&ft)for(;b.from<vt&&(this.highlightRange(b,gt,vt,j,_e),this.startSpan(Math.min($,b.to),it),!(b.to>=wt||!b.nextSibling())););if(!mt||wt>$)break;pt=mt.to+tt,pt>_&&(this.highlightRange(ut.cursor(),Math.max(_,mt.from+tt),Math.min($,pt),j,lt),this.startSpan(pt,it))}ft&&b.parent()}else if(b.firstChild()){do if(!(b.to<=_)){if(b.from>=$)break;this.highlightRange(b,_,$,j,_e),this.startSpan(Math.min($,b.to),it)}while(b.nextSibling());b.parent()}}}const t$1=Tag.define,comment=t$1(),name$3=t$1(),typeName=t$1(name$3),propertyName=t$1(name$3),literal$1=t$1(),string=t$1(literal$1),number=t$1(literal$1),content=t$1(),heading=t$1(content),keyword$1=t$1(),operator=t$1(),punctuation=t$1(),bracket=t$1(punctuation),meta=t$1(),tags={comment,lineComment:t$1(comment),blockComment:t$1(comment),docComment:t$1(comment),name:name$3,variableName:t$1(name$3),typeName,tagName:t$1(typeName),propertyName,attributeName:t$1(propertyName),className:t$1(name$3),labelName:t$1(name$3),namespace:t$1(name$3),macroName:t$1(name$3),literal:literal$1,string,docString:t$1(string),character:t$1(string),attributeValue:t$1(string),number,integer:t$1(number),float:t$1(number),bool:t$1(literal$1),regexp:t$1(literal$1),escape:t$1(literal$1),color:t$1(literal$1),url:t$1(literal$1),keyword:keyword$1,self:t$1(keyword$1),null:t$1(keyword$1),atom:t$1(keyword$1),unit:t$1(keyword$1),modifier:t$1(keyword$1),operatorKeyword:t$1(keyword$1),controlKeyword:t$1(keyword$1),definitionKeyword:t$1(keyword$1),moduleKeyword:t$1(keyword$1),operator,derefOperator:t$1(operator),arithmeticOperator:t$1(operator),logicOperator:t$1(operator),bitwiseOperator:t$1(operator),compareOperator:t$1(operator),updateOperator:t$1(operator),definitionOperator:t$1(operator),typeOperator:t$1(operator),controlOperator:t$1(operator),punctuation,separator:t$1(punctuation),bracket,angleBracket:t$1(bracket),squareBracket:t$1(bracket),paren:t$1(bracket),brace:t$1(bracket),content,heading,heading1:t$1(heading),heading2:t$1(heading),heading3:t$1(heading),heading4:t$1(heading),heading5:t$1(heading),heading6:t$1(heading),contentSeparator:t$1(content),list:t$1(content),quote:t$1(content),emphasis:t$1(content),strong:t$1(content),link:t$1(content),monospace:t$1(content),strikethrough:t$1(content),inserted:t$1(),deleted:t$1(),changed:t$1(),invalid:t$1(),meta,documentMeta:t$1(meta),annotation:t$1(meta),processingInstruction:t$1(meta),definition:Tag.defineModifier(),constant:Tag.defineModifier(),function:Tag.defineModifier(),standard:Tag.defineModifier(),local:Tag.defineModifier(),special:Tag.defineModifier()};tagHighlighter([{tag:tags.link,class:"tok-link"},{tag:tags.heading,class:"tok-heading"},{tag:tags.emphasis,class:"tok-emphasis"},{tag:tags.strong,class:"tok-strong"},{tag:tags.keyword,class:"tok-keyword"},{tag:tags.atom,class:"tok-atom"},{tag:tags.bool,class:"tok-bool"},{tag:tags.url,class:"tok-url"},{tag:tags.labelName,class:"tok-labelName"},{tag:tags.inserted,class:"tok-inserted"},{tag:tags.deleted,class:"tok-deleted"},{tag:tags.literal,class:"tok-literal"},{tag:tags.string,class:"tok-string"},{tag:tags.number,class:"tok-number"},{tag:[tags.regexp,tags.escape,tags.special(tags.string)],class:"tok-string2"},{tag:tags.variableName,class:"tok-variableName"},{tag:tags.local(tags.variableName),class:"tok-variableName tok-local"},{tag:tags.definition(tags.variableName),class:"tok-variableName tok-definition"},{tag:tags.special(tags.variableName),class:"tok-variableName2"},{tag:tags.definition(tags.propertyName),class:"tok-propertyName tok-definition"},{tag:tags.typeName,class:"tok-typeName"},{tag:tags.namespace,class:"tok-namespace"},{tag:tags.className,class:"tok-className"},{tag:tags.macroName,class:"tok-macroName"},{tag:tags.propertyName,class:"tok-propertyName"},{tag:tags.operator,class:"tok-operator"},{tag:tags.comment,class:"tok-comment"},{tag:tags.meta,class:"tok-meta"},{tag:tags.invalid,class:"tok-invalid"},{tag:tags.punctuation,class:"tok-punctuation"}]);var _a;const languageDataProp=new NodeProp;function defineLanguageFacet(k){return Facet.define({combine:k?b=>b.concat(k):void 0})}class Language{constructor(b,_,$=[]){this.data=b,EditorState.prototype.hasOwnProperty("tree")||Object.defineProperty(EditorState.prototype,"tree",{get(){return syntaxTree(this)}}),this.parser=_,this.extension=[language.of(this),EditorState.languageData.of((j,_e,et)=>j.facet(languageDataFacetAt(j,_e,et)))].concat($)}isActiveAt(b,_,$=-1){return languageDataFacetAt(b,_,$)==this.data}findRegions(b){let _=b.facet(language);if((_==null?void 0:_.data)==this.data)return[{from:0,to:b.doc.length}];if(!_||!_.allowsNesting)return[];let $=[],j=(_e,et)=>{if(_e.prop(languageDataProp)==this.data){$.push({from:et,to:et+_e.length});return}let tt=_e.prop(NodeProp.mounted);if(tt){if(tt.tree.prop(languageDataProp)==this.data){if(tt.overlay)for(let nt of tt.overlay)$.push({from:nt.from+et,to:nt.to+et});else $.push({from:et,to:et+_e.length});return}else if(tt.overlay){let nt=$.length;if(j(tt.tree,tt.overlay[0].from+et),$.length>nt)return}}for(let nt=0;nt<_e.children.length;nt++){let it=_e.children[nt];it instanceof Tree&&j(it,_e.positions[nt]+et)}};return j(syntaxTree(b),0),$}get allowsNesting(){return!0}}Language.setState=StateEffect.define();function languageDataFacetAt(k,b,_){let $=k.facet(language);if(!$)return null;let j=$.data;if($.allowsNesting)for(let _e=syntaxTree(k).topNode;_e;_e=_e.enter(b,_,IterMode.ExcludeBuffers))j=_e.type.prop(languageDataProp)||j;return j}class LRLanguage extends Language{constructor(b,_){super(b,_),this.parser=_}static define(b){let _=defineLanguageFacet(b.languageData);return new LRLanguage(_,b.parser.configure({props:[languageDataProp.add($=>$.isTop?_:void 0)]}))}configure(b){return new LRLanguage(this.data,this.parser.configure(b))}get allowsNesting(){return this.parser.hasWrappers()}}function syntaxTree(k){let b=k.field(Language.state,!1);return b?b.tree:Tree.empty}class DocInput{constructor(b,_=b.length){this.doc=b,this.length=_,this.cursorPos=0,this.string="",this.cursor=b.iter()}syncTo(b){return this.string=this.cursor.next(b-this.cursorPos).value,this.cursorPos=b+this.string.length,this.cursorPos-this.string.length}chunk(b){return this.syncTo(b),this.string}get lineChunks(){return!0}read(b,_){let $=this.cursorPos-this.string.length;return b<$||_>=this.cursorPos?this.doc.sliceString(b,_):this.string.slice(b-$,_-$)}}let currentContext=null;class ParseContext{constructor(b,_,$=[],j,_e,et,tt,nt){this.parser=b,this.state=_,this.fragments=$,this.tree=j,this.treeLen=_e,this.viewport=et,this.skipped=tt,this.scheduleOn=nt,this.parse=null,this.tempSkipped=[]}static create(b,_,$){return new ParseContext(b,_,[],Tree.empty,0,$,[],null)}startParse(){return this.parser.startParse(new DocInput(this.state.doc),this.fragments)}work(b,_){return _!=null&&_>=this.state.doc.length&&(_=void 0),this.tree!=Tree.empty&&this.isDone(_!=null?_:this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var $;if(typeof b=="number"){let j=Date.now()+b;b=()=>Date.now()>j}for(this.parse||(this.parse=this.startParse()),_!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>_)&&_<this.state.doc.length&&this.parse.stopAt(_);;){let j=this.parse.advance();if(j)if(this.fragments=this.withoutTempSkipped(TreeFragment.addTree(j,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=($=this.parse.stoppedAt)!==null&&$!==void 0?$:this.state.doc.length,this.tree=j,this.parse=null,this.treeLen<(_!=null?_:this.state.doc.length))this.parse=this.startParse();else return!0;if(b())return!1}})}takeTree(){let b,_;this.parse&&(b=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>b)&&this.parse.stopAt(b),this.withContext(()=>{for(;!(_=this.parse.advance()););}),this.treeLen=b,this.tree=_,this.fragments=this.withoutTempSkipped(TreeFragment.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(b){let _=currentContext;currentContext=this;try{return b()}finally{currentContext=_}}withoutTempSkipped(b){for(let _;_=this.tempSkipped.pop();)b=cutFragments(b,_.from,_.to);return b}changes(b,_){let{fragments:$,tree:j,treeLen:_e,viewport:et,skipped:tt}=this;if(this.takeTree(),!b.empty){let nt=[];if(b.iterChangedRanges((it,rt,st,ot)=>nt.push({fromA:it,toA:rt,fromB:st,toB:ot})),$=TreeFragment.applyChanges($,nt),j=Tree.empty,_e=0,et={from:b.mapPos(et.from,-1),to:b.mapPos(et.to,1)},this.skipped.length){tt=[];for(let it of this.skipped){let rt=b.mapPos(it.from,1),st=b.mapPos(it.to,-1);rt<st&&tt.push({from:rt,to:st})}}}return new ParseContext(this.parser,_,$,j,_e,et,tt,this.scheduleOn)}updateViewport(b){if(this.viewport.from==b.from&&this.viewport.to==b.to)return!1;this.viewport=b;let _=this.skipped.length;for(let $=0;$<this.skipped.length;$++){let{from:j,to:_e}=this.skipped[$];j<b.to&&_e>b.from&&(this.fragments=cutFragments(this.fragments,j,_e),this.skipped.splice($--,1))}return this.skipped.length>=_?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(b,_){this.skipped.push({from:b,to:_})}static getSkippingParser(b){return new class extends Parser$1{createParse(_,$,j){let _e=j[0].from,et=j[j.length-1].to;return{parsedPos:_e,advance(){let nt=currentContext;if(nt){for(let it of j)nt.tempSkipped.push(it);b&&(nt.scheduleOn=nt.scheduleOn?Promise.all([nt.scheduleOn,b]):b)}return this.parsedPos=et,new Tree(NodeType.none,[],[],et-_e)},stoppedAt:null,stopAt(){}}}}}isDone(b){b=Math.min(b,this.state.doc.length);let _=this.fragments;return this.treeLen>=b&&_.length&&_[0].from==0&&_[0].to>=b}static get(){return currentContext}}function cutFragments(k,b,_){return TreeFragment.applyChanges(k,[{fromA:b,toA:_,fromB:b,toB:_}])}class LanguageState{constructor(b){this.context=b,this.tree=b.tree}apply(b){if(!b.docChanged&&this.tree==this.context.tree)return this;let _=this.context.changes(b.changes,b.state),$=this.context.treeLen==b.startState.doc.length?void 0:Math.max(b.changes.mapPos(this.context.treeLen),_.viewport.to);return _.work(20,$)||_.takeTree(),new LanguageState(_)}static init(b){let _=Math.min(3e3,b.doc.length),$=ParseContext.create(b.facet(language).parser,b,{from:0,to:_});return $.work(20,_)||$.takeTree(),new LanguageState($)}}Language.state=StateField.define({create:LanguageState.init,update(k,b){for(let _ of b.effects)if(_.is(Language.setState))return _.value;return b.startState.facet(language)!=b.state.facet(language)?LanguageState.init(b.state):k.apply(b)}});let requestIdle=k=>{let b=setTimeout(()=>k(),500);return()=>clearTimeout(b)};typeof requestIdleCallback<"u"&&(requestIdle=k=>{let b=-1,_=setTimeout(()=>{b=requestIdleCallback(k,{timeout:500-100})},100);return()=>b<0?clearTimeout(_):cancelIdleCallback(b)});const isInputPending=typeof navigator<"u"&&((_a=navigator.scheduling)===null||_a===void 0?void 0:_a.isInputPending)?()=>navigator.scheduling.isInputPending():null,parseWorker=ViewPlugin.fromClass(class{constructor(b){this.view=b,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(b){let _=this.view.state.field(Language.state).context;(_.updateViewport(b.view.viewport)||this.view.viewport.to>_.treeLen)&&this.scheduleWork(),b.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(_)}scheduleWork(){if(this.working)return;let{state:b}=this.view,_=b.field(Language.state);(_.tree!=_.context.tree||!_.context.isDone(b.doc.length))&&(this.working=requestIdle(this.work))}work(b){this.working=null;let _=Date.now();if(this.chunkEnd<_&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=_+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:$,viewport:{to:j}}=this.view,_e=$.field(Language.state);if(_e.tree==_e.context.tree&&_e.context.isDone(j+1e5))return;let et=Date.now()+Math.min(this.chunkBudget,100,b&&!isInputPending?Math.max(25,b.timeRemaining()-5):1e9),tt=_e.context.treeLen<j&&$.doc.length>j+1e3,nt=_e.context.work(()=>isInputPending&&isInputPending()||Date.now()>et,j+(tt?0:1e5));this.chunkBudget-=Date.now()-_,(nt||this.chunkBudget<=0)&&(_e.context.takeTree(),this.view.dispatch({effects:Language.setState.of(new LanguageState(_e.context))})),this.chunkBudget>0&&!(nt&&!tt)&&this.scheduleWork(),this.checkAsyncSchedule(_e.context)}checkAsyncSchedule(b){b.scheduleOn&&(this.workScheduled++,b.scheduleOn.then(()=>this.scheduleWork()).catch(_=>logException(this.view.state,_)).then(()=>this.workScheduled--),b.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),language=Facet.define({combine(k){return k.length?k[0]:null},enables:[Language.state,parseWorker]});class LanguageSupport{constructor(b,_=[]){this.language=b,this.support=_,this.extension=[b,_]}}const indentService=Facet.define(),indentUnit=Facet.define({combine:k=>{if(!k.length)return"  ";if(!/^(?: +|\t+)$/.test(k[0]))throw new Error("Invalid indent unit: "+JSON.stringify(k[0]));return k[0]}});function getIndentUnit(k){let b=k.facet(indentUnit);return b.charCodeAt(0)==9?k.tabSize*b.length:b.length}function indentString(k,b){let _="",$=k.tabSize;if(k.facet(indentUnit).charCodeAt(0)==9)for(;b>=$;)_+="	",b-=$;for(let j=0;j<b;j++)_+=" ";return _}function getIndentation(k,b){k instanceof EditorState&&(k=new IndentContext(k));for(let $ of k.state.facet(indentService)){let j=$(k,b);if(j!=null)return j}let _=syntaxTree(k.state);return _?syntaxIndentation(k,_,b):null}class IndentContext{constructor(b,_={}){this.state=b,this.options=_,this.unit=getIndentUnit(b)}lineAt(b,_=1){let $=this.state.doc.lineAt(b),{simulateBreak:j,simulateDoubleBreak:_e}=this.options;return j!=null&&j>=$.from&&j<=$.to?_e&&j==b?{text:"",from:b}:(_<0?j<b:j<=b)?{text:$.text.slice(j-$.from),from:j}:{text:$.text.slice(0,j-$.from),from:$.from}:$}textAfterPos(b,_=1){if(this.options.simulateDoubleBreak&&b==this.options.simulateBreak)return"";let{text:$,from:j}=this.lineAt(b,_);return $.slice(b-j,Math.min($.length,b+100-j))}column(b,_=1){let{text:$,from:j}=this.lineAt(b,_),_e=this.countColumn($,b-j),et=this.options.overrideIndentation?this.options.overrideIndentation(j):-1;return et>-1&&(_e+=et-this.countColumn($,$.search(/\S|$/))),_e}countColumn(b,_=b.length){return countColumn(b,this.state.tabSize,_)}lineIndent(b,_=1){let{text:$,from:j}=this.lineAt(b,_),_e=this.options.overrideIndentation;if(_e){let et=_e(j);if(et>-1)return et}return this.countColumn($,$.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const indentNodeProp=new NodeProp;function syntaxIndentation(k,b,_){return indentFrom(b.resolveInner(_).enterUnfinishedNodesBefore(_),_,k)}function ignoreClosed(k){return k.pos==k.options.simulateBreak&&k.options.simulateDoubleBreak}function indentStrategy(k){let b=k.type.prop(indentNodeProp);if(b)return b;let _=k.firstChild,$;if(_&&($=_.type.prop(NodeProp.closedBy))){let j=k.lastChild,_e=j&&$.indexOf(j.name)>-1;return et=>delimitedStrategy(et,!0,1,void 0,_e&&!ignoreClosed(et)?j.from:void 0)}return k.parent==null?topIndent:null}function indentFrom(k,b,_){for(;k;k=k.parent){let $=indentStrategy(k);if($)return $(TreeIndentContext.create(_,b,k))}return null}function topIndent(){return 0}class TreeIndentContext extends IndentContext{constructor(b,_,$){super(b.state,b.options),this.base=b,this.pos=_,this.node=$}static create(b,_,$){return new TreeIndentContext(b,_,$)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let b=this.state.doc.lineAt(this.node.from);for(;;){let _=this.node.resolve(b.from);for(;_.parent&&_.parent.from==_.from;)_=_.parent;if(isParent(_,this.node))break;b=this.state.doc.lineAt(_.from)}return this.lineIndent(b.from)}continue(){let b=this.node.parent;return b?indentFrom(b,this.pos,this.base):0}}function isParent(k,b){for(let _=b;_;_=_.parent)if(k==_)return!0;return!1}function bracketedAligned(k){let b=k.node,_=b.childAfter(b.from),$=b.lastChild;if(!_)return null;let j=k.options.simulateBreak,_e=k.state.doc.lineAt(_.from),et=j==null||j<=_e.from?_e.to:Math.min(_e.to,j);for(let tt=_.to;;){let nt=b.childAfter(tt);if(!nt||nt==$)return null;if(!nt.type.isSkipped)return nt.from<et?_:null;tt=nt.to}}function delimitedIndent({closing:k,align:b=!0,units:_=1}){return $=>delimitedStrategy($,b,_,k)}function delimitedStrategy(k,b,_,$,j){let _e=k.textAfter,et=_e.match(/^\s*/)[0].length,tt=$&&_e.slice(et,et+$.length)==$||j==k.pos+et,nt=b?bracketedAligned(k):null;return nt?tt?k.column(nt.from):k.column(nt.to):k.baseIndent+(tt?0:k.unit*_)}const flatIndent=k=>k.baseIndent;function continuedIndent({except:k,units:b=1}={}){return _=>{let $=k&&k.test(_.textAfter);return _.baseIndent+($?0:b*_.unit)}}const DontIndentBeyond=200;function indentOnInput(){return EditorState.transactionFilter.of(k=>{if(!k.docChanged||!k.isUserEvent("input.type")&&!k.isUserEvent("input.complete"))return k;let b=k.startState.languageDataAt("indentOnInput",k.startState.selection.main.head);if(!b.length)return k;let _=k.newDoc,{head:$}=k.newSelection.main,j=_.lineAt($);if($>j.from+DontIndentBeyond)return k;let _e=_.sliceString(j.from,$);if(!b.some(it=>it.test(_e)))return k;let{state:et}=k,tt=-1,nt=[];for(let{head:it}of et.selection.ranges){let rt=et.doc.lineAt(it);if(rt.from==tt)continue;tt=rt.from;let st=getIndentation(et,rt.from);if(st==null)continue;let ot=/^\s*/.exec(rt.text)[0],ut=indentString(et,st);ot!=ut&&nt.push({from:rt.from,to:rt.from+ot.length,insert:ut})}return nt.length?[k,{changes:nt,sequential:!0}]:k})}const foldService=Facet.define(),foldNodeProp=new NodeProp;function foldInside(k){let b=k.firstChild,_=k.lastChild;return b&&b.to<_.from?{from:b.to,to:_.type.isError?k.to:_.from}:null}function syntaxFolding(k,b,_){let $=syntaxTree(k);if($.length<_)return null;let j=$.resolveInner(_),_e=null;for(let et=j;et;et=et.parent){if(et.to<=_||et.from>_)continue;if(_e&&et.from<b)break;let tt=et.type.prop(foldNodeProp);if(tt&&(et.to<$.length-50||$.length==k.doc.length||!isUnfinished(et))){let nt=tt(et,k);nt&&nt.from<=_&&nt.from>=b&&nt.to>_&&(_e=nt)}}return _e}function isUnfinished(k){let b=k.lastChild;return b&&b.to==k.to&&b.type.isError}function foldable(k,b,_){for(let $ of k.facet(foldService)){let j=$(k,b,_);if(j)return j}return syntaxFolding(k,b,_)}function mapRange(k,b){let _=b.mapPos(k.from,1),$=b.mapPos(k.to,-1);return _>=$?void 0:{from:_,to:$}}const foldEffect=StateEffect.define({map:mapRange}),unfoldEffect=StateEffect.define({map:mapRange});function selectedLines(k){let b=[];for(let{head:_}of k.state.selection.ranges)b.some($=>$.from<=_&&$.to>=_)||b.push(k.lineBlockAt(_));return b}const foldState=StateField.define({create(){return Decoration.none},update(k,b){k=k.map(b.changes);for(let _ of b.effects)_.is(foldEffect)&&!foldExists(k,_.value.from,_.value.to)?k=k.update({add:[foldWidget.range(_.value.from,_.value.to)]}):_.is(unfoldEffect)&&(k=k.update({filter:($,j)=>_.value.from!=$||_.value.to!=j,filterFrom:_.value.from,filterTo:_.value.to}));if(b.selection){let _=!1,{head:$}=b.selection.main;k.between($,$,(j,_e)=>{j<$&&_e>$&&(_=!0)}),_&&(k=k.update({filterFrom:$,filterTo:$,filter:(j,_e)=>_e<=$||j>=$}))}return k},provide:k=>EditorView.decorations.from(k),toJSON(k,b){let _=[];return k.between(0,b.doc.length,($,j)=>{_.push($,j)}),_},fromJSON(k){if(!Array.isArray(k)||k.length%2)throw new RangeError("Invalid JSON for fold state");let b=[];for(let _=0;_<k.length;){let $=k[_++],j=k[_++];if(typeof $!="number"||typeof j!="number")throw new RangeError("Invalid JSON for fold state");b.push(foldWidget.range($,j))}return Decoration.set(b,!0)}});function findFold(k,b,_){var $;let j=null;return($=k.field(foldState,!1))===null||$===void 0||$.between(b,_,(_e,et)=>{(!j||j.from>_e)&&(j={from:_e,to:et})}),j}function foldExists(k,b,_){let $=!1;return k.between(b,b,(j,_e)=>{j==b&&_e==_&&($=!0)}),$}function maybeEnable(k,b){return k.field(foldState,!1)?b:b.concat(StateEffect.appendConfig.of(codeFolding()))}const foldCode=k=>{for(let b of selectedLines(k)){let _=foldable(k.state,b.from,b.to);if(_)return k.dispatch({effects:maybeEnable(k.state,[foldEffect.of(_),announceFold(k,_)])}),!0}return!1},unfoldCode=k=>{if(!k.state.field(foldState,!1))return!1;let b=[];for(let _ of selectedLines(k)){let $=findFold(k.state,_.from,_.to);$&&b.push(unfoldEffect.of($),announceFold(k,$,!1))}return b.length&&k.dispatch({effects:b}),b.length>0};function announceFold(k,b,_=!0){let $=k.state.doc.lineAt(b.from).number,j=k.state.doc.lineAt(b.to).number;return EditorView.announce.of(`${k.state.phrase(_?"Folded lines":"Unfolded lines")} ${$} ${k.state.phrase("to")} ${j}.`)}const foldAll=k=>{let{state:b}=k,_=[];for(let $=0;$<b.doc.length;){let j=k.lineBlockAt($),_e=foldable(b,j.from,j.to);_e&&_.push(foldEffect.of(_e)),$=(_e?k.lineBlockAt(_e.to):j).to+1}return _.length&&k.dispatch({effects:maybeEnable(k.state,_)}),!!_.length},unfoldAll=k=>{let b=k.state.field(foldState,!1);if(!b||!b.size)return!1;let _=[];return b.between(0,k.state.doc.length,($,j)=>{_.push(unfoldEffect.of({from:$,to:j}))}),k.dispatch({effects:_}),!0},foldKeymap=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:foldCode},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:unfoldCode},{key:"Ctrl-Alt-[",run:foldAll},{key:"Ctrl-Alt-]",run:unfoldAll}],defaultConfig={placeholderDOM:null,placeholderText:"\u2026"},foldConfig=Facet.define({combine(k){return combineConfig(k,defaultConfig)}});function codeFolding(k){let b=[foldState,baseTheme$1$2];return k&&b.push(foldConfig.of(k)),b}const foldWidget=Decoration.replace({widget:new class extends WidgetType{toDOM(k){let{state:b}=k,_=b.facet(foldConfig),$=_e=>{let et=k.lineBlockAt(k.posAtDOM(_e.target)),tt=findFold(k.state,et.from,et.to);tt&&k.dispatch({effects:unfoldEffect.of(tt)}),_e.preventDefault()};if(_.placeholderDOM)return _.placeholderDOM(k,$);let j=document.createElement("span");return j.textContent=_.placeholderText,j.setAttribute("aria-label",b.phrase("folded code")),j.title=b.phrase("unfold"),j.className="cm-foldPlaceholder",j.onclick=$,j}}}),foldGutterDefaults={openText:"\u2304",closedText:"\u203A",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class FoldMarker extends GutterMarker{constructor(b,_){super(),this.config=b,this.open=_}eq(b){return this.config==b.config&&this.open==b.open}toDOM(b){if(this.config.markerDOM)return this.config.markerDOM(this.open);let _=document.createElement("span");return _.textContent=this.open?this.config.openText:this.config.closedText,_.title=b.state.phrase(this.open?"Fold line":"Unfold line"),_}}function foldGutter(k={}){let b=Object.assign(Object.assign({},foldGutterDefaults),k),_=new FoldMarker(b,!0),$=new FoldMarker(b,!1),j=ViewPlugin.fromClass(class{constructor(et){this.from=et.viewport.from,this.markers=this.buildMarkers(et)}update(et){(et.docChanged||et.viewportChanged||et.startState.facet(language)!=et.state.facet(language)||et.startState.field(foldState,!1)!=et.state.field(foldState,!1)||syntaxTree(et.startState)!=syntaxTree(et.state)||b.foldingChanged(et))&&(this.markers=this.buildMarkers(et.view))}buildMarkers(et){let tt=new RangeSetBuilder;for(let nt of et.viewportLineBlocks){let it=findFold(et.state,nt.from,nt.to)?$:foldable(et.state,nt.from,nt.to)?_:null;it&&tt.add(nt.from,nt.from,it)}return tt.finish()}}),{domEventHandlers:_e}=b;return[j,gutter({class:"cm-foldGutter",markers(et){var tt;return((tt=et.plugin(j))===null||tt===void 0?void 0:tt.markers)||RangeSet.empty},initialSpacer(){return new FoldMarker(b,!1)},domEventHandlers:Object.assign(Object.assign({},_e),{click:(et,tt,nt)=>{if(_e.click&&_e.click(et,tt,nt))return!0;let it=findFold(et.state,tt.from,tt.to);if(it)return et.dispatch({effects:unfoldEffect.of(it)}),!0;let rt=foldable(et.state,tt.from,tt.to);return rt?(et.dispatch({effects:foldEffect.of(rt)}),!0):!1}})}),codeFolding()]}const baseTheme$1$2=EditorView.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class HighlightStyle{constructor(b,_){let $;function j(tt){let nt=StyleModule.newName();return($||($=Object.create(null)))["."+nt]=tt,nt}const _e=typeof _.all=="string"?_.all:_.all?j(_.all):void 0,et=_.scope;this.scope=et instanceof Language?tt=>tt.prop(languageDataProp)==et.data:et?tt=>tt==et:void 0,this.style=tagHighlighter(b.map(tt=>({tag:tt.tag,class:tt.class||j(Object.assign({},tt,{tag:null}))})),{all:_e}).style,this.module=$?new StyleModule($):null,this.themeType=_.themeType}static define(b,_){return new HighlightStyle(b,_||{})}}const highlighterFacet=Facet.define(),fallbackHighlighter=Facet.define({combine(k){return k.length?[k[0]]:null}});function getHighlighters(k){let b=k.facet(highlighterFacet);return b.length?b:k.facet(fallbackHighlighter)}function syntaxHighlighting(k,b){let _=[treeHighlighter],$;return k instanceof HighlightStyle&&(k.module&&_.push(EditorView.styleModule.of(k.module)),$=k.themeType),b!=null&&b.fallback?_.push(fallbackHighlighter.of(k)):$?_.push(highlighterFacet.computeN([EditorView.darkTheme],j=>j.facet(EditorView.darkTheme)==($=="dark")?[k]:[])):_.push(highlighterFacet.of(k)),_}class TreeHighlighter{constructor(b){this.markCache=Object.create(null),this.tree=syntaxTree(b.state),this.decorations=this.buildDeco(b,getHighlighters(b.state))}update(b){let _=syntaxTree(b.state),$=getHighlighters(b.state),j=$!=getHighlighters(b.startState);_.length<b.view.viewport.to&&!j&&_.type==this.tree.type?this.decorations=this.decorations.map(b.changes):(_!=this.tree||b.viewportChanged||j)&&(this.tree=_,this.decorations=this.buildDeco(b.view,$))}buildDeco(b,_){if(!_||!this.tree.length)return Decoration.none;let $=new RangeSetBuilder;for(let{from:j,to:_e}of b.visibleRanges)highlightTree(this.tree,_,(et,tt,nt)=>{$.add(et,tt,this.markCache[nt]||(this.markCache[nt]=Decoration.mark({class:nt})))},j,_e);return $.finish()}}const treeHighlighter=Prec.high(ViewPlugin.fromClass(TreeHighlighter,{decorations:k=>k.decorations})),defaultHighlightStyle=HighlightStyle.define([{tag:tags.meta,color:"#7a757a"},{tag:tags.link,textDecoration:"underline"},{tag:tags.heading,textDecoration:"underline",fontWeight:"bold"},{tag:tags.emphasis,fontStyle:"italic"},{tag:tags.strong,fontWeight:"bold"},{tag:tags.strikethrough,textDecoration:"line-through"},{tag:tags.keyword,color:"#708"},{tag:[tags.atom,tags.bool,tags.url,tags.contentSeparator,tags.labelName],color:"#219"},{tag:[tags.literal,tags.inserted],color:"#164"},{tag:[tags.string,tags.deleted],color:"#a11"},{tag:[tags.regexp,tags.escape,tags.special(tags.string)],color:"#e40"},{tag:tags.definition(tags.variableName),color:"#00f"},{tag:tags.local(tags.variableName),color:"#30a"},{tag:[tags.typeName,tags.namespace],color:"#085"},{tag:tags.className,color:"#167"},{tag:[tags.special(tags.variableName),tags.macroName],color:"#256"},{tag:tags.definition(tags.propertyName),color:"#00c"},{tag:tags.comment,color:"#940"},{tag:tags.invalid,color:"#f00"}]),baseTheme$3=EditorView.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),DefaultScanDist=1e4,DefaultBrackets="()[]{}",bracketMatchingConfig=Facet.define({combine(k){return combineConfig(k,{afterCursor:!0,brackets:DefaultBrackets,maxScanDistance:DefaultScanDist,renderMatch:defaultRenderMatch})}}),matchingMark=Decoration.mark({class:"cm-matchingBracket"}),nonmatchingMark=Decoration.mark({class:"cm-nonmatchingBracket"});function defaultRenderMatch(k){let b=[],_=k.matched?matchingMark:nonmatchingMark;return b.push(_.range(k.start.from,k.start.to)),k.end&&b.push(_.range(k.end.from,k.end.to)),b}const bracketMatchingState=StateField.define({create(){return Decoration.none},update(k,b){if(!b.docChanged&&!b.selection)return k;let _=[],$=b.state.facet(bracketMatchingConfig);for(let j of b.state.selection.ranges){if(!j.empty)continue;let _e=matchBrackets(b.state,j.head,-1,$)||j.head>0&&matchBrackets(b.state,j.head-1,1,$)||$.afterCursor&&(matchBrackets(b.state,j.head,1,$)||j.head<b.state.doc.length&&matchBrackets(b.state,j.head+1,-1,$));_e&&(_=_.concat($.renderMatch(_e,b.state)))}return Decoration.set(_,!0)},provide:k=>EditorView.decorations.from(k)}),bracketMatchingUnique=[bracketMatchingState,baseTheme$3];function bracketMatching(k={}){return[bracketMatchingConfig.of(k),bracketMatchingUnique]}function matchingNodes(k,b,_){let $=k.prop(b<0?NodeProp.openedBy:NodeProp.closedBy);if($)return $;if(k.name.length==1){let j=_.indexOf(k.name);if(j>-1&&j%2==(b<0?1:0))return[_[j+b]]}return null}function matchBrackets(k,b,_,$={}){let j=$.maxScanDistance||DefaultScanDist,_e=$.brackets||DefaultBrackets,et=syntaxTree(k),tt=et.resolveInner(b,_);for(let nt=tt;nt;nt=nt.parent){let it=matchingNodes(nt.type,_,_e);if(it&&nt.from<nt.to)return matchMarkedBrackets(k,b,_,nt,it,_e)}return matchPlainBrackets(k,b,_,et,tt.type,j,_e)}function matchMarkedBrackets(k,b,_,$,j,_e){let et=$.parent,tt={from:$.from,to:$.to},nt=0,it=et==null?void 0:et.cursor();if(it&&(_<0?it.childBefore($.from):it.childAfter($.to)))do if(_<0?it.to<=$.from:it.from>=$.to){if(nt==0&&j.indexOf(it.type.name)>-1&&it.from<it.to)return{start:tt,end:{from:it.from,to:it.to},matched:!0};if(matchingNodes(it.type,_,_e))nt++;else if(matchingNodes(it.type,-_,_e)){if(nt==0)return{start:tt,end:it.from==it.to?void 0:{from:it.from,to:it.to},matched:!1};nt--}}while(_<0?it.prevSibling():it.nextSibling());return{start:tt,matched:!1}}function matchPlainBrackets(k,b,_,$,j,_e,et){let tt=_<0?k.sliceDoc(b-1,b):k.sliceDoc(b,b+1),nt=et.indexOf(tt);if(nt<0||nt%2==0!=_>0)return null;let it={from:_<0?b-1:b,to:_>0?b+1:b},rt=k.doc.iterRange(b,_>0?k.doc.length:0),st=0;for(let ot=0;!rt.next().done&&ot<=_e;){let ut=rt.value;_<0&&(ot+=ut.length);let lt=b+ot*_;for(let ft=_>0?0:ut.length-1,ct=_>0?ut.length:-1;ft!=ct;ft+=_){let pt=et.indexOf(ut[ft]);if(!(pt<0||$.resolveInner(lt+ft,1).type!=j))if(pt%2==0==_>0)st++;else{if(st==1)return{start:it,end:{from:lt+ft,to:lt+ft+1},matched:pt>>1==nt>>1};st--}}_>0&&(ot+=ut.length)}return rt.done?{start:it,matched:!1}:null}const noTokens=Object.create(null),typeArray=[NodeType.none],warned=[],defaultTable=Object.create(null);for(let[k,b]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])defaultTable[k]=createTokenType(noTokens,b);function warnForPart(k,b){warned.indexOf(k)>-1||(warned.push(k),console.warn(b))}function createTokenType(k,b){let _=null;for(let _e of b.split(".")){let et=k[_e]||tags[_e];et?typeof et=="function"?_?_=et(_):warnForPart(_e,`Modifier ${_e} used at start of tag`):_?warnForPart(_e,`Tag ${_e} used as modifier`):_=et:warnForPart(_e,`Unknown highlighting tag ${_e}`)}if(!_)return 0;let $=b.replace(/ /g,"_"),j=NodeType.define({id:typeArray.length,name:$,props:[styleTags({[$]:_})]});return typeArray.push(j),j.id}const toggleComment=k=>{let b=getConfig(k.state);return b.line?toggleLineComment(k):b.block?toggleBlockCommentByLine(k):!1};function command(k,b){return({state:_,dispatch:$})=>{if(_.readOnly)return!1;let j=k(b,_);return j?($(_.update(j)),!0):!1}}const toggleLineComment=command(changeLineComment,0),toggleBlockComment=command(changeBlockComment,0),toggleBlockCommentByLine=command((k,b)=>changeBlockComment(k,b,selectedLineRanges(b)),0);function getConfig(k,b=k.selection.main.head){let _=k.languageDataAt("commentTokens",b);return _.length?_[0]:{}}const SearchMargin=50;function findBlockComment(k,{open:b,close:_},$,j){let _e=k.sliceDoc($-SearchMargin,$),et=k.sliceDoc(j,j+SearchMargin),tt=/\s*$/.exec(_e)[0].length,nt=/^\s*/.exec(et)[0].length,it=_e.length-tt;if(_e.slice(it-b.length,it)==b&&et.slice(nt,nt+_.length)==_)return{open:{pos:$-tt,margin:tt&&1},close:{pos:j+nt,margin:nt&&1}};let rt,st;j-$<=2*SearchMargin?rt=st=k.sliceDoc($,j):(rt=k.sliceDoc($,$+SearchMargin),st=k.sliceDoc(j-SearchMargin,j));let ot=/^\s*/.exec(rt)[0].length,ut=/\s*$/.exec(st)[0].length,lt=st.length-ut-_.length;return rt.slice(ot,ot+b.length)==b&&st.slice(lt,lt+_.length)==_?{open:{pos:$+ot+b.length,margin:/\s/.test(rt.charAt(ot+b.length))?1:0},close:{pos:j-ut-_.length,margin:/\s/.test(st.charAt(lt-1))?1:0}}:null}function selectedLineRanges(k){let b=[];for(let _ of k.selection.ranges){let $=k.doc.lineAt(_.from),j=_.to<=$.to?$:k.doc.lineAt(_.to),_e=b.length-1;_e>=0&&b[_e].to>$.from?b[_e].to=j.to:b.push({from:$.from,to:j.to})}return b}function changeBlockComment(k,b,_=b.selection.ranges){let $=_.map(_e=>getConfig(b,_e.from).block);if(!$.every(_e=>_e))return null;let j=_.map((_e,et)=>findBlockComment(b,$[et],_e.from,_e.to));if(k!=2&&!j.every(_e=>_e))return{changes:b.changes(_.map((_e,et)=>j[et]?[]:[{from:_e.from,insert:$[et].open+" "},{from:_e.to,insert:" "+$[et].close}]))};if(k!=1&&j.some(_e=>_e)){let _e=[];for(let et=0,tt;et<j.length;et++)if(tt=j[et]){let nt=$[et],{open:it,close:rt}=tt;_e.push({from:it.pos-nt.open.length,to:it.pos+it.margin},{from:rt.pos-rt.margin,to:rt.pos+nt.close.length})}return{changes:_e}}return null}function changeLineComment(k,b,_=b.selection.ranges){let $=[],j=-1;for(let{from:_e,to:et}of _){let tt=$.length,nt=1e9;for(let it=_e;it<=et;){let rt=b.doc.lineAt(it);if(rt.from>j&&(_e==et||et>rt.from)){j=rt.from;let st=getConfig(b,it).line;if(!st)continue;let ot=/^\s*/.exec(rt.text)[0].length,ut=ot==rt.length,lt=rt.text.slice(ot,ot+st.length)==st?ot:-1;ot<rt.text.length&&ot<nt&&(nt=ot),$.push({line:rt,comment:lt,token:st,indent:ot,empty:ut,single:!1})}it=rt.to+1}if(nt<1e9)for(let it=tt;it<$.length;it++)$[it].indent<$[it].line.text.length&&($[it].indent=nt);$.length==tt+1&&($[tt].single=!0)}if(k!=2&&$.some(_e=>_e.comment<0&&(!_e.empty||_e.single))){let _e=[];for(let{line:tt,token:nt,indent:it,empty:rt,single:st}of $)(st||!rt)&&_e.push({from:tt.from+it,insert:nt+" "});let et=b.changes(_e);return{changes:et,selection:b.selection.map(et,1)}}else if(k!=1&&$.some(_e=>_e.comment>=0)){let _e=[];for(let{line:et,comment:tt,token:nt}of $)if(tt>=0){let it=et.from+tt,rt=it+nt.length;et.text[rt-et.from]==" "&&rt++,_e.push({from:it,to:rt})}return{changes:_e}}return null}const fromHistory=Annotation.define(),isolateHistory=Annotation.define(),invertedEffects=Facet.define(),historyConfig=Facet.define({combine(k){return combineConfig(k,{minDepth:100,newGroupDelay:500},{minDepth:Math.max,newGroupDelay:Math.min})}});function changeEnd(k){let b=0;return k.iterChangedRanges((_,$)=>b=$),b}const historyField_=StateField.define({create(){return HistoryState.empty},update(k,b){let _=b.state.facet(historyConfig),$=b.annotation(fromHistory);if($){let nt=b.docChanged?EditorSelection.single(changeEnd(b.changes)):void 0,it=HistEvent.fromTransaction(b,nt),rt=$.side,st=rt==0?k.undone:k.done;return it?st=updateBranch(st,st.length,_.minDepth,it):st=addSelection(st,b.startState.selection),new HistoryState(rt==0?$.rest:st,rt==0?st:$.rest)}let j=b.annotation(isolateHistory);if((j=="full"||j=="before")&&(k=k.isolate()),b.annotation(Transaction.addToHistory)===!1)return b.changes.empty?k:k.addMapping(b.changes.desc);let _e=HistEvent.fromTransaction(b),et=b.annotation(Transaction.time),tt=b.annotation(Transaction.userEvent);return _e?k=k.addChanges(_e,et,tt,_.newGroupDelay,_.minDepth):b.selection&&(k=k.addSelection(b.startState.selection,et,tt,_.newGroupDelay)),(j=="full"||j=="after")&&(k=k.isolate()),k},toJSON(k){return{done:k.done.map(b=>b.toJSON()),undone:k.undone.map(b=>b.toJSON())}},fromJSON(k){return new HistoryState(k.done.map(HistEvent.fromJSON),k.undone.map(HistEvent.fromJSON))}});function history(k={}){return[historyField_,historyConfig.of(k),EditorView.domEventHandlers({beforeinput(b,_){let $=b.inputType=="historyUndo"?undo:b.inputType=="historyRedo"?redo:null;return $?(b.preventDefault(),$(_)):!1}})]}function cmd(k,b){return function({state:_,dispatch:$}){if(!b&&_.readOnly)return!1;let j=_.field(historyField_,!1);if(!j)return!1;let _e=j.pop(k,_,b);return _e?($(_e),!0):!1}}const undo=cmd(0,!1),redo=cmd(1,!1),undoSelection=cmd(0,!0),redoSelection=cmd(1,!0);class HistEvent{constructor(b,_,$,j,_e){this.changes=b,this.effects=_,this.mapped=$,this.startSelection=j,this.selectionsAfter=_e}setSelAfter(b){return new HistEvent(this.changes,this.effects,this.mapped,this.startSelection,b)}toJSON(){var b,_,$;return{changes:(b=this.changes)===null||b===void 0?void 0:b.toJSON(),mapped:(_=this.mapped)===null||_===void 0?void 0:_.toJSON(),startSelection:($=this.startSelection)===null||$===void 0?void 0:$.toJSON(),selectionsAfter:this.selectionsAfter.map(j=>j.toJSON())}}static fromJSON(b){return new HistEvent(b.changes&&ChangeSet.fromJSON(b.changes),[],b.mapped&&ChangeDesc.fromJSON(b.mapped),b.startSelection&&EditorSelection.fromJSON(b.startSelection),b.selectionsAfter.map(EditorSelection.fromJSON))}static fromTransaction(b,_){let $=none$1;for(let j of b.startState.facet(invertedEffects)){let _e=j(b);_e.length&&($=$.concat(_e))}return!$.length&&b.changes.empty?null:new HistEvent(b.changes.invert(b.startState.doc),$,void 0,_||b.startState.selection,none$1)}static selection(b){return new HistEvent(void 0,none$1,void 0,void 0,b)}}function updateBranch(k,b,_,$){let j=b+1>_+20?b-_-1:0,_e=k.slice(j,b);return _e.push($),_e}function isAdjacent(k,b){let _=[],$=!1;return k.iterChangedRanges((j,_e)=>_.push(j,_e)),b.iterChangedRanges((j,_e,et,tt)=>{for(let nt=0;nt<_.length;){let it=_[nt++],rt=_[nt++];tt>=it&&et<=rt&&($=!0)}}),$}function eqSelectionShape(k,b){return k.ranges.length==b.ranges.length&&k.ranges.filter((_,$)=>_.empty!=b.ranges[$].empty).length===0}function conc(k,b){return k.length?b.length?k.concat(b):k:b}const none$1=[],MaxSelectionsPerEvent=200;function addSelection(k,b){if(k.length){let _=k[k.length-1],$=_.selectionsAfter.slice(Math.max(0,_.selectionsAfter.length-MaxSelectionsPerEvent));return $.length&&$[$.length-1].eq(b)?k:($.push(b),updateBranch(k,k.length-1,1e9,_.setSelAfter($)))}else return[HistEvent.selection([b])]}function popSelection(k){let b=k[k.length-1],_=k.slice();return _[k.length-1]=b.setSelAfter(b.selectionsAfter.slice(0,b.selectionsAfter.length-1)),_}function addMappingToBranch(k,b){if(!k.length)return k;let _=k.length,$=none$1;for(;_;){let j=mapEvent(k[_-1],b,$);if(j.changes&&!j.changes.empty||j.effects.length){let _e=k.slice(0,_);return _e[_-1]=j,_e}else b=j.mapped,_--,$=j.selectionsAfter}return $.length?[HistEvent.selection($)]:none$1}function mapEvent(k,b,_){let $=conc(k.selectionsAfter.length?k.selectionsAfter.map(tt=>tt.map(b)):none$1,_);if(!k.changes)return HistEvent.selection($);let j=k.changes.map(b),_e=b.mapDesc(k.changes,!0),et=k.mapped?k.mapped.composeDesc(_e):_e;return new HistEvent(j,StateEffect.mapEffects(k.effects,b),et,k.startSelection.map(_e),$)}const joinableUserEvent=/^(input\.type|delete)($|\.)/;class HistoryState{constructor(b,_,$=0,j=void 0){this.done=b,this.undone=_,this.prevTime=$,this.prevUserEvent=j}isolate(){return this.prevTime?new HistoryState(this.done,this.undone):this}addChanges(b,_,$,j,_e){let et=this.done,tt=et[et.length-1];return tt&&tt.changes&&!tt.changes.empty&&b.changes&&(!$||joinableUserEvent.test($))&&(!tt.selectionsAfter.length&&_-this.prevTime<j&&isAdjacent(tt.changes,b.changes)||$=="input.type.compose")?et=updateBranch(et,et.length-1,_e,new HistEvent(b.changes.compose(tt.changes),conc(b.effects,tt.effects),tt.mapped,tt.startSelection,none$1)):et=updateBranch(et,et.length,_e,b),new HistoryState(et,none$1,_,$)}addSelection(b,_,$,j){let _e=this.done.length?this.done[this.done.length-1].selectionsAfter:none$1;return _e.length>0&&_-this.prevTime<j&&$==this.prevUserEvent&&$&&/^select($|\.)/.test($)&&eqSelectionShape(_e[_e.length-1],b)?this:new HistoryState(addSelection(this.done,b),this.undone,_,$)}addMapping(b){return new HistoryState(addMappingToBranch(this.done,b),addMappingToBranch(this.undone,b),this.prevTime,this.prevUserEvent)}pop(b,_,$){let j=b==0?this.done:this.undone;if(j.length==0)return null;let _e=j[j.length-1];if($&&_e.selectionsAfter.length)return _.update({selection:_e.selectionsAfter[_e.selectionsAfter.length-1],annotations:fromHistory.of({side:b,rest:popSelection(j)}),userEvent:b==0?"select.undo":"select.redo",scrollIntoView:!0});if(_e.changes){let et=j.length==1?none$1:j.slice(0,j.length-1);return _e.mapped&&(et=addMappingToBranch(et,_e.mapped)),_.update({changes:_e.changes,selection:_e.startSelection,effects:_e.effects,annotations:fromHistory.of({side:b,rest:et}),filter:!1,userEvent:b==0?"undo":"redo",scrollIntoView:!0})}else return null}}HistoryState.empty=new HistoryState(none$1,none$1);const historyKeymap=[{key:"Mod-z",run:undo,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:redo,preventDefault:!0},{linux:"Ctrl-Shift-z",run:redo,preventDefault:!0},{key:"Mod-u",run:undoSelection,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:redoSelection,preventDefault:!0}];function updateSel(k,b){return EditorSelection.create(k.ranges.map(b),k.mainIndex)}function setSel(k,b){return k.update({selection:b,scrollIntoView:!0,userEvent:"select"})}function moveSel({state:k,dispatch:b},_){let $=updateSel(k.selection,_);return $.eq(k.selection)?!1:(b(setSel(k,$)),!0)}function rangeEnd(k,b){return EditorSelection.cursor(b?k.to:k.from)}function cursorByChar(k,b){return moveSel(k,_=>_.empty?k.moveByChar(_,b):rangeEnd(_,b))}function ltrAtCursor(k){return k.textDirectionAt(k.state.selection.main.head)==Direction.LTR}const cursorCharLeft=k=>cursorByChar(k,!ltrAtCursor(k)),cursorCharRight=k=>cursorByChar(k,ltrAtCursor(k));function cursorByGroup(k,b){return moveSel(k,_=>_.empty?k.moveByGroup(_,b):rangeEnd(_,b))}const cursorGroupLeft=k=>cursorByGroup(k,!ltrAtCursor(k)),cursorGroupRight=k=>cursorByGroup(k,ltrAtCursor(k));function interestingNode(k,b,_){if(b.type.prop(_))return!0;let $=b.to-b.from;return $&&($>2||/[^\s,.;:]/.test(k.sliceDoc(b.from,b.to)))||b.firstChild}function moveBySyntax(k,b,_){let $=syntaxTree(k).resolveInner(b.head),j=_?NodeProp.closedBy:NodeProp.openedBy;for(let nt=b.head;;){let it=_?$.childAfter(nt):$.childBefore(nt);if(!it)break;interestingNode(k,it,j)?$=it:nt=_?it.to:it.from}let _e=$.type.prop(j),et,tt;return _e&&(et=_?matchBrackets(k,$.from,1):matchBrackets(k,$.to,-1))&&et.matched?tt=_?et.end.to:et.end.from:tt=_?$.to:$.from,EditorSelection.cursor(tt,_?-1:1)}const cursorSyntaxLeft=k=>moveSel(k,b=>moveBySyntax(k.state,b,!ltrAtCursor(k))),cursorSyntaxRight=k=>moveSel(k,b=>moveBySyntax(k.state,b,ltrAtCursor(k)));function cursorByLine(k,b){return moveSel(k,_=>{if(!_.empty)return rangeEnd(_,b);let $=k.moveVertically(_,b);return $.head!=_.head?$:k.moveToLineBoundary(_,b)})}const cursorLineUp=k=>cursorByLine(k,!1),cursorLineDown=k=>cursorByLine(k,!0);function pageHeight(k){return Math.max(k.defaultLineHeight,Math.min(k.dom.clientHeight,innerHeight)-5)}function cursorByPage(k,b){let{state:_}=k,$=updateSel(_.selection,tt=>tt.empty?k.moveVertically(tt,b,pageHeight(k)):rangeEnd(tt,b));if($.eq(_.selection))return!1;let j=k.coordsAtPos(_.selection.main.head),_e=k.scrollDOM.getBoundingClientRect(),et;return j&&j.top>_e.top&&j.bottom<_e.bottom&&j.top-_e.top<=k.scrollDOM.scrollHeight-k.scrollDOM.scrollTop-k.scrollDOM.clientHeight&&(et=EditorView.scrollIntoView($.main.head,{y:"start",yMargin:j.top-_e.top})),k.dispatch(setSel(_,$),{effects:et}),!0}const cursorPageUp=k=>cursorByPage(k,!1),cursorPageDown=k=>cursorByPage(k,!0);function moveByLineBoundary(k,b,_){let $=k.lineBlockAt(b.head),j=k.moveToLineBoundary(b,_);if(j.head==b.head&&j.head!=(_?$.to:$.from)&&(j=k.moveToLineBoundary(b,_,!1)),!_&&j.head==$.from&&$.length){let _e=/^\s*/.exec(k.state.sliceDoc($.from,Math.min($.from+100,$.to)))[0].length;_e&&b.head!=$.from+_e&&(j=EditorSelection.cursor($.from+_e))}return j}const cursorLineBoundaryForward=k=>moveSel(k,b=>moveByLineBoundary(k,b,!0)),cursorLineBoundaryBackward=k=>moveSel(k,b=>moveByLineBoundary(k,b,!1)),cursorLineBoundaryLeft=k=>moveSel(k,b=>moveByLineBoundary(k,b,!ltrAtCursor(k))),cursorLineBoundaryRight=k=>moveSel(k,b=>moveByLineBoundary(k,b,ltrAtCursor(k))),cursorLineStart=k=>moveSel(k,b=>EditorSelection.cursor(k.lineBlockAt(b.head).from,1)),cursorLineEnd=k=>moveSel(k,b=>EditorSelection.cursor(k.lineBlockAt(b.head).to,-1));function toMatchingBracket(k,b,_){let $=!1,j=updateSel(k.selection,_e=>{let et=matchBrackets(k,_e.head,-1)||matchBrackets(k,_e.head,1)||_e.head>0&&matchBrackets(k,_e.head-1,1)||_e.head<k.doc.length&&matchBrackets(k,_e.head+1,-1);if(!et||!et.end)return _e;$=!0;let tt=et.start.from==_e.head?et.end.to:et.end.from;return _?EditorSelection.range(_e.anchor,tt):EditorSelection.cursor(tt)});return $?(b(setSel(k,j)),!0):!1}const cursorMatchingBracket=({state:k,dispatch:b})=>toMatchingBracket(k,b,!1);function extendSel(k,b){let _=updateSel(k.state.selection,$=>{let j=b($);return EditorSelection.range($.anchor,j.head,j.goalColumn)});return _.eq(k.state.selection)?!1:(k.dispatch(setSel(k.state,_)),!0)}function selectByChar(k,b){return extendSel(k,_=>k.moveByChar(_,b))}const selectCharLeft=k=>selectByChar(k,!ltrAtCursor(k)),selectCharRight=k=>selectByChar(k,ltrAtCursor(k));function selectByGroup(k,b){return extendSel(k,_=>k.moveByGroup(_,b))}const selectGroupLeft=k=>selectByGroup(k,!ltrAtCursor(k)),selectGroupRight=k=>selectByGroup(k,ltrAtCursor(k)),selectSyntaxLeft=k=>extendSel(k,b=>moveBySyntax(k.state,b,!ltrAtCursor(k))),selectSyntaxRight=k=>extendSel(k,b=>moveBySyntax(k.state,b,ltrAtCursor(k)));function selectByLine(k,b){return extendSel(k,_=>k.moveVertically(_,b))}const selectLineUp=k=>selectByLine(k,!1),selectLineDown=k=>selectByLine(k,!0);function selectByPage(k,b){return extendSel(k,_=>k.moveVertically(_,b,pageHeight(k)))}const selectPageUp=k=>selectByPage(k,!1),selectPageDown=k=>selectByPage(k,!0),selectLineBoundaryForward=k=>extendSel(k,b=>moveByLineBoundary(k,b,!0)),selectLineBoundaryBackward=k=>extendSel(k,b=>moveByLineBoundary(k,b,!1)),selectLineBoundaryLeft=k=>extendSel(k,b=>moveByLineBoundary(k,b,!ltrAtCursor(k))),selectLineBoundaryRight=k=>extendSel(k,b=>moveByLineBoundary(k,b,ltrAtCursor(k))),selectLineStart=k=>extendSel(k,b=>EditorSelection.cursor(k.lineBlockAt(b.head).from)),selectLineEnd=k=>extendSel(k,b=>EditorSelection.cursor(k.lineBlockAt(b.head).to)),cursorDocStart=({state:k,dispatch:b})=>(b(setSel(k,{anchor:0})),!0),cursorDocEnd=({state:k,dispatch:b})=>(b(setSel(k,{anchor:k.doc.length})),!0),selectDocStart=({state:k,dispatch:b})=>(b(setSel(k,{anchor:k.selection.main.anchor,head:0})),!0),selectDocEnd=({state:k,dispatch:b})=>(b(setSel(k,{anchor:k.selection.main.anchor,head:k.doc.length})),!0),selectAll=({state:k,dispatch:b})=>(b(k.update({selection:{anchor:0,head:k.doc.length},userEvent:"select"})),!0),selectLine=({state:k,dispatch:b})=>{let _=selectedLineBlocks(k).map(({from:$,to:j})=>EditorSelection.range($,Math.min(j+1,k.doc.length)));return b(k.update({selection:EditorSelection.create(_),userEvent:"select"})),!0},selectParentSyntax=({state:k,dispatch:b})=>{let _=updateSel(k.selection,$=>{var j;let _e=syntaxTree(k).resolveInner($.head,1);for(;!(_e.from<$.from&&_e.to>=$.to||_e.to>$.to&&_e.from<=$.from||!(!((j=_e.parent)===null||j===void 0)&&j.parent));)_e=_e.parent;return EditorSelection.range(_e.to,_e.from)});return b(setSel(k,_)),!0},simplifySelection=({state:k,dispatch:b})=>{let _=k.selection,$=null;return _.ranges.length>1?$=EditorSelection.create([_.main]):_.main.empty||($=EditorSelection.create([EditorSelection.cursor(_.main.head)])),$?(b(setSel(k,$)),!0):!1};function deleteBy(k,b){if(k.state.readOnly)return!1;let _="delete.selection",{state:$}=k,j=$.changeByRange(_e=>{let{from:et,to:tt}=_e;if(et==tt){let nt=b(et);nt<et?(_="delete.backward",nt=skipAtomic(k,nt,!1)):nt>et&&(_="delete.forward",nt=skipAtomic(k,nt,!0)),et=Math.min(et,nt),tt=Math.max(tt,nt)}else et=skipAtomic(k,et,!1),tt=skipAtomic(k,tt,!0);return et==tt?{range:_e}:{changes:{from:et,to:tt},range:EditorSelection.cursor(et)}});return j.changes.empty?!1:(k.dispatch($.update(j,{scrollIntoView:!0,userEvent:_,effects:_=="delete.selection"?EditorView.announce.of($.phrase("Selection deleted")):void 0})),!0)}function skipAtomic(k,b,_){if(k instanceof EditorView)for(let $ of k.state.facet(EditorView.atomicRanges).map(j=>j(k)))$.between(b,b,(j,_e)=>{j<b&&_e>b&&(b=_?_e:j)});return b}const deleteByChar=(k,b)=>deleteBy(k,_=>{let{state:$}=k,j=$.doc.lineAt(_),_e,et;if(!b&&_>j.from&&_<j.from+200&&!/[^ \t]/.test(_e=j.text.slice(0,_-j.from))){if(_e[_e.length-1]=="	")return _-1;let tt=countColumn(_e,$.tabSize),nt=tt%getIndentUnit($)||getIndentUnit($);for(let it=0;it<nt&&_e[_e.length-1-it]==" ";it++)_--;et=_}else et=findClusterBreak(j.text,_-j.from,b,b)+j.from,et==_&&j.number!=(b?$.doc.lines:1)&&(et+=b?1:-1);return et}),deleteCharBackward=k=>deleteByChar(k,!1),deleteCharForward=k=>deleteByChar(k,!0),deleteByGroup=(k,b)=>deleteBy(k,_=>{let $=_,{state:j}=k,_e=j.doc.lineAt($),et=j.charCategorizer($);for(let tt=null;;){if($==(b?_e.to:_e.from)){$==_&&_e.number!=(b?j.doc.lines:1)&&($+=b?1:-1);break}let nt=findClusterBreak(_e.text,$-_e.from,b)+_e.from,it=_e.text.slice(Math.min($,nt)-_e.from,Math.max($,nt)-_e.from),rt=et(it);if(tt!=null&&rt!=tt)break;(it!=" "||$!=_)&&(tt=rt),$=nt}return $}),deleteGroupBackward=k=>deleteByGroup(k,!1),deleteGroupForward=k=>deleteByGroup(k,!0),deleteToLineEnd=k=>deleteBy(k,b=>{let _=k.lineBlockAt(b).to;return b<_?_:Math.min(k.state.doc.length,b+1)}),deleteToLineStart=k=>deleteBy(k,b=>{let _=k.lineBlockAt(b).from;return b>_?_:Math.max(0,b-1)}),splitLine=({state:k,dispatch:b})=>{if(k.readOnly)return!1;let _=k.changeByRange($=>({changes:{from:$.from,to:$.to,insert:Text.of(["",""])},range:EditorSelection.cursor($.from)}));return b(k.update(_,{scrollIntoView:!0,userEvent:"input"})),!0},transposeChars=({state:k,dispatch:b})=>{if(k.readOnly)return!1;let _=k.changeByRange($=>{if(!$.empty||$.from==0||$.from==k.doc.length)return{range:$};let j=$.from,_e=k.doc.lineAt(j),et=j==_e.from?j-1:findClusterBreak(_e.text,j-_e.from,!1)+_e.from,tt=j==_e.to?j+1:findClusterBreak(_e.text,j-_e.from,!0)+_e.from;return{changes:{from:et,to:tt,insert:k.doc.slice(j,tt).append(k.doc.slice(et,j))},range:EditorSelection.cursor(tt)}});return _.changes.empty?!1:(b(k.update(_,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function selectedLineBlocks(k){let b=[],_=-1;for(let $ of k.selection.ranges){let j=k.doc.lineAt($.from),_e=k.doc.lineAt($.to);if(!$.empty&&$.to==_e.from&&(_e=k.doc.lineAt($.to-1)),_>=j.number){let et=b[b.length-1];et.to=_e.to,et.ranges.push($)}else b.push({from:j.from,to:_e.to,ranges:[$]});_=_e.number+1}return b}function moveLine(k,b,_){if(k.readOnly)return!1;let $=[],j=[];for(let _e of selectedLineBlocks(k)){if(_?_e.to==k.doc.length:_e.from==0)continue;let et=k.doc.lineAt(_?_e.to+1:_e.from-1),tt=et.length+1;if(_){$.push({from:_e.to,to:et.to},{from:_e.from,insert:et.text+k.lineBreak});for(let nt of _e.ranges)j.push(EditorSelection.range(Math.min(k.doc.length,nt.anchor+tt),Math.min(k.doc.length,nt.head+tt)))}else{$.push({from:et.from,to:_e.from},{from:_e.to,insert:k.lineBreak+et.text});for(let nt of _e.ranges)j.push(EditorSelection.range(nt.anchor-tt,nt.head-tt))}}return $.length?(b(k.update({changes:$,scrollIntoView:!0,selection:EditorSelection.create(j,k.selection.mainIndex),userEvent:"move.line"})),!0):!1}const moveLineUp=({state:k,dispatch:b})=>moveLine(k,b,!1),moveLineDown=({state:k,dispatch:b})=>moveLine(k,b,!0);function copyLine(k,b,_){if(k.readOnly)return!1;let $=[];for(let j of selectedLineBlocks(k))_?$.push({from:j.from,insert:k.doc.slice(j.from,j.to)+k.lineBreak}):$.push({from:j.to,insert:k.lineBreak+k.doc.slice(j.from,j.to)});return b(k.update({changes:$,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const copyLineUp=({state:k,dispatch:b})=>copyLine(k,b,!1),copyLineDown=({state:k,dispatch:b})=>copyLine(k,b,!0),deleteLine=k=>{if(k.state.readOnly)return!1;let{state:b}=k,_=b.changes(selectedLineBlocks(b).map(({from:j,to:_e})=>(j>0?j--:_e<b.doc.length&&_e++,{from:j,to:_e}))),$=updateSel(b.selection,j=>k.moveVertically(j,!0)).map(_);return k.dispatch({changes:_,selection:$,scrollIntoView:!0,userEvent:"delete.line"}),!0};function isBetweenBrackets(k,b){if(/\(\)|\[\]|\{\}/.test(k.sliceDoc(b-1,b+1)))return{from:b,to:b};let _=syntaxTree(k).resolveInner(b),$=_.childBefore(b),j=_.childAfter(b),_e;return $&&j&&$.to<=b&&j.from>=b&&(_e=$.type.prop(NodeProp.closedBy))&&_e.indexOf(j.name)>-1&&k.doc.lineAt($.to).from==k.doc.lineAt(j.from).from?{from:$.to,to:j.from}:null}const insertNewlineAndIndent=newlineAndIndent(!1),insertBlankLine=newlineAndIndent(!0);function newlineAndIndent(k){return({state:b,dispatch:_})=>{if(b.readOnly)return!1;let $=b.changeByRange(j=>{let{from:_e,to:et}=j,tt=b.doc.lineAt(_e),nt=!k&&_e==et&&isBetweenBrackets(b,_e);k&&(_e=et=(et<=tt.to?tt:b.doc.lineAt(et)).to);let it=new IndentContext(b,{simulateBreak:_e,simulateDoubleBreak:!!nt}),rt=getIndentation(it,_e);for(rt==null&&(rt=/^\s*/.exec(b.doc.lineAt(_e).text)[0].length);et<tt.to&&/\s/.test(tt.text[et-tt.from]);)et++;nt?{from:_e,to:et}=nt:_e>tt.from&&_e<tt.from+100&&!/\S/.test(tt.text.slice(0,_e))&&(_e=tt.from);let st=["",indentString(b,rt)];return nt&&st.push(indentString(b,it.lineIndent(tt.from,-1))),{changes:{from:_e,to:et,insert:Text.of(st)},range:EditorSelection.cursor(_e+1+st[1].length)}});return _(b.update($,{scrollIntoView:!0,userEvent:"input"})),!0}}function changeBySelectedLine(k,b){let _=-1;return k.changeByRange($=>{let j=[];for(let et=$.from;et<=$.to;){let tt=k.doc.lineAt(et);tt.number>_&&($.empty||$.to>tt.from)&&(b(tt,j,$),_=tt.number),et=tt.to+1}let _e=k.changes(j);return{changes:j,range:EditorSelection.range(_e.mapPos($.anchor,1),_e.mapPos($.head,1))}})}const indentSelection=({state:k,dispatch:b})=>{if(k.readOnly)return!1;let _=Object.create(null),$=new IndentContext(k,{overrideIndentation:_e=>{let et=_[_e];return et==null?-1:et}}),j=changeBySelectedLine(k,(_e,et,tt)=>{let nt=getIndentation($,_e.from);if(nt==null)return;/\S/.test(_e.text)||(nt=0);let it=/^\s*/.exec(_e.text)[0],rt=indentString(k,nt);(it!=rt||tt.from<_e.from+it.length)&&(_[_e.from]=nt,et.push({from:_e.from,to:_e.from+it.length,insert:rt}))});return j.changes.empty||b(k.update(j,{userEvent:"indent"})),!0},indentMore=({state:k,dispatch:b})=>k.readOnly?!1:(b(k.update(changeBySelectedLine(k,(_,$)=>{$.push({from:_.from,insert:k.facet(indentUnit)})}),{userEvent:"input.indent"})),!0),indentLess=({state:k,dispatch:b})=>k.readOnly?!1:(b(k.update(changeBySelectedLine(k,(_,$)=>{let j=/^\s*/.exec(_.text)[0];if(!j)return;let _e=countColumn(j,k.tabSize),et=0,tt=indentString(k,Math.max(0,_e-getIndentUnit(k)));for(;et<j.length&&et<tt.length&&j.charCodeAt(et)==tt.charCodeAt(et);)et++;$.push({from:_.from+et,to:_.from+j.length,insert:tt.slice(et)})}),{userEvent:"delete.dedent"})),!0),emacsStyleKeymap=[{key:"Ctrl-b",run:cursorCharLeft,shift:selectCharLeft,preventDefault:!0},{key:"Ctrl-f",run:cursorCharRight,shift:selectCharRight},{key:"Ctrl-p",run:cursorLineUp,shift:selectLineUp},{key:"Ctrl-n",run:cursorLineDown,shift:selectLineDown},{key:"Ctrl-a",run:cursorLineStart,shift:selectLineStart},{key:"Ctrl-e",run:cursorLineEnd,shift:selectLineEnd},{key:"Ctrl-d",run:deleteCharForward},{key:"Ctrl-h",run:deleteCharBackward},{key:"Ctrl-k",run:deleteToLineEnd},{key:"Ctrl-Alt-h",run:deleteGroupBackward},{key:"Ctrl-o",run:splitLine},{key:"Ctrl-t",run:transposeChars},{key:"Ctrl-v",run:cursorPageDown}],standardKeymap=[{key:"ArrowLeft",run:cursorCharLeft,shift:selectCharLeft,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:cursorGroupLeft,shift:selectGroupLeft,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:cursorLineBoundaryLeft,shift:selectLineBoundaryLeft,preventDefault:!0},{key:"ArrowRight",run:cursorCharRight,shift:selectCharRight,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:cursorGroupRight,shift:selectGroupRight,preventDefault:!0},{mac:"Cmd-ArrowRight",run:cursorLineBoundaryRight,shift:selectLineBoundaryRight,preventDefault:!0},{key:"ArrowUp",run:cursorLineUp,shift:selectLineUp,preventDefault:!0},{mac:"Cmd-ArrowUp",run:cursorDocStart,shift:selectDocStart},{mac:"Ctrl-ArrowUp",run:cursorPageUp,shift:selectPageUp},{key:"ArrowDown",run:cursorLineDown,shift:selectLineDown,preventDefault:!0},{mac:"Cmd-ArrowDown",run:cursorDocEnd,shift:selectDocEnd},{mac:"Ctrl-ArrowDown",run:cursorPageDown,shift:selectPageDown},{key:"PageUp",run:cursorPageUp,shift:selectPageUp},{key:"PageDown",run:cursorPageDown,shift:selectPageDown},{key:"Home",run:cursorLineBoundaryBackward,shift:selectLineBoundaryBackward,preventDefault:!0},{key:"Mod-Home",run:cursorDocStart,shift:selectDocStart},{key:"End",run:cursorLineBoundaryForward,shift:selectLineBoundaryForward,preventDefault:!0},{key:"Mod-End",run:cursorDocEnd,shift:selectDocEnd},{key:"Enter",run:insertNewlineAndIndent},{key:"Mod-a",run:selectAll},{key:"Backspace",run:deleteCharBackward,shift:deleteCharBackward},{key:"Delete",run:deleteCharForward},{key:"Mod-Backspace",mac:"Alt-Backspace",run:deleteGroupBackward},{key:"Mod-Delete",mac:"Alt-Delete",run:deleteGroupForward},{mac:"Mod-Backspace",run:deleteToLineStart},{mac:"Mod-Delete",run:deleteToLineEnd}].concat(emacsStyleKeymap.map(k=>({mac:k.key,run:k.run,shift:k.shift}))),defaultKeymap=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:cursorSyntaxLeft,shift:selectSyntaxLeft},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:cursorSyntaxRight,shift:selectSyntaxRight},{key:"Alt-ArrowUp",run:moveLineUp},{key:"Shift-Alt-ArrowUp",run:copyLineUp},{key:"Alt-ArrowDown",run:moveLineDown},{key:"Shift-Alt-ArrowDown",run:copyLineDown},{key:"Escape",run:simplifySelection},{key:"Mod-Enter",run:insertBlankLine},{key:"Alt-l",mac:"Ctrl-l",run:selectLine},{key:"Mod-i",run:selectParentSyntax,preventDefault:!0},{key:"Mod-[",run:indentLess},{key:"Mod-]",run:indentMore},{key:"Mod-Alt-\\",run:indentSelection},{key:"Shift-Mod-k",run:deleteLine},{key:"Shift-Mod-\\",run:cursorMatchingBracket},{key:"Mod-/",run:toggleComment},{key:"Alt-A",run:toggleBlockComment}].concat(standardKeymap),indentWithTab={key:"Tab",run:indentMore,shift:indentLess};function crelt(){var k=arguments[0];typeof k=="string"&&(k=document.createElement(k));var b=1,_=arguments[1];if(_&&typeof _=="object"&&_.nodeType==null&&!Array.isArray(_)){for(var $ in _)if(Object.prototype.hasOwnProperty.call(_,$)){var j=_[$];typeof j=="string"?k.setAttribute($,j):j!=null&&(k[$]=j)}b++}for(;b<arguments.length;b++)add$4(k,arguments[b]);return k}function add$4(k,b){if(typeof b=="string")k.appendChild(document.createTextNode(b));else if(b!=null)if(b.nodeType!=null)k.appendChild(b);else if(Array.isArray(b))for(var _=0;_<b.length;_++)add$4(k,b[_]);else throw new RangeError("Unsupported child node: "+b)}const basicNormalize=typeof String.prototype.normalize=="function"?k=>k.normalize("NFKD"):k=>k;class SearchCursor{constructor(b,_,$=0,j=b.length,_e,et){this.test=et,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=b.iterRange($,j),this.bufferStart=$,this.normalize=_e?tt=>_e(basicNormalize(tt)):basicNormalize,this.query=this.normalize(_)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return codePointAt(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let b=this.peek();if(b<0)return this.done=!0,this;let _=fromCodePoint(b),$=this.bufferStart+this.bufferPos;this.bufferPos+=codePointSize(b);let j=this.normalize(_);for(let _e=0,et=$;;_e++){let tt=j.charCodeAt(_e),nt=this.match(tt,et);if(nt)return this.value=nt,this;if(_e==j.length-1)break;et==$&&_e<_.length&&_.charCodeAt(_e)==tt&&et++}}}match(b,_){let $=null;for(let j=0;j<this.matches.length;j+=2){let _e=this.matches[j],et=!1;this.query.charCodeAt(_e)==b&&(_e==this.query.length-1?$={from:this.matches[j+1],to:_+1}:(this.matches[j]++,et=!0)),et||(this.matches.splice(j,2),j-=2)}return this.query.charCodeAt(0)==b&&(this.query.length==1?$={from:_,to:_+1}:this.matches.push(1,_)),$&&this.test&&!this.test($.from,$.to,this.buffer,this.bufferPos)&&($=null),$}}typeof Symbol<"u"&&(SearchCursor.prototype[Symbol.iterator]=function(){return this});const empty$2={from:-1,to:-1,match:/.*/.exec("")},baseFlags="gm"+(/x/.unicode==null?"":"u");class RegExpCursor{constructor(b,_,$,j=0,_e=b.length){if(this.text=b,this.to=_e,this.curLine="",this.done=!1,this.value=empty$2,/\\[sWDnr]|\n|\r|\[\^/.test(_))return new MultilineRegExpCursor(b,_,$,j,_e);this.re=new RegExp(_,baseFlags+($!=null&&$.ignoreCase?"i":"")),this.test=$==null?void 0:$.test,this.iter=b.iter();let et=b.lineAt(j);this.curLineStart=et.from,this.matchPos=toCharEnd(b,j),this.getLine(this.curLineStart)}getLine(b){this.iter.next(b),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let b=this.matchPos-this.curLineStart;;){this.re.lastIndex=b;let _=this.matchPos<=this.to&&this.re.exec(this.curLine);if(_){let $=this.curLineStart+_.index,j=$+_[0].length;if(this.matchPos=toCharEnd(this.text,j+($==j?1:0)),$==this.curLineStart+this.curLine.length&&this.nextLine(),($<j||$>this.value.to)&&(!this.test||this.test($,j,_)))return this.value={from:$,to:j,match:_},this;b=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),b=0;else return this.done=!0,this}}}const flattened=new WeakMap;class FlattenedDoc{constructor(b,_){this.from=b,this.text=_}get to(){return this.from+this.text.length}static get(b,_,$){let j=flattened.get(b);if(!j||j.from>=$||j.to<=_){let tt=new FlattenedDoc(_,b.sliceString(_,$));return flattened.set(b,tt),tt}if(j.from==_&&j.to==$)return j;let{text:_e,from:et}=j;return et>_&&(_e=b.sliceString(_,et)+_e,et=_),j.to<$&&(_e+=b.sliceString(j.to,$)),flattened.set(b,new FlattenedDoc(et,_e)),new FlattenedDoc(_,_e.slice(_-et,$-et))}}class MultilineRegExpCursor{constructor(b,_,$,j,_e){this.text=b,this.to=_e,this.done=!1,this.value=empty$2,this.matchPos=toCharEnd(b,j),this.re=new RegExp(_,baseFlags+($!=null&&$.ignoreCase?"i":"")),this.test=$==null?void 0:$.test,this.flat=FlattenedDoc.get(b,j,this.chunkEnd(j+5e3))}chunkEnd(b){return b>=this.to?this.to:this.text.lineAt(b).to}next(){for(;;){let b=this.re.lastIndex=this.matchPos-this.flat.from,_=this.re.exec(this.flat.text);if(_&&!_[0]&&_.index==b&&(this.re.lastIndex=b+1,_=this.re.exec(this.flat.text)),_){let $=this.flat.from+_.index,j=$+_[0].length;if((this.flat.to>=this.to||_.index+_[0].length<=this.flat.text.length-10)&&(!this.test||this.test($,j,_)))return this.value={from:$,to:j,match:_},this.matchPos=toCharEnd(this.text,j+($==j?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=FlattenedDoc.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(RegExpCursor.prototype[Symbol.iterator]=MultilineRegExpCursor.prototype[Symbol.iterator]=function(){return this});function validRegExp(k){try{return new RegExp(k,baseFlags),!0}catch{return!1}}function toCharEnd(k,b){if(b>=k.length)return b;let _=k.lineAt(b),$;for(;b<_.to&&($=_.text.charCodeAt(b-_.from))>=56320&&$<57344;)b++;return b}function createLineDialog(k){let b=crelt("input",{class:"cm-textfield",name:"line"}),_=crelt("form",{class:"cm-gotoLine",onkeydown:j=>{j.keyCode==27?(j.preventDefault(),k.dispatch({effects:dialogEffect.of(!1)}),k.focus()):j.keyCode==13&&(j.preventDefault(),$())},onsubmit:j=>{j.preventDefault(),$()}},crelt("label",k.state.phrase("Go to line"),": ",b)," ",crelt("button",{class:"cm-button",type:"submit"},k.state.phrase("go")));function $(){let j=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(b.value);if(!j)return;let{state:_e}=k,et=_e.doc.lineAt(_e.selection.main.head),[,tt,nt,it,rt]=j,st=it?+it.slice(1):0,ot=nt?+nt:et.number;if(nt&&rt){let lt=ot/100;tt&&(lt=lt*(tt=="-"?-1:1)+et.number/_e.doc.lines),ot=Math.round(_e.doc.lines*lt)}else nt&&tt&&(ot=ot*(tt=="-"?-1:1)+et.number);let ut=_e.doc.line(Math.max(1,Math.min(_e.doc.lines,ot)));k.dispatch({effects:dialogEffect.of(!1),selection:EditorSelection.cursor(ut.from+Math.max(0,Math.min(st,ut.length))),scrollIntoView:!0}),k.focus()}return{dom:_}}const dialogEffect=StateEffect.define(),dialogField=StateField.define({create(){return!0},update(k,b){for(let _ of b.effects)_.is(dialogEffect)&&(k=_.value);return k},provide:k=>showPanel.from(k,b=>b?createLineDialog:null)}),gotoLine=k=>{let b=getPanel(k,createLineDialog);if(!b){let _=[dialogEffect.of(!0)];k.state.field(dialogField,!1)==null&&_.push(StateEffect.appendConfig.of([dialogField,baseTheme$1$1])),k.dispatch({effects:_}),b=getPanel(k,createLineDialog)}return b&&b.dom.querySelector("input").focus(),!0},baseTheme$1$1=EditorView.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),defaultHighlightOptions={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},highlightConfig=Facet.define({combine(k){return combineConfig(k,defaultHighlightOptions,{highlightWordAroundCursor:(b,_)=>b||_,minSelectionLength:Math.min,maxMatches:Math.min})}});function highlightSelectionMatches(k){let b=[defaultTheme,matchHighlighter];return k&&b.push(highlightConfig.of(k)),b}const matchDeco=Decoration.mark({class:"cm-selectionMatch"}),mainMatchDeco=Decoration.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function insideWordBoundaries(k,b,_,$){return(_==0||k(b.sliceDoc(_-1,_))!=CharCategory.Word)&&($==b.doc.length||k(b.sliceDoc($,$+1))!=CharCategory.Word)}function insideWord(k,b,_,$){return k(b.sliceDoc(_,_+1))==CharCategory.Word&&k(b.sliceDoc($-1,$))==CharCategory.Word}const matchHighlighter=ViewPlugin.fromClass(class{constructor(k){this.decorations=this.getDeco(k)}update(k){(k.selectionSet||k.docChanged||k.viewportChanged)&&(this.decorations=this.getDeco(k.view))}getDeco(k){let b=k.state.facet(highlightConfig),{state:_}=k,$=_.selection;if($.ranges.length>1)return Decoration.none;let j=$.main,_e,et=null;if(j.empty){if(!b.highlightWordAroundCursor)return Decoration.none;let nt=_.wordAt(j.head);if(!nt)return Decoration.none;et=_.charCategorizer(j.head),_e=_.sliceDoc(nt.from,nt.to)}else{let nt=j.to-j.from;if(nt<b.minSelectionLength||nt>200)return Decoration.none;if(b.wholeWords){if(_e=_.sliceDoc(j.from,j.to),et=_.charCategorizer(j.head),!(insideWordBoundaries(et,_,j.from,j.to)&&insideWord(et,_,j.from,j.to)))return Decoration.none}else if(_e=_.sliceDoc(j.from,j.to).trim(),!_e)return Decoration.none}let tt=[];for(let nt of k.visibleRanges){let it=new SearchCursor(_.doc,_e,nt.from,nt.to);for(;!it.next().done;){let{from:rt,to:st}=it.value;if((!et||insideWordBoundaries(et,_,rt,st))&&(j.empty&&rt<=j.from&&st>=j.to?tt.push(mainMatchDeco.range(rt,st)):(rt>=j.to||st<=j.from)&&tt.push(matchDeco.range(rt,st)),tt.length>b.maxMatches))return Decoration.none}}return Decoration.set(tt)}},{decorations:k=>k.decorations}),defaultTheme=EditorView.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),selectWord=({state:k,dispatch:b})=>{let{selection:_}=k,$=EditorSelection.create(_.ranges.map(j=>k.wordAt(j.head)||EditorSelection.cursor(j.head)),_.mainIndex);return $.eq(_)?!1:(b(k.update({selection:$})),!0)};function findNextOccurrence(k,b){let{main:_,ranges:$}=k.selection,j=k.wordAt(_.head),_e=j&&j.from==_.from&&j.to==_.to;for(let et=!1,tt=new SearchCursor(k.doc,b,$[$.length-1].to);;)if(tt.next(),tt.done){if(et)return null;tt=new SearchCursor(k.doc,b,0,Math.max(0,$[$.length-1].from-1)),et=!0}else{if(et&&$.some(nt=>nt.from==tt.value.from))continue;if(_e){let nt=k.wordAt(tt.value.from);if(!nt||nt.from!=tt.value.from||nt.to!=tt.value.to)continue}return tt.value}}const selectNextOccurrence=({state:k,dispatch:b})=>{let{ranges:_}=k.selection;if(_.some(_e=>_e.from===_e.to))return selectWord({state:k,dispatch:b});let $=k.sliceDoc(_[0].from,_[0].to);if(k.selection.ranges.some(_e=>k.sliceDoc(_e.from,_e.to)!=$))return!1;let j=findNextOccurrence(k,$);return j?(b(k.update({selection:k.selection.addRange(EditorSelection.range(j.from,j.to),!1),effects:EditorView.scrollIntoView(j.to)})),!0):!1},searchConfigFacet=Facet.define({combine(k){return combineConfig(k,{top:!1,caseSensitive:!1,literal:!1,wholeWord:!1,createPanel:b=>new SearchPanel(b)})}});class SearchQuery{constructor(b){this.search=b.search,this.caseSensitive=!!b.caseSensitive,this.literal=!!b.literal,this.regexp=!!b.regexp,this.replace=b.replace||"",this.valid=!!this.search&&(!this.regexp||validRegExp(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!b.wholeWord}unquote(b){return this.literal?b:b.replace(/\\([nrt\\])/g,(_,$)=>$=="n"?`
`:$=="r"?"\r":$=="t"?"	":"\\")}eq(b){return this.search==b.search&&this.replace==b.replace&&this.caseSensitive==b.caseSensitive&&this.regexp==b.regexp&&this.wholeWord==b.wholeWord}create(){return this.regexp?new RegExpQuery(this):new StringQuery(this)}getCursor(b,_=0,$){let j=b.doc?b:EditorState.create({doc:b});return $==null&&($=j.doc.length),this.regexp?regexpCursor(this,j,_,$):stringCursor(this,j,_,$)}}class QueryType{constructor(b){this.spec=b}}function stringCursor(k,b,_,$){return new SearchCursor(b.doc,k.unquoted,_,$,k.caseSensitive?void 0:j=>j.toLowerCase(),k.wholeWord?stringWordTest(b.doc,b.charCategorizer(b.selection.main.head)):void 0)}function stringWordTest(k,b){return(_,$,j,_e)=>((_e>_||_e+j.length<$)&&(_e=Math.max(0,_-2),j=k.sliceString(_e,Math.min(k.length,$+2))),(b(charBefore(j,_-_e))!=CharCategory.Word||b(charAfter(j,_-_e))!=CharCategory.Word)&&(b(charAfter(j,$-_e))!=CharCategory.Word||b(charBefore(j,$-_e))!=CharCategory.Word))}class StringQuery extends QueryType{constructor(b){super(b)}nextMatch(b,_,$){let j=stringCursor(this.spec,b,$,b.doc.length).nextOverlapping();return j.done&&(j=stringCursor(this.spec,b,0,_).nextOverlapping()),j.done?null:j.value}prevMatchInRange(b,_,$){for(let j=$;;){let _e=Math.max(_,j-1e4-this.spec.unquoted.length),et=stringCursor(this.spec,b,_e,j),tt=null;for(;!et.nextOverlapping().done;)tt=et.value;if(tt)return tt;if(_e==_)return null;j-=1e4}}prevMatch(b,_,$){return this.prevMatchInRange(b,0,_)||this.prevMatchInRange(b,$,b.doc.length)}getReplacement(b){return this.spec.unquote(this.spec.replace)}matchAll(b,_){let $=stringCursor(this.spec,b,0,b.doc.length),j=[];for(;!$.next().done;){if(j.length>=_)return null;j.push($.value)}return j}highlight(b,_,$,j){let _e=stringCursor(this.spec,b,Math.max(0,_-this.spec.unquoted.length),Math.min($+this.spec.unquoted.length,b.doc.length));for(;!_e.next().done;)j(_e.value.from,_e.value.to)}}function regexpCursor(k,b,_,$){return new RegExpCursor(b.doc,k.search,{ignoreCase:!k.caseSensitive,test:k.wholeWord?regexpWordTest(b.charCategorizer(b.selection.main.head)):void 0},_,$)}function charBefore(k,b){return k.slice(findClusterBreak(k,b,!1),b)}function charAfter(k,b){return k.slice(b,findClusterBreak(k,b))}function regexpWordTest(k){return(b,_,$)=>!$[0].length||(k(charBefore($.input,$.index))!=CharCategory.Word||k(charAfter($.input,$.index))!=CharCategory.Word)&&(k(charAfter($.input,$.index+$[0].length))!=CharCategory.Word||k(charBefore($.input,$.index+$[0].length))!=CharCategory.Word)}class RegExpQuery extends QueryType{nextMatch(b,_,$){let j=regexpCursor(this.spec,b,$,b.doc.length).next();return j.done&&(j=regexpCursor(this.spec,b,0,_).next()),j.done?null:j.value}prevMatchInRange(b,_,$){for(let j=1;;j++){let _e=Math.max(_,$-j*1e4),et=regexpCursor(this.spec,b,_e,$),tt=null;for(;!et.next().done;)tt=et.value;if(tt&&(_e==_||tt.from>_e+10))return tt;if(_e==_)return null}}prevMatch(b,_,$){return this.prevMatchInRange(b,0,_)||this.prevMatchInRange(b,$,b.doc.length)}getReplacement(b){return this.spec.unquote(this.spec.replace.replace(/\$([$&\d+])/g,(_,$)=>$=="$"?"$":$=="&"?b.match[0]:$!="0"&&+$<b.match.length?b.match[$]:_))}matchAll(b,_){let $=regexpCursor(this.spec,b,0,b.doc.length),j=[];for(;!$.next().done;){if(j.length>=_)return null;j.push($.value)}return j}highlight(b,_,$,j){let _e=regexpCursor(this.spec,b,Math.max(0,_-250),Math.min($+250,b.doc.length));for(;!_e.next().done;)j(_e.value.from,_e.value.to)}}const setSearchQuery=StateEffect.define(),togglePanel$1=StateEffect.define(),searchState=StateField.define({create(k){return new SearchState(defaultQuery(k).create(),null)},update(k,b){for(let _ of b.effects)_.is(setSearchQuery)?k=new SearchState(_.value.create(),k.panel):_.is(togglePanel$1)&&(k=new SearchState(k.query,_.value?createSearchPanel:null));return k},provide:k=>showPanel.from(k,b=>b.panel)});class SearchState{constructor(b,_){this.query=b,this.panel=_}}const matchMark=Decoration.mark({class:"cm-searchMatch"}),selectedMatchMark=Decoration.mark({class:"cm-searchMatch cm-searchMatch-selected"}),searchHighlighter=ViewPlugin.fromClass(class{constructor(k){this.view=k,this.decorations=this.highlight(k.state.field(searchState))}update(k){let b=k.state.field(searchState);(b!=k.startState.field(searchState)||k.docChanged||k.selectionSet||k.viewportChanged)&&(this.decorations=this.highlight(b))}highlight({query:k,panel:b}){if(!b||!k.spec.valid)return Decoration.none;let{view:_}=this,$=new RangeSetBuilder;for(let j=0,_e=_.visibleRanges,et=_e.length;j<et;j++){let{from:tt,to:nt}=_e[j];for(;j<et-1&&nt>_e[j+1].from-2*250;)nt=_e[++j].to;k.highlight(_.state,tt,nt,(it,rt)=>{let st=_.state.selection.ranges.some(ot=>ot.from==it&&ot.to==rt);$.add(it,rt,st?selectedMatchMark:matchMark)})}return $.finish()}},{decorations:k=>k.decorations});function searchCommand(k){return b=>{let _=b.state.field(searchState,!1);return _&&_.query.spec.valid?k(b,_):openSearchPanel(b)}}const findNext=searchCommand((k,{query:b})=>{let{to:_}=k.state.selection.main,$=b.nextMatch(k.state,_,_);return $?(k.dispatch({selection:{anchor:$.from,head:$.to},scrollIntoView:!0,effects:announceMatch(k,$),userEvent:"select.search"}),!0):!1}),findPrevious=searchCommand((k,{query:b})=>{let{state:_}=k,{from:$}=_.selection.main,j=b.prevMatch(_,$,$);return j?(k.dispatch({selection:{anchor:j.from,head:j.to},scrollIntoView:!0,effects:announceMatch(k,j),userEvent:"select.search"}),!0):!1}),selectMatches=searchCommand((k,{query:b})=>{let _=b.matchAll(k.state,1e3);return!_||!_.length?!1:(k.dispatch({selection:EditorSelection.create(_.map($=>EditorSelection.range($.from,$.to))),userEvent:"select.search.matches"}),!0)}),selectSelectionMatches=({state:k,dispatch:b})=>{let _=k.selection;if(_.ranges.length>1||_.main.empty)return!1;let{from:$,to:j}=_.main,_e=[],et=0;for(let tt=new SearchCursor(k.doc,k.sliceDoc($,j));!tt.next().done;){if(_e.length>1e3)return!1;tt.value.from==$&&(et=_e.length),_e.push(EditorSelection.range(tt.value.from,tt.value.to))}return b(k.update({selection:EditorSelection.create(_e,et),userEvent:"select.search.matches"})),!0},replaceNext=searchCommand((k,{query:b})=>{let{state:_}=k,{from:$,to:j}=_.selection.main;if(_.readOnly)return!1;let _e=b.nextMatch(_,$,$);if(!_e)return!1;let et=[],tt,nt,it=[];if(_e.from==$&&_e.to==j&&(nt=_.toText(b.getReplacement(_e)),et.push({from:_e.from,to:_e.to,insert:nt}),_e=b.nextMatch(_,_e.from,_e.to),it.push(EditorView.announce.of(_.phrase("replaced match on line $",_.doc.lineAt($).number)+"."))),_e){let rt=et.length==0||et[0].from>=_e.to?0:_e.to-_e.from-nt.length;tt={anchor:_e.from-rt,head:_e.to-rt},it.push(announceMatch(k,_e))}return k.dispatch({changes:et,selection:tt,scrollIntoView:!!tt,effects:it,userEvent:"input.replace"}),!0}),replaceAll=searchCommand((k,{query:b})=>{if(k.state.readOnly)return!1;let _=b.matchAll(k.state,1e9).map(j=>{let{from:_e,to:et}=j;return{from:_e,to:et,insert:b.getReplacement(j)}});if(!_.length)return!1;let $=k.state.phrase("replaced $ matches",_.length)+".";return k.dispatch({changes:_,effects:EditorView.announce.of($),userEvent:"input.replace.all"}),!0});function createSearchPanel(k){return k.state.facet(searchConfigFacet).createPanel(k)}function defaultQuery(k,b){var _,$,j,_e;let et=k.selection.main,tt=et.empty||et.to>et.from+100?"":k.sliceDoc(et.from,et.to);if(b&&!tt)return b;let nt=k.facet(searchConfigFacet);return new SearchQuery({search:((_=b==null?void 0:b.literal)!==null&&_!==void 0?_:nt.literal)?tt:tt.replace(/\n/g,"\\n"),caseSensitive:($=b==null?void 0:b.caseSensitive)!==null&&$!==void 0?$:nt.caseSensitive,literal:(j=b==null?void 0:b.literal)!==null&&j!==void 0?j:nt.literal,wholeWord:(_e=b==null?void 0:b.wholeWord)!==null&&_e!==void 0?_e:nt.wholeWord})}const openSearchPanel=k=>{let b=k.state.field(searchState,!1);if(b&&b.panel){let _=getPanel(k,createSearchPanel);if(!_)return!1;let $=_.dom.querySelector("[main-field]");if($&&$!=k.root.activeElement){let j=defaultQuery(k.state,b.query.spec);j.valid&&k.dispatch({effects:setSearchQuery.of(j)}),$.focus(),$.select()}}else k.dispatch({effects:[togglePanel$1.of(!0),b?setSearchQuery.of(defaultQuery(k.state,b.query.spec)):StateEffect.appendConfig.of(searchExtensions)]});return!0},closeSearchPanel=k=>{let b=k.state.field(searchState,!1);if(!b||!b.panel)return!1;let _=getPanel(k,createSearchPanel);return _&&_.dom.contains(k.root.activeElement)&&k.focus(),k.dispatch({effects:togglePanel$1.of(!1)}),!0},searchKeymap=[{key:"Mod-f",run:openSearchPanel,scope:"editor search-panel"},{key:"F3",run:findNext,shift:findPrevious,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:findNext,shift:findPrevious,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:closeSearchPanel,scope:"editor search-panel"},{key:"Mod-Shift-l",run:selectSelectionMatches},{key:"Alt-g",run:gotoLine},{key:"Mod-d",run:selectNextOccurrence,preventDefault:!0}];class SearchPanel{constructor(b){this.view=b;let _=this.query=b.state.field(searchState).query.spec;this.commit=this.commit.bind(this),this.searchField=crelt("input",{value:_.search,placeholder:phrase(b,"Find"),"aria-label":phrase(b,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=crelt("input",{value:_.replace,placeholder:phrase(b,"Replace"),"aria-label":phrase(b,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=crelt("input",{type:"checkbox",name:"case",form:"",checked:_.caseSensitive,onchange:this.commit}),this.reField=crelt("input",{type:"checkbox",name:"re",form:"",checked:_.regexp,onchange:this.commit}),this.wordField=crelt("input",{type:"checkbox",name:"word",form:"",checked:_.wholeWord,onchange:this.commit});function $(j,_e,et){return crelt("button",{class:"cm-button",name:j,onclick:_e,type:"button"},et)}this.dom=crelt("div",{onkeydown:j=>this.keydown(j),class:"cm-search"},[this.searchField,$("next",()=>findNext(b),[phrase(b,"next")]),$("prev",()=>findPrevious(b),[phrase(b,"previous")]),$("select",()=>selectMatches(b),[phrase(b,"all")]),crelt("label",null,[this.caseField,phrase(b,"match case")]),crelt("label",null,[this.reField,phrase(b,"regexp")]),crelt("label",null,[this.wordField,phrase(b,"by word")]),...b.state.readOnly?[]:[crelt("br"),this.replaceField,$("replace",()=>replaceNext(b),[phrase(b,"replace")]),$("replaceAll",()=>replaceAll(b),[phrase(b,"replace all")]),crelt("button",{name:"close",onclick:()=>closeSearchPanel(b),"aria-label":phrase(b,"close"),type:"button"},["\xD7"])]])}commit(){let b=new SearchQuery({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});b.eq(this.query)||(this.query=b,this.view.dispatch({effects:setSearchQuery.of(b)}))}keydown(b){runScopeHandlers(this.view,b,"search-panel")?b.preventDefault():b.keyCode==13&&b.target==this.searchField?(b.preventDefault(),(b.shiftKey?findPrevious:findNext)(this.view)):b.keyCode==13&&b.target==this.replaceField&&(b.preventDefault(),replaceNext(this.view))}update(b){for(let _ of b.transactions)for(let $ of _.effects)$.is(setSearchQuery)&&!$.value.eq(this.query)&&this.setQuery($.value)}setQuery(b){this.query=b,this.searchField.value=b.search,this.replaceField.value=b.replace,this.caseField.checked=b.caseSensitive,this.reField.checked=b.regexp,this.wordField.checked=b.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(searchConfigFacet).top}}function phrase(k,b){return k.state.phrase(b)}const AnnounceMargin=30,Break=/[\s\.,:;?!]/;function announceMatch(k,{from:b,to:_}){let $=k.state.doc.lineAt(b),j=k.state.doc.lineAt(_).to,_e=Math.max($.from,b-AnnounceMargin),et=Math.min(j,_+AnnounceMargin),tt=k.state.sliceDoc(_e,et);if(_e!=$.from){for(let nt=0;nt<AnnounceMargin;nt++)if(!Break.test(tt[nt+1])&&Break.test(tt[nt])){tt=tt.slice(nt);break}}if(et!=j){for(let nt=tt.length-1;nt>tt.length-AnnounceMargin;nt--)if(!Break.test(tt[nt-1])&&Break.test(tt[nt])){tt=tt.slice(0,nt);break}}return EditorView.announce.of(`${k.state.phrase("current match")}. ${tt} ${k.state.phrase("on line")} ${$.number}.`)}const baseTheme$2=EditorView.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),searchExtensions=[searchState,Prec.lowest(searchHighlighter),baseTheme$2];class CompletionContext{constructor(b,_,$){this.state=b,this.pos=_,this.explicit=$,this.abortListeners=[]}tokenBefore(b){let _=syntaxTree(this.state).resolveInner(this.pos,-1);for(;_&&b.indexOf(_.name)<0;)_=_.parent;return _?{from:_.from,to:this.pos,text:this.state.sliceDoc(_.from,this.pos),type:_.type}:null}matchBefore(b){let _=this.state.doc.lineAt(this.pos),$=Math.max(_.from,this.pos-250),j=_.text.slice($-_.from,this.pos-_.from),_e=j.search(ensureAnchor(b,!1));return _e<0?null:{from:$+_e,to:this.pos,text:j.slice(_e)}}get aborted(){return this.abortListeners==null}addEventListener(b,_){b=="abort"&&this.abortListeners&&this.abortListeners.push(_)}}function toSet(k){let b=Object.keys(k).join(""),_=/\w/.test(b);return _&&(b=b.replace(/\w/g,"")),`[${_?"\\w":""}${b.replace(/[^\w\s]/g,"\\$&")}]`}function prefixMatch(k){let b=Object.create(null),_=Object.create(null);for(let{label:j}of k){b[j[0]]=!0;for(let _e=1;_e<j.length;_e++)_[j[_e]]=!0}let $=toSet(b)+toSet(_)+"*$";return[new RegExp("^"+$),new RegExp($)]}function completeFromList(k){let b=k.map(j=>typeof j=="string"?{label:j}:j),[_,$]=b.every(j=>/^\w+$/.test(j.label))?[/\w*$/,/\w+$/]:prefixMatch(b);return j=>{let _e=j.matchBefore($);return _e||j.explicit?{from:_e?_e.from:j.pos,options:b,validFor:_}:null}}function ifNotIn(k,b){return _=>{for(let $=syntaxTree(_.state).resolveInner(_.pos,-1);$;$=$.parent)if(k.indexOf($.name)>-1)return null;return b(_)}}class Option{constructor(b,_,$){this.completion=b,this.source=_,this.match=$}}function cur(k){return k.selection.main.head}function ensureAnchor(k,b){var _;let{source:$}=k,j=b&&$[0]!="^",_e=$[$.length-1]!="$";return!j&&!_e?k:new RegExp(`${j?"^":""}(?:${$})${_e?"$":""}`,(_=k.flags)!==null&&_!==void 0?_:k.ignoreCase?"i":"")}function insertCompletionText(k,b,_,$){return Object.assign(Object.assign({},k.changeByRange(j=>{if(j==k.selection.main)return{changes:{from:_,to:$,insert:b},range:EditorSelection.cursor(_+b.length)};let _e=$-_;return!j.empty||_e&&k.sliceDoc(j.from-_e,j.from)!=k.sliceDoc(_,$)?{range:j}:{changes:{from:j.from-_e,to:j.from,insert:b},range:EditorSelection.cursor(j.from-_e+b.length)}})),{userEvent:"input.complete"})}function applyCompletion(k,b){const _=b.completion.apply||b.completion.label;let $=b.source;typeof _=="string"?k.dispatch(insertCompletionText(k.state,_,$.from,$.to)):_(k,b.completion,$.from,$.to)}const SourceCache=new WeakMap;function asSource(k){if(!Array.isArray(k))return k;let b=SourceCache.get(k);return b||SourceCache.set(k,b=completeFromList(k)),b}class FuzzyMatcher{constructor(b){this.pattern=b,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(let _=0;_<b.length;){let $=codePointAt(b,_),j=codePointSize($);this.chars.push($);let _e=b.slice(_,_+j),et=_e.toUpperCase();this.folded.push(codePointAt(et==_e?_e.toLowerCase():et,0)),_+=j}this.astral=b.length!=this.chars.length}match(b){if(this.pattern.length==0)return[0];if(b.length<this.pattern.length)return null;let{chars:_,folded:$,any:j,precise:_e,byWord:et}=this;if(_.length==1){let mt=codePointAt(b,0);return mt==_[0]?[0,0,codePointSize(mt)]:mt==$[0]?[-200,0,codePointSize(mt)]:null}let tt=b.indexOf(this.pattern);if(tt==0)return[0,0,this.pattern.length];let nt=_.length,it=0;if(tt<0){for(let mt=0,wt=Math.min(b.length,200);mt<wt&&it<nt;){let gt=codePointAt(b,mt);(gt==_[it]||gt==$[it])&&(j[it++]=mt),mt+=codePointSize(gt)}if(it<nt)return null}let rt=0,st=0,ot=!1,ut=0,lt=-1,ft=-1,ct=/[a-z]/.test(b),pt=!0;for(let mt=0,wt=Math.min(b.length,200),gt=0;mt<wt&&st<nt;){let vt=codePointAt(b,mt);tt<0&&(rt<nt&&vt==_[rt]&&(_e[rt++]=mt),ut<nt&&(vt==_[ut]||vt==$[ut]?(ut==0&&(lt=mt),ft=mt+1,ut++):ut=0));let bt,Ct=vt<255?vt>=48&&vt<=57||vt>=97&&vt<=122?2:vt>=65&&vt<=90?1:0:(bt=fromCodePoint(vt))!=bt.toLowerCase()?1:bt!=bt.toUpperCase()?2:0;(!mt||Ct==1&&ct||gt==0&&Ct!=0)&&(_[st]==vt||$[st]==vt&&(ot=!0)?et[st++]=mt:et.length&&(pt=!1)),gt=Ct,mt+=codePointSize(vt)}return st==nt&&et[0]==0&&pt?this.result(-100+(ot?-200:0),et,b):ut==nt&&lt==0?[-200-b.length,0,ft]:tt>-1?[-700-b.length,tt,tt+this.pattern.length]:ut==nt?[-200+-700-b.length,lt,ft]:st==nt?this.result(-100+(ot?-200:0)+-700+(pt?0:-1100),et,b):_.length==2?null:this.result((j[0]?-700:0)+-200+-1100,j,b)}result(b,_,$){let j=[b-$.length],_e=1;for(let et of _){let tt=et+(this.astral?codePointSize(codePointAt($,et)):1);_e>1&&j[_e-1]==et?j[_e-1]=tt:(j[_e++]=et,j[_e++]=tt)}return j}}const completionConfig=Facet.define({combine(k){return combineConfig(k,{activateOnTyping:!0,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],compareCompletions:(b,_)=>b.label.localeCompare(_.label)},{defaultKeymap:(b,_)=>b&&_,closeOnBlur:(b,_)=>b&&_,icons:(b,_)=>b&&_,optionClass:(b,_)=>$=>joinClass(b($),_($)),addToOptions:(b,_)=>b.concat(_)})}});function joinClass(k,b){return k?b?k+" "+b:k:b}function optionContent(k){let b=k.addToOptions.slice();return k.icons&&b.push({render(_){let $=document.createElement("div");return $.classList.add("cm-completionIcon"),_.type&&$.classList.add(..._.type.split(/\s+/g).map(j=>"cm-completionIcon-"+j)),$.setAttribute("aria-hidden","true"),$},position:20}),b.push({render(_,$,j){let _e=document.createElement("span");_e.className="cm-completionLabel";let{label:et}=_,tt=0;for(let nt=1;nt<j.length;){let it=j[nt++],rt=j[nt++];it>tt&&_e.appendChild(document.createTextNode(et.slice(tt,it)));let st=_e.appendChild(document.createElement("span"));st.appendChild(document.createTextNode(et.slice(it,rt))),st.className="cm-completionMatchedText",tt=rt}return tt<et.length&&_e.appendChild(document.createTextNode(et.slice(tt))),_e},position:50},{render(_){if(!_.detail)return null;let $=document.createElement("span");return $.className="cm-completionDetail",$.textContent=_.detail,$},position:80}),b.sort((_,$)=>_.position-$.position).map(_=>_.render)}function rangeAroundSelected(k,b,_){if(k<=_)return{from:0,to:k};if(b<0&&(b=0),b<=k>>1){let j=Math.floor(b/_);return{from:j*_,to:(j+1)*_}}let $=Math.floor((k-b)/_);return{from:k-($+1)*_,to:k-$*_}}class CompletionTooltip{constructor(b,_){this.view=b,this.stateField=_,this.info=null,this.placeInfo={read:()=>this.measureInfo(),write:tt=>this.positionInfo(tt),key:this};let $=b.state.field(_),{options:j,selected:_e}=$.open,et=b.state.facet(completionConfig);this.optionContent=optionContent(et),this.optionClass=et.optionClass,this.range=rangeAroundSelected(j.length,_e,et.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.dom.addEventListener("mousedown",tt=>{for(let nt=tt.target,it;nt&&nt!=this.dom;nt=nt.parentNode)if(nt.nodeName=="LI"&&(it=/-(\d+)$/.exec(nt.id))&&+it[1]<j.length){applyCompletion(b,j[+it[1]]),tt.preventDefault();return}}),this.list=this.dom.appendChild(this.createListBox(j,$.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfo)})}mount(){this.updateSel()}update(b){b.state.field(this.stateField)!=b.startState.field(this.stateField)&&this.updateSel()}positioned(){this.info&&this.view.requestMeasure(this.placeInfo)}updateSel(){let b=this.view.state.field(this.stateField),_=b.open;if((_.selected<this.range.from||_.selected>=this.range.to)&&(this.range=rangeAroundSelected(_.options.length,_.selected,this.view.state.facet(completionConfig).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(_.options,b.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfo)})),this.updateSelectedOption(_.selected)){this.info&&(this.info.remove(),this.info=null);let{completion:$}=_.options[_.selected],{info:j}=$;if(!j)return;let _e=typeof j=="string"?document.createTextNode(j):j($);if(!_e)return;"then"in _e?_e.then(et=>{et&&this.view.state.field(this.stateField,!1)==b&&this.addInfoPane(et)}).catch(et=>logException(this.view.state,et,"completion info")):this.addInfoPane(_e)}}addInfoPane(b){let _=this.info=document.createElement("div");_.className="cm-tooltip cm-completionInfo",_.appendChild(b),this.dom.appendChild(_),this.view.requestMeasure(this.placeInfo)}updateSelectedOption(b){let _=null;for(let $=this.list.firstChild,j=this.range.from;$;$=$.nextSibling,j++)j==b?$.hasAttribute("aria-selected")||($.setAttribute("aria-selected","true"),_=$):$.hasAttribute("aria-selected")&&$.removeAttribute("aria-selected");return _&&scrollIntoView(this.list,_),_}measureInfo(){let b=this.dom.querySelector("[aria-selected]");if(!b||!this.info)return null;let _=this.dom.getBoundingClientRect(),$=this.info.getBoundingClientRect(),j=b.getBoundingClientRect();if(j.top>Math.min(innerHeight,_.bottom)-10||j.bottom<Math.max(0,_.top)+10)return null;let _e=Math.max(0,Math.min(j.top,innerHeight-$.height))-_.top,et=this.view.textDirection==Direction.RTL,tt=_.left,nt=innerWidth-_.right;return et&&tt<Math.min($.width,nt)?et=!1:!et&&nt<Math.min($.width,tt)&&(et=!0),{top:_e,left:et}}positionInfo(b){this.info&&(this.info.style.top=(b?b.top:-1e6)+"px",b&&(this.info.classList.toggle("cm-completionInfo-left",b.left),this.info.classList.toggle("cm-completionInfo-right",!b.left)))}createListBox(b,_,$){const j=document.createElement("ul");j.id=_,j.setAttribute("role","listbox"),j.setAttribute("aria-expanded","true"),j.setAttribute("aria-label",this.view.state.phrase("Completions"));for(let _e=$.from;_e<$.to;_e++){let{completion:et,match:tt}=b[_e];const nt=j.appendChild(document.createElement("li"));nt.id=_+"-"+_e,nt.setAttribute("role","option");let it=this.optionClass(et);it&&(nt.className=it);for(let rt of this.optionContent){let st=rt(et,this.view.state,tt);st&&nt.appendChild(st)}}return $.from&&j.classList.add("cm-completionListIncompleteTop"),$.to<b.length&&j.classList.add("cm-completionListIncompleteBottom"),j}}function completionTooltip(k){return b=>new CompletionTooltip(b,k)}function scrollIntoView(k,b){let _=k.getBoundingClientRect(),$=b.getBoundingClientRect();$.top<_.top?k.scrollTop-=_.top-$.top:$.bottom>_.bottom&&(k.scrollTop+=$.bottom-_.bottom)}function score(k){return(k.boost||0)*100+(k.apply?10:0)+(k.info?5:0)+(k.type?1:0)}function sortOptions(k,b){let _=[],$=0;for(let tt of k)if(tt.hasResult())if(tt.result.filter===!1){let nt=tt.result.getMatch;for(let it of tt.result.options){let rt=[1e9-$++];if(nt)for(let st of nt(it))rt.push(st);_.push(new Option(it,tt,rt))}}else{let nt=new FuzzyMatcher(b.sliceDoc(tt.from,tt.to)),it;for(let rt of tt.result.options)(it=nt.match(rt.label))&&(rt.boost!=null&&(it[0]+=rt.boost),_.push(new Option(rt,tt,it)))}let j=[],_e=null,et=b.facet(completionConfig).compareCompletions;for(let tt of _.sort((nt,it)=>it.match[0]-nt.match[0]||et(nt.completion,it.completion)))!_e||_e.label!=tt.completion.label||_e.detail!=tt.completion.detail||_e.type!=null&&tt.completion.type!=null&&_e.type!=tt.completion.type||_e.apply!=tt.completion.apply?j.push(tt):score(tt.completion)>score(_e)&&(j[j.length-1]=tt),_e=tt.completion;return j}class CompletionDialog{constructor(b,_,$,j,_e){this.options=b,this.attrs=_,this.tooltip=$,this.timestamp=j,this.selected=_e}setSelected(b,_){return b==this.selected||b>=this.options.length?this:new CompletionDialog(this.options,makeAttrs(_,b),this.tooltip,this.timestamp,b)}static build(b,_,$,j,_e){let et=sortOptions(b,_);if(!et.length)return null;let tt=_.facet(completionConfig).selectOnOpen?0:-1;if(j&&j.selected!=tt&&j.selected!=-1){let nt=j.options[j.selected].completion;for(let it=0;it<et.length;it++)if(et[it].completion==nt){tt=it;break}}return new CompletionDialog(et,makeAttrs($,tt),{pos:b.reduce((nt,it)=>it.hasResult()?Math.min(nt,it.from):nt,1e8),create:completionTooltip(completionState),above:_e.aboveCursor},j?j.timestamp:Date.now(),tt)}map(b){return new CompletionDialog(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:b.mapPos(this.tooltip.pos)}),this.timestamp,this.selected)}}class CompletionState{constructor(b,_,$){this.active=b,this.id=_,this.open=$}static start(){return new CompletionState(none,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(b){let{state:_}=b,$=_.facet(completionConfig),_e=($.override||_.languageDataAt("autocomplete",cur(_)).map(asSource)).map(tt=>(this.active.find(it=>it.source==tt)||new ActiveSource(tt,this.active.some(it=>it.state!=0)?1:0)).update(b,$));_e.length==this.active.length&&_e.every((tt,nt)=>tt==this.active[nt])&&(_e=this.active);let et=b.selection||_e.some(tt=>tt.hasResult()&&b.changes.touchesRange(tt.from,tt.to))||!sameResults(_e,this.active)?CompletionDialog.build(_e,_,this.id,this.open,$):this.open&&b.docChanged?this.open.map(b.changes):this.open;!et&&_e.every(tt=>tt.state!=1)&&_e.some(tt=>tt.hasResult())&&(_e=_e.map(tt=>tt.hasResult()?new ActiveSource(tt.source,0):tt));for(let tt of b.effects)tt.is(setSelectedEffect)&&(et=et&&et.setSelected(tt.value,this.id));return _e==this.active&&et==this.open?this:new CompletionState(_e,this.id,et)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:baseAttrs}}function sameResults(k,b){if(k==b)return!0;for(let _=0,$=0;;){for(;_<k.length&&!k[_].hasResult;)_++;for(;$<b.length&&!b[$].hasResult;)$++;let j=_==k.length,_e=$==b.length;if(j||_e)return j==_e;if(k[_++].result!=b[$++].result)return!1}}const baseAttrs={"aria-autocomplete":"list"};function makeAttrs(k,b){let _={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":k};return b>-1&&(_["aria-activedescendant"]=k+"-"+b),_}const none=[];function getUserEvent(k){return k.isUserEvent("input.type")?"input":k.isUserEvent("delete.backward")?"delete":null}class ActiveSource{constructor(b,_,$=-1){this.source=b,this.state=_,this.explicitPos=$}hasResult(){return!1}update(b,_){let $=getUserEvent(b),j=this;$?j=j.handleUserEvent(b,$,_):b.docChanged?j=j.handleChange(b):b.selection&&j.state!=0&&(j=new ActiveSource(j.source,0));for(let _e of b.effects)if(_e.is(startCompletionEffect))j=new ActiveSource(j.source,1,_e.value?cur(b.state):-1);else if(_e.is(closeCompletionEffect))j=new ActiveSource(j.source,0);else if(_e.is(setActiveEffect))for(let et of _e.value)et.source==j.source&&(j=et);return j}handleUserEvent(b,_,$){return _=="delete"||!$.activateOnTyping?this.map(b.changes):new ActiveSource(this.source,1)}handleChange(b){return b.changes.touchesRange(cur(b.startState))?new ActiveSource(this.source,0):this.map(b.changes)}map(b){return b.empty||this.explicitPos<0?this:new ActiveSource(this.source,this.state,b.mapPos(this.explicitPos))}}class ActiveResult extends ActiveSource{constructor(b,_,$,j,_e){super(b,2,_),this.result=$,this.from=j,this.to=_e}hasResult(){return!0}handleUserEvent(b,_,$){var j;let _e=b.changes.mapPos(this.from),et=b.changes.mapPos(this.to,1),tt=cur(b.state);if((this.explicitPos<0?tt<=_e:tt<this.from)||tt>et||_=="delete"&&cur(b.startState)==this.from)return new ActiveSource(this.source,_=="input"&&$.activateOnTyping?1:0);let nt=this.explicitPos<0?-1:b.changes.mapPos(this.explicitPos),it;return checkValid(this.result.validFor,b.state,_e,et)?new ActiveResult(this.source,nt,this.result,_e,et):this.result.update&&(it=this.result.update(this.result,_e,et,new CompletionContext(b.state,tt,nt>=0)))?new ActiveResult(this.source,nt,it,it.from,(j=it.to)!==null&&j!==void 0?j:cur(b.state)):new ActiveSource(this.source,1,nt)}handleChange(b){return b.changes.touchesRange(this.from,this.to)?new ActiveSource(this.source,0):this.map(b.changes)}map(b){return b.empty?this:new ActiveResult(this.source,this.explicitPos<0?-1:b.mapPos(this.explicitPos),this.result,b.mapPos(this.from),b.mapPos(this.to,1))}}function checkValid(k,b,_,$){if(!k)return!1;let j=b.sliceDoc(_,$);return typeof k=="function"?k(j,_,$,b):ensureAnchor(k,!0).test(j)}const startCompletionEffect=StateEffect.define(),closeCompletionEffect=StateEffect.define(),setActiveEffect=StateEffect.define({map(k,b){return k.map(_=>_.map(b))}}),setSelectedEffect=StateEffect.define(),completionState=StateField.define({create(){return CompletionState.start()},update(k,b){return k.update(b)},provide:k=>[showTooltip.from(k,b=>b.tooltip),EditorView.contentAttributes.from(k,b=>b.attrs)]}),CompletionInteractMargin=75;function moveCompletionSelection(k,b="option"){return _=>{let $=_.state.field(completionState,!1);if(!$||!$.open||Date.now()-$.open.timestamp<CompletionInteractMargin)return!1;let j=1,_e;b=="page"&&(_e=getTooltip(_,$.open.tooltip))&&(j=Math.max(2,Math.floor(_e.dom.offsetHeight/_e.dom.querySelector("li").offsetHeight)-1));let{length:et}=$.open.options,tt=$.open.selected>-1?$.open.selected+j*(k?1:-1):k?0:et-1;return tt<0?tt=b=="page"?0:et-1:tt>=et&&(tt=b=="page"?et-1:0),_.dispatch({effects:setSelectedEffect.of(tt)}),!0}}const acceptCompletion=k=>{let b=k.state.field(completionState,!1);return k.state.readOnly||!b||!b.open||Date.now()-b.open.timestamp<CompletionInteractMargin||b.open.selected<0?!1:(applyCompletion(k,b.open.options[b.open.selected]),!0)},startCompletion=k=>k.state.field(completionState,!1)?(k.dispatch({effects:startCompletionEffect.of(!0)}),!0):!1,closeCompletion=k=>{let b=k.state.field(completionState,!1);return!b||!b.active.some(_=>_.state!=0)?!1:(k.dispatch({effects:closeCompletionEffect.of(null)}),!0)};class RunningQuery{constructor(b,_){this.active=b,this.context=_,this.time=Date.now(),this.updates=[],this.done=void 0}}const DebounceTime=50,MaxUpdateCount=50,MinAbortTime=1e3,completionPlugin=ViewPlugin.fromClass(class{constructor(k){this.view=k,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let b of k.state.field(completionState).active)b.state==1&&this.startQuery(b)}update(k){let b=k.state.field(completionState);if(!k.selectionSet&&!k.docChanged&&k.startState.field(completionState)==b)return;let _=k.transactions.some($=>($.selection||$.docChanged)&&!getUserEvent($));for(let $=0;$<this.running.length;$++){let j=this.running[$];if(_||j.updates.length+k.transactions.length>MaxUpdateCount&&Date.now()-j.time>MinAbortTime){for(let _e of j.context.abortListeners)try{_e()}catch(et){logException(this.view.state,et)}j.context.abortListeners=null,this.running.splice($--,1)}else j.updates.push(...k.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=b.active.some($=>$.state==1&&!this.running.some(j=>j.active.source==$.source))?setTimeout(()=>this.startUpdate(),DebounceTime):-1,this.composing!=0)for(let $ of k.transactions)getUserEvent($)=="input"?this.composing=2:this.composing==2&&$.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:k}=this.view,b=k.field(completionState);for(let _ of b.active)_.state==1&&!this.running.some($=>$.active.source==_.source)&&this.startQuery(_)}startQuery(k){let{state:b}=this.view,_=cur(b),$=new CompletionContext(b,_,k.explicitPos==_),j=new RunningQuery(k,$);this.running.push(j),Promise.resolve(k.source($)).then(_e=>{j.context.aborted||(j.done=_e||null,this.scheduleAccept())},_e=>{this.view.dispatch({effects:closeCompletionEffect.of(null)}),logException(this.view.state,_e)})}scheduleAccept(){this.running.every(k=>k.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),DebounceTime))}accept(){var k;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let b=[],_=this.view.state.facet(completionConfig);for(let $=0;$<this.running.length;$++){let j=this.running[$];if(j.done===void 0)continue;if(this.running.splice($--,1),j.done){let et=new ActiveResult(j.active.source,j.active.explicitPos,j.done,j.done.from,(k=j.done.to)!==null&&k!==void 0?k:cur(j.updates.length?j.updates[0].startState:this.view.state));for(let tt of j.updates)et=et.update(tt,_);if(et.hasResult()){b.push(et);continue}}let _e=this.view.state.field(completionState).active.find(et=>et.source==j.active.source);if(_e&&_e.state==1)if(j.done==null){let et=new ActiveSource(j.active.source,0);for(let tt of j.updates)et=et.update(tt,_);et.state!=1&&b.push(et)}else this.startQuery(_e)}b.length&&this.view.dispatch({effects:setActiveEffect.of(b)})}},{eventHandlers:{blur(){let k=this.view.state.field(completionState,!1);k&&k.tooltip&&this.view.state.facet(completionConfig).closeOnBlur&&this.view.dispatch({effects:closeCompletionEffect.of(null)})},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:startCompletionEffect.of(!1)}),20),this.composing=0}}}),baseTheme$1=EditorView.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",listStyle:"none",margin:0,padding:0,"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer",padding:"1px 3px",lineHeight:1.2}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xB7\xB7\xB7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"300px"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25CB'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25CC'"}},".cm-completionIcon-variable":{"&:after":{content:"'\u{1D465}'"}},".cm-completionIcon-constant":{"&:after":{content:"'\u{1D436}'"}},".cm-completionIcon-type":{"&:after":{content:"'\u{1D461}'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222A'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25A1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\u{1F511}\uFE0E'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25A2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class FieldPos{constructor(b,_,$,j){this.field=b,this.line=_,this.from=$,this.to=j}}class FieldRange{constructor(b,_,$){this.field=b,this.from=_,this.to=$}map(b){let _=b.mapPos(this.from,-1,MapMode.TrackDel),$=b.mapPos(this.to,1,MapMode.TrackDel);return _==null||$==null?null:new FieldRange(this.field,_,$)}}class Snippet{constructor(b,_){this.lines=b,this.fieldPositions=_}instantiate(b,_){let $=[],j=[_],_e=b.doc.lineAt(_),et=/^\s*/.exec(_e.text)[0];for(let nt of this.lines){if($.length){let it=et,rt=/^\t*/.exec(nt)[0].length;for(let st=0;st<rt;st++)it+=b.facet(indentUnit);j.push(_+it.length-rt),nt=it+nt.slice(rt)}$.push(nt),_+=nt.length+1}let tt=this.fieldPositions.map(nt=>new FieldRange(nt.field,j[nt.line]+nt.from,j[nt.line]+nt.to));return{text:$,ranges:tt}}static parse(b){let _=[],$=[],j=[],_e;for(let et of b.split(/\r\n?|\n/)){for(;_e=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(et);){let tt=_e[1]?+_e[1]:null,nt=_e[2]||_e[3]||"",it=-1;for(let rt=0;rt<_.length;rt++)(tt!=null?_[rt].seq==tt:nt?_[rt].name==nt:!1)&&(it=rt);if(it<0){let rt=0;for(;rt<_.length&&(tt==null||_[rt].seq!=null&&_[rt].seq<tt);)rt++;_.splice(rt,0,{seq:tt,name:nt}),it=rt;for(let st of j)st.field>=it&&st.field++}j.push(new FieldPos(it,$.length,_e.index,_e.index+nt.length)),et=et.slice(0,_e.index)+nt+et.slice(_e.index+_e[0].length)}for(let tt;tt=/([$#])\\{/.exec(et);){et=et.slice(0,tt.index)+tt[1]+"{"+et.slice(tt.index+tt[0].length);for(let nt of j)nt.line==$.length&&nt.from>tt.index&&(nt.from--,nt.to--)}$.push(et)}return new Snippet($,j)}}let fieldMarker=Decoration.widget({widget:new class extends WidgetType{toDOM(){let k=document.createElement("span");return k.className="cm-snippetFieldPosition",k}ignoreEvent(){return!1}}}),fieldRange=Decoration.mark({class:"cm-snippetField"});class ActiveSnippet{constructor(b,_){this.ranges=b,this.active=_,this.deco=Decoration.set(b.map($=>($.from==$.to?fieldMarker:fieldRange).range($.from,$.to)))}map(b){let _=[];for(let $ of this.ranges){let j=$.map(b);if(!j)return null;_.push(j)}return new ActiveSnippet(_,this.active)}selectionInsideField(b){return b.ranges.every(_=>this.ranges.some($=>$.field==this.active&&$.from<=_.from&&$.to>=_.to))}}const setActive=StateEffect.define({map(k,b){return k&&k.map(b)}}),moveToField=StateEffect.define(),snippetState=StateField.define({create(){return null},update(k,b){for(let _ of b.effects){if(_.is(setActive))return _.value;if(_.is(moveToField)&&k)return new ActiveSnippet(k.ranges,_.value)}return k&&b.docChanged&&(k=k.map(b.changes)),k&&b.selection&&!k.selectionInsideField(b.selection)&&(k=null),k},provide:k=>EditorView.decorations.from(k,b=>b?b.deco:Decoration.none)});function fieldSelection(k,b){return EditorSelection.create(k.filter(_=>_.field==b).map(_=>EditorSelection.range(_.from,_.to)))}function snippet(k){let b=Snippet.parse(k);return(_,$,j,_e)=>{let{text:et,ranges:tt}=b.instantiate(_.state,j),nt={changes:{from:j,to:_e,insert:Text.of(et)},scrollIntoView:!0};if(tt.length&&(nt.selection=fieldSelection(tt,0)),tt.length>1){let it=new ActiveSnippet(tt,0),rt=nt.effects=[setActive.of(it)];_.state.field(snippetState,!1)===void 0&&rt.push(StateEffect.appendConfig.of([snippetState,addSnippetKeymap,snippetPointerHandler,baseTheme$1]))}_.dispatch(_.state.update(nt))}}function moveField(k){return({state:b,dispatch:_})=>{let $=b.field(snippetState,!1);if(!$||k<0&&$.active==0)return!1;let j=$.active+k,_e=k>0&&!$.ranges.some(et=>et.field==j+k);return _(b.update({selection:fieldSelection($.ranges,j),effects:setActive.of(_e?null:new ActiveSnippet($.ranges,j))})),!0}}const clearSnippet=({state:k,dispatch:b})=>k.field(snippetState,!1)?(b(k.update({effects:setActive.of(null)})),!0):!1,nextSnippetField=moveField(1),prevSnippetField=moveField(-1),defaultSnippetKeymap=[{key:"Tab",run:nextSnippetField,shift:prevSnippetField},{key:"Escape",run:clearSnippet}],snippetKeymap=Facet.define({combine(k){return k.length?k[0]:defaultSnippetKeymap}}),addSnippetKeymap=Prec.highest(keymap.compute([snippetKeymap],k=>k.facet(snippetKeymap)));function snippetCompletion(k,b){return Object.assign(Object.assign({},b),{apply:snippet(k)})}const snippetPointerHandler=EditorView.domEventHandlers({mousedown(k,b){let _=b.state.field(snippetState,!1),$;if(!_||($=b.posAtCoords({x:k.clientX,y:k.clientY}))==null)return!1;let j=_.ranges.find(_e=>_e.from<=$&&_e.to>=$);return!j||j.field==_.active?!1:(b.dispatch({selection:fieldSelection(_.ranges,j.field),effects:setActive.of(_.ranges.some(_e=>_e.field>j.field)?new ActiveSnippet(_.ranges,j.field):null)}),!0)}}),defaults={brackets:["(","[","{","'",'"'],before:")]}:;>"},closeBracketEffect=StateEffect.define({map(k,b){let _=b.mapPos(k,-1,MapMode.TrackAfter);return _==null?void 0:_}}),skipBracketEffect=StateEffect.define({map(k,b){return b.mapPos(k)}}),closedBracket=new class extends RangeValue{};closedBracket.startSide=1;closedBracket.endSide=-1;const bracketState=StateField.define({create(){return RangeSet.empty},update(k,b){if(b.selection){let _=b.state.doc.lineAt(b.selection.main.head).from,$=b.startState.doc.lineAt(b.startState.selection.main.head).from;_!=b.changes.mapPos($,-1)&&(k=RangeSet.empty)}k=k.map(b.changes);for(let _ of b.effects)_.is(closeBracketEffect)?k=k.update({add:[closedBracket.range(_.value,_.value+1)]}):_.is(skipBracketEffect)&&(k=k.update({filter:$=>$!=_.value}));return k}});function closeBrackets(){return[inputHandler,bracketState]}const definedClosing="()[]{}<>";function closing(k){for(let b=0;b<definedClosing.length;b+=2)if(definedClosing.charCodeAt(b)==k)return definedClosing.charAt(b+1);return fromCodePoint(k<128?k:k+1)}function config(k,b){return k.languageDataAt("closeBrackets",b)[0]||defaults}const android$1=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),inputHandler=EditorView.inputHandler.of((k,b,_,$)=>{if((android$1?k.composing:k.compositionStarted)||k.state.readOnly)return!1;let j=k.state.selection.main;if($.length>2||$.length==2&&codePointSize(codePointAt($,0))==1||b!=j.from||_!=j.to)return!1;let _e=insertBracket(k.state,$);return _e?(k.dispatch(_e),!0):!1}),deleteBracketPair=({state:k,dispatch:b})=>{if(k.readOnly)return!1;let $=config(k,k.selection.main.head).brackets||defaults.brackets,j=null,_e=k.changeByRange(et=>{if(et.empty){let tt=prevChar(k.doc,et.head);for(let nt of $)if(nt==tt&&nextChar(k.doc,et.head)==closing(codePointAt(nt,0)))return{changes:{from:et.head-nt.length,to:et.head+nt.length},range:EditorSelection.cursor(et.head-nt.length),userEvent:"delete.backward"}}return{range:j=et}});return j||b(k.update(_e,{scrollIntoView:!0})),!j},closeBracketsKeymap=[{key:"Backspace",run:deleteBracketPair}];function insertBracket(k,b){let _=config(k,k.selection.main.head),$=_.brackets||defaults.brackets;for(let j of $){let _e=closing(codePointAt(j,0));if(b==j)return _e==j?handleSame(k,j,$.indexOf(j+j+j)>-1):handleOpen(k,j,_e,_.before||defaults.before);if(b==_e&&closedBracketAt(k,k.selection.main.from))return handleClose(k,j,_e)}return null}function closedBracketAt(k,b){let _=!1;return k.field(bracketState).between(0,k.doc.length,$=>{$==b&&(_=!0)}),_}function nextChar(k,b){let _=k.sliceString(b,b+2);return _.slice(0,codePointSize(codePointAt(_,0)))}function prevChar(k,b){let _=k.sliceString(b-2,b);return codePointSize(codePointAt(_,0))==_.length?_:_.slice(1)}function handleOpen(k,b,_,$){let j=null,_e=k.changeByRange(et=>{if(!et.empty)return{changes:[{insert:b,from:et.from},{insert:_,from:et.to}],effects:closeBracketEffect.of(et.to+b.length),range:EditorSelection.range(et.anchor+b.length,et.head+b.length)};let tt=nextChar(k.doc,et.head);return!tt||/\s/.test(tt)||$.indexOf(tt)>-1?{changes:{insert:b+_,from:et.head},effects:closeBracketEffect.of(et.head+b.length),range:EditorSelection.cursor(et.head+b.length)}:{range:j=et}});return j?null:k.update(_e,{scrollIntoView:!0,userEvent:"input.type"})}function handleClose(k,b,_){let $=null,j=k.selection.ranges.map(_e=>_e.empty&&nextChar(k.doc,_e.head)==_?EditorSelection.cursor(_e.head+_.length):$=_e);return $?null:k.update({selection:EditorSelection.create(j,k.selection.mainIndex),scrollIntoView:!0,effects:k.selection.ranges.map(({from:_e})=>skipBracketEffect.of(_e))})}function handleSame(k,b,_){let $=null,j=k.changeByRange(_e=>{if(!_e.empty)return{changes:[{insert:b,from:_e.from},{insert:b,from:_e.to}],effects:closeBracketEffect.of(_e.to+b.length),range:EditorSelection.range(_e.anchor+b.length,_e.head+b.length)};let et=_e.head,tt=nextChar(k.doc,et);if(tt==b){if(nodeStart(k,et))return{changes:{insert:b+b,from:et},effects:closeBracketEffect.of(et+b.length),range:EditorSelection.cursor(et+b.length)};if(closedBracketAt(k,et)){let nt=_&&k.sliceDoc(et,et+b.length*3)==b+b+b;return{range:EditorSelection.cursor(et+b.length*(nt?3:1)),effects:skipBracketEffect.of(et)}}}else{if(_&&k.sliceDoc(et-2*b.length,et)==b+b&&nodeStart(k,et-2*b.length))return{changes:{insert:b+b+b+b,from:et},effects:closeBracketEffect.of(et+b.length),range:EditorSelection.cursor(et+b.length)};if(k.charCategorizer(et)(tt)!=CharCategory.Word){let nt=k.sliceDoc(et-1,et);if(nt!=b&&k.charCategorizer(et)(nt)!=CharCategory.Word&&!probablyInString(k,et,b))return{changes:{insert:b+b,from:et},effects:closeBracketEffect.of(et+b.length),range:EditorSelection.cursor(et+b.length)}}}return{range:$=_e}});return $?null:k.update(j,{scrollIntoView:!0,userEvent:"input.type"})}function nodeStart(k,b){let _=syntaxTree(k).resolveInner(b+1);return _.parent&&_.from==b}function probablyInString(k,b,_){let $=syntaxTree(k).resolveInner(b,-1);for(let j=0;j<5;j++){if(k.sliceDoc($.from,$.from+_.length)==_){let et=$.firstChild;for(;et&&et.from==$.from&&et.to-et.from>_.length;){if(k.sliceDoc(et.to-_.length,et.to)==_)return!1;et=et.firstChild}return!0}let _e=$.to==b&&$.parent;if(!_e)break;$=_e}return!1}function autocompletion(k={}){return[completionState,completionConfig.of(k),completionPlugin,completionKeymapExt,baseTheme$1]}const completionKeymap=[{key:"Ctrl-Space",run:startCompletion},{key:"Escape",run:closeCompletion},{key:"ArrowDown",run:moveCompletionSelection(!0)},{key:"ArrowUp",run:moveCompletionSelection(!1)},{key:"PageDown",run:moveCompletionSelection(!0,"page")},{key:"PageUp",run:moveCompletionSelection(!1,"page")},{key:"Enter",run:acceptCompletion}],completionKeymapExt=Prec.highest(keymap.computeN([completionConfig],k=>k.facet(completionConfig).defaultKeymap?[completionKeymap]:[]));class SelectedDiagnostic{constructor(b,_,$){this.from=b,this.to=_,this.diagnostic=$}}class LintState{constructor(b,_,$){this.diagnostics=b,this.panel=_,this.selected=$}static init(b,_,$){let j=b,_e=$.facet(lintConfig).markerFilter;_e&&(j=_e(j));let et=Decoration.set(j.map(tt=>tt.from==tt.to||tt.from==tt.to-1&&$.doc.lineAt(tt.from).to==tt.from?Decoration.widget({widget:new DiagnosticWidget(tt),diagnostic:tt}).range(tt.from):Decoration.mark({attributes:{class:"cm-lintRange cm-lintRange-"+tt.severity},diagnostic:tt}).range(tt.from,tt.to)),!0);return new LintState(et,_,findDiagnostic(et))}}function findDiagnostic(k,b=null,_=0){let $=null;return k.between(_,1e9,(j,_e,{spec:et})=>{if(!(b&&et.diagnostic!=b))return $=new SelectedDiagnostic(j,_e,et.diagnostic),!1}),$}function hideTooltip(k,b){return!!(k.effects.some(_=>_.is(setDiagnosticsEffect))||k.changes.touchesRange(b.pos))}function maybeEnableLint(k,b){return k.field(lintState,!1)?b:b.concat(StateEffect.appendConfig.of([lintState,EditorView.decorations.compute([lintState],_=>{let{selected:$,panel:j}=_.field(lintState);return!$||!j||$.from==$.to?Decoration.none:Decoration.set([activeMark.range($.from,$.to)])}),hoverTooltip(lintTooltip,{hideOn:hideTooltip}),baseTheme]))}function setDiagnostics(k,b){return{effects:maybeEnableLint(k,[setDiagnosticsEffect.of(b)])}}const setDiagnosticsEffect=StateEffect.define(),togglePanel=StateEffect.define(),movePanelSelection=StateEffect.define(),lintState=StateField.define({create(){return new LintState(Decoration.none,null,null)},update(k,b){if(b.docChanged){let _=k.diagnostics.map(b.changes),$=null;if(k.selected){let j=b.changes.mapPos(k.selected.from,1);$=findDiagnostic(_,k.selected.diagnostic,j)||findDiagnostic(_,null,j)}k=new LintState(_,k.panel,$)}for(let _ of b.effects)_.is(setDiagnosticsEffect)?k=LintState.init(_.value,k.panel,b.state):_.is(togglePanel)?k=new LintState(k.diagnostics,_.value?LintPanel.open:null,k.selected):_.is(movePanelSelection)&&(k=new LintState(k.diagnostics,k.panel,_.value));return k},provide:k=>[showPanel.from(k,b=>b.panel),EditorView.decorations.from(k,b=>b.diagnostics)]}),activeMark=Decoration.mark({class:"cm-lintRange cm-lintRange-active"});function lintTooltip(k,b,_){let{diagnostics:$}=k.state.field(lintState),j=[],_e=2e8,et=0;$.between(b-(_<0?1:0),b+(_>0?1:0),(nt,it,{spec:rt})=>{b>=nt&&b<=it&&(nt==it||(b>nt||_>0)&&(b<it||_<0))&&(j.push(rt.diagnostic),_e=Math.min(nt,_e),et=Math.max(it,et))});let tt=k.state.facet(lintConfig).tooltipFilter;return tt&&(j=tt(j)),j.length?{pos:_e,end:et,above:k.state.doc.lineAt(_e).to<et,create(){return{dom:diagnosticsTooltip(k,j)}}}:null}function diagnosticsTooltip(k,b){return crelt("ul",{class:"cm-tooltip-lint"},b.map(_=>renderDiagnostic(k,_,!1)))}const openLintPanel=k=>{let b=k.state.field(lintState,!1);(!b||!b.panel)&&k.dispatch({effects:maybeEnableLint(k.state,[togglePanel.of(!0)])});let _=getPanel(k,LintPanel.open);return _&&_.dom.querySelector(".cm-panel-lint ul").focus(),!0},closeLintPanel=k=>{let b=k.state.field(lintState,!1);return!b||!b.panel?!1:(k.dispatch({effects:togglePanel.of(!1)}),!0)},nextDiagnostic=k=>{let b=k.state.field(lintState,!1);if(!b)return!1;let _=k.state.selection.main,$=b.diagnostics.iter(_.to+1);return!$.value&&($=b.diagnostics.iter(0),!$.value||$.from==_.from&&$.to==_.to)?!1:(k.dispatch({selection:{anchor:$.from,head:$.to},scrollIntoView:!0}),!0)},lintKeymap=[{key:"Mod-Shift-m",run:openLintPanel},{key:"F8",run:nextDiagnostic}],lintPlugin=ViewPlugin.fromClass(class{constructor(k){this.view=k,this.timeout=-1,this.set=!0;let{delay:b}=k.state.facet(lintConfig);this.lintTime=Date.now()+b,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,b)}run(){let k=Date.now();if(k<this.lintTime-10)setTimeout(this.run,this.lintTime-k);else{this.set=!1;let{state:b}=this.view,{sources:_}=b.facet(lintConfig);Promise.all(_.map($=>Promise.resolve($(this.view)))).then($=>{let j=$.reduce((_e,et)=>_e.concat(et));this.view.state.doc==b.doc&&this.view.dispatch(setDiagnostics(this.view.state,j))},$=>{logException(this.view.state,$)})}}update(k){let b=k.state.facet(lintConfig);(k.docChanged||b!=k.startState.facet(lintConfig))&&(this.lintTime=Date.now()+b.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,b.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}}),lintConfig=Facet.define({combine(k){return Object.assign({sources:k.map(b=>b.source)},combineConfig(k.map(b=>b.config),{delay:750,markerFilter:null,tooltipFilter:null}))},enables:lintPlugin});function assignKeys(k){let b=[];if(k)e:for(let{name:_}of k){for(let $=0;$<_.length;$++){let j=_[$];if(/[a-zA-Z]/.test(j)&&!b.some(_e=>_e.toLowerCase()==j.toLowerCase())){b.push(j);continue e}}b.push("")}return b}function renderDiagnostic(k,b,_){var $;let j=_?assignKeys(b.actions):[];return crelt("li",{class:"cm-diagnostic cm-diagnostic-"+b.severity},crelt("span",{class:"cm-diagnosticText"},b.renderMessage?b.renderMessage():b.message),($=b.actions)===null||$===void 0?void 0:$.map((_e,et)=>{let tt=st=>{st.preventDefault();let ot=findDiagnostic(k.state.field(lintState).diagnostics,b);ot&&_e.apply(k,ot.from,ot.to)},{name:nt}=_e,it=j[et]?nt.indexOf(j[et]):-1,rt=it<0?nt:[nt.slice(0,it),crelt("u",nt.slice(it,it+1)),nt.slice(it+1)];return crelt("button",{type:"button",class:"cm-diagnosticAction",onclick:tt,onmousedown:tt,"aria-label":` Action: ${nt}${it<0?"":` (access key "${j[et]})"`}.`},rt)}),b.source&&crelt("div",{class:"cm-diagnosticSource"},b.source))}class DiagnosticWidget extends WidgetType{constructor(b){super(),this.diagnostic=b}eq(b){return b.diagnostic==this.diagnostic}toDOM(){return crelt("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class PanelItem{constructor(b,_){this.diagnostic=_,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=renderDiagnostic(b,_,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class LintPanel{constructor(b){this.view=b,this.items=[];let _=j=>{if(j.keyCode==27)closeLintPanel(this.view),this.view.focus();else if(j.keyCode==38||j.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(j.keyCode==40||j.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(j.keyCode==36)this.moveSelection(0);else if(j.keyCode==35)this.moveSelection(this.items.length-1);else if(j.keyCode==13)this.view.focus();else if(j.keyCode>=65&&j.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:_e}=this.items[this.selectedIndex],et=assignKeys(_e.actions);for(let tt=0;tt<et.length;tt++)if(et[tt].toUpperCase().charCodeAt(0)==j.keyCode){let nt=findDiagnostic(this.view.state.field(lintState).diagnostics,_e);nt&&_e.actions[tt].apply(b,nt.from,nt.to)}}else return;j.preventDefault()},$=j=>{for(let _e=0;_e<this.items.length;_e++)this.items[_e].dom.contains(j.target)&&this.moveSelection(_e)};this.list=crelt("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:_,onclick:$}),this.dom=crelt("div",{class:"cm-panel-lint"},this.list,crelt("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>closeLintPanel(this.view)},"\xD7")),this.update()}get selectedIndex(){let b=this.view.state.field(lintState).selected;if(!b)return-1;for(let _=0;_<this.items.length;_++)if(this.items[_].diagnostic==b.diagnostic)return _;return-1}update(){let{diagnostics:b,selected:_}=this.view.state.field(lintState),$=0,j=!1,_e=null;for(b.between(0,this.view.state.doc.length,(et,tt,{spec:nt})=>{let it=-1,rt;for(let st=$;st<this.items.length;st++)if(this.items[st].diagnostic==nt.diagnostic){it=st;break}it<0?(rt=new PanelItem(this.view,nt.diagnostic),this.items.splice($,0,rt),j=!0):(rt=this.items[it],it>$&&(this.items.splice($,it-$),j=!0)),_&&rt.diagnostic==_.diagnostic?rt.dom.hasAttribute("aria-selected")||(rt.dom.setAttribute("aria-selected","true"),_e=rt):rt.dom.hasAttribute("aria-selected")&&rt.dom.removeAttribute("aria-selected"),$++});$<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)j=!0,this.items.pop();this.items.length==0&&(this.items.push(new PanelItem(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),j=!0),_e?(this.list.setAttribute("aria-activedescendant",_e.id),this.view.requestMeasure({key:this,read:()=>({sel:_e.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:et,panel:tt})=>{et.top<tt.top?this.list.scrollTop-=tt.top-et.top:et.bottom>tt.bottom&&(this.list.scrollTop+=et.bottom-tt.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),j&&this.sync()}sync(){let b=this.list.firstChild;function _(){let $=b;b=$.nextSibling,$.remove()}for(let $ of this.items)if($.dom.parentNode==this.list){for(;b!=$.dom;)_();b=$.dom.nextSibling}else this.list.insertBefore($.dom,b);for(;b;)_()}moveSelection(b){if(this.selectedIndex<0)return;let _=this.view.state.field(lintState),$=findDiagnostic(_.diagnostics,this.items[b].diagnostic);!$||this.view.dispatch({selection:{anchor:$.from,head:$.to},scrollIntoView:!0,effects:movePanelSelection.of($)})}static open(b){return new LintPanel(b)}}function svg(k,b='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${b}>${encodeURIComponent(k)}</svg>')`}function underline(k){return svg(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${k}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const baseTheme=EditorView.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:underline("#d11")},".cm-lintRange-warning":{backgroundImage:underline("orange")},".cm-lintRange-info":{backgroundImage:underline("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});var basicSetup=function k(b){b===void 0&&(b={});var _=[];b.closeBracketsKeymap!==!1&&(_=_.concat(closeBracketsKeymap)),b.defaultKeymap!==!1&&(_=_.concat(defaultKeymap)),b.searchKeymap!==!1&&(_=_.concat(searchKeymap)),b.historyKeymap!==!1&&(_=_.concat(historyKeymap)),b.foldKeymap!==!1&&(_=_.concat(foldKeymap)),b.completionKeymap!==!1&&(_=_.concat(completionKeymap)),b.lintKeymap!==!1&&(_=_.concat(lintKeymap));var $=[];return b.lineNumbers!==!1&&$.push(lineNumbers()),b.highlightActiveLineGutter!==!1&&$.push(highlightActiveLineGutter()),b.highlightSpecialChars!==!1&&$.push(highlightSpecialChars()),b.history!==!1&&$.push(history()),b.foldGutter!==!1&&$.push(foldGutter()),b.drawSelection!==!1&&$.push(drawSelection()),b.dropCursor!==!1&&$.push(dropCursor()),b.allowMultipleSelections!==!1&&$.push(EditorState.allowMultipleSelections.of(!0)),b.indentOnInput!==!1&&$.push(indentOnInput()),b.syntaxHighlighting!==!1&&$.push(syntaxHighlighting(defaultHighlightStyle,{fallback:!0})),b.bracketMatching!==!1&&$.push(bracketMatching()),b.closeBrackets!==!1&&$.push(closeBrackets()),b.autocompletion!==!1&&$.push(autocompletion()),b.rectangularSelection!==!1&&$.push(rectangularSelection()),b.crosshairCursor!==!1&&$.push(crosshairCursor()),b.highlightActiveLine!==!1&&$.push(highlightActiveLine()),b.highlightSelectionMatches!==!1&&$.push(highlightSelectionMatches()),$.concat([keymap.of(_.flat())]).filter(Boolean)};const chalky="#e5c07b",coral="#e06c75",cyan="#56b6c2",invalid="#ffffff",ivory="#abb2bf",stone="#7d8799",malibu="#61afef",sage="#98c379",whiskey="#d19a66",violet="#c678dd",darkBackground="#21252b",highlightBackground="#2c313a",background="#282c34",tooltipBackground="#353a42",selection="#3E4451",cursor="#528bff",oneDarkTheme=EditorView.theme({"&":{color:ivory,backgroundColor:background},".cm-content":{caretColor:cursor},".cm-cursor, .cm-dropCursor":{borderLeftColor:cursor},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:selection},".cm-panels":{backgroundColor:darkBackground,color:ivory},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:highlightBackground},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847",outline:"1px solid #515a6b"},".cm-gutters":{backgroundColor:background,color:stone,border:"none"},".cm-activeLineGutter":{backgroundColor:highlightBackground},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:tooltipBackground},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:tooltipBackground,borderBottomColor:tooltipBackground},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:highlightBackground,color:ivory}}},{dark:!0}),oneDarkHighlightStyle=HighlightStyle.define([{tag:tags.keyword,color:violet},{tag:[tags.name,tags.deleted,tags.character,tags.propertyName,tags.macroName],color:coral},{tag:[tags.function(tags.variableName),tags.labelName],color:malibu},{tag:[tags.color,tags.constant(tags.name),tags.standard(tags.name)],color:whiskey},{tag:[tags.definition(tags.name),tags.separator],color:ivory},{tag:[tags.typeName,tags.className,tags.number,tags.changed,tags.annotation,tags.modifier,tags.self,tags.namespace],color:chalky},{tag:[tags.operator,tags.operatorKeyword,tags.url,tags.escape,tags.regexp,tags.link,tags.special(tags.string)],color:cyan},{tag:[tags.meta,tags.comment],color:stone},{tag:tags.strong,fontWeight:"bold"},{tag:tags.emphasis,fontStyle:"italic"},{tag:tags.strikethrough,textDecoration:"line-through"},{tag:tags.link,color:stone,textDecoration:"underline"},{tag:tags.heading,fontWeight:"bold",color:coral},{tag:[tags.atom,tags.bool,tags.special(tags.variableName)],color:whiskey},{tag:[tags.processingInstruction,tags.string,tags.inserted],color:sage},{tag:tags.invalid,color:invalid}]),oneDark=[oneDarkTheme,syntaxHighlighting(oneDarkHighlightStyle)];var getStatistics=k=>({line:k.state.doc.lineAt(k.state.selection.main.from),lineCount:k.state.doc.lines,lineBreak:k.state.lineBreak,length:k.state.doc.length,readOnly:k.state.readOnly,tabSize:k.state.tabSize,selection:k.state.selection,selectionAsSingle:k.state.selection.asSingle().main,ranges:k.state.selection.ranges,selectionCode:k.state.sliceDoc(k.state.selection.main.from,k.state.selection.main.to),selections:k.state.selection.ranges.map(b=>k.state.sliceDoc(b.from,b.to)),selectedText:k.state.selection.ranges.some(b=>!b.empty)});function useCodeMirror(k){var{value:b,selection:_,onChange:$,onStatistics:j,onCreateEditor:_e,onUpdate:et,extensions:tt=[],autoFocus:nt,theme:it="light",height:rt="",minHeight:st="",maxHeight:ot="",placeholder:ut="",width:lt="",minWidth:ft="",maxWidth:ct="",editable:pt=!0,readOnly:mt=!1,indentWithTab:wt=!0,basicSetup:gt=!0,root:vt,initialState:bt}=k,[Ct,Dt]=react.exports.useState(),[_t,Rt]=react.exports.useState(),[jt,Qt]=react.exports.useState(),Nt=EditorView.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),Vt=EditorView.theme({"&":{height:rt,minHeight:st,maxHeight:ot,width:lt,minWidth:ft,maxWidth:ct}}),Yt=EditorView.updateListener.of(Jt=>{if(Jt.docChanged&&typeof $=="function"){var Ut=Jt.state.doc,Kt=Ut.toString();$(Kt,Jt)}j&&j(getStatistics(Jt))}),Wt=[Yt,Vt];switch(wt&&Wt.unshift(keymap.of([indentWithTab])),gt&&(typeof gt=="boolean"?Wt.unshift(basicSetup()):Wt.unshift(basicSetup(gt))),ut&&Wt.unshift(placeholder(ut)),it){case"light":Wt.push(Nt);break;case"dark":Wt.push(oneDark);break;default:Wt.push(it);break}return pt===!1&&Wt.push(EditorView.editable.of(!1)),mt&&Wt.push(EditorState.readOnly.of(!0)),et&&typeof et=="function"&&Wt.push(EditorView.updateListener.of(et)),Wt=Wt.concat(tt),react.exports.useEffect(()=>{if(Ct&&!jt){var Jt={doc:b,selection:_,extensions:Wt},Ut=bt?EditorState.fromJSON(bt.json,Jt,bt.fields):EditorState.create(Jt);if(Qt(Ut),!_t){var Kt=new EditorView({state:Ut,parent:Ct,root:vt});Rt(Kt),_e&&_e(Kt,Ut)}}return()=>{_t&&(Qt(void 0),Rt(void 0))}},[Ct,jt]),react.exports.useEffect(()=>Dt(k.container),[k.container]),react.exports.useEffect(()=>()=>{_t&&(_t.destroy(),Rt(void 0))},[_t]),react.exports.useEffect(()=>{nt&&_t&&_t.focus()},[nt,_t]),react.exports.useEffect(()=>{_t&&_t.dispatch({effects:StateEffect.reconfigure.of(Wt)})},[it,tt,rt,st,ot,lt,ft,ct,ut,pt,mt,wt,gt,$,et]),react.exports.useEffect(()=>{var Jt=_t?_t.state.doc.toString():"";_t&&b!==Jt&&_t.dispatch({changes:{from:0,to:Jt.length,insert:b||""}})},[b,_t]),{state:jt,setState:Qt,view:_t,setView:Rt,container:Ct,setContainer:Dt}}var _excluded=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],ReactCodeMirror=react.exports.forwardRef((k,b)=>{var{className:_,value:$="",selection:j,extensions:_e=[],onChange:et,onStatistics:tt,onCreateEditor:nt,onUpdate:it,autoFocus:rt,theme:st="light",height:ot,minHeight:ut,maxHeight:lt,width:ft,minWidth:ct,maxWidth:pt,basicSetup:mt,placeholder:wt,indentWithTab:gt,editable:vt,readOnly:bt,root:Ct,initialState:Dt}=k,_t=_objectWithoutPropertiesLoose(k,_excluded),Rt=react.exports.useRef(null),{state:jt,view:Qt,container:Nt,setContainer:Vt}=useCodeMirror({container:Rt.current,root:Ct,value:$,autoFocus:rt,theme:st,height:ot,minHeight:ut,maxHeight:lt,width:ft,minWidth:ct,maxWidth:pt,basicSetup:mt,placeholder:wt,indentWithTab:gt,editable:vt,readOnly:bt,selection:j,onChange:et,onStatistics:tt,onCreateEditor:nt,onUpdate:it,extensions:_e,initialState:Dt});if(react.exports.useImperativeHandle(b,()=>({editor:Rt.current,state:jt,view:Qt}),[Rt,Nt,jt,Qt]),typeof $!="string")throw new Error("value must be typeof string but got "+typeof $);var Yt=typeof st=="string"?"cm-theme-"+st:"cm-theme";return jsx("div",_extends({ref:Rt,className:""+Yt+(_?" "+_:"")},_t))});ReactCodeMirror.displayName="CodeMirror";class Stack{constructor(b,_,$,j,_e,et,tt,nt,it,rt=0,st){this.p=b,this.stack=_,this.state=$,this.reducePos=j,this.pos=_e,this.score=et,this.buffer=tt,this.bufferBase=nt,this.curContext=it,this.lookAhead=rt,this.parent=st}toString(){return`[${this.stack.filter((b,_)=>_%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(b,_,$=0){let j=b.parser.context;return new Stack(b,[],_,$,$,0,[],0,j?new StackContext(j,j.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(b,_){this.stack.push(this.state,_,this.bufferBase+this.buffer.length),this.state=b}reduce(b){let _=b>>19,$=b&65535,{parser:j}=this.p,_e=j.dynamicPrecedence($);if(_e&&(this.score+=_e),_==0){this.pushState(j.getGoto(this.state,$,!0),this.reducePos),$<j.minRepeatTerm&&this.storeNode($,this.reducePos,this.reducePos,4,!0),this.reduceContext($,this.reducePos);return}let et=this.stack.length-(_-1)*3-(b&262144?6:0),tt=this.stack[et-2],nt=this.stack[et-1],it=this.bufferBase+this.buffer.length-nt;if($<j.minRepeatTerm||b&131072){let rt=j.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode($,tt,rt,it+4,!0)}if(b&262144)this.state=this.stack[et];else{let rt=this.stack[et-3];this.state=j.getGoto(rt,$,!0)}for(;this.stack.length>et;)this.stack.pop();this.reduceContext($,tt)}storeNode(b,_,$,j=4,_e=!1){if(b==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let et=this,tt=this.buffer.length;if(tt==0&&et.parent&&(tt=et.bufferBase-et.parent.bufferBase,et=et.parent),tt>0&&et.buffer[tt-4]==0&&et.buffer[tt-1]>-1){if(_==$)return;if(et.buffer[tt-2]>=_){et.buffer[tt-2]=$;return}}}if(!_e||this.pos==$)this.buffer.push(b,_,$,j);else{let et=this.buffer.length;if(et>0&&this.buffer[et-4]!=0)for(;et>0&&this.buffer[et-2]>$;)this.buffer[et]=this.buffer[et-4],this.buffer[et+1]=this.buffer[et-3],this.buffer[et+2]=this.buffer[et-2],this.buffer[et+3]=this.buffer[et-1],et-=4,j>4&&(j-=4);this.buffer[et]=b,this.buffer[et+1]=_,this.buffer[et+2]=$,this.buffer[et+3]=j}}shift(b,_,$){let j=this.pos;if(b&131072)this.pushState(b&65535,this.pos);else if((b&262144)==0){let _e=b,{parser:et}=this.p;($>this.pos||_<=et.maxNode)&&(this.pos=$,et.stateFlag(_e,1)||(this.reducePos=$)),this.pushState(_e,j),this.shiftContext(_,j),_<=et.maxNode&&this.buffer.push(_,j,$,4)}else this.pos=$,this.shiftContext(_,j),_<=this.p.parser.maxNode&&this.buffer.push(_,j,$,4)}apply(b,_,$){b&65536?this.reduce(b):this.shift(b,_,$)}useNode(b,_){let $=this.p.reused.length-1;($<0||this.p.reused[$]!=b)&&(this.p.reused.push(b),$++);let j=this.pos;this.reducePos=this.pos=j+b.length,this.pushState(_,j),this.buffer.push($,j,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,b,this,this.p.stream.reset(this.pos-b.length)))}split(){let b=this,_=b.buffer.length;for(;_>0&&b.buffer[_-2]>b.reducePos;)_-=4;let $=b.buffer.slice(_),j=b.bufferBase+_;for(;b&&j==b.bufferBase;)b=b.parent;return new Stack(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,$,j,this.curContext,this.lookAhead,b)}recoverByDelete(b,_){let $=b<=this.p.parser.maxNode;$&&this.storeNode(b,this.pos,_,4),this.storeNode(0,this.pos,_,$?8:4),this.pos=this.reducePos=_,this.score-=190}canShift(b){for(let _=new SimulatedStack(this);;){let $=this.p.parser.stateSlot(_.state,4)||this.p.parser.hasAction(_.state,b);if(($&65536)==0)return!0;if($==0)return!1;_.reduce($)}}recoverByInsert(b){if(this.stack.length>=300)return[];let _=this.p.parser.nextStates(this.state);if(_.length>4<<1||this.stack.length>=120){let j=[];for(let _e=0,et;_e<_.length;_e+=2)(et=_[_e+1])!=this.state&&this.p.parser.hasAction(et,b)&&j.push(_[_e],et);if(this.stack.length<120)for(let _e=0;j.length<4<<1&&_e<_.length;_e+=2){let et=_[_e+1];j.some((tt,nt)=>nt&1&&tt==et)||j.push(_[_e],et)}_=j}let $=[];for(let j=0;j<_.length&&$.length<4;j+=2){let _e=_[j+1];if(_e==this.state)continue;let et=this.split();et.pushState(_e,this.pos),et.storeNode(0,et.pos,et.pos,4,!0),et.shiftContext(_[j],this.pos),et.score-=200,$.push(et)}return $}forceReduce(){let b=this.p.parser.stateSlot(this.state,5);if((b&65536)==0)return!1;let{parser:_}=this.p;if(!_.validAction(this.state,b)){let $=b>>19,j=b&65535,_e=this.stack.length-$*3;if(_e<0||_.getGoto(this.stack[_e],j,!1)<0)return!1;this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(b),!0}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:b}=this.p;return b.data[b.stateSlot(this.state,1)]==65535&&!b.stateSlot(this.state,4)}restart(){this.state=this.stack[0],this.stack.length=0}sameState(b){if(this.state!=b.state||this.stack.length!=b.stack.length)return!1;for(let _=0;_<this.stack.length;_+=3)if(this.stack[_]!=b.stack[_])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(b){return this.p.parser.dialect.flags[b]}shiftContext(b,_){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,b,this,this.p.stream.reset(_)))}reduceContext(b,_){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,b,this,this.p.stream.reset(_)))}emitContext(){let b=this.buffer.length-1;(b<0||this.buffer[b]!=-3)&&this.buffer.push(this.curContext.hash,this.reducePos,this.reducePos,-3)}emitLookAhead(){let b=this.buffer.length-1;(b<0||this.buffer[b]!=-4)&&this.buffer.push(this.lookAhead,this.reducePos,this.reducePos,-4)}updateContext(b){if(b!=this.curContext.context){let _=new StackContext(this.curContext.tracker,b);_.hash!=this.curContext.hash&&this.emitContext(),this.curContext=_}}setLookAhead(b){b>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=b)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class StackContext{constructor(b,_){this.tracker=b,this.context=_,this.hash=b.strict?b.hash(_):0}}var Recover;(function(k){k[k.Insert=200]="Insert",k[k.Delete=190]="Delete",k[k.Reduce=100]="Reduce",k[k.MaxNext=4]="MaxNext",k[k.MaxInsertStackDepth=300]="MaxInsertStackDepth",k[k.DampenInsertStackDepth=120]="DampenInsertStackDepth"})(Recover||(Recover={}));class SimulatedStack{constructor(b){this.start=b,this.state=b.state,this.stack=b.stack,this.base=this.stack.length}reduce(b){let _=b&65535,$=b>>19;$==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=($-1)*3;let j=this.start.p.parser.getGoto(this.stack[this.base-3],_,!0);this.state=j}}class StackBufferCursor{constructor(b,_,$){this.stack=b,this.pos=_,this.index=$,this.buffer=b.buffer,this.index==0&&this.maybeNext()}static create(b,_=b.bufferBase+b.buffer.length){return new StackBufferCursor(b,_,_-b.bufferBase)}maybeNext(){let b=this.stack.parent;b!=null&&(this.index=this.stack.bufferBase-b.bufferBase,this.stack=b,this.buffer=b.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new StackBufferCursor(this.stack,this.pos,this.index)}}class CachedToken{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const nullToken=new CachedToken;class InputStream{constructor(b,_){this.input=b,this.ranges=_,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=nullToken,this.rangeIndex=0,this.pos=this.chunkPos=_[0].from,this.range=_[0],this.end=_[_.length-1].to,this.readNext()}resolveOffset(b,_){let $=this.range,j=this.rangeIndex,_e=this.pos+b;for(;_e<$.from;){if(!j)return null;let et=this.ranges[--j];_e-=$.from-et.to,$=et}for(;_<0?_e>$.to:_e>=$.to;){if(j==this.ranges.length-1)return null;let et=this.ranges[++j];_e+=et.from-$.to,$=et}return _e}peek(b){let _=this.chunkOff+b,$,j;if(_>=0&&_<this.chunk.length)$=this.pos+b,j=this.chunk.charCodeAt(_);else{let _e=this.resolveOffset(b,1);if(_e==null)return-1;if($=_e,$>=this.chunk2Pos&&$<this.chunk2Pos+this.chunk2.length)j=this.chunk2.charCodeAt($-this.chunk2Pos);else{let et=this.rangeIndex,tt=this.range;for(;tt.to<=$;)tt=this.ranges[++et];this.chunk2=this.input.chunk(this.chunk2Pos=$),$+this.chunk2.length>tt.to&&(this.chunk2=this.chunk2.slice(0,tt.to-$)),j=this.chunk2.charCodeAt(0)}}return $>=this.token.lookAhead&&(this.token.lookAhead=$+1),j}acceptToken(b,_=0){let $=_?this.resolveOffset(_,-1):this.pos;if($==null||$<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=b,this.token.end=$}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:b,chunkPos:_}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=b,this.chunk2Pos=_,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let b=this.input.chunk(this.pos),_=this.pos+b.length;this.chunk=_>this.range.to?b.slice(0,this.range.to-this.pos):b,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(b=1){for(this.chunkOff+=b;this.pos+b>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();b-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=b,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(b,_){if(_?(this.token=_,_.start=b,_.lookAhead=b+1,_.value=_.extended=-1):this.token=nullToken,this.pos!=b){if(this.pos=b,b==this.end)return this.setDone(),this;for(;b<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;b>=this.range.to;)this.range=this.ranges[++this.rangeIndex];b>=this.chunkPos&&b<this.chunkPos+this.chunk.length?this.chunkOff=b-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(b,_){if(b>=this.chunkPos&&_<=this.chunkPos+this.chunk.length)return this.chunk.slice(b-this.chunkPos,_-this.chunkPos);if(b>=this.chunk2Pos&&_<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(b-this.chunk2Pos,_-this.chunk2Pos);if(b>=this.range.from&&_<=this.range.to)return this.input.read(b,_);let $="";for(let j of this.ranges){if(j.from>=_)break;j.to>b&&($+=this.input.read(Math.max(j.from,b),Math.min(j.to,_)))}return $}}class TokenGroup{constructor(b,_){this.data=b,this.id=_}token(b,_){readToken(this.data,b,_,this.id)}}TokenGroup.prototype.contextual=TokenGroup.prototype.fallback=TokenGroup.prototype.extend=!1;class ExternalTokenizer{constructor(b,_={}){this.token=b,this.contextual=!!_.contextual,this.fallback=!!_.fallback,this.extend=!!_.extend}}function readToken(k,b,_,$){let j=0,_e=1<<$,{parser:et}=_.p,{dialect:tt}=et;e:for(;(_e&k[j])!=0;){let nt=k[j+1];for(let ot=j+3;ot<nt;ot+=2)if((k[ot+1]&_e)>0){let ut=k[ot];if(tt.allows(ut)&&(b.token.value==-1||b.token.value==ut||et.overrides(ut,b.token.value))){b.acceptToken(ut);break}}let it=b.next,rt=0,st=k[j+2];if(b.next<0&&st>rt&&k[nt+st*3-3]==65535){j=k[nt+st*3-1];continue e}for(;rt<st;){let ot=rt+st>>1,ut=nt+ot+(ot<<1),lt=k[ut],ft=k[ut+1];if(it<lt)st=ot;else if(it>=ft)rt=ot+1;else{j=k[ut+2],b.advance();continue e}}break}}function decodeArray(k,b=Uint16Array){if(typeof k!="string")return k;let _=null;for(let $=0,j=0;$<k.length;){let _e=0;for(;;){let et=k.charCodeAt($++),tt=!1;if(et==126){_e=65535;break}et>=92&&et--,et>=34&&et--;let nt=et-32;if(nt>=46&&(nt-=46,tt=!0),_e+=nt,tt)break;_e*=46}_?_[j++]=_e:_=new b(_e)}return _}const verbose=typeof process<"u"&&process.env&&/\bparse\b/.test(process.env.LOG);let stackIDs=null;var Safety;(function(k){k[k.Margin=25]="Margin"})(Safety||(Safety={}));function cutAt(k,b,_){let $=k.cursor(IterMode.IncludeAnonymous);for($.moveTo(b);;)if(!(_<0?$.childBefore(b):$.childAfter(b)))for(;;){if((_<0?$.to<b:$.from>b)&&!$.type.isError)return _<0?Math.max(0,Math.min($.to-1,b-25)):Math.min(k.length,Math.max($.from+1,b+25));if(_<0?$.prevSibling():$.nextSibling())break;if(!$.parent())return _<0?0:k.length}}class FragmentCursor{constructor(b,_){this.fragments=b,this.nodeSet=_,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let b=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(b){for(this.safeFrom=b.openStart?cutAt(b.tree,b.from+b.offset,1)-b.offset:b.from,this.safeTo=b.openEnd?cutAt(b.tree,b.to+b.offset,-1)-b.offset:b.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(b.tree),this.start.push(-b.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(b){if(b<this.nextStart)return null;for(;this.fragment&&this.safeTo<=b;)this.nextFragment();if(!this.fragment)return null;for(;;){let _=this.trees.length-1;if(_<0)return this.nextFragment(),null;let $=this.trees[_],j=this.index[_];if(j==$.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let _e=$.children[j],et=this.start[_]+$.positions[j];if(et>b)return this.nextStart=et,null;if(_e instanceof Tree){if(et==b){if(et<this.safeFrom)return null;let tt=et+_e.length;if(tt<=this.safeTo){let nt=_e.prop(NodeProp.lookAhead);if(!nt||tt+nt<this.fragment.to)return _e}}this.index[_]++,et+_e.length>=Math.max(this.safeFrom,b)&&(this.trees.push(_e),this.start.push(et),this.index.push(0))}else this.index[_]++,this.nextStart=et+_e.length}}}class TokenCache{constructor(b,_){this.stream=_,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=b.tokenizers.map($=>new CachedToken)}getActions(b){let _=0,$=null,{parser:j}=b.p,{tokenizers:_e}=j,et=j.stateSlot(b.state,3),tt=b.curContext?b.curContext.hash:0,nt=0;for(let it=0;it<_e.length;it++){if((1<<it&et)==0)continue;let rt=_e[it],st=this.tokens[it];if(!($&&!rt.fallback)&&((rt.contextual||st.start!=b.pos||st.mask!=et||st.context!=tt)&&(this.updateCachedToken(st,rt,b),st.mask=et,st.context=tt),st.lookAhead>st.end+25&&(nt=Math.max(st.lookAhead,nt)),st.value!=0)){let ot=_;if(st.extended>-1&&(_=this.addActions(b,st.extended,st.end,_)),_=this.addActions(b,st.value,st.end,_),!rt.extend&&($=st,_>ot))break}}for(;this.actions.length>_;)this.actions.pop();return nt&&b.setLookAhead(nt),!$&&b.pos==this.stream.end&&($=new CachedToken,$.value=b.p.parser.eofTerm,$.start=$.end=b.pos,_=this.addActions(b,$.value,$.end,_)),this.mainToken=$,this.actions}getMainToken(b){if(this.mainToken)return this.mainToken;let _=new CachedToken,{pos:$,p:j}=b;return _.start=$,_.end=Math.min($+1,j.stream.end),_.value=$==j.stream.end?j.parser.eofTerm:0,_}updateCachedToken(b,_,$){if(_.token(this.stream.reset($.pos,b),$),b.value>-1){let{parser:j}=$.p;for(let _e=0;_e<j.specialized.length;_e++)if(j.specialized[_e]==b.value){let et=j.specializers[_e](this.stream.read(b.start,b.end),$);if(et>=0&&$.p.parser.dialect.allows(et>>1)){(et&1)==0?b.value=et>>1:b.extended=et>>1;break}}}else b.value=0,b.end=Math.min($.p.stream.end,$.pos+1)}putAction(b,_,$,j){for(let _e=0;_e<j;_e+=3)if(this.actions[_e]==b)return j;return this.actions[j++]=b,this.actions[j++]=_,this.actions[j++]=$,j}addActions(b,_,$,j){let{state:_e}=b,{parser:et}=b.p,{data:tt}=et;for(let nt=0;nt<2;nt++)for(let it=et.stateSlot(_e,nt?2:1);;it+=3){if(tt[it]==65535)if(tt[it+1]==1)it=pair(tt,it+2);else{j==0&&tt[it+1]==2&&(j=this.putAction(pair(tt,it+2),_,$,j));break}tt[it]==_&&(j=this.putAction(pair(tt,it+1),_,$,j))}return j}}var Rec;(function(k){k[k.Distance=5]="Distance",k[k.MaxRemainingPerStep=3]="MaxRemainingPerStep",k[k.MinBufferLengthPrune=500]="MinBufferLengthPrune",k[k.ForceReduceLimit=10]="ForceReduceLimit",k[k.CutDepth=15e3]="CutDepth",k[k.CutTo=9e3]="CutTo"})(Rec||(Rec={}));class Parse{constructor(b,_,$,j){this.parser=b,this.input=_,this.ranges=j,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.stream=new InputStream(_,j),this.tokens=new TokenCache(b,this.stream),this.topTerm=b.top[1];let{from:_e}=j[0];this.stacks=[Stack.start(this,b.top[0],_e)],this.fragments=$.length&&this.stream.end-_e>b.bufferLength*4?new FragmentCursor($,b.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let b=this.stacks,_=this.minStackPos,$=this.stacks=[],j,_e;for(let et=0;et<b.length;et++){let tt=b[et];for(;;){if(this.tokens.mainToken=null,tt.pos>_)$.push(tt);else{if(this.advanceStack(tt,$,b))continue;{j||(j=[],_e=[]),j.push(tt);let nt=this.tokens.getMainToken(tt);_e.push(nt.value,nt.end)}}break}}if(!$.length){let et=j&&findFinished(j);if(et)return this.stackToTree(et);if(this.parser.strict)throw verbose&&j&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+_);this.recovering||(this.recovering=5)}if(this.recovering&&j){let et=this.stoppedAt!=null&&j[0].pos>this.stoppedAt?j[0]:this.runRecovery(j,_e,$);if(et)return this.stackToTree(et.forceAll())}if(this.recovering){let et=this.recovering==1?1:this.recovering*3;if($.length>et)for($.sort((tt,nt)=>nt.score-tt.score);$.length>et;)$.pop();$.some(tt=>tt.reducePos>_)&&this.recovering--}else if($.length>1){e:for(let et=0;et<$.length-1;et++){let tt=$[et];for(let nt=et+1;nt<$.length;nt++){let it=$[nt];if(tt.sameState(it)||tt.buffer.length>500&&it.buffer.length>500)if((tt.score-it.score||tt.buffer.length-it.buffer.length)>0)$.splice(nt--,1);else{$.splice(et--,1);continue e}}}}this.minStackPos=$[0].pos;for(let et=1;et<$.length;et++)$[et].pos<this.minStackPos&&(this.minStackPos=$[et].pos);return null}stopAt(b){if(this.stoppedAt!=null&&this.stoppedAt<b)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=b}advanceStack(b,_,$){let j=b.pos,{parser:_e}=this,et=verbose?this.stackID(b)+" -> ":"";if(this.stoppedAt!=null&&j>this.stoppedAt)return b.forceReduce()?b:null;if(this.fragments){let it=b.curContext&&b.curContext.tracker.strict,rt=it?b.curContext.hash:0;for(let st=this.fragments.nodeAt(j);st;){let ot=this.parser.nodeSet.types[st.type.id]==st.type?_e.getGoto(b.state,st.type.id):-1;if(ot>-1&&st.length&&(!it||(st.prop(NodeProp.contextHash)||0)==rt))return b.useNode(st,ot),verbose&&console.log(et+this.stackID(b)+` (via reuse of ${_e.getName(st.type.id)})`),!0;if(!(st instanceof Tree)||st.children.length==0||st.positions[0]>0)break;let ut=st.children[0];if(ut instanceof Tree&&st.positions[0]==0)st=ut;else break}}let tt=_e.stateSlot(b.state,4);if(tt>0)return b.reduce(tt),verbose&&console.log(et+this.stackID(b)+` (via always-reduce ${_e.getName(tt&65535)})`),!0;if(b.stack.length>=15e3)for(;b.stack.length>9e3&&b.forceReduce(););let nt=this.tokens.getActions(b);for(let it=0;it<nt.length;){let rt=nt[it++],st=nt[it++],ot=nt[it++],ut=it==nt.length||!$,lt=ut?b:b.split();if(lt.apply(rt,st,ot),verbose&&console.log(et+this.stackID(lt)+` (via ${(rt&65536)==0?"shift":`reduce of ${_e.getName(rt&65535)}`} for ${_e.getName(st)} @ ${j}${lt==b?"":", split"})`),ut)return!0;lt.pos>j?_.push(lt):$.push(lt)}return!1}advanceFully(b,_){let $=b.pos;for(;;){if(!this.advanceStack(b,null,null))return!1;if(b.pos>$)return pushStackDedup(b,_),!0}}runRecovery(b,_,$){let j=null,_e=!1;for(let et=0;et<b.length;et++){let tt=b[et],nt=_[et<<1],it=_[(et<<1)+1],rt=verbose?this.stackID(tt)+" -> ":"";if(tt.deadEnd&&(_e||(_e=!0,tt.restart(),verbose&&console.log(rt+this.stackID(tt)+" (restarted)"),this.advanceFully(tt,$))))continue;let st=tt.split(),ot=rt;for(let ut=0;st.forceReduce()&&ut<10&&(verbose&&console.log(ot+this.stackID(st)+" (via force-reduce)"),!this.advanceFully(st,$));ut++)verbose&&(ot=this.stackID(st)+" -> ");for(let ut of tt.recoverByInsert(nt))verbose&&console.log(rt+this.stackID(ut)+" (via recover-insert)"),this.advanceFully(ut,$);this.stream.end>tt.pos?(it==tt.pos&&(it++,nt=0),tt.recoverByDelete(nt,it),verbose&&console.log(rt+this.stackID(tt)+` (via recover-delete ${this.parser.getName(nt)})`),pushStackDedup(tt,$)):(!j||j.score<tt.score)&&(j=tt)}return j}stackToTree(b){return b.close(),Tree.build({buffer:StackBufferCursor.create(b),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:b.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(b){let _=(stackIDs||(stackIDs=new WeakMap)).get(b);return _||stackIDs.set(b,_=String.fromCodePoint(this.nextStackID++)),_+b}}function pushStackDedup(k,b){for(let _=0;_<b.length;_++){let $=b[_];if($.pos==k.pos&&$.sameState(k)){b[_].score<k.score&&(b[_]=k);return}}b.push(k)}class Dialect{constructor(b,_,$){this.source=b,this.flags=_,this.disabled=$}allows(b){return!this.disabled||this.disabled[b]==0}}const id=k=>k;class ContextTracker{constructor(b){this.start=b.start,this.shift=b.shift||id,this.reduce=b.reduce||id,this.reuse=b.reuse||id,this.hash=b.hash||(()=>0),this.strict=b.strict!==!1}}class LRParser extends Parser$1{constructor(b){if(super(),this.wrappers=[],b.version!=14)throw new RangeError(`Parser version (${b.version}) doesn't match runtime version (${14})`);let _=b.nodeNames.split(" ");this.minRepeatTerm=_.length;for(let tt=0;tt<b.repeatNodeCount;tt++)_.push("");let $=Object.keys(b.topRules).map(tt=>b.topRules[tt][1]),j=[];for(let tt=0;tt<_.length;tt++)j.push([]);function _e(tt,nt,it){j[tt].push([nt,nt.deserialize(String(it))])}if(b.nodeProps)for(let tt of b.nodeProps){let nt=tt[0];typeof nt=="string"&&(nt=NodeProp[nt]);for(let it=1;it<tt.length;){let rt=tt[it++];if(rt>=0)_e(rt,nt,tt[it++]);else{let st=tt[it+-rt];for(let ot=-rt;ot>0;ot--)_e(tt[it++],nt,st);it++}}}this.nodeSet=new NodeSet(_.map((tt,nt)=>NodeType.define({name:nt>=this.minRepeatTerm?void 0:tt,id:nt,props:j[nt],top:$.indexOf(nt)>-1,error:nt==0,skipped:b.skippedNodes&&b.skippedNodes.indexOf(nt)>-1}))),b.propSources&&(this.nodeSet=this.nodeSet.extend(...b.propSources)),this.strict=!1,this.bufferLength=DefaultBufferLength;let et=decodeArray(b.tokenData);this.context=b.context,this.specializerSpecs=b.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let tt=0;tt<this.specializerSpecs.length;tt++)this.specialized[tt]=this.specializerSpecs[tt].term;this.specializers=this.specializerSpecs.map(getSpecializer),this.states=decodeArray(b.states,Uint32Array),this.data=decodeArray(b.stateData),this.goto=decodeArray(b.goto),this.maxTerm=b.maxTerm,this.tokenizers=b.tokenizers.map(tt=>typeof tt=="number"?new TokenGroup(et,tt):tt),this.topRules=b.topRules,this.dialects=b.dialects||{},this.dynamicPrecedences=b.dynamicPrecedences||null,this.tokenPrecTable=b.tokenPrec,this.termNames=b.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(b,_,$){let j=new Parse(this,b,_,$);for(let _e of this.wrappers)j=_e(j,b,_,$);return j}getGoto(b,_,$=!1){let j=this.goto;if(_>=j[0])return-1;for(let _e=j[_+1];;){let et=j[_e++],tt=et&1,nt=j[_e++];if(tt&&$)return nt;for(let it=_e+(et>>1);_e<it;_e++)if(j[_e]==b)return nt;if(tt)return-1}}hasAction(b,_){let $=this.data;for(let j=0;j<2;j++)for(let _e=this.stateSlot(b,j?2:1),et;;_e+=3){if((et=$[_e])==65535)if($[_e+1]==1)et=$[_e=pair($,_e+2)];else{if($[_e+1]==2)return pair($,_e+2);break}if(et==_||et==0)return pair($,_e+1)}return 0}stateSlot(b,_){return this.states[b*6+_]}stateFlag(b,_){return(this.stateSlot(b,0)&_)>0}validAction(b,_){if(_==this.stateSlot(b,4))return!0;for(let $=this.stateSlot(b,1);;$+=3){if(this.data[$]==65535)if(this.data[$+1]==1)$=pair(this.data,$+2);else return!1;if(_==pair(this.data,$+1))return!0}}nextStates(b){let _=[];for(let $=this.stateSlot(b,1);;$+=3){if(this.data[$]==65535)if(this.data[$+1]==1)$=pair(this.data,$+2);else break;if((this.data[$+2]&1)==0){let j=this.data[$+1];_.some((_e,et)=>et&1&&_e==j)||_.push(this.data[$],j)}}return _}overrides(b,_){let $=findOffset(this.data,this.tokenPrecTable,_);return $<0||findOffset(this.data,this.tokenPrecTable,b)<$}configure(b){let _=Object.assign(Object.create(LRParser.prototype),this);if(b.props&&(_.nodeSet=this.nodeSet.extend(...b.props)),b.top){let $=this.topRules[b.top];if(!$)throw new RangeError(`Invalid top rule name ${b.top}`);_.top=$}return b.tokenizers&&(_.tokenizers=this.tokenizers.map($=>{let j=b.tokenizers.find(_e=>_e.from==$);return j?j.to:$})),b.specializers&&(_.specializers=this.specializers.slice(),_.specializerSpecs=this.specializerSpecs.map(($,j)=>{let _e=b.specializers.find(tt=>tt.from==$.external);if(!_e)return $;let et=Object.assign(Object.assign({},$),{external:_e.to});return _.specializers[j]=getSpecializer(et),et})),b.contextTracker&&(_.context=b.contextTracker),b.dialect&&(_.dialect=this.parseDialect(b.dialect)),b.strict!=null&&(_.strict=b.strict),b.wrap&&(_.wrappers=_.wrappers.concat(b.wrap)),b.bufferLength!=null&&(_.bufferLength=b.bufferLength),_}hasWrappers(){return this.wrappers.length>0}getName(b){return this.termNames?this.termNames[b]:String(b<=this.maxNode&&this.nodeSet.types[b].name||b)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(b){let _=this.dynamicPrecedences;return _==null?0:_[b]||0}parseDialect(b){let _=Object.keys(this.dialects),$=_.map(()=>!1);if(b)for(let _e of b.split(" ")){let et=_.indexOf(_e);et>=0&&($[et]=!0)}let j=null;for(let _e=0;_e<_.length;_e++)if(!$[_e])for(let et=this.dialects[_[_e]],tt;(tt=this.data[et++])!=65535;)(j||(j=new Uint8Array(this.maxTerm+1)))[tt]=1;return new Dialect(b,$,j)}static deserialize(b){return new LRParser(b)}}function pair(k,b){return k[b]|k[b+1]<<16}function findOffset(k,b,_){for(let $=b,j;(j=k[$])!=65535;$++)if(j==_)return $-b;return-1}function findFinished(k){let b=null;for(let _ of k){let $=_.p.stoppedAt;(_.pos==_.p.stream.end||$!=null&&_.pos>$)&&_.p.parser.stateFlag(_.state,2)&&(!b||b.score<_.score)&&(b=_)}return b}function getSpecializer(k){if(k.external){let b=k.extend?1:0;return(_,$)=>k.external(_,$)<<1|b}return k.get}const TSExtends=1,noSemi=281,incdec=2,incdecPrefix=3,templateContent=282,InterpolationStart=4,templateEnd=283,insertSemi=284,spaces=286,newline=287,LineComment=5,BlockComment=6,Dialect_ts=1,space=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],braceR=125,braceL=123,semicolon=59,slash=47,star=42,plus=43,minus=45,dollar=36,backtick=96,backslash=92,trackNewline=new ContextTracker({start:!1,shift(k,b){return b==LineComment||b==BlockComment||b==spaces?k:b==newline},strict:!1}),insertSemicolon=new ExternalTokenizer((k,b)=>{let{next:_}=k;(_==braceR||_==-1||b.context)&&b.canShift(insertSemi)&&k.acceptToken(insertSemi)},{contextual:!0,fallback:!0}),noSemicolon=new ExternalTokenizer((k,b)=>{let{next:_}=k,$;space.indexOf(_)>-1||_==slash&&(($=k.peek(1))==slash||$==star)||_!=braceR&&_!=semicolon&&_!=-1&&!b.context&&b.canShift(noSemi)&&k.acceptToken(noSemi)},{contextual:!0}),incdecToken=new ExternalTokenizer((k,b)=>{let{next:_}=k;if((_==plus||_==minus)&&(k.advance(),_==k.next)){k.advance();let $=!b.context&&b.canShift(incdec);k.acceptToken($?incdec:incdecPrefix)}},{contextual:!0}),template=new ExternalTokenizer(k=>{for(let b=!1,_=0;;_++){let{next:$}=k;if($<0){_&&k.acceptToken(templateContent);break}else if($==backtick){_?k.acceptToken(templateContent):k.acceptToken(templateEnd,1);break}else if($==braceL&&b){_==1?k.acceptToken(InterpolationStart,1):k.acceptToken(templateContent,-1);break}else if($==10&&_){k.advance(),k.acceptToken(templateContent);break}else $==backslash&&k.advance();b=$==dollar,k.advance()}}),tsExtends=new ExternalTokenizer((k,b)=>{if(!(k.next!=101||!b.dialectEnabled(Dialect_ts))){k.advance();for(let _=0;_<6;_++){if(k.next!="xtends".charCodeAt(_))return;k.advance()}k.next>=57&&k.next<=65||k.next>=48&&k.next<=90||k.next==95||k.next>=97&&k.next<=122||k.next>160||k.acceptToken(TSExtends)}}),jsHighlight=styleTags({"get set async static":tags.modifier,"for while do if else switch try catch finally return throw break continue default case":tags.controlKeyword,"in of await yield void typeof delete instanceof":tags.operatorKeyword,"let var const function class extends":tags.definitionKeyword,"import export from":tags.moduleKeyword,"with debugger as new":tags.keyword,TemplateString:tags.special(tags.string),super:tags.atom,BooleanLiteral:tags.bool,this:tags.self,null:tags.null,Star:tags.modifier,VariableName:tags.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":tags.function(tags.variableName),VariableDefinition:tags.definition(tags.variableName),Label:tags.labelName,PropertyName:tags.propertyName,PrivatePropertyName:tags.special(tags.propertyName),"CallExpression/MemberExpression/PropertyName":tags.function(tags.propertyName),"FunctionDeclaration/VariableDefinition":tags.function(tags.definition(tags.variableName)),"ClassDeclaration/VariableDefinition":tags.definition(tags.className),PropertyDefinition:tags.definition(tags.propertyName),PrivatePropertyDefinition:tags.definition(tags.special(tags.propertyName)),UpdateOp:tags.updateOperator,LineComment:tags.lineComment,BlockComment:tags.blockComment,Number:tags.number,String:tags.string,ArithOp:tags.arithmeticOperator,LogicOp:tags.logicOperator,BitOp:tags.bitwiseOperator,CompareOp:tags.compareOperator,RegExp:tags.regexp,Equals:tags.definitionOperator,Arrow:tags.function(tags.punctuation),": Spread":tags.punctuation,"( )":tags.paren,"[ ]":tags.squareBracket,"{ }":tags.brace,"InterpolationStart InterpolationEnd":tags.special(tags.brace),".":tags.derefOperator,", ;":tags.separator,TypeName:tags.typeName,TypeDefinition:tags.definition(tags.typeName),"type enum interface implements namespace module declare":tags.definitionKeyword,"abstract global Privacy readonly override":tags.modifier,"is keyof unique infer":tags.operatorKeyword,JSXAttributeValue:tags.attributeValue,JSXText:tags.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":tags.angleBracket,"JSXIdentifier JSXNameSpacedName":tags.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":tags.attributeName}),spec_identifier={__proto__:null,export:18,as:23,from:29,default:32,async:37,function:38,this:48,true:56,false:56,void:66,typeof:70,null:86,super:88,new:122,await:139,yield:141,delete:142,class:152,extends:154,public:197,private:197,protected:197,readonly:199,instanceof:220,in:222,const:224,import:256,keyof:307,unique:311,infer:317,is:351,abstract:371,implements:373,type:375,let:378,var:380,interface:387,enum:391,namespace:397,module:399,declare:403,global:407,for:428,of:437,while:440,with:444,do:448,if:452,else:454,switch:458,case:464,try:470,catch:474,finally:478,return:482,throw:486,break:490,continue:494,debugger:498},spec_word={__proto__:null,async:109,get:111,set:113,public:161,private:161,protected:161,static:163,abstract:165,override:167,readonly:173,new:355},spec_LessThan={__proto__:null,"<":129},parser=LRParser.deserialize({version:14,states:"$8SO`QdOOO'QQ(C|O'#ChO'XOWO'#DVO)dQdO'#D]O)tQdO'#DhO){QdO'#DrO-xQdO'#DxOOQO'#E]'#E]O.]Q`O'#E[O.bQ`O'#E[OOQ(C['#Ef'#EfO0aQ(C|O'#ItO2wQ(C|O'#IuO3eQ`O'#EzO3jQ!bO'#FaOOQ(C['#FS'#FSO3rO#tO'#FSO4QQ&jO'#FhO5bQ`O'#FgOOQ(C['#Iu'#IuOOQ(CW'#It'#ItOOQS'#J^'#J^O5gQ`O'#HpO5lQ(ChO'#HqOOQS'#Ih'#IhOOQS'#Hr'#HrQ`QdOOO){QdO'#DjO5tQ`O'#G[O5yQ&jO'#CmO6XQ`O'#EZO6dQ`O'#EgO6iQ,UO'#FRO7TQ`O'#G[O7YQ`O'#G`O7eQ`O'#G`O7sQ`O'#GcO7sQ`O'#GdO7sQ`O'#GfO5tQ`O'#GiO8dQ`O'#GlO9rQ`O'#CdO:SQ`O'#GyO:[Q`O'#HPO:[Q`O'#HRO`QdO'#HTO:[Q`O'#HVO:[Q`O'#HYO:aQ`O'#H`O:fQ(CjO'#HfO){QdO'#HhO:qQ(CjO'#HjO:|Q(CjO'#HlO5lQ(ChO'#HnO){QdO'#DWOOOW'#Ht'#HtO;XOWO,59qOOQ(C[,59q,59qO=jQtO'#ChO=tQdO'#HuO>XQ`O'#IvO@WQtO'#IvO'dQdO'#IvO@_Q`O,59wO@uQ7[O'#DbOAnQ`O'#E]OA{Q`O'#JROBWQ`O'#JQOBWQ`O'#JQOB`Q`O,5:yOBeQ`O'#JPOBlQaO'#DyO5yQ&jO'#EZOBzQ`O'#EZOCVQpO'#FROOQ(C[,5:S,5:SOC_QdO,5:SOE]Q(C|O,5:^OEyQ`O,5:dOFdQ(ChO'#JOO7YQ`O'#I}OFkQ`O'#I}OFsQ`O,5:xOFxQ`O'#I}OGWQdO,5:vOIWQ&jO'#EWOJeQ`O,5:vOKwQ&jO'#DlOLOQdO'#DqOLYQ7[O,5;PO){QdO,5;POOQS'#Er'#ErOOQS'#Et'#EtO){QdO,5;RO){QdO,5;RO){QdO,5;RO){QdO,5;RO){QdO,5;RO){QdO,5;RO){QdO,5;RO){QdO,5;RO){QdO,5;RO){QdO,5;RO){QdO,5;ROOQS'#Ex'#ExOLbQdO,5;cOOQ(C[,5;h,5;hOOQ(C[,5;i,5;iONbQ`O,5;iOOQ(C[,5;j,5;jO){QdO'#IPONgQ(ChO,5<TO! RQ&jO,5;RO){QdO,5;fO! kQ!bO'#JVO! YQ!bO'#JVO! rQ!bO'#JVO!!TQ!bO,5;qOOOO,5;{,5;{O!!cQdO'#FcOOOO'#IO'#IOO3rO#tO,5;nO!!jQ!bO'#FeOOQ(C[,5;n,5;nO!#WQ,VO'#CrOOQ(C]'#Cu'#CuO!#kQ`O'#CuO!#pOWO'#CyO!$^Q,VO,5<QO!$eQ`O,5<SO!%tQ&jO'#FrO!&RQ`O'#FsO!&WQ`O'#FsO!&]Q&jO'#FwO!'[Q7[O'#F{O!'}Q,VO'#IqOOQ(C]'#Iq'#IqO!(XQaO'#IpO!(gQ`O'#IoO!(oQ`O'#CqOOQ(C]'#Cs'#CsOOQ(C]'#C|'#C|O!(wQ`O'#DOOJjQ&jO'#FjOJjQ&jO'#FlO!(|Q`O'#FnO!)RQ`O'#FoO!&WQ`O'#FuOJjQ&jO'#FzO!)WQ`O'#E^O!)oQ`O,5<RO`QdO,5>[OOQS'#Ik'#IkOOQS,5>],5>]OOQS-E;p-E;pO!+kQ(C|O,5:UOOQ(CX'#Cp'#CpO!,[Q&kO,5<vOOQO'#Cf'#CfO!,mQ(ChO'#IlO5bQ`O'#IlO:aQ`O,59XO!-OQ!bO,59XO!-WQ&jO,59XO5yQ&jO,59XO!-cQ`O,5:vO!-kQ`O'#GxO!-yQ`O'#JbO){QdO,5;kO!.RQ7[O,5;mO!.WQ`O,5=cO!.]Q`O,5=cO!.bQ`O,5=cO5lQ(ChO,5=cO5tQ`O,5<vO!.pQ`O'#E_O!/UQ7[O'#E`OOQ(CW'#JP'#JPO!/gQ(ChO'#J_O5lQ(ChO,5<zO7sQ`O,5=QOOQP'#Cr'#CrO!/rQ!bO,5<}O!/zQ!cO,5=OO!0VQ`O,5=QO!0[QpO,5=TO:aQ`O'#GnO5tQ`O'#GpO!0dQ`O'#GpO5yQ&jO'#GsO!0iQ`O'#GsOOQS,5=W,5=WO!0nQ`O'#GtO!0vQ`O'#CmO!0{Q`O,59OO!1VQ`O,59OO!3XQdO,59OOOQS,59O,59OO!3fQ(ChO,59OO){QdO,59OO!3qQdO'#G{OOQS'#G|'#G|OOQS'#G}'#G}O`QdO,5=eO!4RQ`O,5=eO){QdO'#DxO`QdO,5=kO`QdO,5=mO!4WQ`O,5=oO`QdO,5=qO!4]Q`O,5=tO!4bQdO,5=zOOQS,5>Q,5>QO){QdO,5>QO5lQ(ChO,5>SOOQS,5>U,5>UO!8cQ`O,5>UOOQS,5>W,5>WO!8cQ`O,5>WOOQS,5>Y,5>YO!8hQpO,59rOOOW-E;r-E;rOOQ(C[1G/]1G/]O!8mQtO,5>aO'dQdO,5>aOOQO,5>f,5>fO!8wQdO'#HuOOQO-E;s-E;sO!9UQ`O,5?bO!9^QtO,5?bO!9eQ`O,5?lOOQ(C[1G/c1G/cO!9mQ!bO'#DTOOQO'#Ix'#IxO){QdO'#IxO!:[Q!bO'#IxO!:yQ!bO'#DcO!;[Q7[O'#DcO!=gQdO'#DcO!=nQ`O'#IwO!=vQ`O,59|O!={Q`O'#EaO!>ZQ`O'#JSO!>cQ`O,5:zO!>yQ7[O'#DcO){QdO,5?mO!?TQ`O'#HzOOQO-E;x-E;xO!9eQ`O,5?lOOQ(CW1G0e1G0eO!@aQ7[O'#D|OOQ(C[,5:e,5:eO){QdO,5:eOIWQ&jO,5:eO!@hQaO,5:eO:aQ`O,5:uO!-OQ!bO,5:uO!-WQ&jO,5:uO5yQ&jO,5:uOOQ(C[1G/n1G/nOOQ(C[1G0O1G0OOOQ(CW'#EV'#EVO){QdO,5?jO!@sQ(ChO,5?jO!AUQ(ChO,5?jO!A]Q`O,5?iO!AeQ`O'#H|O!A]Q`O,5?iOOQ(CW1G0d1G0dO7YQ`O,5?iOOQ(C[1G0b1G0bO!BPQ(C|O1G0bO!CRQ(CyO,5:rOOQ(C]'#Fq'#FqO!CoQ(C}O'#IqOGWQdO1G0bO!EqQ,VO'#IyO!E{Q`O,5:WO!FQQtO'#IzO){QdO'#IzO!F[Q`O,5:]OOQ(C]'#DT'#DTOOQ(C[1G0k1G0kO!FaQ`O1G0kO!HrQ(C|O1G0mO!HyQ(C|O1G0mO!K^Q(C|O1G0mO!KeQ(C|O1G0mO!MlQ(C|O1G0mO!NPQ(C|O1G0mO#!pQ(C|O1G0mO#!wQ(C|O1G0mO#%[Q(C|O1G0mO#%cQ(C|O1G0mO#'WQ(C|O1G0mO#*QQMlO'#ChO#+{QMlO1G0}O#-vQMlO'#IuOOQ(C[1G1T1G1TO#.ZQ(C|O,5>kOOQ(CW-E;}-E;}O#.zQ(C}O1G0mOOQ(C[1G0m1G0mO#1PQ(C|O1G1QO#1pQ!bO,5;sO#1uQ!bO,5;tO#1zQ!bO'#F[O#2`Q`O'#FZOOQO'#JW'#JWOOQO'#H}'#H}O#2eQ!bO1G1]OOQ(C[1G1]1G1]OOOO1G1f1G1fO#2sQMlO'#ItO#2}Q`O,5;}OLbQdO,5;}OOOO-E;|-E;|OOQ(C[1G1Y1G1YOOQ(C[,5<P,5<PO#3SQ!bO,5<POOQ(C],59a,59aOIWQ&jO'#C{OOOW'#Hs'#HsO#3XOWO,59eOOQ(C],59e,59eO){QdO1G1lO!)RQ`O'#IRO#3dQ`O,5<eOOQ(C],5<b,5<bOOQO'#GV'#GVOJjQ&jO,5<pOOQO'#GX'#GXOJjQ&jO,5<rOIWQ&jO,5<tOOQO1G1n1G1nO#3oQqO'#CpO#4SQqO,5<^O#4ZQ`O'#JZO5tQ`O'#JZO#4iQ`O,5<`OJjQ&jO,5<_O#4nQ`O'#FtO#4yQ`O,5<_O#5OQqO'#FqO#5]QqO'#J[O#5gQ`O'#J[OIWQ&jO'#J[O#5lQ`O,5<cOOQ(CW'#Dg'#DgO#5qQ!bO'#F|O!'VQ7[O'#F|O!'VQ7[O'#GOO#6SQ`O'#GPO!&WQ`O'#GSO#6XQ(ChO'#ITO#6dQ7[O,5<gOOQ(C],5<g,5<gO#6kQ7[O'#F|O#6yQ7[O'#F}O#7RQ7[O'#F}OOQ(C],5<u,5<uOJjQ&jO,5?[OJjQ&jO,5?[O#7WQ`O'#IUO#7cQ`O,5?ZO#7kQ`O,59]OOQ(C]'#Ch'#ChO#8[Q,VO,59jOOQ(C],59j,59jO#8}Q,VO,5<UO#9pQ,VO,5<WO#9zQ`O,5<YOOQ(C],5<Z,5<ZO#:PQ`O,5<aO#:UQ,VO,5<fOGWQdO1G1mO#:fQ`O1G1mOOQS1G3v1G3vOOQ(C[1G/p1G/pONbQ`O1G/pOOQS1G2b1G2bOIWQ&jO1G2bO){QdO1G2bOIWQ&jO1G2bO#:kQaO1G2bO#<QQ&jO'#EWOOQ(CW,5?W,5?WO#<[Q(ChO,5?WOOQS1G.s1G.sO:aQ`O1G.sO!-OQ!bO1G.sO!-WQ&jO1G.sO#<mQ`O1G0bO#<rQ`O'#ChO#<}Q`O'#JcO#=VQ`O,5=dO#=[Q`O'#JcO#=aQ`O'#JcO#=iQ`O'#I^O#=wQ`O,5?|O#>PQtO1G1VOOQ(C[1G1X1G1XO5tQ`O1G2}O#>WQ`O1G2}O#>]Q`O1G2}O#>bQ`O1G2}OOQS1G2}1G2}O#>gQ&kO1G2bO7YQ`O'#JQO7YQ`O'#EaO7YQ`O'#IWO#>xQ(ChO,5?yOOQS1G2f1G2fO!0VQ`O1G2lOIWQ&jO1G2iO#?TQ`O1G2iOOQS1G2j1G2jOIWQ&jO1G2jO#?YQaO1G2jO#?bQ7[O'#GhOOQS1G2l1G2lO!'VQ7[O'#IYO!0[QpO1G2oOOQS1G2o1G2oOOQS,5=Y,5=YO#?jQ&kO,5=[O5tQ`O,5=[O#6SQ`O,5=_O5bQ`O,5=_O!-OQ!bO,5=_O!-WQ&jO,5=_O5yQ&jO,5=_O#?{Q`O'#JaO#@WQ`O,5=`OOQS1G.j1G.jO#@]Q(ChO1G.jO#@hQ`O1G.jO#@mQ`O1G.jO5lQ(ChO1G.jO#@uQtO,5@OO#APQ`O,5@OO#A[QdO,5=gO#AcQ`O,5=gO7YQ`O,5@OOOQS1G3P1G3PO`QdO1G3POOQS1G3V1G3VOOQS1G3X1G3XO:[Q`O1G3ZO#AhQdO1G3]O#EcQdO'#H[OOQS1G3`1G3`O#EpQ`O'#HbO:aQ`O'#HdOOQS1G3f1G3fO#ExQdO1G3fO5lQ(ChO1G3lOOQS1G3n1G3nOOQ(CW'#Fx'#FxO5lQ(ChO1G3pO5lQ(ChO1G3rOOOW1G/^1G/^O#IvQpO,5<TO#JOQtO1G3{OOQO1G4Q1G4QO){QdO,5>aO#JYQ`O1G4|O#JbQ`O1G5WO#JjQ`O,5?dOLbQdO,5:{O7YQ`O,5:{O:aQ`O,59}OLbQdO,59}O!-OQ!bO,59}O#JoQMlO,59}OOQO,5:{,5:{O#JyQ7[O'#HvO#KaQ`O,5?cOOQ(C[1G/h1G/hO#KiQ7[O'#H{O#K}Q`O,5?nOOQ(CW1G0f1G0fO!;[Q7[O,59}O#LVQtO1G5XO7YQ`O,5>fOOQ(CW'#ES'#ESO#LaQ(DjO'#ETO!@XQ7[O'#D}OOQO'#Hy'#HyO#L{Q7[O,5:hOOQ(C[,5:h,5:hO#MSQ7[O'#D}O#MeQ7[O'#D}O#MlQ7[O'#EYO#MoQ7[O'#ETO#M|Q7[O'#ETO!@XQ7[O'#ETO#NaQ`O1G0PO#NfQqO1G0POOQ(C[1G0P1G0PO){QdO1G0POIWQ&jO1G0POOQ(C[1G0a1G0aO:aQ`O1G0aO!-OQ!bO1G0aO!-WQ&jO1G0aO#NmQ(C|O1G5UO){QdO1G5UO#N}Q(ChO1G5UO$ `Q`O1G5TO7YQ`O,5>hOOQO,5>h,5>hO$ hQ`O,5>hOOQO-E;z-E;zO$ `Q`O1G5TO$ vQ(C}O,59jO$#xQ(C}O,5<UO$%}Q(C}O,5<WO$(SQ(C}O,5<fOOQ(C[7+%|7+%|O$*_Q(C|O7+%|O$+OQ&jO'#HwO$+YQ`O,5?eOOQ(C]1G/r1G/rO$+bQdO'#HxO$+oQ`O,5?fO$+wQtO,5?fOOQ(C[1G/w1G/wOOQ(C[7+&V7+&VO$,RQMlO,5:^O){QdO7+&iO$,]QMlO,5:UOOQO1G1_1G1_OOQO1G1`1G1`O$,jQ!LQO,5;vOLbQdO,5;uOOQO-E;{-E;{OOQ(C[7+&w7+&wOOOO7+'Q7+'QOOOO1G1i1G1iO$,uQ`O1G1iOOQ(C[1G1k1G1kO$,zQqO,59gOOOW-E;q-E;qOOQ(C]1G/P1G/PO$-RQ(C|O7+'WOOQ(C],5>m,5>mO$-rQ`O,5>mOOQ(C]1G2P1G2PP$-wQ`O'#IRPOQ(C]-E<P-E<PO$.hQ,VO1G2[O$/ZQ,VO1G2^O$/eQqO1G2`OOQ(C]1G1x1G1xO$/lQ`O'#IQO$/zQ`O,5?uO$/zQ`O,5?uO$0SQ`O,5?uO$0_Q`O,5?uOOQO1G1z1G1zO$0mQ,VO1G1yOJjQ&jO1G1yO$0}Q&jO'#ISO$1_Q`O,5?vOIWQ&jO,5?vO$1gQqO,5?vOOQ(C]1G1}1G1}OOQ(CW,5<h,5<hOOQ(CW,5<i,5<iO$1qQ`O,5<iO#5}Q`O,5<iO!-OQ!bO,5<hO$1vQ`O,5<jOOQ(CW,5<k,5<kO$1qQ`O,5<nOOQO,5>o,5>oOOQO-E<R-E<ROOQ(C]1G2R1G2RO!'VQ7[O,5<hO$2OQ`O,5<iO!'VQ7[O,5<jO!'VQ7[O,5<iO$2ZQ,VO1G4vO$2eQ,VO1G4vOOQO,5>p,5>pOOQO-E<S-E<SOOQP1G.w1G.wO!.RQ7[O,59lO){QdO,59lO$2rQ`O1G1tOJjQ&jO1G1{O$2wQ(C|O7+'XOOQ(C[7+'X7+'XOGWQdO7+'XOOQ(C[7+%[7+%[O$3hQqO'#J]O#NaQ`O7+'|O$3rQ`O7+'|O$3zQqO7+'|OOQS7+'|7+'|OIWQ&jO7+'|O){QdO7+'|OIWQ&jO7+'|O$4UQ(CyO'#ChO$4iQ(CyO,5<lO$5ZQ`O,5<lOOQ(CW1G4r1G4rOOQS7+$_7+$_O:aQ`O7+$_O!-OQ!bO7+$_OGWQdO7+%|O$5`Q`O'#I]O$5qQ`O,5?}OOQO1G3O1G3OO5tQ`O,5?}O$5qQ`O,5?}O$5yQ`O,5?}OOQO,5>x,5>xOOQO-E<[-E<[OOQ(C[7+&q7+&qO$6OQ`O7+(iO5lQ(ChO7+(iO5tQ`O7+(iO$6TQ`O7+(iO$6YQaO7+'|OOQ(CW,5>r,5>rOOQ(CW-E<U-E<UOOQS7+(W7+(WO$6hQ(CyO7+(TOIWQ&jO7+(TO$6rQqO7+(UOOQS7+(U7+(UOIWQ&jO7+(UO$6yQ`O'#J`O$7UQ`O,5=SOOQO,5>t,5>tOOQO-E<W-E<WOOQS7+(Z7+(ZO$8OQ7[O'#GqOOQS1G2v1G2vOIWQ&jO1G2vO){QdO1G2vOIWQ&jO1G2vO$8VQaO1G2vO$8eQ&kO1G2vO5lQ(ChO1G2yO#6SQ`O1G2yO5bQ`O1G2yO!-OQ!bO1G2yO!-WQ&jO1G2yO$8vQ`O'#I[O$9RQ`O,5?{O$9ZQ7[O,5?{OOQ(CW1G2z1G2zOOQS7+$U7+$UO$9cQ`O7+$UO5lQ(ChO7+$UO$9hQ`O7+$UO){QdO1G5jO){QdO1G5kO$9mQdO1G3RO$9tQ`O1G3RO$9yQdO1G3RO$:QQ(ChO1G5jOOQS7+(k7+(kO5lQ(ChO7+(uO`QdO7+(wOOQS'#Jf'#JfOOQS'#I_'#I_O$:[QdO,5=vOOQS,5=v,5=vO){QdO'#H]O$:iQ`O'#H_OOQS,5=|,5=|O7YQ`O,5=|OOQS,5>O,5>OOOQS7+)Q7+)QOOQS7+)W7+)WOOQS7+)[7+)[OOQS7+)^7+)^OOQO1G5O1G5OO$:nQMlO1G0gO$:xQ`O1G0gOOQO1G/i1G/iO$;TQMlO1G/iO:aQ`O1G/iOLbQdO'#DcOOQO,5>b,5>bOOQO-E;t-E;tOOQO,5>g,5>gOOQO-E;y-E;yO!-OQ!bO1G/iO:aQ`O,5:iOOQO,5:o,5:oO){QdO,5:oO$;_Q(ChO,5:oO$;jQ(ChO,5:oO!-OQ!bO,5:iOOQO-E;w-E;wOOQ(C[1G0S1G0SO!@XQ7[O,5:iO$;xQ7[O,5:iO$<ZQ(DjO,5:oO$<uQ7[O,5:iO!@XQ7[O,5:oOOQO,5:t,5:tO$<|Q7[O,5:oO$=ZQ(ChO,5:oOOQ(C[7+%k7+%kO#NaQ`O7+%kO#NfQqO7+%kOOQ(C[7+%{7+%{O:aQ`O7+%{O!-OQ!bO7+%{O$=oQ(C|O7+*pO){QdO7+*pOOQO1G4S1G4SO7YQ`O1G4SO$>PQ`O7+*oO$>XQ(C}O1G2[O$@^Q(C}O1G2^O$BcQ(C}O1G1yO$DnQ,VO,5>cOOQO-E;u-E;uO$DxQtO,5>dO){QdO,5>dOOQO-E;v-E;vO$ESQ`O1G5QO$E[QMlO1G0bO$GcQMlO1G0mO$GjQMlO1G0mO$IkQMlO1G0mO$IrQMlO1G0mO$KgQMlO1G0mO$KzQMlO1G0mO$NXQMlO1G0mO$N`QMlO1G0mO%!aQMlO1G0mO%!hQMlO1G0mO%$]QMlO1G0mO%$pQ(C|O<<JTO%%rQMmO1G0mO%'|QMmO'#IqO%)iQMlO1G1QOLbQdO'#F^OOQO'#JX'#JXOOQO1G1b1G1bO%)vQ`O1G1aO%){QMlO,5>kOOOO7+'T7+'TOOOW1G/R1G/ROOQ(C]1G4X1G4XOJjQ&jO7+'zO%*VQ`O,5>lO5tQ`O,5>lOOQO-E<O-E<OO%*eQ`O1G5aO%*eQ`O1G5aO%*mQ`O1G5aO%*xQ,VO7+'eO%+YQqO,5>nO%+dQ`O,5>nOIWQ&jO,5>nOOQO-E<Q-E<QO%+iQqO1G5bO%+sQ`O1G5bOOQ(CW1G2T1G2TO$1qQ`O1G2TOOQ(CW1G2S1G2SO%+{Q`O1G2UOIWQ&jO1G2UOOQ(CW1G2Y1G2YO!-OQ!bO1G2SO#5}Q`O1G2TO%,QQ`O1G2UO%,YQ`O1G2TOJjQ&jO7+*bOOQ(C]1G/W1G/WO%,eQ`O1G/WOOQ(C]7+'`7+'`O%,jQ,VO7+'gO%,zQ(C|O<<JsOOQ(C[<<Js<<JsOIWQ&jO'#IVO%-kQ`O,5?wOOQS<<Kh<<KhOIWQ&jO<<KhO#NaQ`O<<KhO%-sQ`O<<KhO%-{QqO<<KhOIWQ&jO1G2WOOQS<<Gy<<GyO:aQ`O<<GyO%.VQ(C|O<<IhOOQ(C[<<Ih<<IhOOQO,5>w,5>wO%.vQ`O,5>wO%.{Q`O,5>wOOQO-E<Z-E<ZO%/TQ`O1G5iO%/TQ`O1G5iO5tQ`O1G5iO%/]Q`O<<LTOOQS<<LT<<LTO%/bQ`O<<LTO5lQ(ChO<<LTO){QdO<<KhOIWQ&jO<<KhOOQS<<Ko<<KoO$6hQ(CyO<<KoOOQS<<Kp<<KpO$6rQqO<<KpO%/gQ7[O'#IXO%/rQ`O,5?zOLbQdO,5?zOOQS1G2n1G2nO#LaQ(DjO'#ETO!@XQ7[O'#GrOOQO'#IZ'#IZO%/zQ7[O,5=]OOQS,5=],5=]O%0RQ7[O'#ETO%0^Q7[O'#ETO%0uQ7[O'#ETO%1PQ7[O'#GrO%1bQ`O7+(bO%1gQ`O7+(bO%1oQqO7+(bOOQS7+(b7+(bOIWQ&jO7+(bO){QdO7+(bOIWQ&jO7+(bO%1yQaO7+(bOOQS7+(e7+(eO5lQ(ChO7+(eO#6SQ`O7+(eO5bQ`O7+(eO!-OQ!bO7+(eO%2XQ`O,5>vOOQO-E<Y-E<YOOQO'#Gu'#GuO%2dQ`O1G5gO5lQ(ChO<<GpOOQS<<Gp<<GpO%2lQ`O<<GpO%2qQ`O7++UO%2vQ`O7++VOOQS7+(m7+(mO%2{Q`O7+(mO%3QQdO7+(mO%3XQ`O7+(mO){QdO7++UO){QdO7++VOOQS<<La<<LaOOQS<<Lc<<LcOOQS-E<]-E<]OOQS1G3b1G3bO%3^Q`O,5=wOOQS,5=y,5=yO%3cQ`O1G3hOLbQdO7+&ROOQO7+%T7+%TO%3hQMlO1G5XO:aQ`O7+%TOOQO1G0T1G0TO%3rQ(C|O1G0ZOOQO1G0Z1G0ZO){QdO1G0ZO%3|Q(ChO1G0ZO:aQ`O1G0TO!-OQ!bO1G0TO!@XQ7[O1G0TO%4XQ(ChO1G0ZO%4gQ7[O1G0TO%4xQ(ChO1G0ZO%5^Q(DjO1G0ZO%5hQ7[O1G0TO!@XQ7[O1G0ZOOQ(C[<<IV<<IVOOQ(C[<<Ig<<IgO:aQ`O<<IgO%5oQ(C|O<<N[OOQO7+)n7+)nO%6PQ(C}O7+'eO%8[Q(C}O7+'gO%:gQtO1G4OO%:qQMlO7+%|O%;gQMmO,59jO%=hQMmO,5<UO%?lQMmO,5<WO%A[QMmO,5<fO%B}QMlO7+'WO%C[QMlO7+'XO%CiQ`O,5;xOOQO7+&{7+&{O%CnQ,VO<<KfOOQO1G4W1G4WO%CuQ`O1G4WO%DQQ`O1G4WO%D`Q`O7+*{O%D`Q`O7+*{OIWQ&jO1G4YO%DhQqO1G4YO%DrQ`O7+*|OOQ(CW7+'o7+'oO$1qQ`O7+'pO%DzQqO7+'pOOQ(CW7+'n7+'nO$1qQ`O7+'oO%ERQ`O7+'pOIWQ&jO7+'pO#5}Q`O7+'oO%EWQ,VO<<M|OOQ(C]7+$r7+$rO%EbQqO,5>qOOQO-E<T-E<TO#NaQ`OANASOOQSANASANASOIWQ&jOANASO%ElQ(CyO7+'rOOQSAN=eAN=eO5tQ`O1G4cOOQO1G4c1G4cO%E|Q`O1G4cO%FRQ`O7++TO%FRQ`O7++TO5lQ(ChOANAoO%FZQ`OANAoOOQSANAoANAoO%F`Q`OANASO%FhQqOANASOOQSANAZANAZOOQSANA[ANA[O%FrQ`O,5>sOOQO-E<V-E<VO%F}QMlO1G5fO#6SQ`O,5=^O5bQ`O,5=^O!-OQ!bO,5=^OOQO-E<X-E<XOOQS1G2w1G2wO$<ZQ(DjO,5:oO!@XQ7[O,5=^O%GXQ7[O,5=^O%GjQ7[O,5:oOOQS<<K|<<K|OIWQ&jO<<K|O%1bQ`O<<K|O%GtQ`O<<K|O%G|QqO<<K|O){QdO<<K|OIWQ&jO<<K|OOQS<<LP<<LPO5lQ(ChO<<LPO#6SQ`O<<LPO5bQ`O<<LPO%HWQ7[O1G4bO%H`Q`O7++ROOQSAN=[AN=[O5lQ(ChOAN=[OOQS<<Np<<NpOOQS<<Nq<<NqOOQS<<LX<<LXO%HhQ`O<<LXO%HmQdO<<LXO%HtQ`O<<NpO%HyQ`O<<NqOOQS1G3c1G3cO:aQ`O7+)SO%IOQMlO<<ImOOQO<<Ho<<HoOOQO7+%u7+%uO%3rQ(C|O7+%uO){QdO7+%uOOQO7+%o7+%oO:aQ`O7+%oO!-OQ!bO7+%oO%IYQ(ChO7+%uO!@XQ7[O7+%oO%IeQ(ChO7+%uO%IsQ7[O7+%oO%JUQ(ChO7+%uOOQ(C[AN?RAN?RO%JjQMlO<<JTO%JwQMmO1G1yO%MOQMmO1G2[O& SQMmO1G2^O&!rQMlO<<JsO&#PQMlO<<IhOOQO1G1d1G1dOJjQ&jOANAQOOQO7+)r7+)rO&#^Q`O7+)rO&#iQ`O<<NgO&#qQqO7+)tOOQ(CW<<K[<<K[O$1qQ`O<<K[OOQ(CW<<KZ<<KZO&#{QqO<<K[O$1qQ`O<<KZOOQSG26nG26nO#NaQ`OG26nOOQO7+)}7+)}O5tQ`O7+)}O&$SQ`O<<NoOOQSG27ZG27ZO5lQ(ChOG27ZOIWQ&jOG26nOLbQdO1G4_O&$[Q`O7++QO5lQ(ChO1G2xO#6SQ`O1G2xO5bQ`O1G2xO!-OQ!bO1G2xO!@XQ7[O1G2xO%5^Q(DjO1G0ZO&$dQ7[O1G2xO%1bQ`OANAhOOQSANAhANAhOIWQ&jOANAhO&$uQ`OANAhO&$}QqOANAhOOQSANAkANAkO5lQ(ChOANAkO#6SQ`OANAkOOQO'#Gv'#GvOOQO7+)|7+)|OOQSG22vG22vOOQSANAsANAsO&%XQ`OANAsOOQSAND[AND[OOQSAND]AND]OOQS<<Ln<<LnOOQO<<Ia<<IaO%3rQ(C|O<<IaOOQO<<IZ<<IZO:aQ`O<<IZO){QdO<<IaO!-OQ!bO<<IZO&%^Q(ChO<<IaO!@XQ7[O<<IZO&%iQ(ChO<<IaO&%wQMmO7+'eO&'jQMmO7+'gO&)]Q,VOG26lOOQO<<M^<<M^OOQ(CWAN@vAN@vO$1qQ`OAN@vOOQ(CWAN@uAN@uOOQSLD,YLD,YOOQO<<Mi<<MiOOQSLD,uLD,uO#NaQ`OLD,YO&)mQMlO7+)yOOQO7+(d7+(dO5lQ(ChO7+(dO#6SQ`O7+(dO5bQ`O7+(dO!-OQ!bO7+(dO!@XQ7[O7+(dOOQSG27SG27SO%1bQ`OG27SOIWQ&jOG27SOOQSG27VG27VO5lQ(ChOG27VOOQSG27_G27_OOQOAN>{AN>{OOQOAN>uAN>uO%3rQ(C|OAN>{O:aQ`OAN>uO){QdOAN>{O!-OQ!bOAN>uO&)wQ(ChOAN>{O&*SQ(C}OG26lOOQ(CWG26bG26bOOQS!$( t!$( tOOQO<<LO<<LOO5lQ(ChO<<LOO#6SQ`O<<LOO5bQ`O<<LOO!-OQ!bO<<LOOOQSLD,nLD,nO%1bQ`OLD,nOOQSLD,qLD,qOOQOG24gG24gOOQOG24aG24aO%3rQ(C|OG24gO:aQ`OG24aO){QdOG24gO&,pQ!LRO,5:rO&-gQ$ITO'#IqOOQOANAjANAjO5lQ(ChOANAjO#6SQ`OANAjO5bQ`OANAjOOQS!$(!Y!$(!YOOQOLD*RLD*ROOQOLD){LD){O%3rQ(C|OLD*RO&.ZQMmOG26lO&/|Q!LRO,59jO&0pQ!LRO,5<UO&1dQ!LRO,5<WO&2WQ!LRO,5<fOOQOG27UG27UO5lQ(ChOG27UO#6SQ`OG27UOOQO!$'Mm!$'MmO&2}Q!LRO1G2[O&3qQ!LRO1G2^O&4eQ!LRO1G1yOOQOLD,pLD,pO5lQ(ChOLD,pO&5[Q!LRO7+'eO&6RQ!LRO7+'gOOQO!$(![!$(![O&6xQ!LROG26lOLbQdO'#DrO&7oQtO'#ItOLbQdO'#DjO&7vQ(C|O'#ChO&8aQtO'#ChO&8qQdO,5:vO&:qQ&jO'#EWOLbQdO,5;ROLbQdO,5;ROLbQdO,5;ROLbQdO,5;ROLbQdO,5;ROLbQdO,5;ROLbQdO,5;ROLbQdO,5;ROLbQdO,5;ROLbQdO,5;ROLbQdO,5;ROLbQdO'#IPO&<OQ`O,5<TO&=eQ&jO,5;ROLbQdO,5;fO!(wQ`O'#DOO!(wQ`O'#DOO!(wQ`O'#DOOIWQ&jO'#FjO&:qQ&jO'#FjO&<WQ&jO'#FjOIWQ&jO'#FlO&:qQ&jO'#FlO&<WQ&jO'#FlOIWQ&jO'#FzO&:qQ&jO'#FzO&<WQ&jO'#FzOLbQdO,5?mO&8qQdO1G0bO&=lQMlO'#ChOLbQdO1G1lOIWQ&jO,5<pO&:qQ&jO,5<pO&<WQ&jO,5<pOIWQ&jO,5<rO&:qQ&jO,5<rO&<WQ&jO,5<rOIWQ&jO,5<_O&:qQ&jO,5<_O&<WQ&jO,5<_O&8qQdO1G1mOLbQdO7+&iOIWQ&jO1G1yO&:qQ&jO1G1yO&<WQ&jO1G1yOIWQ&jO1G1{O&:qQ&jO1G1{O&<WQ&jO1G1{O&8qQdO7+'XO&8qQdO7+%|O&=vQ`O7+'pOIWQ&jOANAQO&:qQ&jOANAQO&<WQ&jOANAQO&=vQ`O<<K[O&=vQ`OAN@vO&={Q`O'#E[O&>QQ`O'#E[O&>YQ`O'#EzO&>_Q`O'#EgO&>dQ`O'#JRO&>oQ`O'#JPO&>zQ`O,5:vO&?PQ,VO,5<QO&?WQ`O'#FsO&?]Q`O'#FsO&?bQ`O'#FsO&?gQ`O,5<RO&?oQ`O,5:vO&?wQMlO1G0}O&@OQ`O,5<_O&@TQ`O,5<_O&@YQ`O,5<_O&@_Q`O,5<aO&@dQ`O,5<aO&@iQ`O,5<aO&@nQ`O1G1mO&@sQ`O1G0bO&@xQ`O1G2UO&@}Q,VO<<KfO&AUQ,VO<<KfO&A]Q,VO<<KfO&AdQqO7+'pO&AkQ`O7+'pO&ApQqO<<K[O4QQ&jO'#FhO5bQ`O'#FgOBzQ`O'#EZOLbQdO,5;cO!&WQ`O'#FsO!&WQ`O'#FsO!&WQ`O'#FsO!&WQ`O'#FuO!&WQ`O'#FuO!&WQ`O'#FuO&AwQ`O,5<jOJjQ&jO7+'zOJjQ&jO7+'zOJjQ&jO7+'zOIWQ&jO1G2UO&BPQ`O1G2UOIWQ&jO7+'pO!'VQ7[O'#GOO$/eQqO1G2`O$/eQqO1G2`O$/eQqO1G2`O!'VQ7[O,5<jOIWQ&jO,5<tOIWQ&jO,5<tOIWQ&jO,5<t",stateData:"&B}~O'YOS'ZOSTOSUOS~OQTORTOXyO]cO_hObnOcmOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!TSO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!nlO#dsO#tpO#x^O%PqO%RtO%TrO%UrO%XuO%ZvO%^wO%_wO%axO%nzO%t{O%v|O%x}O%z!OO%}!PO&T!QO&Z!RO&]!SO&_!TO&a!UO&c!VO']PO'fQO'oYO'|aO~OQ[XZ[X_[Xj[Xu[Xv[Xx[X!R[X!a[X!b[X!d[X!j[X!{[X#WdX#[[X#][X#^[X#_[X#`[X#a[X#b[X#c[X#e[X#g[X#i[X#j[X#o[X'W[X'f[X'p[X'w[X'x[X~O!]$lX~P$zOS!WO'U!XO'V!ZO~OQTORTO]cOb!kOc!jOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!T!bO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!n!iO#t!lO#x^O']![O'fQO'oYO'|aO~O!Q!`O!R!]O!O'jP!O'tP~P'dO!S!mO~P`OQTORTO]cOb!kOc!jOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!T!bO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!n!iO#t!lO#x^O']9aO'fQO'oYO'|aO~OQTORTO]cOb!kOc!jOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!T!bO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!n!iO#t!lO#x^O'fQO'oYO'|aO~O!Q!rO#U!uO#V!rO']9bO!c'qP~P+{O#W!vO~O!]!wO#W!vO~OQ#^OZ#dOj#ROu!{Ov!{Ox!|O!R#bO!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO#g#WO#i#YO#j#ZO'fQO'p#[O'w!}O'x#OO~O_'hX'W'hX!c'hX!O'hX!T'hX%Q'hX!]'hX~P.jO!{#eO#o#eOQ'iXZ'iX_'iXj'iXu'iXv'iXx'iX!R'iX!a'iX!b'iX!d'iX!j'iX#['iX#]'iX#^'iX#_'iX#`'iX#a'iX#b'iX#e'iX#g'iX#i'iX#j'iX'f'iX'p'iX'w'iX'x'iX~O#c'iX'W'iX!O'iX!c'iXn'iX!T'iX%Q'iX!]'iX~P0zO!{#eO~O#z#fO$R#jO~O!T#kO#x^O$U#lO$W#nO~O]#qOh$QOj#rOk#qOl#qOq$ROs$SOx#yO!T#zO!_$XO!d#vO#V$YO#t$VO$_$TO$a$UO$d$WO']#pO'b$PO'f#sO'a'cP~O!d$ZO~O!]$]O~O_$^O'W$^O~O']$bO~O!d$ZO']$bO'^$dO'b$PO~Oc$jO!d$ZO']$bO~O#c#TO~O]$sOu$oO!T$lO!d$nO%R$rO']$bO'^$dO^(UP~O!n$tO~Ox$uO!T$vO']$bO~Ox$uO!T$vO%Z$zO']$bO~O']${O~O#dsO%RtO%TrO%UrO%XuO%ZvO%^wO%_wO~Ob%UOc%TO!n%RO%P%SO%c%QO~P7xOb%XOcmO!T%WO!nlO#dsO%PqO%TrO%UrO%XuO%ZvO%^wO%_wO%axO~O`%[O!{%_O%R%YO'^$dO~P8wO!d%`O!g%dO~O!d%eO~O!TSO~O_$^O'T%mO'W$^O~O_$^O'T%pO'W$^O~O_$^O'T%rO'W$^O~OS!WO'U!XO'V%vO~OQ[XZ[Xj[Xu[Xv[Xx[X!R[X!RdX!a[X!b[X!d[X!j[X!{[X!{dX#WdX#[[X#][X#^[X#_[X#`[X#a[X#b[X#c[X#e[X#g[X#i[X#j[X#o[X'f[X'p[X'w[X'x[X~O!O[X!OdX~P;dO!Q%xO!O&iX!O&nX!R&iX!R&nX~P'dO!R%zO!O'jX~OQ#^OZ#dOj#ROu!{Ov!{Ox!|O!R%zO!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO#g#WO#i#YO#j#ZO'fQO'p#[O'w!}O'x#OO~O!O'jX~P>aO!O&PO~Ox&SO!W&^O!X&VO!Y&VO'^$dO~O]&TOk&TO!Q&WO'g&QO!S'kP!S'vP~P@dO!O'sX!R'sX!]'sX!c'sX'p'sX~O!{'sX#W#PX!S'sX~PA]O!{&_O!O'uX!R'uX~O!R&`O!O'tX~O!O&cO~O!{#eO~PA]OP&gO!T&dO!o&fO']$bO~Oc&lO!d$ZO']$bO~Ou$oO!d$nO~O!S&mO~P`Ou!{Ov!{Ox!|O!b!yO!d!zO'fQOQ!faZ!faj!fa!R!fa!a!fa!j!fa#[!fa#]!fa#^!fa#_!fa#`!fa#a!fa#b!fa#c!fa#e!fa#g!fa#i!fa#j!fa'p!fa'w!fa'x!fa~O_!fa'W!fa!O!fa!c!fan!fa!T!fa%Q!fa!]!fa~PCfO!c&nO~O!]!wO!{&pO'p&oO!R'rX_'rX'W'rX~O!c'rX~PFOO!R&tO!c'qX~O!c&vO~Ox$uO!T$vO#V&wO']$bO~OQTORTO]cOb!kOc!jOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!TSO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!n!iO#t!lO#x^O']9aO'fQO'oYO'|aO~O]#qOh$QOj#rOk#qOl#qOq$ROs9tOx#yO!T#zO!_;eO!d#vO#V9}O#t$VO$_9wO$a9zO$d$WO']&{O'b$PO'f#sO~O#W&}O~O]#qOh$QOj#rOk#qOl#qOq$ROs$SOx#yO!T#zO!_$XO!d#vO#V$YO#t$VO$_$TO$a$UO$d$WO']&{O'b$PO'f#sO~O'a'mP~PJjO!Q'RO!c'nP~P){O'g'TO'oYO~OQ9^OR9^O]cOb;`Oc!jOhcOj9^OkcOlcOq9^Os9^OxRO{cO|cO}cO!T!bO!_9`O!dUO!g9^O!h9^O!i9^O!j9^O!k9^O!n!iO#t!lO#x^O']'cO'fQO'oYO'|;^O~O!d!zO~O!R#bO_$]a'W$]a!c$]a!O$]a!T$]a%Q$]a!]$]a~O#d'jO~PIWO!]'lO!T'yX#w'yX#z'yX$R'yX~Ou'mO~P! YOu'mO!T'yX#w'yX#z'yX$R'yX~O!T'oO#w'sO#z'nO$R'tO~O!Q'wO~PLbO#z#fO$R'zO~OP$eXu$eXx$eX!b$eX'w$eX'x$eX~OPfX!RfX!{fX'afX'a$eX~P!!rOk'|O~OS'}O'U(OO'V(QO~OP(ZOu(SOx(TO'w(VO'x(XO~O'a(RO~P!#{O'a([O~O]#qOh$QOj#rOk#qOl#qOq$ROs9tOx#yO!T#zO!_;eO!d#vO#V9}O#t$VO$_9wO$a9zO$d$WO'b$PO'f#sO~O!Q(`O'](]O!c'}P~P!$jO#W(bO~O!d(cO~O!Q(hO'](eO!O(OP~P!$jOj(uOx(mO!W(sO!X(lO!Y(lO!d(cO!x(tO$w(oO'^$dO'g(jO~O!S(rO~P!&jO!b!yOP'eXu'eXx'eX'w'eX'x'eX!R'eX!{'eX~O'a'eX#m'eX~P!'cOP(xO!{(wO!R'dX'a'dX~O!R(yO'a'cX~O']${O'a'cP~O'](|O~O!d)RO~O']&{O~Ox$uO!Q!rO!T$vO#U!uO#V!rO']$bO!c'qP~O!]!wO#W)VO~OQ#^OZ#dOj#ROu!{Ov!{Ox!|O!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO#g#WO#i#YO#j#ZO'fQO'p#[O'w!}O'x#OO~O_!^a!R!^a'W!^a!O!^a!c!^an!^a!T!^a%Q!^a!]!^a~P!)wOP)_O!T&dO!o)^O%Q)]O'b$PO~O!])aO!T'`X_'`X!R'`X'W'`X~O!d$ZO'b$PO~O!d$ZO']$bO'b$PO~O!]!wO#W&}O~O])lO%R)mO'])iO!S(VP~O!R)nO^(UX~O'g'TO~OZ)rO~O^)sO~O!T$lO']$bO'^$dO^(UP~Ox$uO!Q)xO!R&`O!T$vO']$bO!O'tP~O]&ZOk&ZO!Q)yO'g'TO!S'vP~O!R)zO_(RX'W(RX~O!{*OO'b$PO~OP*RO!T#zO'b$PO~O!T*TO~Ou*VO!TSO~O!n*[O~Oc*aO~O'](|O!S(TP~Oc$jO~O%RtO']${O~P8wOZ*gO^*fO~OQTORTO]cObnOcmOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!nlO#x^O%PqO'fQO'oYO'|aO~O!T!bO#t!lO']9aO~P!1_O^*fO_$^O'W$^O~O_*kO#d*mO%T*mO%U*mO~P){O!d%`O~O%t*rO~O!T*tO~O&V*vO&X*wOQ&SaR&SaX&Sa]&Sa_&Sab&Sac&Sah&Saj&Sak&Sal&Saq&Sas&Sax&Sa{&Sa|&Sa}&Sa!T&Sa!_&Sa!d&Sa!g&Sa!h&Sa!i&Sa!j&Sa!k&Sa!n&Sa#d&Sa#t&Sa#x&Sa%P&Sa%R&Sa%T&Sa%U&Sa%X&Sa%Z&Sa%^&Sa%_&Sa%a&Sa%n&Sa%t&Sa%v&Sa%x&Sa%z&Sa%}&Sa&T&Sa&Z&Sa&]&Sa&_&Sa&a&Sa&c&Sa'S&Sa']&Sa'f&Sa'o&Sa'|&Sa!S&Sa%{&Sa`&Sa&Q&Sa~O']*|O~On+PO~O!O&ia!R&ia~P!)wO!Q+TO!O&iX!R&iX~P){O!R%zO!O'ja~O!O'ja~P>aO!R&`O!O'ta~O!RwX!R!ZX!SwX!S!ZX!]wX!]!ZX!d!ZX!{wX'b!ZX~O!]+YO!{+XO!R#TX!R'lX!S#TX!S'lX!]'lX!d'lX'b'lX~O!]+[O!d$ZO'b$PO!R!VX!S!VX~O]&ROk&ROx&SO'g(jO~OQ9^OR9^O]cOb;`Oc!jOhcOj9^OkcOlcOq9^Os9^OxRO{cO|cO}cO!T!bO!_9`O!dUO!g9^O!h9^O!i9^O!j9^O!k9^O!n!iO#t!lO#x^O'fQO'oYO'|;^O~O']:SO~P!;jO!R+`O!S'kX~O!S+bO~O!]+YO!{+XO!R#TX!S#TX~O!R+cO!S'vX~O!S+eO~O]&ROk&ROx&SO'^$dO'g(jO~O!X+fO!Y+fO~P!>hOx$uO!Q+hO!T$vO']$bO!O&nX!R&nX~O_+lO!W+oO!X+kO!Y+kO!r+sO!s+qO!t+rO!u+pO!x+tO'^$dO'g(jO'o+iO~O!S+nO~P!?iOP+yO!T&dO!o+xO~O!{,PO!R'ra!c'ra_'ra'W'ra~O!]!wO~P!@sO!R&tO!c'qa~Ox$uO!Q,SO!T$vO#U,UO#V,SO']$bO!R&pX!c&pX~O_#Oi!R#Oi'W#Oi!O#Oi!c#Oin#Oi!T#Oi%Q#Oi!]#Oi~P!)wOP;tOu(SOx(TO'w(VO'x(XO~O#W!za!R!za!c!za!{!za!T!za_!za'W!za!O!za~P!BpO#W'eXQ'eXZ'eX_'eXj'eXv'eX!a'eX!d'eX!j'eX#['eX#]'eX#^'eX#_'eX#`'eX#a'eX#b'eX#c'eX#e'eX#g'eX#i'eX#j'eX'W'eX'f'eX'p'eX!c'eX!O'eX!T'eXn'eX%Q'eX!]'eX~P!'cO!R,_O'a'mX~P!#{O'a,aO~O!R,bO!c'nX~P!)wO!c,eO~O!O,fO~OQ#^Ou!{Ov!{Ox!|O!b!yO!d!zO!j#^O'fQOZ#Zi_#Zij#Zi!R#Zi!a#Zi#]#Zi#^#Zi#_#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi'W#Zi'p#Zi'w#Zi'x#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~O#[#Zi~P!FfO#[#PO~P!FfOQ#^Ou!{Ov!{Ox!|O!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO'fQOZ#Zi_#Zi!R#Zi!a#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi'W#Zi'p#Zi'w#Zi'x#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~Oj#Zi~P!IQOj#RO~P!IQOQ#^Oj#ROu!{Ov!{Ox!|O!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO'fQO_#Zi!R#Zi#e#Zi#g#Zi#i#Zi#j#Zi'W#Zi'p#Zi'w#Zi'x#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~OZ#Zi!a#Zi#a#Zi#b#Zi#c#Zi~P!KlOZ#dO!a#TO#a#TO#b#TO#c#TO~P!KlOQ#^OZ#dOj#ROu!{Ov!{Ox!|O!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO'fQO_#Zi!R#Zi#g#Zi#i#Zi#j#Zi'W#Zi'p#Zi'x#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~O'w#Zi~P!NdO'w!}O~P!NdOQ#^OZ#dOj#ROu!{Ov!{Ox!|O!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO#g#WO'fQO'w!}O_#Zi!R#Zi#i#Zi#j#Zi'W#Zi'p#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~O'x#Zi~P##OO'x#OO~P##OOQ#^OZ#dOj#ROu!{Ov!{Ox!|O!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO#g#WO#i#YO'fQO'w!}O'x#OO~O_#Zi!R#Zi#j#Zi'W#Zi'p#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~P#%jOQ[XZ[Xj[Xu[Xv[Xx[X!a[X!b[X!d[X!j[X!{[X#WdX#[[X#][X#^[X#_[X#`[X#a[X#b[X#c[X#e[X#g[X#i[X#j[X#o[X'f[X'p[X'w[X'x[X!R[X!S[X~O#m[X~P#'}OQ#^OZ9rOj9gOu!{Ov!{Ox!|O!a9iO!b!yO!d!zO!j#^O#[9eO#]9fO#^9fO#_9fO#`9hO#a9iO#b9iO#c9iO#e9jO#g9lO#i9nO#j9oO'fQO'p#[O'w!}O'x#OO~O#m,hO~P#*XOQ'iXZ'iXj'iXu'iXv'iXx'iX!a'iX!b'iX!d'iX!j'iX#['iX#]'iX#^'iX#_'iX#`'iX#a'iX#b'iX#e'iX#g'iX#i'iX#j'iX'f'iX'p'iX'w'iX'x'iX!R'iX~O!{9sO#o9sO#c'iX#m'iX!S'iX~P#,SO_&sa!R&sa'W&sa!c&san&sa!O&sa!T&sa%Q&sa!]&sa~P!)wOQ#ZiZ#Zi_#Zij#Ziv#Zi!R#Zi!a#Zi!b#Zi!d#Zi!j#Zi#[#Zi#]#Zi#^#Zi#_#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi'W#Zi'f#Zi'p#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~P!BpO_#ni!R#ni'W#ni!O#ni!c#nin#ni!T#ni%Q#ni!]#ni~P!)wO#z,jO~O#z,kO~O!]'lO!{,lO!T$OX#w$OX#z$OX$R$OX~O!Q,mO~O!T'oO#w,oO#z'nO$R,pO~O!R9pO!S'hX~P#*XO!S,qO~O$R,sO~OS'}O'U(OO'V,vO~O],yOk,yO!O,zO~O!RdX!]dX!cdX!c$eX'pdX~P!!rO!c-QO~P!BpO!R-RO!]!wO'p&oO!c'}X~O!c-WO~O!Q(`O']$bO!c'}P~O#W-YO~O!O$eX!R$eX!]$lX~P!!rO!R-ZO!O(OX~P!BpO!]-]O~O!O-_O~Oj-cO!]!wO!d$ZO'b$PO'p&oO~O!])aO~O_$^O!R-hO'W$^O~O!S-jO~P!&jO!X-kO!Y-kO'^$dO'g(jO~Ox-mO'g(jO~O!x-nO~O']${O!R&xX'a&xX~O!R(yO'a'ca~O'a-sO~Ou-tOv-tOx-uOPra'wra'xra!Rra!{ra~O'ara#mra~P#7pOu(SOx(TOP$^a'w$^a'x$^a!R$^a!{$^a~O'a$^a#m$^a~P#8fOu(SOx(TOP$`a'w$`a'x$`a!R$`a!{$`a~O'a$`a#m$`a~P#9XO]-vO~O#W-wO~O'a$na!R$na!{$na#m$na~P!#{O#W-zO~OP.TO!T&dO!o.SO%Q.RO~O]#qOj#rOk#qOl#qOq$ROs9tOx#yO!T#zO!_;eO!d#vO#V9}O#t$VO$_9wO$a9zO$d$WO'b$PO'f#sO~Oh.VO'].UO~P#:yO!])aO!T'`a_'`a!R'`a'W'`a~O#W.]O~OZ[X!RdX!SdX~O!R.^O!S(VX~O!S.`O~OZ.aO~O].cO'])iO~O!T$lO']$bO^'QX!R'QX~O!R)nO^(Ua~O!c.fO~P!)wO].hO~OZ.iO~O^.jO~OP.TO!T&dO!o.SO%Q.RO'b$PO~O!R)zO_(Ra'W(Ra~O!{.pO~OP.sO!T#zO~O'g'TO!S(SP~OP.}O!T.yO!o.|O%Q.{O'b$PO~OZ/XO!R/VO!S(TX~O!S/YO~O^/[O_$^O'W$^O~O]/]O~O]/^O'](|O~O#c/_O%r/`O~P0zO!{#eO#c/_O%r/`O~O_/aO~P){O_/cO~O%{/gOQ%yiR%yiX%yi]%yi_%yib%yic%yih%yij%yik%yil%yiq%yis%yix%yi{%yi|%yi}%yi!T%yi!_%yi!d%yi!g%yi!h%yi!i%yi!j%yi!k%yi!n%yi#d%yi#t%yi#x%yi%P%yi%R%yi%T%yi%U%yi%X%yi%Z%yi%^%yi%_%yi%a%yi%n%yi%t%yi%v%yi%x%yi%z%yi%}%yi&T%yi&Z%yi&]%yi&_%yi&a%yi&c%yi'S%yi']%yi'f%yi'o%yi'|%yi!S%yi`%yi&Q%yi~O`/mO!S/kO&Q/lO~P`O!TSO!d/oO~O&X*wOQ&SiR&SiX&Si]&Si_&Sib&Sic&Sih&Sij&Sik&Sil&Siq&Sis&Six&Si{&Si|&Si}&Si!T&Si!_&Si!d&Si!g&Si!h&Si!i&Si!j&Si!k&Si!n&Si#d&Si#t&Si#x&Si%P&Si%R&Si%T&Si%U&Si%X&Si%Z&Si%^&Si%_&Si%a&Si%n&Si%t&Si%v&Si%x&Si%z&Si%}&Si&T&Si&Z&Si&]&Si&_&Si&a&Si&c&Si'S&Si']&Si'f&Si'o&Si'|&Si!S&Si%{&Si`&Si&Q&Si~O!R#bOn$]a~O!O&ii!R&ii~P!)wO!R%zO!O'ji~O!R&`O!O'ti~O!O/uO~O!R!Va!S!Va~P#*XO]&ROk&RO!Q/{O'g(jO!R&jX!S&jX~P@dO!R+`O!S'ka~O]&ZOk&ZO!Q)yO'g'TO!R&oX!S&oX~O!R+cO!S'va~O!O'ui!R'ui~P!)wO_$^O!]!wO!d$ZO!j0VO!{0TO'W$^O'b$PO'p&oO~O!S0YO~P!?iO!X0ZO!Y0ZO'^$dO'g(jO'o+iO~O!W0[O~P#MSO!TSO!W0[O!u0^O!x0_O~P#MSO!W0[O!s0aO!t0aO!u0^O!x0_O~P#MSO!T&dO~O!T&dO~P!BpO!R'ri!c'ri_'ri'W'ri~P!)wO!{0jO!R'ri!c'ri_'ri'W'ri~O!R&tO!c'qi~Ox$uO!T$vO#V0lO']$bO~O#WraQraZra_rajra!ara!bra!dra!jra#[ra#]ra#^ra#_ra#`ra#ara#bra#cra#era#gra#ira#jra'Wra'fra'pra!cra!Ora!Tranra%Qra!]ra~P#7pO#W$^aQ$^aZ$^a_$^aj$^av$^a!a$^a!b$^a!d$^a!j$^a#[$^a#]$^a#^$^a#_$^a#`$^a#a$^a#b$^a#c$^a#e$^a#g$^a#i$^a#j$^a'W$^a'f$^a'p$^a!c$^a!O$^a!T$^an$^a%Q$^a!]$^a~P#8fO#W$`aQ$`aZ$`a_$`aj$`av$`a!a$`a!b$`a!d$`a!j$`a#[$`a#]$`a#^$`a#_$`a#`$`a#a$`a#b$`a#c$`a#e$`a#g$`a#i$`a#j$`a'W$`a'f$`a'p$`a!c$`a!O$`a!T$`an$`a%Q$`a!]$`a~P#9XO#W$naQ$naZ$na_$naj$nav$na!R$na!a$na!b$na!d$na!j$na#[$na#]$na#^$na#_$na#`$na#a$na#b$na#c$na#e$na#g$na#i$na#j$na'W$na'f$na'p$na!c$na!O$na!T$na!{$nan$na%Q$na!]$na~P!BpO_#Oq!R#Oq'W#Oq!O#Oq!c#Oqn#Oq!T#Oq%Q#Oq!]#Oq~P!)wO!R&kX'a&kX~PJjO!R,_O'a'ma~O!Q0tO!R&lX!c&lX~P){O!R,bO!c'na~O!R,bO!c'na~P!)wO#m!fa!S!fa~PCfO#m!^a!R!^a!S!^a~P#*XO!T1XO#x^O$P1YO~O!S1^O~On1_O~P!BpO_$Yq!R$Yq'W$Yq!O$Yq!c$Yqn$Yq!T$Yq%Q$Yq!]$Yq~P!)wO!O1`O~O],yOk,yO~Ou(SOx(TO'x(XOP$xi'w$xi!R$xi!{$xi~O'a$xi#m$xi~P$.POu(SOx(TOP$zi'w$zi'x$zi!R$zi!{$zi~O'a$zi#m$zi~P$.rO'p#[O~P!BpO!Q1cO']$bO!R&tX!c&tX~O!R-RO!c'}a~O!R-RO!]!wO!c'}a~O!R-RO!]!wO'p&oO!c'}a~O'a$gi!R$gi!{$gi#m$gi~P!#{O!Q1kO'](eO!O&vX!R&vX~P!$jO!R-ZO!O(Oa~O!R-ZO!O(Oa~P!BpO!]!wO~O!]!wO#c1sO~Oj1vO!]!wO'p&oO~O!R'di'a'di~P!#{O!{1yO!R'di'a'di~P!#{O!c1|O~O_$Zq!R$Zq'W$Zq!O$Zq!c$Zqn$Zq!T$Zq%Q$Zq!]$Zq~P!)wO!R2QO!T(PX~P!BpO!T&dO%Q2TO~O!T&dO%Q2TO~P!BpO!T$eX$u[X_$eX!R$eX'W$eX~P!!rO$u2XOPgXugXxgX!TgX'wgX'xgX_gX!RgX'WgX~O$u2XO~O]2_O%R2`O'])iO!R'PX!S'PX~O!R.^O!S(Va~OZ2dO~O^2eO~O]2hO~OP2jO!T&dO!o2iO%Q2TO~O_$^O'W$^O~P!BpO!T#zO~P!BpO!R2oO!{2qO!S(SX~O!S2rO~Ox;oO!W2{O!X2tO!Y2tO!r2zO!s2yO!t2yO!x2xO'^$dO'g(jO'o+iO~O!S2wO~P$7ZOP3SO!T.yO!o3RO%Q3QO~OP3SO!T.yO!o3RO%Q3QO'b$PO~O'](|O!R'OX!S'OX~O!R/VO!S(Ta~O]3^O'g3]O~O]3_O~O^3aO~O!c3dO~P){O_3fO~O_3fO~P){O#c3hO%r3iO~PFOO`/mO!S3mO&Q/lO~P`O!]3oO~O!R#Ti!S#Ti~P#*XO!{3qO!R#Ti!S#Ti~O!R!Vi!S!Vi~P#*XO_$^O!{3xO'W$^O~O_$^O!]!wO!{3xO'W$^O~O!X3|O!Y3|O'^$dO'g(jO'o+iO~O_$^O!]!wO!d$ZO!j3}O!{3xO'W$^O'b$PO'p&oO~O!W4OO~P$;xO!W4OO!u4RO!x4SO~P$;xO_$^O!]!wO!j3}O!{3xO'W$^O'p&oO~O!R'rq!c'rq_'rq'W'rq~P!)wO!R&tO!c'qq~O#W$xiQ$xiZ$xi_$xij$xiv$xi!a$xi!b$xi!d$xi!j$xi#[$xi#]$xi#^$xi#_$xi#`$xi#a$xi#b$xi#c$xi#e$xi#g$xi#i$xi#j$xi'W$xi'f$xi'p$xi!c$xi!O$xi!T$xin$xi%Q$xi!]$xi~P$.PO#W$ziQ$ziZ$zi_$zij$ziv$zi!a$zi!b$zi!d$zi!j$zi#[$zi#]$zi#^$zi#_$zi#`$zi#a$zi#b$zi#c$zi#e$zi#g$zi#i$zi#j$zi'W$zi'f$zi'p$zi!c$zi!O$zi!T$zin$zi%Q$zi!]$zi~P$.rO#W$giQ$giZ$gi_$gij$giv$gi!R$gi!a$gi!b$gi!d$gi!j$gi#[$gi#]$gi#^$gi#_$gi#`$gi#a$gi#b$gi#c$gi#e$gi#g$gi#i$gi#j$gi'W$gi'f$gi'p$gi!c$gi!O$gi!T$gi!{$gin$gi%Q$gi!]$gi~P!BpO!R&ka'a&ka~P!#{O!R&la!c&la~P!)wO!R,bO!c'ni~O#m#Oi!R#Oi!S#Oi~P#*XOQ#^Ou!{Ov!{Ox!|O!b!yO!d!zO!j#^O'fQOZ#Zij#Zi!a#Zi#]#Zi#^#Zi#_#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi#m#Zi'p#Zi'w#Zi'x#Zi!R#Zi!S#Zi~O#[#Zi~P$EiO#[9eO~P$EiOQ#^Ou!{Ov!{Ox!|O!b!yO!d!zO!j#^O#[9eO#]9fO#^9fO#_9fO'fQOZ#Zi!a#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi#m#Zi'p#Zi'w#Zi'x#Zi!R#Zi!S#Zi~Oj#Zi~P$GqOj9gO~P$GqOQ#^Oj9gOu!{Ov!{Ox!|O!b!yO!d!zO!j#^O#[9eO#]9fO#^9fO#_9fO#`9hO'fQO#e#Zi#g#Zi#i#Zi#j#Zi#m#Zi'p#Zi'w#Zi'x#Zi!R#Zi!S#Zi~OZ#Zi!a#Zi#a#Zi#b#Zi#c#Zi~P$IyOZ9rO!a9iO#a9iO#b9iO#c9iO~P$IyOQ#^OZ9rOj9gOu!{Ov!{Ox!|O!a9iO!b!yO!d!zO!j#^O#[9eO#]9fO#^9fO#_9fO#`9hO#a9iO#b9iO#c9iO#e9jO'fQO#g#Zi#i#Zi#j#Zi#m#Zi'p#Zi'x#Zi!R#Zi!S#Zi~O'w#Zi~P$L_O'w!}O~P$L_OQ#^OZ9rOj9gOu!{Ov!{Ox!|O!a9iO!b!yO!d!zO!j#^O#[9eO#]9fO#^9fO#_9fO#`9hO#a9iO#b9iO#c9iO#e9jO#g9lO'fQO'w!}O#i#Zi#j#Zi#m#Zi'p#Zi!R#Zi!S#Zi~O'x#Zi~P$NgO'x#OO~P$NgOQ#^OZ9rOj9gOu!{Ov!{Ox!|O!a9iO!b!yO!d!zO!j#^O#[9eO#]9fO#^9fO#_9fO#`9hO#a9iO#b9iO#c9iO#e9jO#g9lO#i9nO'fQO'w!}O'x#OO~O#j#Zi#m#Zi'p#Zi!R#Zi!S#Zi~P%!oO_#ky!R#ky'W#ky!O#ky!c#kyn#ky!T#ky%Q#ky!]#ky~P!)wOP;vOu(SOx(TO'w(VO'x(XO~OQ#ZiZ#Zij#Ziv#Zi!a#Zi!b#Zi!d#Zi!j#Zi#[#Zi#]#Zi#^#Zi#_#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi#m#Zi'f#Zi'p#Zi!R#Zi!S#Zi~P%%aO!b!yOP'eXu'eXx'eX'w'eX'x'eX!S'eX~OQ'eXZ'eXj'eXv'eX!a'eX!d'eX!j'eX#['eX#]'eX#^'eX#_'eX#`'eX#a'eX#b'eX#c'eX#e'eX#g'eX#i'eX#j'eX#m'eX'f'eX'p'eX!R'eX~P%'eO#m#ni!R#ni!S#ni~P#*XO!S4eO~O!R&sa!S&sa~P#*XO!]!wO'p&oO!R&ta!c&ta~O!R-RO!c'}i~O!R-RO!]!wO!c'}i~O'a$gq!R$gq!{$gq#m$gq~P!#{O!O&va!R&va~P!BpO!]4lO~O!R-ZO!O(Oi~P!BpO!R-ZO!O(Oi~O!O4pO~O!]!wO#c4uO~Oj4vO!]!wO'p&oO~O!O4xO~O'a$iq!R$iq!{$iq#m$iq~P!#{O_$Zy!R$Zy'W$Zy!O$Zy!c$Zyn$Zy!T$Zy%Q$Zy!]$Zy~P!)wO!R2QO!T(Pa~O!T&dO%Q4}O~O!T&dO%Q4}O~P!BpO_#Oy!R#Oy'W#Oy!O#Oy!c#Oyn#Oy!T#Oy%Q#Oy!]#Oy~P!)wOZ5QO~O]5SO'])iO~O!R.^O!S(Vi~O]5VO~O^5WO~O'g'TO!R&{X!S&{X~O!R2oO!S(Sa~O!S5eO~P$7ZOx;sO'g(jO'o+iO~O!W5hO!X5gO!Y5gO!x0_O'^$dO'g(jO'o+iO~O!s5iO!t5iO~P%0^O!X5gO!Y5gO'^$dO'g(jO'o+iO~O!T.yO~O!T.yO%Q5kO~O!T.yO%Q5kO~P!BpOP5pO!T.yO!o5oO%Q5kO~OZ5uO!R'Oa!S'Oa~O!R/VO!S(Ti~O]5xO~O!c5yO~O!c5zO~O!c5{O~O!c5{O~P){O_5}O~O!]6QO~O!c6RO~O!R'ui!S'ui~P#*XO_$^O'W$^O~P!)wO_$^O!{6WO'W$^O~O_$^O!]!wO!{6WO'W$^O~O!X6]O!Y6]O'^$dO'g(jO'o+iO~O_$^O!]!wO!j6^O!{6WO'W$^O'p&oO~O!d$ZO'b$PO~P%4xO!W6_O~P%4gO!R'ry!c'ry_'ry'W'ry~P!)wO#W$gqQ$gqZ$gq_$gqj$gqv$gq!R$gq!a$gq!b$gq!d$gq!j$gq#[$gq#]$gq#^$gq#_$gq#`$gq#a$gq#b$gq#c$gq#e$gq#g$gq#i$gq#j$gq'W$gq'f$gq'p$gq!c$gq!O$gq!T$gq!{$gqn$gq%Q$gq!]$gq~P!BpO#W$iqQ$iqZ$iq_$iqj$iqv$iq!R$iq!a$iq!b$iq!d$iq!j$iq#[$iq#]$iq#^$iq#_$iq#`$iq#a$iq#b$iq#c$iq#e$iq#g$iq#i$iq#j$iq'W$iq'f$iq'p$iq!c$iq!O$iq!T$iq!{$iqn$iq%Q$iq!]$iq~P!BpO!R&li!c&li~P!)wO#m#Oq!R#Oq!S#Oq~P#*XOu-tOv-tOx-uOPra'wra'xra!Sra~OQraZrajra!ara!bra!dra!jra#[ra#]ra#^ra#_ra#`ra#ara#bra#cra#era#gra#ira#jra#mra'fra'pra!Rra~P%;OOu(SOx(TOP$^a'w$^a'x$^a!S$^a~OQ$^aZ$^aj$^av$^a!a$^a!b$^a!d$^a!j$^a#[$^a#]$^a#^$^a#_$^a#`$^a#a$^a#b$^a#c$^a#e$^a#g$^a#i$^a#j$^a#m$^a'f$^a'p$^a!R$^a~P%=SOu(SOx(TOP$`a'w$`a'x$`a!S$`a~OQ$`aZ$`aj$`av$`a!a$`a!b$`a!d$`a!j$`a#[$`a#]$`a#^$`a#_$`a#`$`a#a$`a#b$`a#c$`a#e$`a#g$`a#i$`a#j$`a#m$`a'f$`a'p$`a!R$`a~P%?WOQ$naZ$naj$nav$na!a$na!b$na!d$na!j$na#[$na#]$na#^$na#_$na#`$na#a$na#b$na#c$na#e$na#g$na#i$na#j$na#m$na'f$na'p$na!R$na!S$na~P%%aO#m$Yq!R$Yq!S$Yq~P#*XO#m$Zq!R$Zq!S$Zq~P#*XO!S6hO~O#m6iO~P!#{O!]!wO!R&ti!c&ti~O!]!wO'p&oO!R&ti!c&ti~O!R-RO!c'}q~O!O&vi!R&vi~P!BpO!R-ZO!O(Oq~O!O6oO~P!BpO!O6oO~O!R'dy'a'dy~P!#{O!R&ya!T&ya~P!BpO!T$tq_$tq!R$tq'W$tq~P!BpOZ6vO~O!R.^O!S(Vq~O]6yO~O!T&dO%Q6zO~O!T&dO%Q6zO~P!BpO!{6{O!R&{a!S&{a~O!R2oO!S(Si~P#*XO!X7RO!Y7RO'^$dO'g(jO'o+iO~O!W7TO!x4SO~P%GXO!T.yO%Q7WO~O!T.yO%Q7WO~P!BpO]7_O'g7^O~O!R/VO!S(Tq~O!c7aO~O!c7aO~P){O!c7cO~O!c7dO~O!R#Ty!S#Ty~P#*XO_$^O!{7jO'W$^O~O_$^O!]!wO!{7jO'W$^O~O!X7mO!Y7mO'^$dO'g(jO'o+iO~O_$^O!]!wO!j7nO!{7jO'W$^O'p&oO~O#m#ky!R#ky!S#ky~P#*XOQ$giZ$gij$giv$gi!a$gi!b$gi!d$gi!j$gi#[$gi#]$gi#^$gi#_$gi#`$gi#a$gi#b$gi#c$gi#e$gi#g$gi#i$gi#j$gi#m$gi'f$gi'p$gi!R$gi!S$gi~P%%aOu(SOx(TO'x(XOP$xi'w$xi!S$xi~OQ$xiZ$xij$xiv$xi!a$xi!b$xi!d$xi!j$xi#[$xi#]$xi#^$xi#_$xi#`$xi#a$xi#b$xi#c$xi#e$xi#g$xi#i$xi#j$xi#m$xi'f$xi'p$xi!R$xi~P%LjOu(SOx(TOP$zi'w$zi'x$zi!S$zi~OQ$ziZ$zij$ziv$zi!a$zi!b$zi!d$zi!j$zi#[$zi#]$zi#^$zi#_$zi#`$zi#a$zi#b$zi#c$zi#e$zi#g$zi#i$zi#j$zi#m$zi'f$zi'p$zi!R$zi~P%NnO#m$Zy!R$Zy!S$Zy~P#*XO#m#Oy!R#Oy!S#Oy~P#*XO!]!wO!R&tq!c&tq~O!R-RO!c'}y~O!O&vq!R&vq~P!BpO!O7tO~P!BpO!R.^O!S(Vy~O!R2oO!S(Sq~O!X8QO!Y8QO'^$dO'g(jO'o+iO~O!T.yO%Q8TO~O!T.yO%Q8TO~P!BpO!c8WO~O_$^O!{8]O'W$^O~O_$^O!]!wO!{8]O'W$^O~OQ$gqZ$gqj$gqv$gq!a$gq!b$gq!d$gq!j$gq#[$gq#]$gq#^$gq#_$gq#`$gq#a$gq#b$gq#c$gq#e$gq#g$gq#i$gq#j$gq#m$gq'f$gq'p$gq!R$gq!S$gq~P%%aOQ$iqZ$iqj$iqv$iq!a$iq!b$iq!d$iq!j$iq#[$iq#]$iq#^$iq#_$iq#`$iq#a$iq#b$iq#c$iq#e$iq#g$iq#i$iq#j$iq#m$iq'f$iq'p$iq!R$iq!S$iq~P%%aO'a$|!Z!R$|!Z!{$|!Z#m$|!Z~P!#{O!R&{q!S&{q~P#*XO_$^O!{8oO'W$^O~O#W$|!ZQ$|!ZZ$|!Z_$|!Zj$|!Zv$|!Z!R$|!Z!a$|!Z!b$|!Z!d$|!Z!j$|!Z#[$|!Z#]$|!Z#^$|!Z#_$|!Z#`$|!Z#a$|!Z#b$|!Z#c$|!Z#e$|!Z#g$|!Z#i$|!Z#j$|!Z'W$|!Z'f$|!Z'p$|!Z!c$|!Z!O$|!Z!T$|!Z!{$|!Zn$|!Z%Q$|!Z!]$|!Z~P!BpOP;uOu(SOx(TO'w(VO'x(XO~O!S!za!W!za!X!za!Y!za!r!za!s!za!t!za!x!za'^!za'g!za'o!za~P&,_O!W'eX!X'eX!Y'eX!r'eX!s'eX!t'eX!x'eX'^'eX'g'eX'o'eX~P%'eOQ$|!ZZ$|!Zj$|!Zv$|!Z!a$|!Z!b$|!Z!d$|!Z!j$|!Z#[$|!Z#]$|!Z#^$|!Z#_$|!Z#`$|!Z#a$|!Z#b$|!Z#c$|!Z#e$|!Z#g$|!Z#i$|!Z#j$|!Z#m$|!Z'f$|!Z'p$|!Z!R$|!Z!S$|!Z~P%%aO!Wra!Xra!Yra!rra!sra!tra!xra'^ra'gra'ora~P%;OO!W$^a!X$^a!Y$^a!r$^a!s$^a!t$^a!x$^a'^$^a'g$^a'o$^a~P%=SO!W$`a!X$`a!Y$`a!r$`a!s$`a!t$`a!x$`a'^$`a'g$`a'o$`a~P%?WO!S$na!W$na!X$na!Y$na!r$na!s$na!t$na!x$na'^$na'g$na'o$na~P&,_O!W$xi!X$xi!Y$xi!r$xi!s$xi!t$xi!x$xi'^$xi'g$xi'o$xi~P%LjO!W$zi!X$zi!Y$zi!r$zi!s$zi!t$zi!x$zi'^$zi'g$zi'o$zi~P%NnO!S$gi!W$gi!X$gi!Y$gi!r$gi!s$gi!t$gi!x$gi'^$gi'g$gi'o$gi~P&,_O!S$gq!W$gq!X$gq!Y$gq!r$gq!s$gq!t$gq!x$gq'^$gq'g$gq'o$gq~P&,_O!S$iq!W$iq!X$iq!Y$iq!r$iq!s$iq!t$iq!x$iq'^$iq'g$iq'o$iq~P&,_O!S$|!Z!W$|!Z!X$|!Z!Y$|!Z!r$|!Z!s$|!Z!t$|!Z!x$|!Z'^$|!Z'g$|!Z'o$|!Z~P&,_On'hX~P.jOn[X!O[X!c[X%r[X!T[X%Q[X!][X~P$zO!]dX!c[X!cdX'pdX~P;dOQ9^OR9^O]cOb;`Oc!jOhcOj9^OkcOlcOq9^Os9^OxRO{cO|cO}cO!TSO!_9`O!dUO!g9^O!h9^O!i9^O!j9^O!k9^O!n!iO#t!lO#x^O']'cO'fQO'oYO'|;^O~O]#qOh$QOj#rOk#qOl#qOq$ROs9uOx#yO!T#zO!_;fO!d#vO#V:OO#t$VO$_9xO$a9{O$d$WO']&{O'b$PO'f#sO~O!R9pO!S$]a~O]#qOh$QOj#rOk#qOl#qOq$ROs9vOx#yO!T#zO!_;gO!d#vO#V:PO#t$VO$_9yO$a9|O$d$WO']&{O'b$PO'f#sO~O#d'jO~P&<WO!S[X!SdX~P;dO!]9dO~O#W9cO~O!]!wO#W9cO~O!{9sO~O#c9iO~O!{:QO!R'uX!S'uX~O!{9sO!R'sX!S'sX~O#W:RO~O'a:TO~P!#{O#W:[O~O#W:]O~O#W:^O~O!]!wO#W:_O~O!]!wO#W:RO~O#m:`O~P#*XO#W:aO~O#W:bO~O#W:cO~O#W:dO~O#W:eO~O#W:fO~O#W:gO~O#W:hO~O!O:iO~O#m:jO~P!#{O#m:kO~P!#{O#m:lO~P!#{O!O:mO~P!BpO!O:mO~O!O:nO~P!BpO!]!wO#c;lO~O!]!wO#c;nO~O#x~!b!r!t!u#U#V'|$_$a$d$u%P%Q%R%X%Z%^%_%a%c~UT#x'|#]}'Y'Z#z'Y']'g~",goto:"#Kk(ZPPPPPPPP([P(lP*`PPPP-zPP.a3s7o8SP8SPPP8SP:U8SP8SP:YPP:`P:t?VPPPP?ZPPPP?ZA{PPPBRDdP?ZPFwPPPPHp?ZPPPPPJi?ZPPMjNgPPPPNk!!TP!!]!#^PNg?Z?Z!&n!)i!.[!.[!1kPPP!1r!4h?ZPPPPPPPPPP!7_P!8pPP?Z!9}P?ZP?Z?Z?Z?ZP?Z!;dPP!>]P!AQ!AY!A^!A^P!>YP!Ab!AbP!DVP!DZ?Z?Z!Da!GT8SP8SP8S8SP!HW8S8S!Jf8S!M_8S# g8S8S#!T#$c#$c#$g#$c#$oP#$cP8S#%k8S#'X8S8S-zPPP#(yPP#)c#)cP#)cP#)x#)cPP#*OP#)uP#)u#*b!!X#)u#+P#+V#+Y([#+]([P#+d#+d#+dP([P([P([P([PP([P#+j#+mP#+m([P#+qP#+tP([P([P([P([P([P([([#+z#,U#,[#,b#,p#,v#,|#-W#-^#-m#-s#.R#.X#._#.m#/S#0z#1Y#1`#1f#1l#1r#1|#2S#2Y#2d#2v#2|PPPPPPPP#3SPP#3v#7OPP#8f#8m#8uPP#>a#@t#Fp#Fs#Fv#GR#GUPP#GX#G]#Gz#Hq#Hu#IZPP#I_#Ie#IiP#Il#Ip#Is#Jc#Jy#KO#KR#KU#K[#K_#Kc#KgmhOSj}!n$]%c%f%g%i*o*t/g/jQ$imQ$ppQ%ZyS&V!b+`Q&k!jS(l#z(qQ)g$jQ)t$rQ*`%TQ+f&^S+k&d+mQ+}&lQ-k(sQ/U*aY0Z+o+p+q+r+sS2t.y2vU3|0[0^0aU5g2y2z2{S6]4O4RS7R5h5iQ7m6_R8Q7T$p[ORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$]$n%[%_%c%e%f%g%i%m%x%z&S&_&f&p&}'R(R)V)^*k*o*t+T+x,P,b,h-u-z.S.].|/_/`/a/c/g/j/l0T0j0t2i3R3f3h3i3x5o5}6W7j8]8o!j'e#]#k&W'w+X+[,m/{1X2q3q6{9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;aQ(}$SQ)l$lQ*b%WQ*i%`Q,X9tQ.W)aQ.c)mQ/^*gQ2_.^Q3Z/VQ4^9vQ5S2`R8{9upeOSjy}!n$]%Y%c%f%g%i*o*t/g/jR*d%[&WVOSTjkn}!S!W!k!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k$]$n%[%_%`%c%e%f%g%i%m%z&S&_&f&p&}'R'w(R)V)^*k*o*t+T+X+[+x,P,b,h,m-u-z.S.].|/_/`/a/c/g/j/l/{0T0j0t1X2i2q3R3f3h3i3q3x5o5}6W6{7j8]8o9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;`;a[!cRU!]!`%x&WQ$clQ$hmS$mp$rv$wrs!r!u$Z$u&`&t&w)x)y)z*m+Y+h,S,U/o0lQ%PwQ&h!iQ&j!jS(_#v(cS)f$i$jQ)j$lQ)w$tQ*Z%RQ*_%TS+|&k&lQ-V(`Q.[)gQ.b)mQ.d)nQ.g)rQ/P*[S/T*`*aQ0h+}Q1b-RQ2^.^Q2b.aQ2g.iQ3Y/UQ4i1cQ5R2`Q5U2dQ6u5QR7w6vx#xa!y$T$U$Y(W(Y(b(w(x,_-Y-w1a1y6i;^;i;j;k!Y$fm!j$h$i$j&U&j&k&l(k)f)g+]+j+|+}-d.[0Q0W0]0h1u3{4Q6Z7k8^Q)`$cQ*P$|Q*S$}Q*^%TQ.k)wQ/O*ZU/S*_*`*aQ3T/PS3X/T/UQ5b2sQ5t3YS7P5c5fS8O7Q7SQ8f8PQ8u8g#[;b!w#d#v#y&g'}(Z(h)])_)a*O*R+y-Z-].R.T.p.s.{.}1k1s2Q2T2X2j3Q3S4l4u4}5k5p6z7W8T9w9z9}:U:X:[:a:d:j;l;n;t;u;vd;c9d9x9{:O:V:Y:]:b:e:ke;d9r9y9|:P:W:Z:^:c:f:lW#}a$P(y;^S$|t%YQ$}uQ%OvR)}$z%P#|a!w!y#d#v#y$T$U$Y&g'}(W(Y(Z(b(h(w(x)])_)a*O*R+y,_-Y-Z-]-w.R.T.p.s.{.}1a1k1s1y2Q2T2X2j3Q3S4l4u4}5k5p6i6z7W8T9d9r9w9x9y9z9{9|9}:O:P:U:V:W:X:Y:Z:[:]:^:a:b:c:d:e:f:j:k:l;^;i;j;k;l;n;t;u;vT(O#s(PX)O$S9t9u9vU&Z!b$v+cQ'U!{Q)q$oQ.t*TQ1z-tR5^2o&^cORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k$]$n%[%_%`%c%e%f%g%i%m%x%z&S&W&_&f&p&}'R'w(R)V)^*k*o*t+T+X+[+x,P,b,h,m-u-z.S.].|/_/`/a/c/g/j/l/{0T0j0t1X2i2q3R3f3h3i3q3x5o5}6W6{7j8]8o9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;a$]#aZ!_!o$a%w%}&y'Q'W'X'Y'Z'[']'^'_'`'a'b'd'g'k'u)p+R+^+g,O,^,d,g,i,w-x/v/y0i0s0w0x0y0z0{0|0}1O1P1Q1R1S1T1W1]2O2[3s3v4W4[4]4b4c5`6S6V6b6f6g7g7z8Z8m8y9_:|T!XQ!Y&_cORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k$]$n%[%_%`%c%e%f%g%i%m%x%z&S&W&_&f&p&}'R'w(R)V)^*k*o*t+T+X+[+x,P,b,h,m-u-z.S.].|/_/`/a/c/g/j/l/{0T0j0t1X2i2q3R3f3h3i3q3x5o5}6W6{7j8]8o9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;aQ&X!bR/|+`Y&R!b&V&^+`+fS(k#z(qS+j&d+mS-d(l(sQ-e(mQ-l(tQ.v*VU0W+k+o+pU0]+q+r+sS0b+t2xQ1u-kQ1w-mQ1x-nS2s.y2vU3{0Z0[0^Q4P0_Q4Q0aS5c2t2{S5f2y2zU6Z3|4O4RQ6`4SS7Q5g5hQ7S5iS7k6]6_S8P7R7TQ8^7mQ8g8QQ;h;oR;m;slhOSj}!n$]%c%f%g%i*o*t/g/jQ%k!QS&x!v9cQ)d$gQ*X%PQ*Y%QQ+z&iS,]&}:RS-y)V:_Q.Y)eQ.x*WQ/n*vQ/p*wQ/x+ZQ0`+qQ0f+{S2P-z:gQ2Y.ZS2].]:hQ3r/zQ3u0RQ4U0gQ5P2ZQ6T3tQ6X3zQ6a4VQ7e6RQ7h6YQ8Y7iQ8l8[R8x8n$W#`Z!_!o%w%}&y'Q'W'X'Y'Z'[']'^'_'`'a'b'd'g'k'u)p+R+^+g,O,^,d,g,w-x/v/y0i0s0w0x0y0z0{0|0}1O1P1Q1R1S1T1W1]2O2[3s3v4W4[4]4b4c5`6S6V6b6f6g7g7z8Z8m8y9_:|W(v#{&|1V8qT)Z$a,i$W#_Z!_!o%w%}&y'Q'W'X'Y'Z'[']'^'_'`'a'b'd'g'k'u)p+R+^+g,O,^,d,g,w-x/v/y0i0s0w0x0y0z0{0|0}1O1P1Q1R1S1T1W1]2O2[3s3v4W4[4]4b4c5`6S6V6b6f6g7g7z8Z8m8y9_:|Q'f#`S)Y$a,iR-{)Z&^cORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k$]$n%[%_%`%c%e%f%g%i%m%x%z&S&W&_&f&p&}'R'w(R)V)^*k*o*t+T+X+[+x,P,b,h,m-u-z.S.].|/_/`/a/c/g/j/l/{0T0j0t1X2i2q3R3f3h3i3q3x5o5}6W6{7j8]8o9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;aQ%f{Q%g|Q%i!OQ%j!PR/f*rQ&e!iQ)[$cQ+w&hS.Q)`)wS0c+u+vW2S-}.O.P.kS4T0d0eU4|2U2V2WU6s4{5Y5ZQ7v6tR8b7yT+l&d+mS+j&d+mU0W+k+o+pU0]+q+r+sS0b+t2xS2s.y2vU3{0Z0[0^Q4P0_Q4Q0aS5c2t2{S5f2y2zU6Z3|4O4RQ6`4SS7Q5g5hQ7S5iS7k6]6_S8P7R7TQ8^7mR8g8QS+l&d+mT2u.y2vS&r!q/dQ-U(_Q-b(kS0V+j2sQ1g-VS1p-c-lU3}0]0b5fQ4h1bS4s1v1xU6^4P4Q7SQ6k4iQ6r4vR7n6`Q!xXS&q!q/dQ)W$[Q)b$eQ)h$kQ,Q&rQ-T(_Q-a(kQ-f(nQ.X)cQ/Q*]S0U+j2sS1f-U-VS1o-b-lQ1r-eQ1t-gQ3V/RW3y0V0]0b5fQ4g1bQ4k1gS4o1p1xQ4t1wQ5r3WW6[3}4P4Q7SS6j4h4iS6n4p:iQ6p4sQ6}5aQ7[5sS7l6^6`Q7r6kS7s6o:mQ7u6rQ7|7OQ8V7]Q8_7nS8a7t:nQ8d7}Q8s8eQ9Q8tQ9X9RQ:u:pQ;T:zQ;U:{Q;V;hR;[;m$rWORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$]$n%[%_%`%c%e%f%g%i%m%x%z&S&_&f&p&}'R(R)V)^*k*o*t+T+x,P,b,h-u-z.S.].|/_/`/a/c/g/j/l0T0j0t2i3R3f3h3i3x5o5}6W7j8]8oS!xn!k!j:o#]#k&W'w+X+[,m/{1X2q3q6{9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;aR:u;`$rXORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$]$n%[%_%`%c%e%f%g%i%m%x%z&S&_&f&p&}'R(R)V)^*k*o*t+T+x,P,b,h-u-z.S.].|/_/`/a/c/g/j/l0T0j0t2i3R3f3h3i3x5o5}6W7j8]8oQ$[b!Y$em!j$h$i$j&U&j&k&l(k)f)g+]+j+|+}-d.[0Q0W0]0h1u3{4Q6Z7k8^S$kn!kQ)c$fQ*]%TW/R*^*_*`*aU3W/S/T/UQ5a2sS5s3X3YU7O5b5c5fQ7]5tU7}7P7Q7SS8e8O8PS8t8f8gQ9R8u!j:p#]#k&W'w+X+[,m/{1X2q3q6{9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;aQ:z;_R:{;`$f]OSTjk}!S!W!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$]$n%[%_%c%e%f%g%i%m%z&S&_&f&p&}'R(R)V)^*k*o*t+T+x,P,b,h-u-z.S.].|/_/`/a/c/g/j/l0T0j0t2i3R3f3h3i3x5o5}6W7j8]8oY!hRU!]!`%xv$wrs!r!u$Z$u&`&t&w)x)y)z*m+Y+h,S,U/o0lQ*j%`!h:q#]#k'w+X+[,m/{1X2q3q6{9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;aR:t&WS&[!b$vR0O+c$p[ORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$]$n%[%_%c%e%f%g%i%m%x%z&S&_&f&p&}'R(R)V)^*k*o*t+T+x,P,b,h-u-z.S.].|/_/`/a/c/g/j/l0T0j0t2i3R3f3h3i3x5o5}6W7j8]8o!j'e#]#k&W'w+X+[,m/{1X2q3q6{9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;aR*i%`$roORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$]$n%[%_%`%c%e%f%g%i%m%x%z&S&_&f&p&}'R(R)V)^*k*o*t+T+x,P,b,h-u-z.S.].|/_/`/a/c/g/j/l0T0j0t2i3R3f3h3i3x5o5}6W7j8]8oQ'U!{!k:r#]#k&W'w+X+[,m/{1X2q3q6{9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;a!h#VZ!_$a%w%}&y'Q'_'`'a'b'g'k)p+R+g,O,^,d,w-x0i0s1T2O2[3v4W4[6V7g8Z8m8y9_!R9k'd'u+^,i/v/y0w1P1Q1R1S1W1]3s4]4b4c5`6S6b6f6g7z:|!d#XZ!_$a%w%}&y'Q'a'b'g'k)p+R+g,O,^,d,w-x0i0s1T2O2[3v4W4[6V7g8Z8m8y9_}9m'd'u+^,i/v/y0w1R1S1W1]3s4]4b4c5`6S6b6f6g7z:|!`#]Z!_$a%w%}&y'Q'g'k)p+R+g,O,^,d,w-x0i0s1T2O2[3v4W4[6V7g8Z8m8y9_Q1a-Px;a'd'u+^,i/v/y0w1W1]3s4]4b4c5`6S6b6f6g7z:|Q;i;pQ;j;qR;k;r&^cORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k$]$n%[%_%`%c%e%f%g%i%m%x%z&S&W&_&f&p&}'R'w(R)V)^*k*o*t+T+X+[+x,P,b,h,m-u-z.S.].|/_/`/a/c/g/j/l/{0T0j0t1X2i2q3R3f3h3i3q3x5o5}6W6{7j8]8o9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;aS#l`#mR1Y,l&e_ORSTU`jk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k#m$]$n%[%_%`%c%e%f%g%i%m%x%z&S&W&_&f&p&}'R'w(R)V)^*k*o*t+T+X+[+x,P,b,h,l,m-u-z.S.].|/_/`/a/c/g/j/l/{0T0j0t1X2i2q3R3f3h3i3q3x5o5}6W6{7j8]8o9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;aS#g^#nT'n#i'rT#h^#nT'p#i'r&e`ORSTU`jk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k#m$]$n%[%_%`%c%e%f%g%i%m%x%z&S&W&_&f&p&}'R'w(R)V)^*k*o*t+T+X+[+x,P,b,h,l,m-u-z.S.].|/_/`/a/c/g/j/l/{0T0j0t1X2i2q3R3f3h3i3q3x5o5}6W6{7j8]8o9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;aT#l`#mQ#o`R'y#m$rbORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$]$n%[%_%`%c%e%f%g%i%m%x%z&S&_&f&p&}'R(R)V)^*k*o*t+T+x,P,b,h-u-z.S.].|/_/`/a/c/g/j/l0T0j0t2i3R3f3h3i3x5o5}6W7j8]8o!k;_#]#k&W'w+X+[,m/{1X2q3q6{9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;a#RdOSUj}!S!W!n!|#k$]%[%_%`%c%e%f%g%i%m&S&f'w)^*k*o*t+x,m-u.S.|/_/`/a/c/g/j/l1X2i3R3f3h3i5o5}x#{a!y$T$U$Y(W(Y(b(w(x,_-Y-w1a1y6i;^;i;j;k#[&|!w#d#v#y&g'}(Z(h)])_)a*O*R+y-Z-].R.T.p.s.{.}1k1s2Q2T2X2j3Q3S4l4u4}5k5p6z7W8T9w9z9}:U:X:[:a:d:j;l;n;t;u;vQ)S$WQ,x(Sd1V9r9y9|:P:W:Z:^:c:f:le8q9d9x9{:O:V:Y:]:b:e:kx#wa!y$T$U$Y(W(Y(b(w(x,_-Y-w1a1y6i;^;i;j;kQ(d#xS(n#z(qQ)T$XQ-g(o#[:w!w#d#v#y&g'}(Z(h)])_)a*O*R+y-Z-].R.T.p.s.{.}1k1s2Q2T2X2j3Q3S4l4u4}5k5p6z7W8T9w9z9}:U:X:[:a:d:j;l;n;t;u;vd:x9d9x9{:O:V:Y:]:b:e:kd:y9r9y9|:P:W:Z:^:c:f:lQ:};bQ;O;cQ;P;dQ;Q;eQ;R;fR;S;gx#{a!y$T$U$Y(W(Y(b(w(x,_-Y-w1a1y6i;^;i;j;k#[&|!w#d#v#y&g'}(Z(h)])_)a*O*R+y-Z-].R.T.p.s.{.}1k1s2Q2T2X2j3Q3S4l4u4}5k5p6z7W8T9w9z9}:U:X:[:a:d:j;l;n;t;u;vd1V9r9y9|:P:W:Z:^:c:f:le8q9d9x9{:O:V:Y:]:b:e:klfOSj}!n$]%c%f%g%i*o*t/g/jQ(g#yQ*}%pQ+O%rR1j-Z%O#|a!w!y#d#v#y$T$U$Y&g'}(W(Y(Z(b(h(w(x)])_)a*O*R+y,_-Y-Z-]-w.R.T.p.s.{.}1a1k1s1y2Q2T2X2j3Q3S4l4u4}5k5p6i6z7W8T9d9r9w9x9y9z9{9|9}:O:P:U:V:W:X:Y:Z:[:]:^:a:b:c:d:e:f:j:k:l;^;i;j;k;l;n;t;u;vQ*Q$}Q.r*SQ2m.qR5]2nT(p#z(qS(p#z(qT2u.y2vQ)b$eQ-f(nQ.X)cQ/Q*]Q3V/RQ5r3WQ6}5aQ7[5sQ7|7OQ8V7]Q8d7}Q8s8eQ9Q8tR9X9Rp(W#t'O)U-X-o-p0q1h1}4f4w7q:v;W;X;Y!n:U&z'i(^(f+v,[,t-P-^-|.P.o.q0e0p1i1m2W2l2n3O4Y4Z4m4q4y5O5Z5n6m6q7Y8`;Z;];p;q;r[:V8p9O9V9Y9Z9]]:W1U4a6c7o7p8zr(Y#t'O)U,}-X-o-p0q1h1}4f4w7q:v;W;X;Y!p:X&z'i(^(f+v,[,t-P-^-|.P.o.q0e0n0p1i1m2W2l2n3O4Y4Z4m4q4y5O5Z5n6m6q7Y8`;Z;];p;q;r^:Y8p9O9T9V9Y9Z9]_:Z1U4a6c6d7o7p8zpeOSjy}!n$]%Y%c%f%g%i*o*t/g/jQ%VxR*k%`peOSjy}!n$]%Y%c%f%g%i*o*t/g/jR%VxQ*U%OR.n)}qeOSjy}!n$]%Y%c%f%g%i*o*t/g/jQ.z*ZS3P/O/PW5j2|2}3O3TU7V5l5m5nU8R7U7X7YQ8h8SR8v8iQ%^yR*e%YR3^/XR7_5uS$mp$rR.d)nQ%czR*o%dR*u%jT/h*t/jR*y%kQ*x%kR/q*yQjOQ!nST$`j!nQ(P#sR,u(PQ!YQR%u!YQ!^RU%{!^%|+UQ%|!_R+U%}Q+a&XR/}+aQ,`'OR0r,`Q,c'QS0u,c0vR0v,dQ+m&dR0X+mS!eR$uU&a!e&b+VQ&b!fR+V&OQ+d&[R0P+dQ&u!sQ,R&sU,V&u,R0mR0m,WQ'r#iR,n'rQ#m`R'x#mQ#cZU'h#c+Q9qQ+Q9_R9q'uQ-S(_W1d-S1e4j6lU1e-T-U-VS4j1f1gR6l4k$k(U#t&z'O'i(^(f)P)Q)U+v,Y,Z,[,t,}-O-P-X-^-o-p-|.P.o.q0e0n0o0p0q1U1h1i1m1}2W2l2n3O4Y4Z4_4`4a4f4m4q4w4y5O5Z5n6c6d6e6m6q7Y7o7p7q8`8p8z8|8}9O9T9U9V9Y9Z9]:v;W;X;Y;Z;];p;q;rQ-[(fU1l-[1n4nQ1n-^R4n1mQ(q#zR-i(qQ(z$OR-r(zQ2R-|R4z2RQ){$xR.m){Q2p.tS5_2p6|R6|5`Q*W%PR.w*WQ2v.yR5d2vQ/W*bS3[/W5vR5v3^Q._)jW2a._2c5T6wQ2c.bQ5T2bR6w5UQ)o$mR.e)oQ/j*tR3l/jWiOSj!nQ%h}Q)X$]Q*n%cQ*p%fQ*q%gQ*s%iQ/e*oS/h*t/jR3k/gQ$_gQ%l!RQ%o!TQ%q!UQ%s!VQ)v$sQ)|$yQ*d%^Q*{%nQ-h(pS/Z*e*hQ/r*zQ/s*}Q/t+OS0S+j2sQ2f.hQ2k.oQ3U/QQ3`/]Q3j/fY3w0U0V0]0b5fQ5X2hQ5[2lQ5q3VQ5w3_[6U3v3y3}4P4Q7SQ6x5VQ7Z5rQ7`5xW7f6V6[6^6`Q7x6yQ7{6}Q8U7[U8X7g7l7nQ8c7|Q8j8VS8k8Z8_Q8r8dQ8w8mQ9P8sQ9S8yQ9W9QR9[9XQ$gmQ&i!jU)e$h$i$jQ+Z&UU+{&j&k&lQ-`(kS.Z)f)gQ/z+]Q0R+jS0g+|+}Q1q-dQ2Z.[Q3t0QS3z0W0]Q4V0hQ4r1uS6Y3{4QQ7i6ZQ8[7kR8n8^S#ua;^R({$PU$Oa$P;^R-q(yQ#taS&z!w)aQ'O!yQ'i#dQ(^#vQ(f#yQ)P$TQ)Q$UQ)U$YQ+v&gQ,Y9wQ,Z9zQ,[9}Q,t'}Q,}(WQ-O(YQ-P(ZQ-X(bQ-^(hQ-o(wQ-p(xd-|)].R.{2T3Q4}5k6z7W8TQ.P)_Q.o*OQ.q*RQ0e+yQ0n:UQ0o:XQ0p:[Q0q,_Q1U9rQ1h-YQ1i-ZQ1m-]Q1}-wQ2W.TQ2l.pQ2n.sQ3O.}Q4Y:aQ4Z:dQ4_9yQ4`9|Q4a:PQ4f1aQ4m1kQ4q1sQ4w1yQ4y2QQ5O2XQ5Z2jQ5n3SQ6c:^Q6d:WQ6e:ZQ6m4lQ6q4uQ7Y5pQ7o:cQ7p:fQ7q6iQ8`:jQ8p9dQ8z:lQ8|9xQ8}9{Q9O:OQ9T:VQ9U:YQ9V:]Q9Y:bQ9Z:eQ9]:kQ:v;^Q;W;iQ;X;jQ;Y;kQ;Z;lQ;];nQ;p;tQ;q;uR;r;vlgOSj}!n$]%c%f%g%i*o*t/g/jS!pU%eQ%n!SQ%t!WQ'V!|Q'v#kS*h%[%_Q*l%`Q*z%mQ+W&SQ+u&fQ,r'wQ.O)^Q/b*kQ0d+xQ1[,mQ1{-uQ2V.SQ2}.|Q3b/_Q3c/`Q3e/aQ3g/cQ3n/lQ4d1XQ5Y2iQ5m3RQ5|3fQ6O3hQ6P3iQ7X5oR7b5}!vZOSUj}!S!n!|$]%[%_%`%c%e%f%g%i%m&S&f)^*k*o*t+x-u.S.|/_/`/a/c/g/j/l2i3R3f3h3i5o5}Q!_RQ!oTQ$akS%w!]%zQ%}!`Q&y!vQ'Q!zQ'W#PQ'X#QQ'Y#RQ'Z#SQ'[#TQ']#UQ'^#VQ'_#WQ'`#XQ'a#YQ'b#ZQ'd#]Q'g#bQ'k#eW'u#k'w,m1XQ)p$nS+R%x+TS+^&W/{Q+g&_Q,O&pQ,^&}Q,d'RQ,g9^Q,i9`Q,w(RQ-x)VQ/v+XQ/y+[Q0i,PQ0s,bQ0w9cQ0x9eQ0y9fQ0z9gQ0{9hQ0|9iQ0}9jQ1O9kQ1P9lQ1Q9mQ1R9nQ1S9oQ1T,hQ1W9sQ1]9pQ2O-zQ2[.]Q3s:QQ3v0TQ4W0jQ4[0tQ4]:RQ4b:TQ4c:_Q5`2qQ6S3qQ6V3xQ6b:`Q6f:gQ6g:hQ7g6WQ7z6{Q8Z7jQ8m8]Q8y8oQ9_!WR:|;aR!aRR&Y!bS&U!b+`S+]&V&^R0Q+fR'P!yR'S!zT!tU$ZS!sU$ZU$xrs*mS&s!r!uQ,T&tQ,W&wQ.l)zS0k,S,UR4X0l`!dR!]!`$u%x&`)x+hh!qUrs!r!u$Z&t&w)z,S,U0lQ/d*mQ/w+YQ3p/oT:s&W)yT!gR$uS!fR$uS%y!]&`S&O!`)xS+S%x+hT+_&W)yT&]!b$vQ#i^R'{#nT'q#i'rR1Z,lT(a#v(cR(i#yQ-})]Q2U.RQ2|.{Q4{2TQ5l3QQ6t4}Q7U5kQ7y6zQ8S7WR8i8TlhOSj}!n$]%c%f%g%i*o*t/g/jQ%]yR*d%YV$yrs*mR.u*TR*c%WQ$qpR)u$rR)k$lT%az%dT%bz%dT/i*t/j",nodeNames:"\u26A0 extends ArithOp ArithOp InterpolationStart LineComment BlockComment Script ExportDeclaration export Star as VariableName String from ; default FunctionDeclaration async function VariableDefinition TypeParamList TypeDefinition ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation VoidType void TypeofType typeof MemberExpression . ?. PropertyName [ TemplateString Interpolation null super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewExpression new TypeArgList CompareOp < ) ( ArgList UnaryExpression await yield delete LogicOp BitOp ParenthesizedExpression ClassExpression class extends ClassBody MethodDeclaration Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression PrivatePropertyName BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof in const CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXStartTag JSXSelfClosingTag JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody MethodDeclaration AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement",maxTerm:332,context:trackNewline,nodeProps:[["closedBy",4,"InterpolationEnd",40,"]",51,"}",66,")",132,"JSXSelfCloseEndTag JSXEndTag",146,"JSXEndTag"],["group",-26,8,15,17,58,184,188,191,192,194,197,200,211,213,219,221,223,225,228,234,240,242,244,246,248,250,251,"Statement",-30,12,13,24,27,28,41,43,44,45,47,52,60,68,74,75,91,92,101,103,119,122,124,125,126,127,129,130,148,149,151,"Expression",-22,23,25,29,32,34,152,154,156,157,159,160,161,163,164,165,167,168,169,178,180,182,183,"Type",-3,79,85,90,"ClassItem"],["openedBy",30,"InterpolationStart",46,"[",50,"{",65,"(",131,"JSXStartTag",141,"JSXStartTag JSXStartCloseTag"]],propSources:[jsHighlight],skippedNodes:[0,5,6],repeatNodeCount:28,tokenData:"!C}~R!`OX%TXY%cYZ'RZ[%c[]%T]^'R^p%Tpq%cqr'crs(kst0htu2`uv4pvw5ewx6cxy<yyz=Zz{=k{|>k|}?O}!O>k!O!P?`!P!QCl!Q!R!0[!R![!1q![!]!7s!]!^!8V!^!_!8g!_!`!9d!`!a!:[!a!b!<R!b!c%T!c!}2`!}#O!=d#O#P%T#P#Q!=t#Q#R!>U#R#S2`#S#T!>i#T#o2`#o#p!>y#p#q!?O#q#r!?f#r#s!?x#s$f%T$f$g%c$g#BY2`#BY#BZ!@Y#BZ$IS2`$IS$I_!@Y$I_$I|2`$I|$I}!Bq$I}$JO!Bq$JO$JT2`$JT$JU!@Y$JU$KV2`$KV$KW!@Y$KW&FU2`&FU&FV!@Y&FV?HT2`?HT?HU!@Y?HU~2`W%YR$UWO!^%T!_#o%T#p~%T7Z%jg$UW'Y7ROX%TXY%cYZ%TZ[%c[p%Tpq%cq!^%T!_#o%T#p$f%T$f$g%c$g#BY%T#BY#BZ%c#BZ$IS%T$IS$I_%c$I_$JT%T$JT$JU%c$JU$KV%T$KV$KW%c$KW&FU%T&FU&FV%c&FV?HT%T?HT?HU%c?HU~%T7Z'YR$UW'Z7RO!^%T!_#o%T#p~%T$T'jS$UW!j#{O!^%T!_!`'v!`#o%T#p~%T$O'}S#e#v$UWO!^%T!_!`(Z!`#o%T#p~%T$O(bR#e#v$UWO!^%T!_#o%T#p~%T)X(rZ$UW]#eOY(kYZ)eZr(krs*rs!^(k!^!_+U!_#O(k#O#P-b#P#o(k#o#p+U#p~(k&r)jV$UWOr)ers*Ps!^)e!^!_*a!_#o)e#o#p*a#p~)e&r*WR$P&j$UWO!^%T!_#o%T#p~%T&j*dROr*ars*ms~*a&j*rO$P&j)X*{R$P&j$UW]#eO!^%T!_#o%T#p~%T)P+ZV]#eOY+UYZ*aZr+Urs+ps#O+U#O#P+w#P~+U)P+wO$P&j]#e)P+zROr+Urs,Ts~+U)P,[U$P&j]#eOY,nZr,nrs-Vs#O,n#O#P-[#P~,n#e,sU]#eOY,nZr,nrs-Vs#O,n#O#P-[#P~,n#e-[O]#e#e-_PO~,n)X-gV$UWOr(krs-|s!^(k!^!_+U!_#o(k#o#p+U#p~(k)X.VZ$P&j$UW]#eOY.xYZ%TZr.xrs/rs!^.x!^!_,n!_#O.x#O#P0S#P#o.x#o#p,n#p~.x#m/PZ$UW]#eOY.xYZ%TZr.xrs/rs!^.x!^!_,n!_#O.x#O#P0S#P#o.x#o#p,n#p~.x#m/yR$UW]#eO!^%T!_#o%T#p~%T#m0XT$UWO!^.x!^!_,n!_#o.x#o#p,n#p~.x3]0mZ$UWOt%Ttu1`u!^%T!_!c%T!c!}1`!}#R%T#R#S1`#S#T%T#T#o1`#p$g%T$g~1`3]1g]$UW'o3TOt%Ttu1`u!Q%T!Q![1`![!^%T!_!c%T!c!}1`!}#R%T#R#S1`#S#T%T#T#o1`#p$g%T$g~1`7Z2k_$UW#zS']$y'g3SOt%Ttu2`u}%T}!O3j!O!Q%T!Q![2`![!^%T!_!c%T!c!}2`!}#R%T#R#S2`#S#T%T#T#o2`#p$g%T$g~2`[3q_$UW#zSOt%Ttu3ju}%T}!O3j!O!Q%T!Q![3j![!^%T!_!c%T!c!}3j!}#R%T#R#S3j#S#T%T#T#o3j#p$g%T$g~3j$O4wS#^#v$UWO!^%T!_!`5T!`#o%T#p~%T$O5[R$UW#o#vO!^%T!_#o%T#p~%T5b5lU'x5Y$UWOv%Tvw6Ow!^%T!_!`5T!`#o%T#p~%T$O6VS$UW#i#vO!^%T!_!`5T!`#o%T#p~%T)X6jZ$UW]#eOY6cYZ7]Zw6cwx*rx!^6c!^!_8T!_#O6c#O#P:T#P#o6c#o#p8T#p~6c&r7bV$UWOw7]wx*Px!^7]!^!_7w!_#o7]#o#p7w#p~7]&j7zROw7wwx*mx~7w)P8YV]#eOY8TYZ7wZw8Twx+px#O8T#O#P8o#P~8T)P8rROw8Twx8{x~8T)P9SU$P&j]#eOY9fZw9fwx-Vx#O9f#O#P9}#P~9f#e9kU]#eOY9fZw9fwx-Vx#O9f#O#P9}#P~9f#e:QPO~9f)X:YV$UWOw6cwx:ox!^6c!^!_8T!_#o6c#o#p8T#p~6c)X:xZ$P&j$UW]#eOY;kYZ%TZw;kwx/rx!^;k!^!_9f!_#O;k#O#P<e#P#o;k#o#p9f#p~;k#m;rZ$UW]#eOY;kYZ%TZw;kwx/rx!^;k!^!_9f!_#O;k#O#P<e#P#o;k#o#p9f#p~;k#m<jT$UWO!^;k!^!_9f!_#o;k#o#p9f#p~;k&i=QR!d&a$UWO!^%T!_#o%T#p~%Tk=bR!cc$UWO!^%T!_#o%T#p~%T7V=tU'^4V#_#v$UWOz%Tz{>W{!^%T!_!`5T!`#o%T#p~%T$O>_S#[#v$UWO!^%T!_!`5T!`#o%T#p~%T%w>rSj%o$UWO!^%T!_!`5T!`#o%T#p~%T&i?VR!R&a$UWO!^%T!_#o%T#p~%T7Z?gVu5^$UWO!O%T!O!P?|!P!Q%T!Q![@r![!^%T!_#o%T#p~%T!{@RT$UWO!O%T!O!P@b!P!^%T!_#o%T#p~%T!{@iR!Q!s$UWO!^%T!_#o%T#p~%T!{@yZ$UWk!sO!Q%T!Q![@r![!^%T!_!g%T!g!hAl!h#R%T#R#S@r#S#X%T#X#YAl#Y#o%T#p~%T!{AqZ$UWO{%T{|Bd|}%T}!OBd!O!Q%T!Q![CO![!^%T!_#R%T#R#SCO#S#o%T#p~%T!{BiV$UWO!Q%T!Q![CO![!^%T!_#R%T#R#SCO#S#o%T#p~%T!{CVV$UWk!sO!Q%T!Q![CO![!^%T!_#R%T#R#SCO#S#o%T#p~%T7ZCs`$UW#]#vOYDuYZ%TZzDuz{Jl{!PDu!P!Q!-e!Q!^Du!^!_Fx!_!`!.^!`!a!/]!a!}Du!}#OHq#O#PJQ#P#oDu#o#pFx#p~DuXD|[$UW}POYDuYZ%TZ!PDu!P!QEr!Q!^Du!^!_Fx!_!}Du!}#OHq#O#PJQ#P#oDu#o#pFx#p~DuXEy_$UW}PO!^%T!_#Z%T#Z#[Er#[#]%T#]#^Er#^#a%T#a#bEr#b#g%T#g#hEr#h#i%T#i#jEr#j#m%T#m#nEr#n#o%T#p~%TPF}V}POYFxZ!PFx!P!QGd!Q!}Fx!}#OG{#O#PHh#P~FxPGiU}P#Z#[Gd#]#^Gd#a#bGd#g#hGd#i#jGd#m#nGdPHOTOYG{Z#OG{#O#PH_#P#QFx#Q~G{PHbQOYG{Z~G{PHkQOYFxZ~FxXHvY$UWOYHqYZ%TZ!^Hq!^!_G{!_#OHq#O#PIf#P#QDu#Q#oHq#o#pG{#p~HqXIkV$UWOYHqYZ%TZ!^Hq!^!_G{!_#oHq#o#pG{#p~HqXJVV$UWOYDuYZ%TZ!^Du!^!_Fx!_#oDu#o#pFx#p~Du7ZJs^$UW}POYJlYZKoZzJlz{NQ{!PJl!P!Q!,R!Q!^Jl!^!_!!]!_!}Jl!}#O!'|#O#P!+a#P#oJl#o#p!!]#p~Jl7ZKtV$UWOzKoz{LZ{!^Ko!^!_M]!_#oKo#o#pM]#p~Ko7ZL`X$UWOzKoz{LZ{!PKo!P!QL{!Q!^Ko!^!_M]!_#oKo#o#pM]#p~Ko7ZMSR$UWU7RO!^%T!_#o%T#p~%T7RM`ROzM]z{Mi{~M]7RMlTOzM]z{Mi{!PM]!P!QM{!Q~M]7RNQOU7R7ZNX^$UW}POYJlYZKoZzJlz{NQ{!PJl!P!Q! T!Q!^Jl!^!_!!]!_!}Jl!}#O!'|#O#P!+a#P#oJl#o#p!!]#p~Jl7Z! ^_$UWU7R}PO!^%T!_#Z%T#Z#[Er#[#]%T#]#^Er#^#a%T#a#bEr#b#g%T#g#hEr#h#i%T#i#jEr#j#m%T#m#nEr#n#o%T#p~%T7R!!bY}POY!!]YZM]Zz!!]z{!#Q{!P!!]!P!Q!&x!Q!}!!]!}#O!$`#O#P!&f#P~!!]7R!#VY}POY!!]YZM]Zz!!]z{!#Q{!P!!]!P!Q!#u!Q!}!!]!}#O!$`#O#P!&f#P~!!]7R!#|UU7R}P#Z#[Gd#]#^Gd#a#bGd#g#hGd#i#jGd#m#nGd7R!$cWOY!$`YZM]Zz!$`z{!${{#O!$`#O#P!&S#P#Q!!]#Q~!$`7R!%OYOY!$`YZM]Zz!$`z{!${{!P!$`!P!Q!%n!Q#O!$`#O#P!&S#P#Q!!]#Q~!$`7R!%sTU7ROYG{Z#OG{#O#PH_#P#QFx#Q~G{7R!&VTOY!$`YZM]Zz!$`z{!${{~!$`7R!&iTOY!!]YZM]Zz!!]z{!#Q{~!!]7R!&}_}POzM]z{Mi{#ZM]#Z#[!&x#[#]M]#]#^!&x#^#aM]#a#b!&x#b#gM]#g#h!&x#h#iM]#i#j!&x#j#mM]#m#n!&x#n~M]7Z!(R[$UWOY!'|YZKoZz!'|z{!(w{!^!'|!^!_!$`!_#O!'|#O#P!*o#P#QJl#Q#o!'|#o#p!$`#p~!'|7Z!(|^$UWOY!'|YZKoZz!'|z{!(w{!P!'|!P!Q!)x!Q!^!'|!^!_!$`!_#O!'|#O#P!*o#P#QJl#Q#o!'|#o#p!$`#p~!'|7Z!*PY$UWU7ROYHqYZ%TZ!^Hq!^!_G{!_#OHq#O#PIf#P#QDu#Q#oHq#o#pG{#p~Hq7Z!*tX$UWOY!'|YZKoZz!'|z{!(w{!^!'|!^!_!$`!_#o!'|#o#p!$`#p~!'|7Z!+fX$UWOYJlYZKoZzJlz{NQ{!^Jl!^!_!!]!_#oJl#o#p!!]#p~Jl7Z!,Yc$UW}POzKoz{LZ{!^Ko!^!_M]!_#ZKo#Z#[!,R#[#]Ko#]#^!,R#^#aKo#a#b!,R#b#gKo#g#h!,R#h#iKo#i#j!,R#j#mKo#m#n!,R#n#oKo#o#pM]#p~Ko7Z!-lV$UWT7ROY!-eYZ%TZ!^!-e!^!_!.R!_#o!-e#o#p!.R#p~!-e7R!.WQT7ROY!.RZ~!.R$P!.g[$UW#o#v}POYDuYZ%TZ!PDu!P!QEr!Q!^Du!^!_Fx!_!}Du!}#OHq#O#PJQ#P#oDu#o#pFx#p~Du]!/f[#wS$UW}POYDuYZ%TZ!PDu!P!QEr!Q!^Du!^!_Fx!_!}Du!}#OHq#O#PJQ#P#oDu#o#pFx#p~Du!{!0cd$UWk!sO!O%T!O!P@r!P!Q%T!Q![!1q![!^%T!_!g%T!g!hAl!h#R%T#R#S!1q#S#U%T#U#V!3X#V#X%T#X#YAl#Y#b%T#b#c!2w#c#d!4m#d#l%T#l#m!5{#m#o%T#p~%T!{!1x_$UWk!sO!O%T!O!P@r!P!Q%T!Q![!1q![!^%T!_!g%T!g!hAl!h#R%T#R#S!1q#S#X%T#X#YAl#Y#b%T#b#c!2w#c#o%T#p~%T!{!3OR$UWk!sO!^%T!_#o%T#p~%T!{!3^W$UWO!Q%T!Q!R!3v!R!S!3v!S!^%T!_#R%T#R#S!3v#S#o%T#p~%T!{!3}Y$UWk!sO!Q%T!Q!R!3v!R!S!3v!S!^%T!_#R%T#R#S!3v#S#b%T#b#c!2w#c#o%T#p~%T!{!4rV$UWO!Q%T!Q!Y!5X!Y!^%T!_#R%T#R#S!5X#S#o%T#p~%T!{!5`X$UWk!sO!Q%T!Q!Y!5X!Y!^%T!_#R%T#R#S!5X#S#b%T#b#c!2w#c#o%T#p~%T!{!6QZ$UWO!Q%T!Q![!6s![!^%T!_!c%T!c!i!6s!i#R%T#R#S!6s#S#T%T#T#Z!6s#Z#o%T#p~%T!{!6z]$UWk!sO!Q%T!Q![!6s![!^%T!_!c%T!c!i!6s!i#R%T#R#S!6s#S#T%T#T#Z!6s#Z#b%T#b#c!2w#c#o%T#p~%T$u!7|R!]V$UW#m$fO!^%T!_#o%T#p~%T!q!8^R_!i$UWO!^%T!_#o%T#p~%T5w!8rR'bd!a/n#x&s'|P!P!Q!8{!^!_!9Q!_!`!9_W!9QO$WW#v!9VP#`#v!_!`!9Y#v!9_O#o#v#v!9dO#a#v$u!9kT!{$m$UWO!^%T!_!`'v!`!a!9z!a#o%T#p~%T$P!:RR#W#w$UWO!^%T!_#o%T#p~%T%V!:gT'a!R#a#v$RS$UWO!^%T!_!`!:v!`!a!;W!a#o%T#p~%T$O!:}R#a#v$UWO!^%T!_#o%T#p~%T$O!;_T#`#v$UWO!^%T!_!`5T!`!a!;n!a#o%T#p~%T$O!;uS#`#v$UWO!^%T!_!`5T!`#o%T#p~%T*a!<YV'p#{$UWO!O%T!O!P!<o!P!^%T!_!a%T!a!b!=P!b#o%T#p~%T*[!<vRv*S$UWO!^%T!_#o%T#p~%T$O!=WS$UW#j#vO!^%T!_!`5T!`#o%T#p~%T7V!=kRx6}$UWO!^%T!_#o%T#p~%Tk!={R!Oc$UWO!^%T!_#o%T#p~%T$O!>]S#g#v$UWO!^%T!_!`5T!`#o%T#p~%T$a!>pR$UW'f$XO!^%T!_#o%T#p~%T~!?OO!T~5b!?VT'w5Y$UWO!^%T!_!`5T!`#o%T#p#q!=P#q~%T6X!?oR!S5}nQ$UWO!^%T!_#o%T#p~%TX!@PR!kP$UWO!^%T!_#o%T#p~%T7Z!@gr$UW'Y7R#zS']$y'g3SOX%TXY%cYZ%TZ[%c[p%Tpq%cqt%Ttu2`u}%T}!O3j!O!Q%T!Q![2`![!^%T!_!c%T!c!}2`!}#R%T#R#S2`#S#T%T#T#o2`#p$f%T$f$g%c$g#BY2`#BY#BZ!@Y#BZ$IS2`$IS$I_!@Y$I_$JT2`$JT$JU!@Y$JU$KV2`$KV$KW!@Y$KW&FU2`&FU&FV!@Y&FV?HT2`?HT?HU!@Y?HU~2`7Z!CO_$UW'Z7R#zS']$y'g3SOt%Ttu2`u}%T}!O3j!O!Q%T!Q![2`![!^%T!_!c%T!c!}2`!}#R%T#R#S2`#S#T%T#T#o2`#p$g%T$g~2`",tokenizers:[tsExtends,noSemicolon,incdecToken,template,0,1,2,3,4,5,6,7,8,9,insertSemicolon],topRules:{Script:[0,7]},dialects:{jsx:12107,ts:12109},dynamicPrecedences:{149:1,176:1},specialized:[{term:289,get:k=>spec_identifier[k]||-1},{term:299,get:k=>spec_word[k]||-1},{term:63,get:k=>spec_LessThan[k]||-1}],tokenPrec:12130}),snippets=[snippetCompletion("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),snippetCompletion("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),snippetCompletion("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),snippetCompletion("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),snippetCompletion("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),snippetCompletion(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),snippetCompletion("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),snippetCompletion(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),snippetCompletion(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),snippetCompletion('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),snippetCompletion('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],cache$3=new NodeWeakMap,ScopeNodes=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function defID(k){return(b,_)=>{let $=b.node.getChild("VariableDefinition");return $&&_($,k),!0}}const functionContext=["FunctionDeclaration"],gatherCompletions={FunctionDeclaration:defID("function"),ClassDeclaration:defID("class"),ClassExpression:()=>!0,EnumDeclaration:defID("constant"),TypeAliasDeclaration:defID("type"),NamespaceDeclaration:defID("namespace"),VariableDefinition(k,b){k.matchContext(functionContext)||b(k,"variable")},TypeDefinition(k,b){b(k,"type")},__proto__:null};function getScope(k,b){let _=cache$3.get(b);if(_)return _;let $=[],j=!0;function _e(et,tt){let nt=k.sliceString(et.from,et.to);$.push({label:nt,type:tt})}return b.cursor(IterMode.IncludeAnonymous).iterate(et=>{if(j)j=!1;else if(et.name){let tt=gatherCompletions[et.name];if(tt&&tt(et,_e)||ScopeNodes.has(et.name))return!1}else if(et.to-et.from>8192){for(let tt of getScope(k,et.node))$.push(tt);return!1}}),cache$3.set(b,$),$}const Identifier=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,dontComplete=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName"];function localCompletionSource(k){let b=syntaxTree(k.state).resolveInner(k.pos,-1);if(dontComplete.indexOf(b.name)>-1)return null;let _=b.name=="VariableName"||b.to-b.from<20&&Identifier.test(k.state.sliceDoc(b.from,b.to));if(!_&&!k.explicit)return null;let $=[];for(let j=b;j;j=j.parent)ScopeNodes.has(j.name)&&($=$.concat(getScope(k.state.doc,j)));return{options:$,from:_?b.from:k.pos,validFor:Identifier}}const javascriptLanguage=LRLanguage.define({name:"javascript",parser:parser.configure({props:[indentNodeProp.add({IfStatement:continuedIndent({except:/^\s*({|else\b)/}),TryStatement:continuedIndent({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:flatIndent,SwitchBody:k=>{let b=k.textAfter,_=/^\s*\}/.test(b),$=/^\s*(case|default)\b/.test(b);return k.baseIndent+(_?0:$?1:2)*k.unit},Block:delimitedIndent({closing:"}"}),ArrowFunction:k=>k.baseIndent+k.unit,"TemplateString BlockComment":()=>null,"Statement Property":continuedIndent({except:/^{/}),JSXElement(k){let b=/^\s*<\//.test(k.textAfter);return k.lineIndent(k.node.from)+(b?0:k.unit)},JSXEscape(k){let b=/\s*\}/.test(k.textAfter);return k.lineIndent(k.node.from)+(b?0:k.unit)},"JSXOpenTag JSXSelfClosingTag"(k){return k.column(k.node.from)+k.unit}}),foldNodeProp.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression":foldInside,BlockComment(k){return{from:k.from+2,to:k.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),typescriptLanguage=javascriptLanguage.configure({dialect:"ts"},"typescript"),jsxLanguage=javascriptLanguage.configure({dialect:"jsx"}),tsxLanguage=javascriptLanguage.configure({dialect:"jsx ts"},"typescript"),keywords$2="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(k=>({label:k,type:"keyword"}));function javascript(k={}){let b=k.jsx?k.typescript?tsxLanguage:jsxLanguage:k.typescript?typescriptLanguage:javascriptLanguage;return new LanguageSupport(b,[javascriptLanguage.data.of({autocomplete:ifNotIn(dontComplete,completeFromList(snippets.concat(keywords$2)))}),javascriptLanguage.data.of({autocomplete:localCompletionSource}),k.jsx?autoCloseTags:[]])}function elementName(k,b,_=k.length){if(!b)return"";let $=b.getChild("JSXIdentifier");return $?k.sliceString($.from,Math.min($.to,_)):""}const android=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),autoCloseTags=EditorView.inputHandler.of((k,b,_,$)=>{if((android?k.composing:k.compositionStarted)||k.state.readOnly||b!=_||$!=">"&&$!="/"||!javascriptLanguage.isActiveAt(k.state,b,-1))return!1;let{state:j}=k,_e=j.changeByRange(et=>{var tt,nt,it;let{head:rt}=et,st=syntaxTree(j).resolveInner(rt,-1),ot;if(st.name=="JSXStartTag"&&(st=st.parent),$==">"&&st.name=="JSXFragmentTag")return{range:EditorSelection.cursor(rt+1),changes:{from:rt,insert:"><>"}};if($==">"&&st.name=="JSXIdentifier"){if(((nt=(tt=st.parent)===null||tt===void 0?void 0:tt.lastChild)===null||nt===void 0?void 0:nt.name)!="JSXEndTag"&&(ot=elementName(j.doc,st.parent,rt)))return{range:EditorSelection.cursor(rt+1),changes:{from:rt,insert:`></${ot}>`}}}else if($=="/"&&st.name=="JSXFragmentTag"){let ut=st.parent,lt=ut==null?void 0:ut.parent;if(ut.from==rt-1&&((it=lt.lastChild)===null||it===void 0?void 0:it.name)!="JSXEndTag"&&(ot=elementName(j.doc,lt==null?void 0:lt.firstChild,rt))){let ft=`/${ot}>`;return{range:EditorSelection.cursor(rt+ft.length),changes:{from:rt,insert:ft}}}}return{range:et}});return _e.changes.empty?!1:(k.dispatch(_e,{userEvent:"input.type",scrollIntoView:!0}),!0)});var createTheme=k=>{var{theme:b,settings:_,styles:$}=k,j={"&":{backgroundColor:_.background,color:_.foreground},".cm-gutters":{}};_.gutterBackground&&(j[".cm-gutters"].backgroundColor=_.gutterBackground),_.gutterForeground&&(j[".cm-gutters"].color=_.gutterForeground),_.gutterBorder&&(j[".cm-gutters"].borderRightColor=_.gutterBorder),_.caret&&(j[".cm-content"]={caretColor:_.caret},j[".cm-cursor, .cm-dropCursor"]={borderLeftColor:_.caret}),_.lineHighlight&&(j[".cm-activeLine"]={backgroundColor:_.lineHighlight},j[".cm-activeLineGutter"]={backgroundColor:_.lineHighlight}),_.selection&&(j["&.cm-focused .cm-selectionBackground .cm-selectionBackground, & .cm-selectionLayer .cm-selectionBackground, ::selection"]={backgroundColor:_.selection}),_.selectionMatch&&(j["& .cm-selectionMatch"]={backgroundColor:_.selectionMatch});var _e=EditorView.theme(j,{dark:b==="dark"}),et=HighlightStyle.define($),tt=[_e,syntaxHighlighting(et)];return tt};const useObserver=(k,{root:b,rootMargin:_,threshold:$}={},j=[])=>{const _e=react.exports.useRef(null),et=react.exports.useRef(null);return react.exports.useCallback(nt=>{_e.current&&et.current&&(et.current.unobserve(_e.current),et.current.disconnect(),et.current=null),nt&&(et.current=new IntersectionObserver(k,{root:b,rootMargin:_,threshold:$}),et.current.observe(nt),_e.current=nt)},[_e,b,_,JSON.stringify($),...j])},useInView=({root:k,rootMargin:b,threshold:_,unobserveOnEnter:$,target:j,onEnter:_e,onLeave:et,defaultInView:tt}={},nt=[])=>{const[it,rt]=react.exports.useState({inView:tt||!1,entry:null,observer:null}),st=react.exports.useCallback(([ut],lt)=>{const ct=lt.thresholds.some(pt=>ut.intersectionRatio>=pt)&&ut.isIntersecting;rt({inView:ct,entry:ut,observer:lt}),ct&&$&&(lt.unobserve(ut.target),lt.disconnect()),ct?_e==null||_e(ut,lt):et==null||et(ut,lt)},[_e,et,$]),ot=useObserver(st,{root:k,rootMargin:b,threshold:_},[$,...nt]);return react.exports.useEffect(()=>{j!=null&&j.current&&ot(j.current)},[j,ot]),[ot,it.inView,it.entry,it.observer]};var escodegen={},estraverse={};(function(k){(function b(_){var $,j,_e,et,tt,nt;function it(vt){var bt={},Ct,Dt;for(Ct in vt)vt.hasOwnProperty(Ct)&&(Dt=vt[Ct],typeof Dt=="object"&&Dt!==null?bt[Ct]=it(Dt):bt[Ct]=Dt);return bt}function rt(vt,bt){var Ct,Dt,_t,Rt;for(Dt=vt.length,_t=0;Dt;)Ct=Dt>>>1,Rt=_t+Ct,bt(vt[Rt])?Dt=Ct:(_t=Rt+1,Dt-=Ct+1);return _t}$={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ChainExpression:"ChainExpression",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ComprehensionBlock:"ComprehensionBlock",ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",GeneratorExpression:"GeneratorExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportExpression:"ImportExpression",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",ModuleSpecifier:"ModuleSpecifier",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",PrivateIdentifier:"PrivateIdentifier",Program:"Program",Property:"Property",PropertyDefinition:"PropertyDefinition",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},_e={AssignmentExpression:["left","right"],AssignmentPattern:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","body"],AwaitExpression:["argument"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ChainExpression:["expression"],ClassBody:["body"],ClassDeclaration:["id","superClass","body"],ClassExpression:["id","superClass","body"],ComprehensionBlock:["left","right"],ComprehensionExpression:["blocks","filter","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExportAllDeclaration:["source"],ExportDefaultDeclaration:["declaration"],ExportNamedDeclaration:["declaration","specifiers","source"],ExportSpecifier:["exported","local"],ExpressionStatement:["expression"],ForStatement:["init","test","update","body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],FunctionDeclaration:["id","params","body"],FunctionExpression:["id","params","body"],GeneratorExpression:["blocks","filter","body"],Identifier:[],IfStatement:["test","consequent","alternate"],ImportExpression:["source"],ImportDeclaration:["specifiers","source"],ImportDefaultSpecifier:["local"],ImportNamespaceSpecifier:["local"],ImportSpecifier:["imported","local"],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],MetaProperty:["meta","property"],MethodDefinition:["key","value"],ModuleSpecifier:[],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],PrivateIdentifier:[],Program:["body"],Property:["key","value"],PropertyDefinition:["key","value"],RestElement:["argument"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SpreadElement:["argument"],Super:[],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"],TaggedTemplateExpression:["tag","quasi"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handler","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]},et={},tt={},nt={},j={Break:et,Skip:tt,Remove:nt};function st(vt,bt){this.parent=vt,this.key=bt}st.prototype.replace=function(bt){this.parent[this.key]=bt},st.prototype.remove=function(){return Array.isArray(this.parent)?(this.parent.splice(this.key,1),!0):(this.replace(null),!1)};function ot(vt,bt,Ct,Dt){this.node=vt,this.path=bt,this.wrap=Ct,this.ref=Dt}function ut(){}ut.prototype.path=function(){var bt,Ct,Dt,_t,Rt,jt;function Qt(Nt,Vt){if(Array.isArray(Vt))for(Dt=0,_t=Vt.length;Dt<_t;++Dt)Nt.push(Vt[Dt]);else Nt.push(Vt)}if(!this.__current.path)return null;for(Rt=[],bt=2,Ct=this.__leavelist.length;bt<Ct;++bt)jt=this.__leavelist[bt],Qt(Rt,jt.path);return Qt(Rt,this.__current.path),Rt},ut.prototype.type=function(){var vt=this.current();return vt.type||this.__current.wrap},ut.prototype.parents=function(){var bt,Ct,Dt;for(Dt=[],bt=1,Ct=this.__leavelist.length;bt<Ct;++bt)Dt.push(this.__leavelist[bt].node);return Dt},ut.prototype.current=function(){return this.__current.node},ut.prototype.__execute=function(bt,Ct){var Dt,_t;return _t=void 0,Dt=this.__current,this.__current=Ct,this.__state=null,bt&&(_t=bt.call(this,Ct.node,this.__leavelist[this.__leavelist.length-1].node)),this.__current=Dt,_t},ut.prototype.notify=function(bt){this.__state=bt},ut.prototype.skip=function(){this.notify(tt)},ut.prototype.break=function(){this.notify(et)},ut.prototype.remove=function(){this.notify(nt)},ut.prototype.__initialize=function(vt,bt){this.visitor=bt,this.root=vt,this.__worklist=[],this.__leavelist=[],this.__current=null,this.__state=null,this.__fallback=null,bt.fallback==="iteration"?this.__fallback=Object.keys:typeof bt.fallback=="function"&&(this.__fallback=bt.fallback),this.__keys=_e,bt.keys&&(this.__keys=Object.assign(Object.create(this.__keys),bt.keys))};function lt(vt){return vt==null?!1:typeof vt=="object"&&typeof vt.type=="string"}function ft(vt,bt){return(vt===$.ObjectExpression||vt===$.ObjectPattern)&&bt==="properties"}function ct(vt,bt){for(var Ct=vt.length-1;Ct>=0;--Ct)if(vt[Ct].node===bt)return!0;return!1}ut.prototype.traverse=function(bt,Ct){var Dt,_t,Rt,jt,Qt,Nt,Vt,Yt,Wt,Jt,Ut,Kt;for(this.__initialize(bt,Ct),Kt={},Dt=this.__worklist,_t=this.__leavelist,Dt.push(new ot(bt,null,null,null)),_t.push(new ot(null,null,null,null));Dt.length;){if(Rt=Dt.pop(),Rt===Kt){if(Rt=_t.pop(),Nt=this.__execute(Ct.leave,Rt),this.__state===et||Nt===et)return;continue}if(Rt.node){if(Nt=this.__execute(Ct.enter,Rt),this.__state===et||Nt===et)return;if(Dt.push(Kt),_t.push(Rt),this.__state===tt||Nt===tt)continue;if(jt=Rt.node,Qt=jt.type||Rt.wrap,Jt=this.__keys[Qt],!Jt)if(this.__fallback)Jt=this.__fallback(jt);else throw new Error("Unknown node type "+Qt+".");for(Yt=Jt.length;(Yt-=1)>=0;)if(Vt=Jt[Yt],Ut=jt[Vt],!!Ut){if(Array.isArray(Ut)){for(Wt=Ut.length;(Wt-=1)>=0;)if(!!Ut[Wt]&&!ct(_t,Ut[Wt])){if(ft(Qt,Jt[Yt]))Rt=new ot(Ut[Wt],[Vt,Wt],"Property",null);else if(lt(Ut[Wt]))Rt=new ot(Ut[Wt],[Vt,Wt],null,null);else continue;Dt.push(Rt)}}else if(lt(Ut)){if(ct(_t,Ut))continue;Dt.push(new ot(Ut,Vt,null,null))}}}}},ut.prototype.replace=function(bt,Ct){var Dt,_t,Rt,jt,Qt,Nt,Vt,Yt,Wt,Jt,Ut,Kt,mn;function Mt(qt){var Ht,an,en,pn;if(qt.ref.remove()){for(an=qt.ref.key,pn=qt.ref.parent,Ht=Dt.length;Ht--;)if(en=Dt[Ht],en.ref&&en.ref.parent===pn){if(en.ref.key<an)break;--en.ref.key}}}for(this.__initialize(bt,Ct),Ut={},Dt=this.__worklist,_t=this.__leavelist,Kt={root:bt},Nt=new ot(bt,null,null,new st(Kt,"root")),Dt.push(Nt),_t.push(Nt);Dt.length;){if(Nt=Dt.pop(),Nt===Ut){if(Nt=_t.pop(),Qt=this.__execute(Ct.leave,Nt),Qt!==void 0&&Qt!==et&&Qt!==tt&&Qt!==nt&&Nt.ref.replace(Qt),(this.__state===nt||Qt===nt)&&Mt(Nt),this.__state===et||Qt===et)return Kt.root;continue}if(Qt=this.__execute(Ct.enter,Nt),Qt!==void 0&&Qt!==et&&Qt!==tt&&Qt!==nt&&(Nt.ref.replace(Qt),Nt.node=Qt),(this.__state===nt||Qt===nt)&&(Mt(Nt),Nt.node=null),this.__state===et||Qt===et)return Kt.root;if(Rt=Nt.node,!!Rt&&(Dt.push(Ut),_t.push(Nt),!(this.__state===tt||Qt===tt))){if(jt=Rt.type||Nt.wrap,Wt=this.__keys[jt],!Wt)if(this.__fallback)Wt=this.__fallback(Rt);else throw new Error("Unknown node type "+jt+".");for(Vt=Wt.length;(Vt-=1)>=0;)if(mn=Wt[Vt],Jt=Rt[mn],!!Jt)if(Array.isArray(Jt)){for(Yt=Jt.length;(Yt-=1)>=0;)if(!!Jt[Yt]){if(ft(jt,Wt[Vt]))Nt=new ot(Jt[Yt],[mn,Yt],"Property",new st(Jt,Yt));else if(lt(Jt[Yt]))Nt=new ot(Jt[Yt],[mn,Yt],null,new st(Jt,Yt));else continue;Dt.push(Nt)}}else lt(Jt)&&Dt.push(new ot(Jt,mn,null,new st(Rt,mn)))}}return Kt.root};function pt(vt,bt){var Ct=new ut;return Ct.traverse(vt,bt)}function mt(vt,bt){var Ct=new ut;return Ct.replace(vt,bt)}function wt(vt,bt){var Ct;return Ct=rt(bt,function(_t){return _t.range[0]>vt.range[0]}),vt.extendedRange=[vt.range[0],vt.range[1]],Ct!==bt.length&&(vt.extendedRange[1]=bt[Ct].range[0]),Ct-=1,Ct>=0&&(vt.extendedRange[0]=bt[Ct].range[1]),vt}function gt(vt,bt,Ct){var Dt=[],_t,Rt,jt,Qt;if(!vt.range)throw new Error("attachComments needs range information");if(!Ct.length){if(bt.length){for(jt=0,Rt=bt.length;jt<Rt;jt+=1)_t=it(bt[jt]),_t.extendedRange=[0,vt.range[0]],Dt.push(_t);vt.leadingComments=Dt}return vt}for(jt=0,Rt=bt.length;jt<Rt;jt+=1)Dt.push(wt(it(bt[jt]),Ct));return Qt=0,pt(vt,{enter:function(Nt){for(var Vt;Qt<Dt.length&&(Vt=Dt[Qt],!(Vt.extendedRange[1]>Nt.range[0]));)Vt.extendedRange[1]===Nt.range[0]?(Nt.leadingComments||(Nt.leadingComments=[]),Nt.leadingComments.push(Vt),Dt.splice(Qt,1)):Qt+=1;if(Qt===Dt.length)return j.Break;if(Dt[Qt].extendedRange[0]>Nt.range[1])return j.Skip}}),Qt=0,pt(vt,{leave:function(Nt){for(var Vt;Qt<Dt.length&&(Vt=Dt[Qt],!(Nt.range[1]<Vt.extendedRange[0]));)Nt.range[1]===Vt.extendedRange[0]?(Nt.trailingComments||(Nt.trailingComments=[]),Nt.trailingComments.push(Vt),Dt.splice(Qt,1)):Qt+=1;if(Qt===Dt.length)return j.Break;if(Dt[Qt].extendedRange[0]>Nt.range[1])return j.Skip}}),vt}return _.Syntax=$,_.traverse=pt,_.replace=mt,_.attachComments=gt,_.VisitorKeys=_e,_.VisitorOption=j,_.Controller=ut,_.cloneEnvironment=function(){return b({})},_})(k)})(estraverse);var utils={},ast={exports:{}};(function(){function k(et){if(et==null)return!1;switch(et.type){case"ArrayExpression":case"AssignmentExpression":case"BinaryExpression":case"CallExpression":case"ConditionalExpression":case"FunctionExpression":case"Identifier":case"Literal":case"LogicalExpression":case"MemberExpression":case"NewExpression":case"ObjectExpression":case"SequenceExpression":case"ThisExpression":case"UnaryExpression":case"UpdateExpression":return!0}return!1}function b(et){if(et==null)return!1;switch(et.type){case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"WhileStatement":return!0}return!1}function _(et){if(et==null)return!1;switch(et.type){case"BlockStatement":case"BreakStatement":case"ContinueStatement":case"DebuggerStatement":case"DoWhileStatement":case"EmptyStatement":case"ExpressionStatement":case"ForInStatement":case"ForStatement":case"IfStatement":case"LabeledStatement":case"ReturnStatement":case"SwitchStatement":case"ThrowStatement":case"TryStatement":case"VariableDeclaration":case"WhileStatement":case"WithStatement":return!0}return!1}function $(et){return _(et)||et!=null&&et.type==="FunctionDeclaration"}function j(et){switch(et.type){case"IfStatement":return et.alternate!=null?et.alternate:et.consequent;case"LabeledStatement":case"ForStatement":case"ForInStatement":case"WhileStatement":case"WithStatement":return et.body}return null}function _e(et){var tt;if(et.type!=="IfStatement"||et.alternate==null)return!1;tt=et.consequent;do{if(tt.type==="IfStatement"&&tt.alternate==null)return!0;tt=j(tt)}while(tt);return!1}ast.exports={isExpression:k,isStatement:_,isIterationStatement:b,isSourceElement:$,isProblematicIfStatement:_e,trailingStatement:j}})();var code={exports:{}};(function(){var k,b,_,$,j,_e;b={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,NonAsciiIdentifierPart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/},k={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};function et(ct){return 48<=ct&&ct<=57}function tt(ct){return 48<=ct&&ct<=57||97<=ct&&ct<=102||65<=ct&&ct<=70}function nt(ct){return ct>=48&&ct<=55}_=[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];function it(ct){return ct===32||ct===9||ct===11||ct===12||ct===160||ct>=5760&&_.indexOf(ct)>=0}function rt(ct){return ct===10||ct===13||ct===8232||ct===8233}function st(ct){if(ct<=65535)return String.fromCharCode(ct);var pt=String.fromCharCode(Math.floor((ct-65536)/1024)+55296),mt=String.fromCharCode((ct-65536)%1024+56320);return pt+mt}for($=new Array(128),_e=0;_e<128;++_e)$[_e]=_e>=97&&_e<=122||_e>=65&&_e<=90||_e===36||_e===95;for(j=new Array(128),_e=0;_e<128;++_e)j[_e]=_e>=97&&_e<=122||_e>=65&&_e<=90||_e>=48&&_e<=57||_e===36||_e===95;function ot(ct){return ct<128?$[ct]:b.NonAsciiIdentifierStart.test(st(ct))}function ut(ct){return ct<128?j[ct]:b.NonAsciiIdentifierPart.test(st(ct))}function lt(ct){return ct<128?$[ct]:k.NonAsciiIdentifierStart.test(st(ct))}function ft(ct){return ct<128?j[ct]:k.NonAsciiIdentifierPart.test(st(ct))}code.exports={isDecimalDigit:et,isHexDigit:tt,isOctalDigit:nt,isWhiteSpace:it,isLineTerminator:rt,isIdentifierStartES5:ot,isIdentifierPartES5:ut,isIdentifierStartES6:lt,isIdentifierPartES6:ft}})();var keyword={exports:{}};(function(){var k=code.exports;function b(ot){switch(ot){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"let":return!0;default:return!1}}function _(ot,ut){return!ut&&ot==="yield"?!1:$(ot,ut)}function $(ot,ut){if(ut&&b(ot))return!0;switch(ot.length){case 2:return ot==="if"||ot==="in"||ot==="do";case 3:return ot==="var"||ot==="for"||ot==="new"||ot==="try";case 4:return ot==="this"||ot==="else"||ot==="case"||ot==="void"||ot==="with"||ot==="enum";case 5:return ot==="while"||ot==="break"||ot==="catch"||ot==="throw"||ot==="const"||ot==="yield"||ot==="class"||ot==="super";case 6:return ot==="return"||ot==="typeof"||ot==="delete"||ot==="switch"||ot==="export"||ot==="import";case 7:return ot==="default"||ot==="finally"||ot==="extends";case 8:return ot==="function"||ot==="continue"||ot==="debugger";case 10:return ot==="instanceof";default:return!1}}function j(ot,ut){return ot==="null"||ot==="true"||ot==="false"||_(ot,ut)}function _e(ot,ut){return ot==="null"||ot==="true"||ot==="false"||$(ot,ut)}function et(ot){return ot==="eval"||ot==="arguments"}function tt(ot){var ut,lt,ft;if(ot.length===0||(ft=ot.charCodeAt(0),!k.isIdentifierStartES5(ft)))return!1;for(ut=1,lt=ot.length;ut<lt;++ut)if(ft=ot.charCodeAt(ut),!k.isIdentifierPartES5(ft))return!1;return!0}function nt(ot,ut){return(ot-55296)*1024+(ut-56320)+65536}function it(ot){var ut,lt,ft,ct,pt;if(ot.length===0)return!1;for(pt=k.isIdentifierStartES6,ut=0,lt=ot.length;ut<lt;++ut){if(ft=ot.charCodeAt(ut),55296<=ft&&ft<=56319){if(++ut,ut>=lt||(ct=ot.charCodeAt(ut),!(56320<=ct&&ct<=57343)))return!1;ft=nt(ft,ct)}if(!pt(ft))return!1;pt=k.isIdentifierPartES6}return!0}function rt(ot,ut){return tt(ot)&&!j(ot,ut)}function st(ot,ut){return it(ot)&&!_e(ot,ut)}keyword.exports={isKeywordES5:_,isKeywordES6:$,isReservedWordES5:j,isReservedWordES6:_e,isRestrictedWord:et,isIdentifierNameES5:tt,isIdentifierNameES6:it,isIdentifierES5:rt,isIdentifierES6:st}})();(function(){utils.ast=ast.exports,utils.code=code.exports,utils.keyword=keyword.exports})();var sourceMap={},sourceMapGenerator={},base64Vlq={},base64={},hasRequiredBase64;function requireBase64(){if(hasRequiredBase64)return base64;hasRequiredBase64=1;var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");return base64.encode=function(b){if(0<=b&&b<k.length)return k[b];throw new TypeError("Must be between 0 and 63: "+b)},base64.decode=function(b){var _=65,$=90,j=97,_e=122,et=48,tt=57,nt=43,it=47,rt=26,st=52;return _<=b&&b<=$?b-_:j<=b&&b<=_e?b-j+rt:et<=b&&b<=tt?b-et+st:b==nt?62:b==it?63:-1},base64}var hasRequiredBase64Vlq;function requireBase64Vlq(){if(hasRequiredBase64Vlq)return base64Vlq;hasRequiredBase64Vlq=1;var k=requireBase64(),b=5,_=1<<b,$=_-1,j=_;function _e(tt){return tt<0?(-tt<<1)+1:(tt<<1)+0}function et(tt){var nt=(tt&1)===1,it=tt>>1;return nt?-it:it}return base64Vlq.encode=function(nt){var it="",rt,st=_e(nt);do rt=st&$,st>>>=b,st>0&&(rt|=j),it+=k.encode(rt);while(st>0);return it},base64Vlq.decode=function(nt,it,rt){var st=nt.length,ot=0,ut=0,lt,ft;do{if(it>=st)throw new Error("Expected more digits in base 64 VLQ value.");if(ft=k.decode(nt.charCodeAt(it++)),ft===-1)throw new Error("Invalid base64 digit: "+nt.charAt(it-1));lt=!!(ft&j),ft&=$,ot=ot+(ft<<ut),ut+=b}while(lt);rt.value=et(ot),rt.rest=it},base64Vlq}var util={},hasRequiredUtil;function requireUtil(){return hasRequiredUtil||(hasRequiredUtil=1,function(k){function b(gt,vt,bt){if(vt in gt)return gt[vt];if(arguments.length===3)return bt;throw new Error('"'+vt+'" is a required argument.')}k.getArg=b;var _=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,$=/^data:.+\,.+$/;function j(gt){var vt=gt.match(_);return vt?{scheme:vt[1],auth:vt[2],host:vt[3],port:vt[4],path:vt[5]}:null}k.urlParse=j;function _e(gt){var vt="";return gt.scheme&&(vt+=gt.scheme+":"),vt+="//",gt.auth&&(vt+=gt.auth+"@"),gt.host&&(vt+=gt.host),gt.port&&(vt+=":"+gt.port),gt.path&&(vt+=gt.path),vt}k.urlGenerate=_e;function et(gt){var vt=gt,bt=j(gt);if(bt){if(!bt.path)return gt;vt=bt.path}for(var Ct=k.isAbsolute(vt),Dt=vt.split(/\/+/),_t,Rt=0,jt=Dt.length-1;jt>=0;jt--)_t=Dt[jt],_t==="."?Dt.splice(jt,1):_t===".."?Rt++:Rt>0&&(_t===""?(Dt.splice(jt+1,Rt),Rt=0):(Dt.splice(jt,2),Rt--));return vt=Dt.join("/"),vt===""&&(vt=Ct?"/":"."),bt?(bt.path=vt,_e(bt)):vt}k.normalize=et;function tt(gt,vt){gt===""&&(gt="."),vt===""&&(vt=".");var bt=j(vt),Ct=j(gt);if(Ct&&(gt=Ct.path||"/"),bt&&!bt.scheme)return Ct&&(bt.scheme=Ct.scheme),_e(bt);if(bt||vt.match($))return vt;if(Ct&&!Ct.host&&!Ct.path)return Ct.host=vt,_e(Ct);var Dt=vt.charAt(0)==="/"?vt:et(gt.replace(/\/+$/,"")+"/"+vt);return Ct?(Ct.path=Dt,_e(Ct)):Dt}k.join=tt,k.isAbsolute=function(gt){return gt.charAt(0)==="/"||_.test(gt)};function nt(gt,vt){gt===""&&(gt="."),gt=gt.replace(/\/$/,"");for(var bt=0;vt.indexOf(gt+"/")!==0;){var Ct=gt.lastIndexOf("/");if(Ct<0||(gt=gt.slice(0,Ct),gt.match(/^([^\/]+:\/)?\/*$/)))return vt;++bt}return Array(bt+1).join("../")+vt.substr(gt.length+1)}k.relative=nt;var it=function(){var gt=Object.create(null);return!("__proto__"in gt)}();function rt(gt){return gt}function st(gt){return ut(gt)?"$"+gt:gt}k.toSetString=it?rt:st;function ot(gt){return ut(gt)?gt.slice(1):gt}k.fromSetString=it?rt:ot;function ut(gt){if(!gt)return!1;var vt=gt.length;if(vt<9||gt.charCodeAt(vt-1)!==95||gt.charCodeAt(vt-2)!==95||gt.charCodeAt(vt-3)!==111||gt.charCodeAt(vt-4)!==116||gt.charCodeAt(vt-5)!==111||gt.charCodeAt(vt-6)!==114||gt.charCodeAt(vt-7)!==112||gt.charCodeAt(vt-8)!==95||gt.charCodeAt(vt-9)!==95)return!1;for(var bt=vt-10;bt>=0;bt--)if(gt.charCodeAt(bt)!==36)return!1;return!0}function lt(gt,vt,bt){var Ct=ct(gt.source,vt.source);return Ct!==0||(Ct=gt.originalLine-vt.originalLine,Ct!==0)||(Ct=gt.originalColumn-vt.originalColumn,Ct!==0||bt)||(Ct=gt.generatedColumn-vt.generatedColumn,Ct!==0)||(Ct=gt.generatedLine-vt.generatedLine,Ct!==0)?Ct:ct(gt.name,vt.name)}k.compareByOriginalPositions=lt;function ft(gt,vt,bt){var Ct=gt.generatedLine-vt.generatedLine;return Ct!==0||(Ct=gt.generatedColumn-vt.generatedColumn,Ct!==0||bt)||(Ct=ct(gt.source,vt.source),Ct!==0)||(Ct=gt.originalLine-vt.originalLine,Ct!==0)||(Ct=gt.originalColumn-vt.originalColumn,Ct!==0)?Ct:ct(gt.name,vt.name)}k.compareByGeneratedPositionsDeflated=ft;function ct(gt,vt){return gt===vt?0:gt===null?1:vt===null?-1:gt>vt?1:-1}function pt(gt,vt){var bt=gt.generatedLine-vt.generatedLine;return bt!==0||(bt=gt.generatedColumn-vt.generatedColumn,bt!==0)||(bt=ct(gt.source,vt.source),bt!==0)||(bt=gt.originalLine-vt.originalLine,bt!==0)||(bt=gt.originalColumn-vt.originalColumn,bt!==0)?bt:ct(gt.name,vt.name)}k.compareByGeneratedPositionsInflated=pt;function mt(gt){return JSON.parse(gt.replace(/^\)]}'[^\n]*\n/,""))}k.parseSourceMapInput=mt;function wt(gt,vt,bt){if(vt=vt||"",gt&&(gt[gt.length-1]!=="/"&&vt[0]!=="/"&&(gt+="/"),vt=gt+vt),bt){var Ct=j(bt);if(!Ct)throw new Error("sourceMapURL could not be parsed");if(Ct.path){var Dt=Ct.path.lastIndexOf("/");Dt>=0&&(Ct.path=Ct.path.substring(0,Dt+1))}vt=tt(_e(Ct),vt)}return et(vt)}k.computeSourceURL=wt}(util)),util}var arraySet={},hasRequiredArraySet;function requireArraySet(){if(hasRequiredArraySet)return arraySet;hasRequiredArraySet=1;var k=requireUtil(),b=Object.prototype.hasOwnProperty,_=typeof Map<"u";function $(){this._array=[],this._set=_?new Map:Object.create(null)}return $.fromArray=function(_e,et){for(var tt=new $,nt=0,it=_e.length;nt<it;nt++)tt.add(_e[nt],et);return tt},$.prototype.size=function(){return _?this._set.size:Object.getOwnPropertyNames(this._set).length},$.prototype.add=function(_e,et){var tt=_?_e:k.toSetString(_e),nt=_?this.has(_e):b.call(this._set,tt),it=this._array.length;(!nt||et)&&this._array.push(_e),nt||(_?this._set.set(_e,it):this._set[tt]=it)},$.prototype.has=function(_e){if(_)return this._set.has(_e);var et=k.toSetString(_e);return b.call(this._set,et)},$.prototype.indexOf=function(_e){if(_){var et=this._set.get(_e);if(et>=0)return et}else{var tt=k.toSetString(_e);if(b.call(this._set,tt))return this._set[tt]}throw new Error('"'+_e+'" is not in the set.')},$.prototype.at=function(_e){if(_e>=0&&_e<this._array.length)return this._array[_e];throw new Error("No element indexed by "+_e)},$.prototype.toArray=function(){return this._array.slice()},arraySet.ArraySet=$,arraySet}var mappingList={},hasRequiredMappingList;function requireMappingList(){if(hasRequiredMappingList)return mappingList;hasRequiredMappingList=1;var k=requireUtil();function b($,j){var _e=$.generatedLine,et=j.generatedLine,tt=$.generatedColumn,nt=j.generatedColumn;return et>_e||et==_e&&nt>=tt||k.compareByGeneratedPositionsInflated($,j)<=0}function _(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}return _.prototype.unsortedForEach=function(j,_e){this._array.forEach(j,_e)},_.prototype.add=function(j){b(this._last,j)?(this._last=j,this._array.push(j)):(this._sorted=!1,this._array.push(j))},_.prototype.toArray=function(){return this._sorted||(this._array.sort(k.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},mappingList.MappingList=_,mappingList}var hasRequiredSourceMapGenerator;function requireSourceMapGenerator(){if(hasRequiredSourceMapGenerator)return sourceMapGenerator;hasRequiredSourceMapGenerator=1;var k=requireBase64Vlq(),b=requireUtil(),_=requireArraySet().ArraySet,$=requireMappingList().MappingList;function j(_e){_e||(_e={}),this._file=b.getArg(_e,"file",null),this._sourceRoot=b.getArg(_e,"sourceRoot",null),this._skipValidation=b.getArg(_e,"skipValidation",!1),this._sources=new _,this._names=new _,this._mappings=new $,this._sourcesContents=null}return j.prototype._version=3,j.fromSourceMap=function(et){var tt=et.sourceRoot,nt=new j({file:et.file,sourceRoot:tt});return et.eachMapping(function(it){var rt={generated:{line:it.generatedLine,column:it.generatedColumn}};it.source!=null&&(rt.source=it.source,tt!=null&&(rt.source=b.relative(tt,rt.source)),rt.original={line:it.originalLine,column:it.originalColumn},it.name!=null&&(rt.name=it.name)),nt.addMapping(rt)}),et.sources.forEach(function(it){var rt=it;tt!==null&&(rt=b.relative(tt,it)),nt._sources.has(rt)||nt._sources.add(rt);var st=et.sourceContentFor(it);st!=null&&nt.setSourceContent(it,st)}),nt},j.prototype.addMapping=function(et){var tt=b.getArg(et,"generated"),nt=b.getArg(et,"original",null),it=b.getArg(et,"source",null),rt=b.getArg(et,"name",null);this._skipValidation||this._validateMapping(tt,nt,it,rt),it!=null&&(it=String(it),this._sources.has(it)||this._sources.add(it)),rt!=null&&(rt=String(rt),this._names.has(rt)||this._names.add(rt)),this._mappings.add({generatedLine:tt.line,generatedColumn:tt.column,originalLine:nt!=null&&nt.line,originalColumn:nt!=null&&nt.column,source:it,name:rt})},j.prototype.setSourceContent=function(et,tt){var nt=et;this._sourceRoot!=null&&(nt=b.relative(this._sourceRoot,nt)),tt!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[b.toSetString(nt)]=tt):this._sourcesContents&&(delete this._sourcesContents[b.toSetString(nt)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},j.prototype.applySourceMap=function(et,tt,nt){var it=tt;if(tt==null){if(et.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);it=et.file}var rt=this._sourceRoot;rt!=null&&(it=b.relative(rt,it));var st=new _,ot=new _;this._mappings.unsortedForEach(function(ut){if(ut.source===it&&ut.originalLine!=null){var lt=et.originalPositionFor({line:ut.originalLine,column:ut.originalColumn});lt.source!=null&&(ut.source=lt.source,nt!=null&&(ut.source=b.join(nt,ut.source)),rt!=null&&(ut.source=b.relative(rt,ut.source)),ut.originalLine=lt.line,ut.originalColumn=lt.column,lt.name!=null&&(ut.name=lt.name))}var ft=ut.source;ft!=null&&!st.has(ft)&&st.add(ft);var ct=ut.name;ct!=null&&!ot.has(ct)&&ot.add(ct)},this),this._sources=st,this._names=ot,et.sources.forEach(function(ut){var lt=et.sourceContentFor(ut);lt!=null&&(nt!=null&&(ut=b.join(nt,ut)),rt!=null&&(ut=b.relative(rt,ut)),this.setSourceContent(ut,lt))},this)},j.prototype._validateMapping=function(et,tt,nt,it){if(tt&&typeof tt.line!="number"&&typeof tt.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(et&&"line"in et&&"column"in et&&et.line>0&&et.column>=0&&!tt&&!nt&&!it)){if(et&&"line"in et&&"column"in et&&tt&&"line"in tt&&"column"in tt&&et.line>0&&et.column>=0&&tt.line>0&&tt.column>=0&&nt)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:et,source:nt,original:tt,name:it}))}},j.prototype._serializeMappings=function(){for(var et=0,tt=1,nt=0,it=0,rt=0,st=0,ot="",ut,lt,ft,ct,pt=this._mappings.toArray(),mt=0,wt=pt.length;mt<wt;mt++){if(lt=pt[mt],ut="",lt.generatedLine!==tt)for(et=0;lt.generatedLine!==tt;)ut+=";",tt++;else if(mt>0){if(!b.compareByGeneratedPositionsInflated(lt,pt[mt-1]))continue;ut+=","}ut+=k.encode(lt.generatedColumn-et),et=lt.generatedColumn,lt.source!=null&&(ct=this._sources.indexOf(lt.source),ut+=k.encode(ct-st),st=ct,ut+=k.encode(lt.originalLine-1-it),it=lt.originalLine-1,ut+=k.encode(lt.originalColumn-nt),nt=lt.originalColumn,lt.name!=null&&(ft=this._names.indexOf(lt.name),ut+=k.encode(ft-rt),rt=ft)),ot+=ut}return ot},j.prototype._generateSourcesContent=function(et,tt){return et.map(function(nt){if(!this._sourcesContents)return null;tt!=null&&(nt=b.relative(tt,nt));var it=b.toSetString(nt);return Object.prototype.hasOwnProperty.call(this._sourcesContents,it)?this._sourcesContents[it]:null},this)},j.prototype.toJSON=function(){var et={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(et.file=this._file),this._sourceRoot!=null&&(et.sourceRoot=this._sourceRoot),this._sourcesContents&&(et.sourcesContent=this._generateSourcesContent(et.sources,et.sourceRoot)),et},j.prototype.toString=function(){return JSON.stringify(this.toJSON())},sourceMapGenerator.SourceMapGenerator=j,sourceMapGenerator}var sourceMapConsumer={},binarySearch={},hasRequiredBinarySearch;function requireBinarySearch(){return hasRequiredBinarySearch||(hasRequiredBinarySearch=1,function(k){k.GREATEST_LOWER_BOUND=1,k.LEAST_UPPER_BOUND=2;function b(_,$,j,_e,et,tt){var nt=Math.floor(($-_)/2)+_,it=et(j,_e[nt],!0);return it===0?nt:it>0?$-nt>1?b(nt,$,j,_e,et,tt):tt==k.LEAST_UPPER_BOUND?$<_e.length?$:-1:nt:nt-_>1?b(_,nt,j,_e,et,tt):tt==k.LEAST_UPPER_BOUND?nt:_<0?-1:_}k.search=function($,j,_e,et){if(j.length===0)return-1;var tt=b(-1,j.length,$,j,_e,et||k.GREATEST_LOWER_BOUND);if(tt<0)return-1;for(;tt-1>=0&&_e(j[tt],j[tt-1],!0)===0;)--tt;return tt}}(binarySearch)),binarySearch}var quickSort={},hasRequiredQuickSort;function requireQuickSort(){if(hasRequiredQuickSort)return quickSort;hasRequiredQuickSort=1;function k($,j,_e){var et=$[j];$[j]=$[_e],$[_e]=et}function b($,j){return Math.round($+Math.random()*(j-$))}function _($,j,_e,et){if(_e<et){var tt=b(_e,et),nt=_e-1;k($,tt,et);for(var it=$[et],rt=_e;rt<et;rt++)j($[rt],it)<=0&&(nt+=1,k($,nt,rt));k($,nt+1,rt);var st=nt+1;_($,j,_e,st-1),_($,j,st+1,et)}}return quickSort.quickSort=function($,j){_($,j,0,$.length-1)},quickSort}var hasRequiredSourceMapConsumer;function requireSourceMapConsumer(){if(hasRequiredSourceMapConsumer)return sourceMapConsumer;hasRequiredSourceMapConsumer=1;var k=requireUtil(),b=requireBinarySearch(),_=requireArraySet().ArraySet,$=requireBase64Vlq(),j=requireQuickSort().quickSort;function _e(it,rt){var st=it;return typeof it=="string"&&(st=k.parseSourceMapInput(it)),st.sections!=null?new nt(st,rt):new et(st,rt)}_e.fromSourceMap=function(it,rt){return et.fromSourceMap(it,rt)},_e.prototype._version=3,_e.prototype.__generatedMappings=null,Object.defineProperty(_e.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),_e.prototype.__originalMappings=null,Object.defineProperty(_e.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),_e.prototype._charIsMappingSeparator=function(rt,st){var ot=rt.charAt(st);return ot===";"||ot===","},_e.prototype._parseMappings=function(rt,st){throw new Error("Subclasses must implement _parseMappings")},_e.GENERATED_ORDER=1,_e.ORIGINAL_ORDER=2,_e.GREATEST_LOWER_BOUND=1,_e.LEAST_UPPER_BOUND=2,_e.prototype.eachMapping=function(rt,st,ot){var ut=st||null,lt=ot||_e.GENERATED_ORDER,ft;switch(lt){case _e.GENERATED_ORDER:ft=this._generatedMappings;break;case _e.ORIGINAL_ORDER:ft=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var ct=this.sourceRoot;ft.map(function(pt){var mt=pt.source===null?null:this._sources.at(pt.source);return mt=k.computeSourceURL(ct,mt,this._sourceMapURL),{source:mt,generatedLine:pt.generatedLine,generatedColumn:pt.generatedColumn,originalLine:pt.originalLine,originalColumn:pt.originalColumn,name:pt.name===null?null:this._names.at(pt.name)}},this).forEach(rt,ut)},_e.prototype.allGeneratedPositionsFor=function(rt){var st=k.getArg(rt,"line"),ot={source:k.getArg(rt,"source"),originalLine:st,originalColumn:k.getArg(rt,"column",0)};if(ot.source=this._findSourceIndex(ot.source),ot.source<0)return[];var ut=[],lt=this._findMapping(ot,this._originalMappings,"originalLine","originalColumn",k.compareByOriginalPositions,b.LEAST_UPPER_BOUND);if(lt>=0){var ft=this._originalMappings[lt];if(rt.column===void 0)for(var ct=ft.originalLine;ft&&ft.originalLine===ct;)ut.push({line:k.getArg(ft,"generatedLine",null),column:k.getArg(ft,"generatedColumn",null),lastColumn:k.getArg(ft,"lastGeneratedColumn",null)}),ft=this._originalMappings[++lt];else for(var pt=ft.originalColumn;ft&&ft.originalLine===st&&ft.originalColumn==pt;)ut.push({line:k.getArg(ft,"generatedLine",null),column:k.getArg(ft,"generatedColumn",null),lastColumn:k.getArg(ft,"lastGeneratedColumn",null)}),ft=this._originalMappings[++lt]}return ut},sourceMapConsumer.SourceMapConsumer=_e;function et(it,rt){var st=it;typeof it=="string"&&(st=k.parseSourceMapInput(it));var ot=k.getArg(st,"version"),ut=k.getArg(st,"sources"),lt=k.getArg(st,"names",[]),ft=k.getArg(st,"sourceRoot",null),ct=k.getArg(st,"sourcesContent",null),pt=k.getArg(st,"mappings"),mt=k.getArg(st,"file",null);if(ot!=this._version)throw new Error("Unsupported version: "+ot);ft&&(ft=k.normalize(ft)),ut=ut.map(String).map(k.normalize).map(function(wt){return ft&&k.isAbsolute(ft)&&k.isAbsolute(wt)?k.relative(ft,wt):wt}),this._names=_.fromArray(lt.map(String),!0),this._sources=_.fromArray(ut,!0),this._absoluteSources=this._sources.toArray().map(function(wt){return k.computeSourceURL(ft,wt,rt)}),this.sourceRoot=ft,this.sourcesContent=ct,this._mappings=pt,this._sourceMapURL=rt,this.file=mt}et.prototype=Object.create(_e.prototype),et.prototype.consumer=_e,et.prototype._findSourceIndex=function(it){var rt=it;if(this.sourceRoot!=null&&(rt=k.relative(this.sourceRoot,rt)),this._sources.has(rt))return this._sources.indexOf(rt);var st;for(st=0;st<this._absoluteSources.length;++st)if(this._absoluteSources[st]==it)return st;return-1},et.fromSourceMap=function(rt,st){var ot=Object.create(et.prototype),ut=ot._names=_.fromArray(rt._names.toArray(),!0),lt=ot._sources=_.fromArray(rt._sources.toArray(),!0);ot.sourceRoot=rt._sourceRoot,ot.sourcesContent=rt._generateSourcesContent(ot._sources.toArray(),ot.sourceRoot),ot.file=rt._file,ot._sourceMapURL=st,ot._absoluteSources=ot._sources.toArray().map(function(bt){return k.computeSourceURL(ot.sourceRoot,bt,st)});for(var ft=rt._mappings.toArray().slice(),ct=ot.__generatedMappings=[],pt=ot.__originalMappings=[],mt=0,wt=ft.length;mt<wt;mt++){var gt=ft[mt],vt=new tt;vt.generatedLine=gt.generatedLine,vt.generatedColumn=gt.generatedColumn,gt.source&&(vt.source=lt.indexOf(gt.source),vt.originalLine=gt.originalLine,vt.originalColumn=gt.originalColumn,gt.name&&(vt.name=ut.indexOf(gt.name)),pt.push(vt)),ct.push(vt)}return j(ot.__originalMappings,k.compareByOriginalPositions),ot},et.prototype._version=3,Object.defineProperty(et.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function tt(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}et.prototype._parseMappings=function(rt,st){for(var ot=1,ut=0,lt=0,ft=0,ct=0,pt=0,mt=rt.length,wt=0,gt={},vt={},bt=[],Ct=[],Dt,_t,Rt,jt,Qt;wt<mt;)if(rt.charAt(wt)===";")ot++,wt++,ut=0;else if(rt.charAt(wt)===",")wt++;else{for(Dt=new tt,Dt.generatedLine=ot,jt=wt;jt<mt&&!this._charIsMappingSeparator(rt,jt);jt++);if(_t=rt.slice(wt,jt),Rt=gt[_t],Rt)wt+=_t.length;else{for(Rt=[];wt<jt;)$.decode(rt,wt,vt),Qt=vt.value,wt=vt.rest,Rt.push(Qt);if(Rt.length===2)throw new Error("Found a source, but no line and column");if(Rt.length===3)throw new Error("Found a source and line, but no column");gt[_t]=Rt}Dt.generatedColumn=ut+Rt[0],ut=Dt.generatedColumn,Rt.length>1&&(Dt.source=ct+Rt[1],ct+=Rt[1],Dt.originalLine=lt+Rt[2],lt=Dt.originalLine,Dt.originalLine+=1,Dt.originalColumn=ft+Rt[3],ft=Dt.originalColumn,Rt.length>4&&(Dt.name=pt+Rt[4],pt+=Rt[4])),Ct.push(Dt),typeof Dt.originalLine=="number"&&bt.push(Dt)}j(Ct,k.compareByGeneratedPositionsDeflated),this.__generatedMappings=Ct,j(bt,k.compareByOriginalPositions),this.__originalMappings=bt},et.prototype._findMapping=function(rt,st,ot,ut,lt,ft){if(rt[ot]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+rt[ot]);if(rt[ut]<0)throw new TypeError("Column must be greater than or equal to 0, got "+rt[ut]);return b.search(rt,st,lt,ft)},et.prototype.computeColumnSpans=function(){for(var rt=0;rt<this._generatedMappings.length;++rt){var st=this._generatedMappings[rt];if(rt+1<this._generatedMappings.length){var ot=this._generatedMappings[rt+1];if(st.generatedLine===ot.generatedLine){st.lastGeneratedColumn=ot.generatedColumn-1;continue}}st.lastGeneratedColumn=1/0}},et.prototype.originalPositionFor=function(rt){var st={generatedLine:k.getArg(rt,"line"),generatedColumn:k.getArg(rt,"column")},ot=this._findMapping(st,this._generatedMappings,"generatedLine","generatedColumn",k.compareByGeneratedPositionsDeflated,k.getArg(rt,"bias",_e.GREATEST_LOWER_BOUND));if(ot>=0){var ut=this._generatedMappings[ot];if(ut.generatedLine===st.generatedLine){var lt=k.getArg(ut,"source",null);lt!==null&&(lt=this._sources.at(lt),lt=k.computeSourceURL(this.sourceRoot,lt,this._sourceMapURL));var ft=k.getArg(ut,"name",null);return ft!==null&&(ft=this._names.at(ft)),{source:lt,line:k.getArg(ut,"originalLine",null),column:k.getArg(ut,"originalColumn",null),name:ft}}}return{source:null,line:null,column:null,name:null}},et.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(rt){return rt==null}):!1},et.prototype.sourceContentFor=function(rt,st){if(!this.sourcesContent)return null;var ot=this._findSourceIndex(rt);if(ot>=0)return this.sourcesContent[ot];var ut=rt;this.sourceRoot!=null&&(ut=k.relative(this.sourceRoot,ut));var lt;if(this.sourceRoot!=null&&(lt=k.urlParse(this.sourceRoot))){var ft=ut.replace(/^file:\/\//,"");if(lt.scheme=="file"&&this._sources.has(ft))return this.sourcesContent[this._sources.indexOf(ft)];if((!lt.path||lt.path=="/")&&this._sources.has("/"+ut))return this.sourcesContent[this._sources.indexOf("/"+ut)]}if(st)return null;throw new Error('"'+ut+'" is not in the SourceMap.')},et.prototype.generatedPositionFor=function(rt){var st=k.getArg(rt,"source");if(st=this._findSourceIndex(st),st<0)return{line:null,column:null,lastColumn:null};var ot={source:st,originalLine:k.getArg(rt,"line"),originalColumn:k.getArg(rt,"column")},ut=this._findMapping(ot,this._originalMappings,"originalLine","originalColumn",k.compareByOriginalPositions,k.getArg(rt,"bias",_e.GREATEST_LOWER_BOUND));if(ut>=0){var lt=this._originalMappings[ut];if(lt.source===ot.source)return{line:k.getArg(lt,"generatedLine",null),column:k.getArg(lt,"generatedColumn",null),lastColumn:k.getArg(lt,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},sourceMapConsumer.BasicSourceMapConsumer=et;function nt(it,rt){var st=it;typeof it=="string"&&(st=k.parseSourceMapInput(it));var ot=k.getArg(st,"version"),ut=k.getArg(st,"sections");if(ot!=this._version)throw new Error("Unsupported version: "+ot);this._sources=new _,this._names=new _;var lt={line:-1,column:0};this._sections=ut.map(function(ft){if(ft.url)throw new Error("Support for url field in sections not implemented.");var ct=k.getArg(ft,"offset"),pt=k.getArg(ct,"line"),mt=k.getArg(ct,"column");if(pt<lt.line||pt===lt.line&&mt<lt.column)throw new Error("Section offsets must be ordered and non-overlapping.");return lt=ct,{generatedOffset:{generatedLine:pt+1,generatedColumn:mt+1},consumer:new _e(k.getArg(ft,"map"),rt)}})}return nt.prototype=Object.create(_e.prototype),nt.prototype.constructor=_e,nt.prototype._version=3,Object.defineProperty(nt.prototype,"sources",{get:function(){for(var it=[],rt=0;rt<this._sections.length;rt++)for(var st=0;st<this._sections[rt].consumer.sources.length;st++)it.push(this._sections[rt].consumer.sources[st]);return it}}),nt.prototype.originalPositionFor=function(rt){var st={generatedLine:k.getArg(rt,"line"),generatedColumn:k.getArg(rt,"column")},ot=b.search(st,this._sections,function(lt,ft){var ct=lt.generatedLine-ft.generatedOffset.generatedLine;return ct||lt.generatedColumn-ft.generatedOffset.generatedColumn}),ut=this._sections[ot];return ut?ut.consumer.originalPositionFor({line:st.generatedLine-(ut.generatedOffset.generatedLine-1),column:st.generatedColumn-(ut.generatedOffset.generatedLine===st.generatedLine?ut.generatedOffset.generatedColumn-1:0),bias:rt.bias}):{source:null,line:null,column:null,name:null}},nt.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(rt){return rt.consumer.hasContentsOfAllSources()})},nt.prototype.sourceContentFor=function(rt,st){for(var ot=0;ot<this._sections.length;ot++){var ut=this._sections[ot],lt=ut.consumer.sourceContentFor(rt,!0);if(lt)return lt}if(st)return null;throw new Error('"'+rt+'" is not in the SourceMap.')},nt.prototype.generatedPositionFor=function(rt){for(var st=0;st<this._sections.length;st++){var ot=this._sections[st];if(ot.consumer._findSourceIndex(k.getArg(rt,"source"))!==-1){var ut=ot.consumer.generatedPositionFor(rt);if(ut){var lt={line:ut.line+(ot.generatedOffset.generatedLine-1),column:ut.column+(ot.generatedOffset.generatedLine===ut.line?ot.generatedOffset.generatedColumn-1:0)};return lt}}}return{line:null,column:null}},nt.prototype._parseMappings=function(rt,st){this.__generatedMappings=[],this.__originalMappings=[];for(var ot=0;ot<this._sections.length;ot++)for(var ut=this._sections[ot],lt=ut.consumer._generatedMappings,ft=0;ft<lt.length;ft++){var ct=lt[ft],pt=ut.consumer._sources.at(ct.source);pt=k.computeSourceURL(ut.consumer.sourceRoot,pt,this._sourceMapURL),this._sources.add(pt),pt=this._sources.indexOf(pt);var mt=null;ct.name&&(mt=ut.consumer._names.at(ct.name),this._names.add(mt),mt=this._names.indexOf(mt));var wt={source:pt,generatedLine:ct.generatedLine+(ut.generatedOffset.generatedLine-1),generatedColumn:ct.generatedColumn+(ut.generatedOffset.generatedLine===ct.generatedLine?ut.generatedOffset.generatedColumn-1:0),originalLine:ct.originalLine,originalColumn:ct.originalColumn,name:mt};this.__generatedMappings.push(wt),typeof wt.originalLine=="number"&&this.__originalMappings.push(wt)}j(this.__generatedMappings,k.compareByGeneratedPositionsDeflated),j(this.__originalMappings,k.compareByOriginalPositions)},sourceMapConsumer.IndexedSourceMapConsumer=nt,sourceMapConsumer}var sourceNode={},hasRequiredSourceNode;function requireSourceNode(){if(hasRequiredSourceNode)return sourceNode;hasRequiredSourceNode=1;var k=requireSourceMapGenerator().SourceMapGenerator,b=requireUtil(),_=/(\r?\n)/,$=10,j="$$$isSourceNode$$$";function _e(et,tt,nt,it,rt){this.children=[],this.sourceContents={},this.line=et==null?null:et,this.column=tt==null?null:tt,this.source=nt==null?null:nt,this.name=rt==null?null:rt,this[j]=!0,it!=null&&this.add(it)}return _e.fromStringWithSourceMap=function(tt,nt,it){var rt=new _e,st=tt.split(_),ot=0,ut=function(){var mt=gt(),wt=gt()||"";return mt+wt;function gt(){return ot<st.length?st[ot++]:void 0}},lt=1,ft=0,ct=null;return nt.eachMapping(function(mt){if(ct!==null)if(lt<mt.generatedLine)pt(ct,ut()),lt++,ft=0;else{var wt=st[ot]||"",gt=wt.substr(0,mt.generatedColumn-ft);st[ot]=wt.substr(mt.generatedColumn-ft),ft=mt.generatedColumn,pt(ct,gt),ct=mt;return}for(;lt<mt.generatedLine;)rt.add(ut()),lt++;if(ft<mt.generatedColumn){var wt=st[ot]||"";rt.add(wt.substr(0,mt.generatedColumn)),st[ot]=wt.substr(mt.generatedColumn),ft=mt.generatedColumn}ct=mt},this),ot<st.length&&(ct&&pt(ct,ut()),rt.add(st.splice(ot).join(""))),nt.sources.forEach(function(mt){var wt=nt.sourceContentFor(mt);wt!=null&&(it!=null&&(mt=b.join(it,mt)),rt.setSourceContent(mt,wt))}),rt;function pt(mt,wt){if(mt===null||mt.source===void 0)rt.add(wt);else{var gt=it?b.join(it,mt.source):mt.source;rt.add(new _e(mt.originalLine,mt.originalColumn,gt,wt,mt.name))}}},_e.prototype.add=function(tt){if(Array.isArray(tt))tt.forEach(function(nt){this.add(nt)},this);else if(tt[j]||typeof tt=="string")tt&&this.children.push(tt);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+tt);return this},_e.prototype.prepend=function(tt){if(Array.isArray(tt))for(var nt=tt.length-1;nt>=0;nt--)this.prepend(tt[nt]);else if(tt[j]||typeof tt=="string")this.children.unshift(tt);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+tt);return this},_e.prototype.walk=function(tt){for(var nt,it=0,rt=this.children.length;it<rt;it++)nt=this.children[it],nt[j]?nt.walk(tt):nt!==""&&tt(nt,{source:this.source,line:this.line,column:this.column,name:this.name})},_e.prototype.join=function(tt){var nt,it,rt=this.children.length;if(rt>0){for(nt=[],it=0;it<rt-1;it++)nt.push(this.children[it]),nt.push(tt);nt.push(this.children[it]),this.children=nt}return this},_e.prototype.replaceRight=function(tt,nt){var it=this.children[this.children.length-1];return it[j]?it.replaceRight(tt,nt):typeof it=="string"?this.children[this.children.length-1]=it.replace(tt,nt):this.children.push("".replace(tt,nt)),this},_e.prototype.setSourceContent=function(tt,nt){this.sourceContents[b.toSetString(tt)]=nt},_e.prototype.walkSourceContents=function(tt){for(var nt=0,it=this.children.length;nt<it;nt++)this.children[nt][j]&&this.children[nt].walkSourceContents(tt);for(var rt=Object.keys(this.sourceContents),nt=0,it=rt.length;nt<it;nt++)tt(b.fromSetString(rt[nt]),this.sourceContents[rt[nt]])},_e.prototype.toString=function(){var tt="";return this.walk(function(nt){tt+=nt}),tt},_e.prototype.toStringWithSourceMap=function(tt){var nt={code:"",line:1,column:0},it=new k(tt),rt=!1,st=null,ot=null,ut=null,lt=null;return this.walk(function(ft,ct){nt.code+=ft,ct.source!==null&&ct.line!==null&&ct.column!==null?((st!==ct.source||ot!==ct.line||ut!==ct.column||lt!==ct.name)&&it.addMapping({source:ct.source,original:{line:ct.line,column:ct.column},generated:{line:nt.line,column:nt.column},name:ct.name}),st=ct.source,ot=ct.line,ut=ct.column,lt=ct.name,rt=!0):rt&&(it.addMapping({generated:{line:nt.line,column:nt.column}}),st=null,rt=!1);for(var pt=0,mt=ft.length;pt<mt;pt++)ft.charCodeAt(pt)===$?(nt.line++,nt.column=0,pt+1===mt?(st=null,rt=!1):rt&&it.addMapping({source:ct.source,original:{line:ct.line,column:ct.column},generated:{line:nt.line,column:nt.column},name:ct.name})):nt.column++}),this.walkSourceContents(function(ft,ct){it.setSourceContent(ft,ct)}),{code:nt.code,map:it}},sourceNode.SourceNode=_e,sourceNode}var hasRequiredSourceMap;function requireSourceMap(){return hasRequiredSourceMap||(hasRequiredSourceMap=1,sourceMap.SourceMapGenerator=requireSourceMapGenerator().SourceMapGenerator,sourceMap.SourceMapConsumer=requireSourceMapConsumer().SourceMapConsumer,sourceMap.SourceNode=requireSourceNode().SourceNode),sourceMap}const name$2="escodegen",description="ECMAScript code generator",homepage="http://github.com/estools/escodegen",main="escodegen.js",bin={esgenerate:"./bin/esgenerate.js",escodegen:"./bin/escodegen.js"},files=["LICENSE.BSD","README.md","bin","escodegen.js","package.json"],version$1="2.0.0",engines={node:">=6.0"},maintainers=[{name:"Yusuke Suzuki",email:"utatane.tea@gmail.com",web:"http://github.com/Constellation"}],repository={type:"git",url:"http://github.com/estools/escodegen.git"},dependencies={estraverse:"^5.2.0",esutils:"^2.0.2",esprima:"^4.0.1",optionator:"^0.8.1"},optionalDependencies={"source-map":"~0.6.1"},devDependencies={acorn:"^7.3.1",bluebird:"^3.4.7","bower-registry-client":"^1.0.0",chai:"^4.2.0","chai-exclude":"^2.0.2","commonjs-everywhere":"^0.9.7",gulp:"^3.8.10","gulp-eslint":"^3.0.1","gulp-mocha":"^3.0.1",semver:"^5.1.0"},license="BSD-2-Clause",scripts={test:"gulp travis","unit-test":"gulp test",lint:"gulp lint",release:"node tools/release.js","build-min":"./node_modules/.bin/cjsify -ma path: tools/entry-point.js > escodegen.browser.min.js",build:"./node_modules/.bin/cjsify -a path: tools/entry-point.js > escodegen.browser.js"},require$$3={name:name$2,description,homepage,main,bin,files,version:version$1,engines,maintainers,repository,dependencies,optionalDependencies,devDependencies,license,scripts};(function(k){(function(){var b,_,$,j,_e,et,tt,nt,it,rt,st,ot,ut,lt,ft,ct,pt,mt,wt,gt,vt,bt,Ct,Dt,_t,Rt;_e=estraverse,et=utils,b=_e.Syntax;function jt(at){return Cn.Expression.hasOwnProperty(at.type)}function Qt(at){return Cn.Statement.hasOwnProperty(at.type)}_={Sequence:0,Yield:1,Assignment:1,Conditional:2,ArrowFunction:2,LogicalOR:3,LogicalAND:4,BitwiseOR:5,BitwiseXOR:6,BitwiseAND:7,Equality:8,Relational:9,BitwiseSHIFT:10,Additive:11,Multiplicative:12,Exponentiation:13,Await:14,Unary:14,Postfix:15,OptionalChaining:16,Call:17,New:18,TaggedTemplate:19,Member:20,Primary:21},$={"||":_.LogicalOR,"&&":_.LogicalAND,"|":_.BitwiseOR,"^":_.BitwiseXOR,"&":_.BitwiseAND,"==":_.Equality,"!=":_.Equality,"===":_.Equality,"!==":_.Equality,is:_.Equality,isnt:_.Equality,"<":_.Relational,">":_.Relational,"<=":_.Relational,">=":_.Relational,in:_.Relational,instanceof:_.Relational,"<<":_.BitwiseSHIFT,">>":_.BitwiseSHIFT,">>>":_.BitwiseSHIFT,"+":_.Additive,"-":_.Additive,"*":_.Multiplicative,"%":_.Multiplicative,"/":_.Multiplicative,"**":_.Exponentiation};var Nt=1,Vt=1<<1,Yt=1<<2,Wt=1<<3,Jt=1<<4,Ut=1<<5,Kt=Vt|Yt,mn=Nt|Vt,Mt=Nt|Vt|Yt,qt=Nt,Ht=Yt,an=Nt|Yt,en=Nt,pn=Nt|Ut,bn=0,vn=Nt|Jt,xn=Nt|Wt;function Rn(){return{indent:null,base:null,parse:null,comment:!1,format:{indent:{style:"    ",base:0,adjustMultilineComment:!1},newline:`
`,space:" ",json:!1,renumber:!1,hexadecimal:!1,quotes:"single",escapeless:!1,compact:!1,parentheses:!0,semicolons:!0,safeConcatenation:!1,preserveBlankLines:!1},moz:{comprehensionExpressionStartsWithAssignment:!1,starlessGenerator:!1},sourceMap:null,sourceMapRoot:null,sourceMapWithCode:!1,directive:!1,raw:!0,verbatim:null,sourceCode:null}}function _n(at,yt){var dt="";for(yt|=0;yt>0;yt>>>=1,at+=at)yt&1&&(dt+=at);return dt}function Fn(at){return/[\r\n]/g.test(at)}function ln(at){var yt=at.length;return yt&&et.code.isLineTerminator(at.charCodeAt(yt-1))}function $n(at,yt){var dt;for(dt in yt)yt.hasOwnProperty(dt)&&(at[dt]=yt[dt]);return at}function Tn(at,yt){var dt,Ot;function St(It){return typeof It=="object"&&It instanceof Object&&!(It instanceof RegExp)}for(dt in yt)yt.hasOwnProperty(dt)&&(Ot=yt[dt],St(Ot)?St(at[dt])?Tn(at[dt],Ot):at[dt]=Tn({},Ot):at[dt]=Ot);return at}function Un(at){var yt,dt,Ot,St,It;if(at!==at)throw new Error("Numeric literal whose value is NaN");if(at<0||at===0&&1/at<0)throw new Error("Numeric literal whose value is negative");if(at===1/0)return it?"null":rt?"1e400":"1e+400";if(yt=""+at,!rt||yt.length<3)return yt;for(dt=yt.indexOf("."),!it&&yt.charCodeAt(0)===48&&dt===1&&(dt=0,yt=yt.slice(1)),Ot=yt,yt=yt.replace("e+","e"),St=0,(It=Ot.indexOf("e"))>0&&(St=+Ot.slice(It+1),Ot=Ot.slice(0,It)),dt>=0&&(St-=Ot.length-dt-1,Ot=+(Ot.slice(0,dt)+Ot.slice(dt+1))+""),It=0;Ot.charCodeAt(Ot.length+It-1)===48;)--It;return It!==0&&(St-=It,Ot=Ot.slice(0,It)),St!==0&&(Ot+="e"+St),(Ot.length<yt.length||st&&at>1e12&&Math.floor(at)===at&&(Ot="0x"+at.toString(16)).length<yt.length)&&+Ot===at&&(yt=Ot),yt}function zn(at,yt){return(at&-2)===8232?(yt?"u":"\\u")+(at===8232?"2028":"2029"):at===10||at===13?(yt?"":"\\")+(at===10?"n":"r"):String.fromCharCode(at)}function Gn(at){var yt,dt,Ot,St,It,Ft,Lt,Zt;if(dt=at.toString(),at.source){if(yt=dt.match(/\/([^/]*)$/),!yt)return dt;for(Ot=yt[1],dt="",Lt=!1,Zt=!1,St=0,It=at.source.length;St<It;++St)Ft=at.source.charCodeAt(St),Zt?(dt+=zn(Ft,Zt),Zt=!1):(Lt?Ft===93&&(Lt=!1):Ft===47?dt+="\\":Ft===91&&(Lt=!0),dt+=zn(Ft,Zt),Zt=Ft===92);return"/"+dt+"/"+Ot}return dt}function Yn(at,yt){var dt;return at===8?"\\b":at===12?"\\f":at===9?"\\t":(dt=at.toString(16).toUpperCase(),it||at>255?"\\u"+"0000".slice(dt.length)+dt:at===0&&!et.code.isDecimalDigit(yt)?"\\0":at===11?"\\x0B":"\\x"+"00".slice(dt.length)+dt)}function Bn(at){if(at===92)return"\\\\";if(at===10)return"\\n";if(at===13)return"\\r";if(at===8232)return"\\u2028";if(at===8233)return"\\u2029";throw new Error("Incorrectly classified character")}function Xn(at){var yt,dt,Ot,St;for(St=ot==="double"?'"':"'",yt=0,dt=at.length;yt<dt;++yt)if(Ot=at.charCodeAt(yt),Ot===39){St='"';break}else if(Ot===34){St="'";break}else Ot===92&&++yt;return St+at+St}function jn(at){var yt="",dt,Ot,St,It=0,Ft=0,Lt,Zt;for(dt=0,Ot=at.length;dt<Ot;++dt){if(St=at.charCodeAt(dt),St===39)++It;else if(St===34)++Ft;else if(St===47&&it)yt+="\\";else if(et.code.isLineTerminator(St)||St===92){yt+=Bn(St);continue}else if(!et.code.isIdentifierPartES5(St)&&(it&&St<32||!it&&!ut&&(St<32||St>126))){yt+=Yn(St,at.charCodeAt(dt+1));continue}yt+=String.fromCharCode(St)}if(Lt=!(ot==="double"||ot==="auto"&&Ft<It),Zt=Lt?"'":'"',!(Lt?It:Ft))return Zt+yt+Zt;for(at=yt,yt=Zt,dt=0,Ot=at.length;dt<Ot;++dt)St=at.charCodeAt(dt),(St===39&&Lt||St===34&&!Lt)&&(yt+="\\"),yt+=String.fromCharCode(St);return yt+Zt}function Qn(at){var yt,dt,Ot,St="";for(yt=0,dt=at.length;yt<dt;++yt)Ot=at[yt],St+=Array.isArray(Ot)?Qn(Ot):Ot;return St}function yn(at,yt){if(!bt)return Array.isArray(at)?Qn(at):at;if(yt==null){if(at instanceof j)return at;yt={}}return yt.loc==null?new j(null,null,bt,at,yt.name||null):new j(yt.loc.start.line,yt.loc.start.column,bt===!0?yt.loc.source||null:bt,at,yt.name||null)}function An(){return ft||" "}function nn(at,yt){var dt,Ot,St,It;return dt=yn(at).toString(),dt.length===0?[yt]:(Ot=yn(yt).toString(),Ot.length===0?[at]:(St=dt.charCodeAt(dt.length-1),It=Ot.charCodeAt(0),(St===43||St===45)&&St===It||et.code.isIdentifierPartES5(St)&&et.code.isIdentifierPartES5(It)||St===47&&It===105?[at,An(),yt]:et.code.isWhiteSpace(St)||et.code.isLineTerminator(St)||et.code.isWhiteSpace(It)||et.code.isLineTerminator(It)?[at,yt]:[at,ft,yt]))}function Dn(at){return[tt,at]}function wn(at){var yt;yt=tt,tt+=nt,at(tt),tt=yt}function lr(at){var yt;for(yt=at.length-1;yt>=0&&!et.code.isLineTerminator(at.charCodeAt(yt));--yt);return at.length-1-yt}function ur(at,yt){var dt,Ot,St,It,Ft,Lt,Zt,hn;for(dt=at.split(/\r\n|[\r\n]/),Lt=Number.MAX_VALUE,Ot=1,St=dt.length;Ot<St;++Ot){for(It=dt[Ot],Ft=0;Ft<It.length&&et.code.isWhiteSpace(It.charCodeAt(Ft));)++Ft;Lt>Ft&&(Lt=Ft)}for(typeof yt<"u"?(Zt=tt,dt[1][Lt]==="*"&&(yt+=" "),tt=yt):(Lt&1&&--Lt,Zt=tt),Ot=1,St=dt.length;Ot<St;++Ot)hn=yn(Dn(dt[Ot].slice(Lt))),dt[Ot]=bt?hn.join(""):hn;return tt=Zt,dt.join(`
`)}function In(at,yt){if(at.type==="Line"){if(ln(at.value))return"//"+at.value;var dt="//"+at.value;return Dt||(dt+=`
`),dt}return gt.format.indent.adjustMultilineComment&&/[\n\r]/.test(at.value)?ur("/*"+at.value+"*/",yt):"/*"+at.value+"*/"}function Jn(at,yt){var dt,Ot,St,It,Ft,Lt,Zt,hn,On,Tt,Et,Pt,xt,Bt;if(at.leadingComments&&at.leadingComments.length>0){if(It=yt,Dt){for(St=at.leadingComments[0],yt=[],hn=St.extendedRange,On=St.range,Et=Ct.substring(hn[0],On[0]),Bt=(Et.match(/\n/g)||[]).length,Bt>0?(yt.push(_n(`
`,Bt)),yt.push(Dn(In(St)))):(yt.push(Et),yt.push(In(St))),Tt=On,dt=1,Ot=at.leadingComments.length;dt<Ot;dt++)St=at.leadingComments[dt],On=St.range,Pt=Ct.substring(Tt[1],On[0]),Bt=(Pt.match(/\n/g)||[]).length,yt.push(_n(`
`,Bt)),yt.push(Dn(In(St))),Tt=On;xt=Ct.substring(On[1],hn[1]),Bt=(xt.match(/\n/g)||[]).length,yt.push(_n(`
`,Bt))}else for(St=at.leadingComments[0],yt=[],mt&&at.type===b.Program&&at.body.length===0&&yt.push(`
`),yt.push(In(St)),ln(yn(yt).toString())||yt.push(`
`),dt=1,Ot=at.leadingComments.length;dt<Ot;++dt)St=at.leadingComments[dt],Zt=[In(St)],ln(yn(Zt).toString())||Zt.push(`
`),yt.push(Dn(Zt));yt.push(Dn(It))}if(at.trailingComments)if(Dt)St=at.trailingComments[0],hn=St.extendedRange,On=St.range,Et=Ct.substring(hn[0],On[0]),Bt=(Et.match(/\n/g)||[]).length,Bt>0?(yt.push(_n(`
`,Bt)),yt.push(Dn(In(St)))):(yt.push(Et),yt.push(In(St)));else for(Ft=!ln(yn(yt).toString()),Lt=_n(" ",lr(yn([tt,yt,nt]).toString())),dt=0,Ot=at.trailingComments.length;dt<Ot;++dt)St=at.trailingComments[dt],Ft?(dt===0?yt=[yt,nt]:yt=[yt,Lt],yt.push(In(St,Lt))):yt=[yt,Dn(In(St))],dt!==Ot-1&&!ln(yn(yt).toString())&&(yt=[yt,`
`]);return yt}function Nn(at,yt,dt){var Ot,St=0;for(Ot=at;Ot<yt;Ot++)Ct[Ot]===`
`&&St++;for(Ot=1;Ot<St;Ot++)dt.push(lt)}function Sn(at,yt,dt){return yt<dt?["(",at,")"]:at}function Kn(at){var yt,dt,Ot;for(Ot=at.split(/\r\n|\n/),yt=1,dt=Ot.length;yt<dt;yt++)Ot[yt]=lt+tt+Ot[yt];return Ot}function cr(at,yt){var dt,Ot,St;return dt=at[gt.verbatim],typeof dt=="string"?Ot=Sn(Kn(dt),_.Sequence,yt):(Ot=Kn(dt.content),St=dt.precedence!=null?dt.precedence:_.Sequence,Ot=Sn(Ot,St,yt)),yn(Ot,at)}function Cn(){}Cn.prototype.maybeBlock=function(at,yt){var dt,Ot,St=this;return Ot=!gt.comment||!at.leadingComments,at.type===b.BlockStatement&&Ot?[ft,this.generateStatement(at,yt)]:at.type===b.EmptyStatement&&Ot?";":(wn(function(){dt=[lt,Dn(St.generateStatement(at,yt))]}),dt)},Cn.prototype.maybeBlockSuffix=function(at,yt){var dt=ln(yn(yt).toString());return at.type===b.BlockStatement&&(!gt.comment||!at.leadingComments)&&!dt?[yt,ft]:dt?[yt,tt]:[yt,lt,tt]};function Pn(at){return yn(at.name,at)}function Wn(at,yt){return at.async?"async"+(yt?An():ft):""}function Hn(at){var yt=at.generator&&!gt.moz.starlessGenerator;return yt?"*"+ft:""}function _i(at){var yt=at.value,dt="";return yt.async&&(dt+=Wn(yt,!at.computed)),yt.generator&&(dt+=Hn(yt)?"*":""),dt}Cn.prototype.generatePattern=function(at,yt,dt){return at.type===b.Identifier?Pn(at):this.generateExpression(at,yt,dt)},Cn.prototype.generateFunctionParams=function(at){var yt,dt,Ot,St;if(St=!1,at.type===b.ArrowFunctionExpression&&!at.rest&&(!at.defaults||at.defaults.length===0)&&at.params.length===1&&at.params[0].type===b.Identifier)Ot=[Wn(at,!0),Pn(at.params[0])];else{for(Ot=at.type===b.ArrowFunctionExpression?[Wn(at,!1)]:[],Ot.push("("),at.defaults&&(St=!0),yt=0,dt=at.params.length;yt<dt;++yt)St&&at.defaults[yt]?Ot.push(this.generateAssignment(at.params[yt],at.defaults[yt],"=",_.Assignment,Mt)):Ot.push(this.generatePattern(at.params[yt],_.Assignment,Mt)),yt+1<dt&&Ot.push(","+ft);at.rest&&(at.params.length&&Ot.push(","+ft),Ot.push("..."),Ot.push(Pn(at.rest))),Ot.push(")")}return Ot},Cn.prototype.generateFunctionBody=function(at){var yt,dt;return yt=this.generateFunctionParams(at),at.type===b.ArrowFunctionExpression&&(yt.push(ft),yt.push("=>")),at.expression?(yt.push(ft),dt=this.generateExpression(at.body,_.Assignment,Mt),dt.toString().charAt(0)==="{"&&(dt=["(",dt,")"]),yt.push(dt)):yt.push(this.maybeBlock(at.body,xn)),yt},Cn.prototype.generateIterationForStatement=function(at,yt,dt){var Ot=["for"+(yt.await?An()+"await":"")+ft+"("],St=this;return wn(function(){yt.left.type===b.VariableDeclaration?wn(function(){Ot.push(yt.left.kind+An()),Ot.push(St.generateStatement(yt.left.declarations[0],bn))}):Ot.push(St.generateExpression(yt.left,_.Call,Mt)),Ot=nn(Ot,at),Ot=[nn(Ot,St.generateExpression(yt.right,_.Assignment,Mt)),")"]}),Ot.push(this.maybeBlock(yt.body,dt)),Ot},Cn.prototype.generatePropertyKey=function(at,yt){var dt=[];return yt&&dt.push("["),dt.push(this.generateExpression(at,_.Assignment,Mt)),yt&&dt.push("]"),dt},Cn.prototype.generateAssignment=function(at,yt,dt,Ot,St){return _.Assignment<Ot&&(St|=Nt),Sn([this.generateExpression(at,_.Call,St),ft+dt+ft,this.generateExpression(yt,_.Assignment,St)],_.Assignment,Ot)},Cn.prototype.semicolon=function(at){return!pt&&at&Ut?"":";"},Cn.Statement={BlockStatement:function(at,yt){var dt,Ot,St=["{",lt],It=this;return wn(function(){at.body.length===0&&Dt&&(dt=at.range,dt[1]-dt[0]>2&&(Ot=Ct.substring(dt[0]+1,dt[1]-1),Ot[0]===`
`&&(St=["{"]),St.push(Ot)));var Ft,Lt,Zt,hn;for(hn=en,yt&Wt&&(hn|=Jt),Ft=0,Lt=at.body.length;Ft<Lt;++Ft)Dt&&(Ft===0&&(at.body[0].leadingComments&&(dt=at.body[0].leadingComments[0].extendedRange,Ot=Ct.substring(dt[0],dt[1]),Ot[0]===`
`&&(St=["{"])),at.body[0].leadingComments||Nn(at.range[0],at.body[0].range[0],St)),Ft>0&&!at.body[Ft-1].trailingComments&&!at.body[Ft].leadingComments&&Nn(at.body[Ft-1].range[1],at.body[Ft].range[0],St)),Ft===Lt-1&&(hn|=Ut),at.body[Ft].leadingComments&&Dt?Zt=It.generateStatement(at.body[Ft],hn):Zt=Dn(It.generateStatement(at.body[Ft],hn)),St.push(Zt),ln(yn(Zt).toString())||Dt&&Ft<Lt-1&&at.body[Ft+1].leadingComments||St.push(lt),Dt&&Ft===Lt-1&&(at.body[Ft].trailingComments||Nn(at.body[Ft].range[1],at.range[1],St))}),St.push(Dn("}")),St},BreakStatement:function(at,yt){return at.label?"break "+at.label.name+this.semicolon(yt):"break"+this.semicolon(yt)},ContinueStatement:function(at,yt){return at.label?"continue "+at.label.name+this.semicolon(yt):"continue"+this.semicolon(yt)},ClassBody:function(at,yt){var dt=["{",lt],Ot=this;return wn(function(St){var It,Ft;for(It=0,Ft=at.body.length;It<Ft;++It)dt.push(St),dt.push(Ot.generateExpression(at.body[It],_.Sequence,Mt)),It+1<Ft&&dt.push(lt)}),ln(yn(dt).toString())||dt.push(lt),dt.push(tt),dt.push("}"),dt},ClassDeclaration:function(at,yt){var dt,Ot;return dt=["class"],at.id&&(dt=nn(dt,this.generateExpression(at.id,_.Sequence,Mt))),at.superClass&&(Ot=nn("extends",this.generateExpression(at.superClass,_.Unary,Mt)),dt=nn(dt,Ot)),dt.push(ft),dt.push(this.generateStatement(at.body,pn)),dt},DirectiveStatement:function(at,yt){return gt.raw&&at.raw?at.raw+this.semicolon(yt):Xn(at.directive)+this.semicolon(yt)},DoWhileStatement:function(at,yt){var dt=nn("do",this.maybeBlock(at.body,en));return dt=this.maybeBlockSuffix(at.body,dt),nn(dt,["while"+ft+"(",this.generateExpression(at.test,_.Sequence,Mt),")"+this.semicolon(yt)])},CatchClause:function(at,yt){var dt,Ot=this;return wn(function(){var St;at.param?(dt=["catch"+ft+"(",Ot.generateExpression(at.param,_.Sequence,Mt),")"],at.guard&&(St=Ot.generateExpression(at.guard,_.Sequence,Mt),dt.splice(2,0," if ",St))):dt=["catch"]}),dt.push(this.maybeBlock(at.body,en)),dt},DebuggerStatement:function(at,yt){return"debugger"+this.semicolon(yt)},EmptyStatement:function(at,yt){return";"},ExportDefaultDeclaration:function(at,yt){var dt=["export"],Ot;return Ot=yt&Ut?pn:en,dt=nn(dt,"default"),Qt(at.declaration)?dt=nn(dt,this.generateStatement(at.declaration,Ot)):dt=nn(dt,this.generateExpression(at.declaration,_.Assignment,Mt)+this.semicolon(yt)),dt},ExportNamedDeclaration:function(at,yt){var dt=["export"],Ot,St=this;return Ot=yt&Ut?pn:en,at.declaration?nn(dt,this.generateStatement(at.declaration,Ot)):(at.specifiers&&(at.specifiers.length===0?dt=nn(dt,"{"+ft+"}"):at.specifiers[0].type===b.ExportBatchSpecifier?dt=nn(dt,this.generateExpression(at.specifiers[0],_.Sequence,Mt)):(dt=nn(dt,"{"),wn(function(It){var Ft,Lt;for(dt.push(lt),Ft=0,Lt=at.specifiers.length;Ft<Lt;++Ft)dt.push(It),dt.push(St.generateExpression(at.specifiers[Ft],_.Sequence,Mt)),Ft+1<Lt&&dt.push(","+lt)}),ln(yn(dt).toString())||dt.push(lt),dt.push(tt+"}")),at.source?dt=nn(dt,["from"+ft,this.generateExpression(at.source,_.Sequence,Mt),this.semicolon(yt)]):dt.push(this.semicolon(yt))),dt)},ExportAllDeclaration:function(at,yt){return["export"+ft,"*"+ft,"from"+ft,this.generateExpression(at.source,_.Sequence,Mt),this.semicolon(yt)]},ExpressionStatement:function(at,yt){var dt,Ot;function St(Lt){var Zt;return Lt.slice(0,5)!=="class"?!1:(Zt=Lt.charCodeAt(5),Zt===123||et.code.isWhiteSpace(Zt)||et.code.isLineTerminator(Zt))}function It(Lt){var Zt;return Lt.slice(0,8)!=="function"?!1:(Zt=Lt.charCodeAt(8),Zt===40||et.code.isWhiteSpace(Zt)||Zt===42||et.code.isLineTerminator(Zt))}function Ft(Lt){var Zt,hn,On;if(Lt.slice(0,5)!=="async"||!et.code.isWhiteSpace(Lt.charCodeAt(5)))return!1;for(hn=6,On=Lt.length;hn<On&&et.code.isWhiteSpace(Lt.charCodeAt(hn));++hn);return hn===On||Lt.slice(hn,hn+8)!=="function"?!1:(Zt=Lt.charCodeAt(hn+8),Zt===40||et.code.isWhiteSpace(Zt)||Zt===42||et.code.isLineTerminator(Zt))}return dt=[this.generateExpression(at.expression,_.Sequence,Mt)],Ot=yn(dt).toString(),Ot.charCodeAt(0)===123||St(Ot)||It(Ot)||Ft(Ot)||wt&&yt&Jt&&at.expression.type===b.Literal&&typeof at.expression.value=="string"?dt=["(",dt,")"+this.semicolon(yt)]:dt.push(this.semicolon(yt)),dt},ImportDeclaration:function(at,yt){var dt,Ot,St=this;return at.specifiers.length===0?["import",ft,this.generateExpression(at.source,_.Sequence,Mt),this.semicolon(yt)]:(dt=["import"],Ot=0,at.specifiers[Ot].type===b.ImportDefaultSpecifier&&(dt=nn(dt,[this.generateExpression(at.specifiers[Ot],_.Sequence,Mt)]),++Ot),at.specifiers[Ot]&&(Ot!==0&&dt.push(","),at.specifiers[Ot].type===b.ImportNamespaceSpecifier?dt=nn(dt,[ft,this.generateExpression(at.specifiers[Ot],_.Sequence,Mt)]):(dt.push(ft+"{"),at.specifiers.length-Ot===1?(dt.push(ft),dt.push(this.generateExpression(at.specifiers[Ot],_.Sequence,Mt)),dt.push(ft+"}"+ft)):(wn(function(It){var Ft,Lt;for(dt.push(lt),Ft=Ot,Lt=at.specifiers.length;Ft<Lt;++Ft)dt.push(It),dt.push(St.generateExpression(at.specifiers[Ft],_.Sequence,Mt)),Ft+1<Lt&&dt.push(","+lt)}),ln(yn(dt).toString())||dt.push(lt),dt.push(tt+"}"+ft)))),dt=nn(dt,["from"+ft,this.generateExpression(at.source,_.Sequence,Mt),this.semicolon(yt)]),dt)},VariableDeclarator:function(at,yt){var dt=yt&Nt?Mt:Kt;return at.init?[this.generateExpression(at.id,_.Assignment,dt),ft,"=",ft,this.generateExpression(at.init,_.Assignment,dt)]:this.generatePattern(at.id,_.Assignment,dt)},VariableDeclaration:function(at,yt){var dt,Ot,St,It,Ft,Lt=this;dt=[at.kind],Ft=yt&Nt?en:bn;function Zt(){for(It=at.declarations[0],gt.comment&&It.leadingComments?(dt.push(`
`),dt.push(Dn(Lt.generateStatement(It,Ft)))):(dt.push(An()),dt.push(Lt.generateStatement(It,Ft))),Ot=1,St=at.declarations.length;Ot<St;++Ot)It=at.declarations[Ot],gt.comment&&It.leadingComments?(dt.push(","+lt),dt.push(Dn(Lt.generateStatement(It,Ft)))):(dt.push(","+ft),dt.push(Lt.generateStatement(It,Ft)))}return at.declarations.length>1?wn(Zt):Zt(),dt.push(this.semicolon(yt)),dt},ThrowStatement:function(at,yt){return[nn("throw",this.generateExpression(at.argument,_.Sequence,Mt)),this.semicolon(yt)]},TryStatement:function(at,yt){var dt,Ot,St,It;if(dt=["try",this.maybeBlock(at.block,en)],dt=this.maybeBlockSuffix(at.block,dt),at.handlers)for(Ot=0,St=at.handlers.length;Ot<St;++Ot)dt=nn(dt,this.generateStatement(at.handlers[Ot],en)),(at.finalizer||Ot+1!==St)&&(dt=this.maybeBlockSuffix(at.handlers[Ot].body,dt));else{for(It=at.guardedHandlers||[],Ot=0,St=It.length;Ot<St;++Ot)dt=nn(dt,this.generateStatement(It[Ot],en)),(at.finalizer||Ot+1!==St)&&(dt=this.maybeBlockSuffix(It[Ot].body,dt));if(at.handler)if(Array.isArray(at.handler))for(Ot=0,St=at.handler.length;Ot<St;++Ot)dt=nn(dt,this.generateStatement(at.handler[Ot],en)),(at.finalizer||Ot+1!==St)&&(dt=this.maybeBlockSuffix(at.handler[Ot].body,dt));else dt=nn(dt,this.generateStatement(at.handler,en)),at.finalizer&&(dt=this.maybeBlockSuffix(at.handler.body,dt))}return at.finalizer&&(dt=nn(dt,["finally",this.maybeBlock(at.finalizer,en)])),dt},SwitchStatement:function(at,yt){var dt,Ot,St,It,Ft,Lt=this;if(wn(function(){dt=["switch"+ft+"(",Lt.generateExpression(at.discriminant,_.Sequence,Mt),")"+ft+"{"+lt]}),at.cases)for(Ft=en,St=0,It=at.cases.length;St<It;++St)St===It-1&&(Ft|=Ut),Ot=Dn(this.generateStatement(at.cases[St],Ft)),dt.push(Ot),ln(yn(Ot).toString())||dt.push(lt);return dt.push(Dn("}")),dt},SwitchCase:function(at,yt){var dt,Ot,St,It,Ft,Lt=this;return wn(function(){for(at.test?dt=[nn("case",Lt.generateExpression(at.test,_.Sequence,Mt)),":"]:dt=["default:"],St=0,It=at.consequent.length,It&&at.consequent[0].type===b.BlockStatement&&(Ot=Lt.maybeBlock(at.consequent[0],en),dt.push(Ot),St=1),St!==It&&!ln(yn(dt).toString())&&dt.push(lt),Ft=en;St<It;++St)St===It-1&&yt&Ut&&(Ft|=Ut),Ot=Dn(Lt.generateStatement(at.consequent[St],Ft)),dt.push(Ot),St+1!==It&&!ln(yn(Ot).toString())&&dt.push(lt)}),dt},IfStatement:function(at,yt){var dt,Ot,St,It=this;return wn(function(){dt=["if"+ft+"(",It.generateExpression(at.test,_.Sequence,Mt),")"]}),St=yt&Ut,Ot=en,St&&(Ot|=Ut),at.alternate?(dt.push(this.maybeBlock(at.consequent,en)),dt=this.maybeBlockSuffix(at.consequent,dt),at.alternate.type===b.IfStatement?dt=nn(dt,["else ",this.generateStatement(at.alternate,Ot)]):dt=nn(dt,nn("else",this.maybeBlock(at.alternate,Ot)))):dt.push(this.maybeBlock(at.consequent,Ot)),dt},ForStatement:function(at,yt){var dt,Ot=this;return wn(function(){dt=["for"+ft+"("],at.init?at.init.type===b.VariableDeclaration?dt.push(Ot.generateStatement(at.init,bn)):(dt.push(Ot.generateExpression(at.init,_.Sequence,Kt)),dt.push(";")):dt.push(";"),at.test&&(dt.push(ft),dt.push(Ot.generateExpression(at.test,_.Sequence,Mt))),dt.push(";"),at.update&&(dt.push(ft),dt.push(Ot.generateExpression(at.update,_.Sequence,Mt))),dt.push(")")}),dt.push(this.maybeBlock(at.body,yt&Ut?pn:en)),dt},ForInStatement:function(at,yt){return this.generateIterationForStatement("in",at,yt&Ut?pn:en)},ForOfStatement:function(at,yt){return this.generateIterationForStatement("of",at,yt&Ut?pn:en)},LabeledStatement:function(at,yt){return[at.label.name+":",this.maybeBlock(at.body,yt&Ut?pn:en)]},Program:function(at,yt){var dt,Ot,St,It,Ft;for(It=at.body.length,dt=[mt&&It>0?`
`:""],Ft=vn,St=0;St<It;++St)!mt&&St===It-1&&(Ft|=Ut),Dt&&(St===0&&(at.body[0].leadingComments||Nn(at.range[0],at.body[St].range[0],dt)),St>0&&!at.body[St-1].trailingComments&&!at.body[St].leadingComments&&Nn(at.body[St-1].range[1],at.body[St].range[0],dt)),Ot=Dn(this.generateStatement(at.body[St],Ft)),dt.push(Ot),St+1<It&&!ln(yn(Ot).toString())&&(Dt&&at.body[St+1].leadingComments||dt.push(lt)),Dt&&St===It-1&&(at.body[St].trailingComments||Nn(at.body[St].range[1],at.range[1],dt));return dt},FunctionDeclaration:function(at,yt){return[Wn(at,!0),"function",Hn(at)||An(),at.id?Pn(at.id):"",this.generateFunctionBody(at)]},ReturnStatement:function(at,yt){return at.argument?[nn("return",this.generateExpression(at.argument,_.Sequence,Mt)),this.semicolon(yt)]:["return"+this.semicolon(yt)]},WhileStatement:function(at,yt){var dt,Ot=this;return wn(function(){dt=["while"+ft+"(",Ot.generateExpression(at.test,_.Sequence,Mt),")"]}),dt.push(this.maybeBlock(at.body,yt&Ut?pn:en)),dt},WithStatement:function(at,yt){var dt,Ot=this;return wn(function(){dt=["with"+ft+"(",Ot.generateExpression(at.object,_.Sequence,Mt),")"]}),dt.push(this.maybeBlock(at.body,yt&Ut?pn:en)),dt}},$n(Cn.prototype,Cn.Statement),Cn.Expression={SequenceExpression:function(at,yt,dt){var Ot,St,It;for(_.Sequence<yt&&(dt|=Nt),Ot=[],St=0,It=at.expressions.length;St<It;++St)Ot.push(this.generateExpression(at.expressions[St],_.Assignment,dt)),St+1<It&&Ot.push(","+ft);return Sn(Ot,_.Sequence,yt)},AssignmentExpression:function(at,yt,dt){return this.generateAssignment(at.left,at.right,at.operator,yt,dt)},ArrowFunctionExpression:function(at,yt,dt){return Sn(this.generateFunctionBody(at),_.ArrowFunction,yt)},ConditionalExpression:function(at,yt,dt){return _.Conditional<yt&&(dt|=Nt),Sn([this.generateExpression(at.test,_.LogicalOR,dt),ft+"?"+ft,this.generateExpression(at.consequent,_.Assignment,dt),ft+":"+ft,this.generateExpression(at.alternate,_.Assignment,dt)],_.Conditional,yt)},LogicalExpression:function(at,yt,dt){return this.BinaryExpression(at,yt,dt)},BinaryExpression:function(at,yt,dt){var Ot,St,It,Ft,Lt,Zt;return Ft=$[at.operator],St=at.operator==="**"?_.Postfix:Ft,It=at.operator==="**"?Ft:Ft+1,Ft<yt&&(dt|=Nt),Lt=this.generateExpression(at.left,St,dt),Zt=Lt.toString(),Zt.charCodeAt(Zt.length-1)===47&&et.code.isIdentifierPartES5(at.operator.charCodeAt(0))?Ot=[Lt,An(),at.operator]:Ot=nn(Lt,at.operator),Lt=this.generateExpression(at.right,It,dt),at.operator==="/"&&Lt.toString().charAt(0)==="/"||at.operator.slice(-1)==="<"&&Lt.toString().slice(0,3)==="!--"?(Ot.push(An()),Ot.push(Lt)):Ot=nn(Ot,Lt),at.operator==="in"&&!(dt&Nt)?["(",Ot,")"]:Sn(Ot,Ft,yt)},CallExpression:function(at,yt,dt){var Ot,St,It;for(Ot=[this.generateExpression(at.callee,_.Call,mn)],at.optional&&Ot.push("?."),Ot.push("("),St=0,It=at.arguments.length;St<It;++St)Ot.push(this.generateExpression(at.arguments[St],_.Assignment,Mt)),St+1<It&&Ot.push(","+ft);return Ot.push(")"),dt&Vt?Sn(Ot,_.Call,yt):["(",Ot,")"]},ChainExpression:function(at,yt,dt){_.OptionalChaining<yt&&(dt|=Vt);var Ot=this.generateExpression(at.expression,_.OptionalChaining,dt);return Sn(Ot,_.OptionalChaining,yt)},NewExpression:function(at,yt,dt){var Ot,St,It,Ft,Lt;if(St=at.arguments.length,Lt=dt&Yt&&!ct&&St===0?an:qt,Ot=nn("new",this.generateExpression(at.callee,_.New,Lt)),!(dt&Yt)||ct||St>0){for(Ot.push("("),It=0,Ft=St;It<Ft;++It)Ot.push(this.generateExpression(at.arguments[It],_.Assignment,Mt)),It+1<Ft&&Ot.push(","+ft);Ot.push(")")}return Sn(Ot,_.New,yt)},MemberExpression:function(at,yt,dt){var Ot,St;return Ot=[this.generateExpression(at.object,_.Call,dt&Vt?mn:qt)],at.computed?(at.optional&&Ot.push("?."),Ot.push("["),Ot.push(this.generateExpression(at.property,_.Sequence,dt&Vt?Mt:an)),Ot.push("]")):(!at.optional&&at.object.type===b.Literal&&typeof at.object.value=="number"&&(St=yn(Ot).toString(),St.indexOf(".")<0&&!/[eExX]/.test(St)&&et.code.isDecimalDigit(St.charCodeAt(St.length-1))&&!(St.length>=2&&St.charCodeAt(0)===48)&&Ot.push(" ")),Ot.push(at.optional?"?.":"."),Ot.push(Pn(at.property))),Sn(Ot,_.Member,yt)},MetaProperty:function(at,yt,dt){var Ot;return Ot=[],Ot.push(typeof at.meta=="string"?at.meta:Pn(at.meta)),Ot.push("."),Ot.push(typeof at.property=="string"?at.property:Pn(at.property)),Sn(Ot,_.Member,yt)},UnaryExpression:function(at,yt,dt){var Ot,St,It,Ft,Lt;return St=this.generateExpression(at.argument,_.Unary,Mt),ft===""?Ot=nn(at.operator,St):(Ot=[at.operator],at.operator.length>2?Ot=nn(Ot,St):(Ft=yn(Ot).toString(),Lt=Ft.charCodeAt(Ft.length-1),It=St.toString().charCodeAt(0),((Lt===43||Lt===45)&&Lt===It||et.code.isIdentifierPartES5(Lt)&&et.code.isIdentifierPartES5(It))&&Ot.push(An()),Ot.push(St))),Sn(Ot,_.Unary,yt)},YieldExpression:function(at,yt,dt){var Ot;return at.delegate?Ot="yield*":Ot="yield",at.argument&&(Ot=nn(Ot,this.generateExpression(at.argument,_.Yield,Mt))),Sn(Ot,_.Yield,yt)},AwaitExpression:function(at,yt,dt){var Ot=nn(at.all?"await*":"await",this.generateExpression(at.argument,_.Await,Mt));return Sn(Ot,_.Await,yt)},UpdateExpression:function(at,yt,dt){return at.prefix?Sn([at.operator,this.generateExpression(at.argument,_.Unary,Mt)],_.Unary,yt):Sn([this.generateExpression(at.argument,_.Postfix,Mt),at.operator],_.Postfix,yt)},FunctionExpression:function(at,yt,dt){var Ot=[Wn(at,!0),"function"];return at.id?(Ot.push(Hn(at)||An()),Ot.push(Pn(at.id))):Ot.push(Hn(at)||ft),Ot.push(this.generateFunctionBody(at)),Ot},ArrayPattern:function(at,yt,dt){return this.ArrayExpression(at,yt,dt,!0)},ArrayExpression:function(at,yt,dt,Ot){var St,It,Ft=this;return at.elements.length?(It=Ot?!1:at.elements.length>1,St=["[",It?lt:""],wn(function(Lt){var Zt,hn;for(Zt=0,hn=at.elements.length;Zt<hn;++Zt)at.elements[Zt]?(St.push(It?Lt:""),St.push(Ft.generateExpression(at.elements[Zt],_.Assignment,Mt))):(It&&St.push(Lt),Zt+1===hn&&St.push(",")),Zt+1<hn&&St.push(","+(It?lt:ft))}),It&&!ln(yn(St).toString())&&St.push(lt),St.push(It?tt:""),St.push("]"),St):"[]"},RestElement:function(at,yt,dt){return"..."+this.generatePattern(at.argument)},ClassExpression:function(at,yt,dt){var Ot,St;return Ot=["class"],at.id&&(Ot=nn(Ot,this.generateExpression(at.id,_.Sequence,Mt))),at.superClass&&(St=nn("extends",this.generateExpression(at.superClass,_.Unary,Mt)),Ot=nn(Ot,St)),Ot.push(ft),Ot.push(this.generateStatement(at.body,pn)),Ot},MethodDefinition:function(at,yt,dt){var Ot,St;return at.static?Ot=["static"+ft]:Ot=[],at.kind==="get"||at.kind==="set"?St=[nn(at.kind,this.generatePropertyKey(at.key,at.computed)),this.generateFunctionBody(at.value)]:St=[_i(at),this.generatePropertyKey(at.key,at.computed),this.generateFunctionBody(at.value)],nn(Ot,St)},Property:function(at,yt,dt){return at.kind==="get"||at.kind==="set"?[at.kind,An(),this.generatePropertyKey(at.key,at.computed),this.generateFunctionBody(at.value)]:at.shorthand?at.value.type==="AssignmentPattern"?this.AssignmentPattern(at.value,_.Sequence,Mt):this.generatePropertyKey(at.key,at.computed):at.method?[_i(at),this.generatePropertyKey(at.key,at.computed),this.generateFunctionBody(at.value)]:[this.generatePropertyKey(at.key,at.computed),":"+ft,this.generateExpression(at.value,_.Assignment,Mt)]},ObjectExpression:function(at,yt,dt){var Ot,St,It,Ft=this;return at.properties.length?(Ot=at.properties.length>1,wn(function(){It=Ft.generateExpression(at.properties[0],_.Sequence,Mt)}),!Ot&&!Fn(yn(It).toString())?["{",ft,It,ft,"}"]:(wn(function(Lt){var Zt,hn;if(St=["{",lt,Lt,It],Ot)for(St.push(","+lt),Zt=1,hn=at.properties.length;Zt<hn;++Zt)St.push(Lt),St.push(Ft.generateExpression(at.properties[Zt],_.Sequence,Mt)),Zt+1<hn&&St.push(","+lt)}),ln(yn(St).toString())||St.push(lt),St.push(tt),St.push("}"),St)):"{}"},AssignmentPattern:function(at,yt,dt){return this.generateAssignment(at.left,at.right,"=",yt,dt)},ObjectPattern:function(at,yt,dt){var Ot,St,It,Ft,Lt,Zt=this;if(!at.properties.length)return"{}";if(Ft=!1,at.properties.length===1)Lt=at.properties[0],Lt.type===b.Property&&Lt.value.type!==b.Identifier&&(Ft=!0);else for(St=0,It=at.properties.length;St<It;++St)if(Lt=at.properties[St],Lt.type===b.Property&&!Lt.shorthand){Ft=!0;break}return Ot=["{",Ft?lt:""],wn(function(hn){var On,Tt;for(On=0,Tt=at.properties.length;On<Tt;++On)Ot.push(Ft?hn:""),Ot.push(Zt.generateExpression(at.properties[On],_.Sequence,Mt)),On+1<Tt&&Ot.push(","+(Ft?lt:ft))}),Ft&&!ln(yn(Ot).toString())&&Ot.push(lt),Ot.push(Ft?tt:""),Ot.push("}"),Ot},ThisExpression:function(at,yt,dt){return"this"},Super:function(at,yt,dt){return"super"},Identifier:function(at,yt,dt){return Pn(at)},ImportDefaultSpecifier:function(at,yt,dt){return Pn(at.id||at.local)},ImportNamespaceSpecifier:function(at,yt,dt){var Ot=["*"],St=at.id||at.local;return St&&Ot.push(ft+"as"+An()+Pn(St)),Ot},ImportSpecifier:function(at,yt,dt){var Ot=at.imported,St=[Ot.name],It=at.local;return It&&It.name!==Ot.name&&St.push(An()+"as"+An()+Pn(It)),St},ExportSpecifier:function(at,yt,dt){var Ot=at.local,St=[Ot.name],It=at.exported;return It&&It.name!==Ot.name&&St.push(An()+"as"+An()+Pn(It)),St},Literal:function(at,yt,dt){var Ot;if(at.hasOwnProperty("raw")&&vt&&gt.raw)try{if(Ot=vt(at.raw).body[0].expression,Ot.type===b.Literal&&Ot.value===at.value)return at.raw}catch{}return at.regex?"/"+at.regex.pattern+"/"+at.regex.flags:at.value===null?"null":typeof at.value=="string"?jn(at.value):typeof at.value=="number"?Un(at.value):typeof at.value=="boolean"?at.value?"true":"false":Gn(at.value)},GeneratorExpression:function(at,yt,dt){return this.ComprehensionExpression(at,yt,dt)},ComprehensionExpression:function(at,yt,dt){var Ot,St,It,Ft,Lt=this;return Ot=at.type===b.GeneratorExpression?["("]:["["],gt.moz.comprehensionExpressionStartsWithAssignment&&(Ft=this.generateExpression(at.body,_.Assignment,Mt),Ot.push(Ft)),at.blocks&&wn(function(){for(St=0,It=at.blocks.length;St<It;++St)Ft=Lt.generateExpression(at.blocks[St],_.Sequence,Mt),St>0||gt.moz.comprehensionExpressionStartsWithAssignment?Ot=nn(Ot,Ft):Ot.push(Ft)}),at.filter&&(Ot=nn(Ot,"if"+ft),Ft=this.generateExpression(at.filter,_.Sequence,Mt),Ot=nn(Ot,["(",Ft,")"])),gt.moz.comprehensionExpressionStartsWithAssignment||(Ft=this.generateExpression(at.body,_.Assignment,Mt),Ot=nn(Ot,Ft)),Ot.push(at.type===b.GeneratorExpression?")":"]"),Ot},ComprehensionBlock:function(at,yt,dt){var Ot;return at.left.type===b.VariableDeclaration?Ot=[at.left.kind,An(),this.generateStatement(at.left.declarations[0],bn)]:Ot=this.generateExpression(at.left,_.Call,Mt),Ot=nn(Ot,at.of?"of":"in"),Ot=nn(Ot,this.generateExpression(at.right,_.Sequence,Mt)),["for"+ft+"(",Ot,")"]},SpreadElement:function(at,yt,dt){return["...",this.generateExpression(at.argument,_.Assignment,Mt)]},TaggedTemplateExpression:function(at,yt,dt){var Ot=mn;dt&Vt||(Ot=qt);var St=[this.generateExpression(at.tag,_.Call,Ot),this.generateExpression(at.quasi,_.Primary,Ht)];return Sn(St,_.TaggedTemplate,yt)},TemplateElement:function(at,yt,dt){return at.value.raw},TemplateLiteral:function(at,yt,dt){var Ot,St,It;for(Ot=["`"],St=0,It=at.quasis.length;St<It;++St)Ot.push(this.generateExpression(at.quasis[St],_.Primary,Mt)),St+1<It&&(Ot.push("${"+ft),Ot.push(this.generateExpression(at.expressions[St],_.Sequence,Mt)),Ot.push(ft+"}"));return Ot.push("`"),Ot},ModuleSpecifier:function(at,yt,dt){return this.Literal(at,yt,dt)},ImportExpression:function(at,yt,dt){return Sn(["import(",this.generateExpression(at.source,_.Assignment,Mt),")"],_.Call,yt)}},$n(Cn.prototype,Cn.Expression),Cn.prototype.generateExpression=function(at,yt,dt){var Ot,St;return St=at.type||b.Property,gt.verbatim&&at.hasOwnProperty(gt.verbatim)?cr(at,yt):(Ot=this[St](at,yt,dt),gt.comment&&(Ot=Jn(at,Ot)),yn(Ot,at))},Cn.prototype.generateStatement=function(at,yt){var dt,Ot;return dt=this[at.type](at,yt),gt.comment&&(dt=Jn(at,dt)),Ot=yn(dt).toString(),at.type===b.Program&&!mt&&lt===""&&Ot.charAt(Ot.length-1)===`
`&&(dt=bt?yn(dt).replaceRight(/\s+$/,""):Ot.replace(/\s+$/,"")),yn(dt,at)};function hr(at){var yt;if(yt=new Cn,Qt(at))return yt.generateStatement(at,en);if(jt(at))return yt.generateExpression(at,_.Sequence,Mt);throw new Error("Unknown node type: "+at.type)}function fr(at,yt){var dt=Rn(),Ot,St;return yt!=null?(typeof yt.indent=="string"&&(dt.format.indent.style=yt.indent),typeof yt.base=="number"&&(dt.format.indent.base=yt.base),yt=Tn(dt,yt),nt=yt.format.indent.style,typeof yt.base=="string"?tt=yt.base:tt=_n(nt,yt.format.indent.base)):(yt=dt,nt=yt.format.indent.style,tt=_n(nt,yt.format.indent.base)),it=yt.format.json,rt=yt.format.renumber,st=it?!1:yt.format.hexadecimal,ot=it?"double":yt.format.quotes,ut=yt.format.escapeless,lt=yt.format.newline,ft=yt.format.space,yt.format.compact&&(lt=ft=nt=tt=""),ct=yt.format.parentheses,pt=yt.format.semicolons,mt=yt.format.safeConcatenation,wt=yt.directive,vt=it?null:yt.parse,bt=yt.sourceMap,Ct=yt.sourceCode,Dt=yt.format.preserveBlankLines&&Ct!==null,gt=yt,bt&&(k.browser?j=commonjsGlobal.sourceMap.SourceNode:j=requireSourceMap().SourceNode),Ot=hr(at),bt?(St=Ot.toStringWithSourceMap({file:yt.file,sourceRoot:yt.sourceMapRoot}),yt.sourceContent&&St.map.setSourceContent(yt.sourceMap,yt.sourceContent),yt.sourceMapWithCode?St:St.map.toString()):(St={code:Ot.toString(),map:null},yt.sourceMapWithCode?St:St.code)}_t={indent:{style:"",base:0},renumber:!0,hexadecimal:!0,quotes:"auto",escapeless:!0,compact:!0,parentheses:!1,semicolons:!1},Rt=Rn().format,k.version=require$$3.version,k.generate=fr,k.attachComments=_e.attachComments,k.Precedence=Tn({},_),k.browser=!1,k.FORMAT_MINIFY=_t,k.FORMAT_DEFAULTS=Rt})()})(escodegen);var astralIdentifierCodes=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,154,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,357,0,62,13,1495,6,110,6,6,9,4759,9,787719,239],astralIdentifierStartCodes=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,190,0,80,921,103,110,18,195,2637,96,16,1070,4050,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,46,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,482,44,11,6,17,0,322,29,19,43,1269,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4152,8,221,3,5761,15,7472,3104,541,1507,4938],nonASCIIidentifierChars="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F",nonASCIIidentifierStartChars="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",reservedWords={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},ecma5AndLessKeywords="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",keywords$1={5:ecma5AndLessKeywords,"5module":ecma5AndLessKeywords+" export import",6:ecma5AndLessKeywords+" const class extends export import super"},keywordRelationalOperator=/^in(stanceof)?$/,nonASCIIidentifierStart=new RegExp("["+nonASCIIidentifierStartChars+"]"),nonASCIIidentifier=new RegExp("["+nonASCIIidentifierStartChars+nonASCIIidentifierChars+"]");function isInAstralSet(k,b){for(var _=65536,$=0;$<b.length;$+=2){if(_+=b[$],_>k)return!1;if(_+=b[$+1],_>=k)return!0}}function isIdentifierStart(k,b){return k<65?k===36:k<91?!0:k<97?k===95:k<123?!0:k<=65535?k>=170&&nonASCIIidentifierStart.test(String.fromCharCode(k)):b===!1?!1:isInAstralSet(k,astralIdentifierStartCodes)}function isIdentifierChar(k,b){return k<48?k===36:k<58?!0:k<65?!1:k<91?!0:k<97?k===95:k<123?!0:k<=65535?k>=170&&nonASCIIidentifier.test(String.fromCharCode(k)):b===!1?!1:isInAstralSet(k,astralIdentifierStartCodes)||isInAstralSet(k,astralIdentifierCodes)}var TokenType=function k(b,_){_===void 0&&(_={}),this.label=b,this.keyword=_.keyword,this.beforeExpr=!!_.beforeExpr,this.startsExpr=!!_.startsExpr,this.isLoop=!!_.isLoop,this.isAssign=!!_.isAssign,this.prefix=!!_.prefix,this.postfix=!!_.postfix,this.binop=_.binop||null,this.updateContext=null};function binop(k,b){return new TokenType(k,{beforeExpr:!0,binop:b})}var beforeExpr={beforeExpr:!0},startsExpr={startsExpr:!0},keywords={};function kw(k,b){return b===void 0&&(b={}),b.keyword=k,keywords[k]=new TokenType(k,b)}var types$1={num:new TokenType("num",startsExpr),regexp:new TokenType("regexp",startsExpr),string:new TokenType("string",startsExpr),name:new TokenType("name",startsExpr),privateId:new TokenType("privateId",startsExpr),eof:new TokenType("eof"),bracketL:new TokenType("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new TokenType("]"),braceL:new TokenType("{",{beforeExpr:!0,startsExpr:!0}),braceR:new TokenType("}"),parenL:new TokenType("(",{beforeExpr:!0,startsExpr:!0}),parenR:new TokenType(")"),comma:new TokenType(",",beforeExpr),semi:new TokenType(";",beforeExpr),colon:new TokenType(":",beforeExpr),dot:new TokenType("."),question:new TokenType("?",beforeExpr),questionDot:new TokenType("?."),arrow:new TokenType("=>",beforeExpr),template:new TokenType("template"),invalidTemplate:new TokenType("invalidTemplate"),ellipsis:new TokenType("...",beforeExpr),backQuote:new TokenType("`",startsExpr),dollarBraceL:new TokenType("${",{beforeExpr:!0,startsExpr:!0}),eq:new TokenType("=",{beforeExpr:!0,isAssign:!0}),assign:new TokenType("_=",{beforeExpr:!0,isAssign:!0}),incDec:new TokenType("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new TokenType("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:binop("||",1),logicalAND:binop("&&",2),bitwiseOR:binop("|",3),bitwiseXOR:binop("^",4),bitwiseAND:binop("&",5),equality:binop("==/!=/===/!==",6),relational:binop("</>/<=/>=",7),bitShift:binop("<</>>/>>>",8),plusMin:new TokenType("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:binop("%",10),star:binop("*",10),slash:binop("/",10),starstar:new TokenType("**",{beforeExpr:!0}),coalesce:binop("??",1),_break:kw("break"),_case:kw("case",beforeExpr),_catch:kw("catch"),_continue:kw("continue"),_debugger:kw("debugger"),_default:kw("default",beforeExpr),_do:kw("do",{isLoop:!0,beforeExpr:!0}),_else:kw("else",beforeExpr),_finally:kw("finally"),_for:kw("for",{isLoop:!0}),_function:kw("function",startsExpr),_if:kw("if"),_return:kw("return",beforeExpr),_switch:kw("switch"),_throw:kw("throw",beforeExpr),_try:kw("try"),_var:kw("var"),_const:kw("const"),_while:kw("while",{isLoop:!0}),_with:kw("with"),_new:kw("new",{beforeExpr:!0,startsExpr:!0}),_this:kw("this",startsExpr),_super:kw("super",startsExpr),_class:kw("class",startsExpr),_extends:kw("extends",beforeExpr),_export:kw("export"),_import:kw("import",startsExpr),_null:kw("null",startsExpr),_true:kw("true",startsExpr),_false:kw("false",startsExpr),_in:kw("in",{beforeExpr:!0,binop:7}),_instanceof:kw("instanceof",{beforeExpr:!0,binop:7}),_typeof:kw("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:kw("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:kw("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},lineBreak=/\r\n?|\n|\u2028|\u2029/,lineBreakG=new RegExp(lineBreak.source,"g");function isNewLine(k){return k===10||k===13||k===8232||k===8233}function nextLineBreak(k,b,_){_===void 0&&(_=k.length);for(var $=b;$<_;$++){var j=k.charCodeAt($);if(isNewLine(j))return $<_-1&&j===13&&k.charCodeAt($+1)===10?$+2:$+1}return-1}var nonASCIIwhitespace=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,skipWhiteSpace=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,ref=Object.prototype,hasOwnProperty$1=ref.hasOwnProperty,toString=ref.toString,hasOwn=Object.hasOwn||function(k,b){return hasOwnProperty$1.call(k,b)},isArray=Array.isArray||function(k){return toString.call(k)==="[object Array]"};function wordsRegexp(k){return new RegExp("^(?:"+k.replace(/ /g,"|")+")$")}function codePointToString(k){return k<=65535?String.fromCharCode(k):(k-=65536,String.fromCharCode((k>>10)+55296,(k&1023)+56320))}var loneSurrogate=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Position=function k(b,_){this.line=b,this.column=_};Position.prototype.offset=function k(b){return new Position(this.line,this.column+b)};var SourceLocation=function k(b,_,$){this.start=_,this.end=$,b.sourceFile!==null&&(this.source=b.sourceFile)};function getLineInfo(k,b){for(var _=1,$=0;;){var j=nextLineBreak(k,$,b);if(j<0)return new Position(_,b-$);++_,$=j}}var defaultOptions={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},warnedAboutEcmaVersion=!1;function getOptions(k){var b={};for(var _ in defaultOptions)b[_]=k&&hasOwn(k,_)?k[_]:defaultOptions[_];if(b.ecmaVersion==="latest"?b.ecmaVersion=1e8:b.ecmaVersion==null?(!warnedAboutEcmaVersion&&typeof console=="object"&&console.warn&&(warnedAboutEcmaVersion=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),b.ecmaVersion=11):b.ecmaVersion>=2015&&(b.ecmaVersion-=2009),b.allowReserved==null&&(b.allowReserved=b.ecmaVersion<5),k.allowHashBang==null&&(b.allowHashBang=b.ecmaVersion>=14),isArray(b.onToken)){var $=b.onToken;b.onToken=function(j){return $.push(j)}}return isArray(b.onComment)&&(b.onComment=pushComment(b,b.onComment)),b}function pushComment(k,b){return function(_,$,j,_e,et,tt){var nt={type:_?"Block":"Line",value:$,start:j,end:_e};k.locations&&(nt.loc=new SourceLocation(this,et,tt)),k.ranges&&(nt.range=[j,_e]),b.push(nt)}}var SCOPE_TOP=1,SCOPE_FUNCTION=2,SCOPE_ASYNC=4,SCOPE_GENERATOR=8,SCOPE_ARROW=16,SCOPE_SIMPLE_CATCH=32,SCOPE_SUPER=64,SCOPE_DIRECT_SUPER=128,SCOPE_CLASS_STATIC_BLOCK=256,SCOPE_VAR=SCOPE_TOP|SCOPE_FUNCTION|SCOPE_CLASS_STATIC_BLOCK;function functionFlags(k,b){return SCOPE_FUNCTION|(k?SCOPE_ASYNC:0)|(b?SCOPE_GENERATOR:0)}var BIND_NONE=0,BIND_VAR=1,BIND_LEXICAL=2,BIND_FUNCTION=3,BIND_SIMPLE_CATCH=4,BIND_OUTSIDE=5,Parser=function k(b,_,$){this.options=b=getOptions(b),this.sourceFile=b.sourceFile,this.keywords=wordsRegexp(keywords$1[b.ecmaVersion>=6?6:b.sourceType==="module"?"5module":5]);var j="";b.allowReserved!==!0&&(j=reservedWords[b.ecmaVersion>=6?6:b.ecmaVersion===5?5:3],b.sourceType==="module"&&(j+=" await")),this.reservedWords=wordsRegexp(j);var _e=(j?j+" ":"")+reservedWords.strict;this.reservedWordsStrict=wordsRegexp(_e),this.reservedWordsStrictBind=wordsRegexp(_e+" "+reservedWords.strictBind),this.input=String(_),this.containsEsc=!1,$?(this.pos=$,this.lineStart=this.input.lastIndexOf(`
`,$-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(lineBreak).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=types$1.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=b.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&b.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(SCOPE_TOP),this.regexpState=null,this.privateNameStack=[]},prototypeAccessors={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};Parser.prototype.parse=function k(){var b=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(b)};prototypeAccessors.inFunction.get=function(){return(this.currentVarScope().flags&SCOPE_FUNCTION)>0};prototypeAccessors.inGenerator.get=function(){return(this.currentVarScope().flags&SCOPE_GENERATOR)>0&&!this.currentVarScope().inClassFieldInit};prototypeAccessors.inAsync.get=function(){return(this.currentVarScope().flags&SCOPE_ASYNC)>0&&!this.currentVarScope().inClassFieldInit};prototypeAccessors.canAwait.get=function(){for(var k=this.scopeStack.length-1;k>=0;k--){var b=this.scopeStack[k];if(b.inClassFieldInit||b.flags&SCOPE_CLASS_STATIC_BLOCK)return!1;if(b.flags&SCOPE_FUNCTION)return(b.flags&SCOPE_ASYNC)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};prototypeAccessors.allowSuper.get=function(){var k=this.currentThisScope(),b=k.flags,_=k.inClassFieldInit;return(b&SCOPE_SUPER)>0||_||this.options.allowSuperOutsideMethod};prototypeAccessors.allowDirectSuper.get=function(){return(this.currentThisScope().flags&SCOPE_DIRECT_SUPER)>0};prototypeAccessors.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};prototypeAccessors.allowNewDotTarget.get=function(){var k=this.currentThisScope(),b=k.flags,_=k.inClassFieldInit;return(b&(SCOPE_FUNCTION|SCOPE_CLASS_STATIC_BLOCK))>0||_};prototypeAccessors.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&SCOPE_CLASS_STATIC_BLOCK)>0};Parser.extend=function k(){for(var b=[],_=arguments.length;_--;)b[_]=arguments[_];for(var $=this,j=0;j<b.length;j++)$=b[j]($);return $};Parser.parse=function k(b,_){return new this(_,b).parse()};Parser.parseExpressionAt=function k(b,_,$){var j=new this($,b,_);return j.nextToken(),j.parseExpression()};Parser.tokenizer=function k(b,_){return new this(_,b)};Object.defineProperties(Parser.prototype,prototypeAccessors);var pp$9=Parser.prototype,literal=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;pp$9.strictDirective=function(k){if(this.options.ecmaVersion<5)return!1;for(;;){skipWhiteSpace.lastIndex=k,k+=skipWhiteSpace.exec(this.input)[0].length;var b=literal.exec(this.input.slice(k));if(!b)return!1;if((b[1]||b[2])==="use strict"){skipWhiteSpace.lastIndex=k+b[0].length;var _=skipWhiteSpace.exec(this.input),$=_.index+_[0].length,j=this.input.charAt($);return j===";"||j==="}"||lineBreak.test(_[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(j)||j==="!"&&this.input.charAt($+1)==="=")}k+=b[0].length,skipWhiteSpace.lastIndex=k,k+=skipWhiteSpace.exec(this.input)[0].length,this.input[k]===";"&&k++}};pp$9.eat=function(k){return this.type===k?(this.next(),!0):!1};pp$9.isContextual=function(k){return this.type===types$1.name&&this.value===k&&!this.containsEsc};pp$9.eatContextual=function(k){return this.isContextual(k)?(this.next(),!0):!1};pp$9.expectContextual=function(k){this.eatContextual(k)||this.unexpected()};pp$9.canInsertSemicolon=function(){return this.type===types$1.eof||this.type===types$1.braceR||lineBreak.test(this.input.slice(this.lastTokEnd,this.start))};pp$9.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};pp$9.semicolon=function(){!this.eat(types$1.semi)&&!this.insertSemicolon()&&this.unexpected()};pp$9.afterTrailingComma=function(k,b){if(this.type===k)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),b||this.next(),!0};pp$9.expect=function(k){this.eat(k)||this.unexpected()};pp$9.unexpected=function(k){this.raise(k!=null?k:this.start,"Unexpected token")};var DestructuringErrors=function k(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};pp$9.checkPatternErrors=function(k,b){if(!!k){k.trailingComma>-1&&this.raiseRecoverable(k.trailingComma,"Comma is not permitted after the rest element");var _=b?k.parenthesizedAssign:k.parenthesizedBind;_>-1&&this.raiseRecoverable(_,b?"Assigning to rvalue":"Parenthesized pattern")}};pp$9.checkExpressionErrors=function(k,b){if(!k)return!1;var _=k.shorthandAssign,$=k.doubleProto;if(!b)return _>=0||$>=0;_>=0&&this.raise(_,"Shorthand property assignments are valid only in destructuring patterns"),$>=0&&this.raiseRecoverable($,"Redefinition of __proto__ property")};pp$9.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};pp$9.isSimpleAssignTarget=function(k){return k.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(k.expression):k.type==="Identifier"||k.type==="MemberExpression"};var pp$8=Parser.prototype;pp$8.parseTopLevel=function(k){var b=Object.create(null);for(k.body||(k.body=[]);this.type!==types$1.eof;){var _=this.parseStatement(null,!0,b);k.body.push(_)}if(this.inModule)for(var $=0,j=Object.keys(this.undefinedExports);$<j.length;$+=1){var _e=j[$];this.raiseRecoverable(this.undefinedExports[_e].start,"Export '"+_e+"' is not defined")}return this.adaptDirectivePrologue(k.body),this.next(),k.sourceType=this.options.sourceType,this.finishNode(k,"Program")};var loopLabel={kind:"loop"},switchLabel={kind:"switch"};pp$8.isLet=function(k){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;skipWhiteSpace.lastIndex=this.pos;var b=skipWhiteSpace.exec(this.input),_=this.pos+b[0].length,$=this.input.charCodeAt(_);if($===91||$===92||$>55295&&$<56320)return!0;if(k)return!1;if($===123)return!0;if(isIdentifierStart($,!0)){for(var j=_+1;isIdentifierChar($=this.input.charCodeAt(j),!0);)++j;if($===92||$>55295&&$<56320)return!0;var _e=this.input.slice(_,j);if(!keywordRelationalOperator.test(_e))return!0}return!1};pp$8.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;skipWhiteSpace.lastIndex=this.pos;var k=skipWhiteSpace.exec(this.input),b=this.pos+k[0].length,_;return!lineBreak.test(this.input.slice(this.pos,b))&&this.input.slice(b,b+8)==="function"&&(b+8===this.input.length||!(isIdentifierChar(_=this.input.charCodeAt(b+8))||_>55295&&_<56320))};pp$8.parseStatement=function(k,b,_){var $=this.type,j=this.startNode(),_e;switch(this.isLet(k)&&($=types$1._var,_e="let"),$){case types$1._break:case types$1._continue:return this.parseBreakContinueStatement(j,$.keyword);case types$1._debugger:return this.parseDebuggerStatement(j);case types$1._do:return this.parseDoStatement(j);case types$1._for:return this.parseForStatement(j);case types$1._function:return k&&(this.strict||k!=="if"&&k!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(j,!1,!k);case types$1._class:return k&&this.unexpected(),this.parseClass(j,!0);case types$1._if:return this.parseIfStatement(j);case types$1._return:return this.parseReturnStatement(j);case types$1._switch:return this.parseSwitchStatement(j);case types$1._throw:return this.parseThrowStatement(j);case types$1._try:return this.parseTryStatement(j);case types$1._const:case types$1._var:return _e=_e||this.value,k&&_e!=="var"&&this.unexpected(),this.parseVarStatement(j,_e);case types$1._while:return this.parseWhileStatement(j);case types$1._with:return this.parseWithStatement(j);case types$1.braceL:return this.parseBlock(!0,j);case types$1.semi:return this.parseEmptyStatement(j);case types$1._export:case types$1._import:if(this.options.ecmaVersion>10&&$===types$1._import){skipWhiteSpace.lastIndex=this.pos;var et=skipWhiteSpace.exec(this.input),tt=this.pos+et[0].length,nt=this.input.charCodeAt(tt);if(nt===40||nt===46)return this.parseExpressionStatement(j,this.parseExpression())}return this.options.allowImportExportEverywhere||(b||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),$===types$1._import?this.parseImport(j):this.parseExport(j,_);default:if(this.isAsyncFunction())return k&&this.unexpected(),this.next(),this.parseFunctionStatement(j,!0,!k);var it=this.value,rt=this.parseExpression();return $===types$1.name&&rt.type==="Identifier"&&this.eat(types$1.colon)?this.parseLabeledStatement(j,it,rt,k):this.parseExpressionStatement(j,rt)}};pp$8.parseBreakContinueStatement=function(k,b){var _=b==="break";this.next(),this.eat(types$1.semi)||this.insertSemicolon()?k.label=null:this.type!==types$1.name?this.unexpected():(k.label=this.parseIdent(),this.semicolon());for(var $=0;$<this.labels.length;++$){var j=this.labels[$];if((k.label==null||j.name===k.label.name)&&(j.kind!=null&&(_||j.kind==="loop")||k.label&&_))break}return $===this.labels.length&&this.raise(k.start,"Unsyntactic "+b),this.finishNode(k,_?"BreakStatement":"ContinueStatement")};pp$8.parseDebuggerStatement=function(k){return this.next(),this.semicolon(),this.finishNode(k,"DebuggerStatement")};pp$8.parseDoStatement=function(k){return this.next(),this.labels.push(loopLabel),k.body=this.parseStatement("do"),this.labels.pop(),this.expect(types$1._while),k.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(types$1.semi):this.semicolon(),this.finishNode(k,"DoWhileStatement")};pp$8.parseForStatement=function(k){this.next();var b=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(loopLabel),this.enterScope(0),this.expect(types$1.parenL),this.type===types$1.semi)return b>-1&&this.unexpected(b),this.parseFor(k,null);var _=this.isLet();if(this.type===types$1._var||this.type===types$1._const||_){var $=this.startNode(),j=_?"let":this.value;return this.next(),this.parseVar($,!0,j),this.finishNode($,"VariableDeclaration"),(this.type===types$1._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&$.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===types$1._in?b>-1&&this.unexpected(b):k.await=b>-1),this.parseForIn(k,$)):(b>-1&&this.unexpected(b),this.parseFor(k,$))}var _e=this.isContextual("let"),et=!1,tt=new DestructuringErrors,nt=this.parseExpression(b>-1?"await":!0,tt);return this.type===types$1._in||(et=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===types$1._in?b>-1&&this.unexpected(b):k.await=b>-1),_e&&et&&this.raise(nt.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(nt,!1,tt),this.checkLValPattern(nt),this.parseForIn(k,nt)):(this.checkExpressionErrors(tt,!0),b>-1&&this.unexpected(b),this.parseFor(k,nt))};pp$8.parseFunctionStatement=function(k,b,_){return this.next(),this.parseFunction(k,FUNC_STATEMENT|(_?0:FUNC_HANGING_STATEMENT),!1,b)};pp$8.parseIfStatement=function(k){return this.next(),k.test=this.parseParenExpression(),k.consequent=this.parseStatement("if"),k.alternate=this.eat(types$1._else)?this.parseStatement("if"):null,this.finishNode(k,"IfStatement")};pp$8.parseReturnStatement=function(k){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(types$1.semi)||this.insertSemicolon()?k.argument=null:(k.argument=this.parseExpression(),this.semicolon()),this.finishNode(k,"ReturnStatement")};pp$8.parseSwitchStatement=function(k){this.next(),k.discriminant=this.parseParenExpression(),k.cases=[],this.expect(types$1.braceL),this.labels.push(switchLabel),this.enterScope(0);for(var b,_=!1;this.type!==types$1.braceR;)if(this.type===types$1._case||this.type===types$1._default){var $=this.type===types$1._case;b&&this.finishNode(b,"SwitchCase"),k.cases.push(b=this.startNode()),b.consequent=[],this.next(),$?b.test=this.parseExpression():(_&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),_=!0,b.test=null),this.expect(types$1.colon)}else b||this.unexpected(),b.consequent.push(this.parseStatement(null));return this.exitScope(),b&&this.finishNode(b,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(k,"SwitchStatement")};pp$8.parseThrowStatement=function(k){return this.next(),lineBreak.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),k.argument=this.parseExpression(),this.semicolon(),this.finishNode(k,"ThrowStatement")};var empty$1=[];pp$8.parseTryStatement=function(k){if(this.next(),k.block=this.parseBlock(),k.handler=null,this.type===types$1._catch){var b=this.startNode();if(this.next(),this.eat(types$1.parenL)){b.param=this.parseBindingAtom();var _=b.param.type==="Identifier";this.enterScope(_?SCOPE_SIMPLE_CATCH:0),this.checkLValPattern(b.param,_?BIND_SIMPLE_CATCH:BIND_LEXICAL),this.expect(types$1.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),b.param=null,this.enterScope(0);b.body=this.parseBlock(!1),this.exitScope(),k.handler=this.finishNode(b,"CatchClause")}return k.finalizer=this.eat(types$1._finally)?this.parseBlock():null,!k.handler&&!k.finalizer&&this.raise(k.start,"Missing catch or finally clause"),this.finishNode(k,"TryStatement")};pp$8.parseVarStatement=function(k,b){return this.next(),this.parseVar(k,!1,b),this.semicolon(),this.finishNode(k,"VariableDeclaration")};pp$8.parseWhileStatement=function(k){return this.next(),k.test=this.parseParenExpression(),this.labels.push(loopLabel),k.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(k,"WhileStatement")};pp$8.parseWithStatement=function(k){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),k.object=this.parseParenExpression(),k.body=this.parseStatement("with"),this.finishNode(k,"WithStatement")};pp$8.parseEmptyStatement=function(k){return this.next(),this.finishNode(k,"EmptyStatement")};pp$8.parseLabeledStatement=function(k,b,_,$){for(var j=0,_e=this.labels;j<_e.length;j+=1){var et=_e[j];et.name===b&&this.raise(_.start,"Label '"+b+"' is already declared")}for(var tt=this.type.isLoop?"loop":this.type===types$1._switch?"switch":null,nt=this.labels.length-1;nt>=0;nt--){var it=this.labels[nt];if(it.statementStart===k.start)it.statementStart=this.start,it.kind=tt;else break}return this.labels.push({name:b,kind:tt,statementStart:this.start}),k.body=this.parseStatement($?$.indexOf("label")===-1?$+"label":$:"label"),this.labels.pop(),k.label=_,this.finishNode(k,"LabeledStatement")};pp$8.parseExpressionStatement=function(k,b){return k.expression=b,this.semicolon(),this.finishNode(k,"ExpressionStatement")};pp$8.parseBlock=function(k,b,_){for(k===void 0&&(k=!0),b===void 0&&(b=this.startNode()),b.body=[],this.expect(types$1.braceL),k&&this.enterScope(0);this.type!==types$1.braceR;){var $=this.parseStatement(null);b.body.push($)}return _&&(this.strict=!1),this.next(),k&&this.exitScope(),this.finishNode(b,"BlockStatement")};pp$8.parseFor=function(k,b){return k.init=b,this.expect(types$1.semi),k.test=this.type===types$1.semi?null:this.parseExpression(),this.expect(types$1.semi),k.update=this.type===types$1.parenR?null:this.parseExpression(),this.expect(types$1.parenR),k.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(k,"ForStatement")};pp$8.parseForIn=function(k,b){var _=this.type===types$1._in;return this.next(),b.type==="VariableDeclaration"&&b.declarations[0].init!=null&&(!_||this.options.ecmaVersion<8||this.strict||b.kind!=="var"||b.declarations[0].id.type!=="Identifier")&&this.raise(b.start,(_?"for-in":"for-of")+" loop variable declaration may not have an initializer"),k.left=b,k.right=_?this.parseExpression():this.parseMaybeAssign(),this.expect(types$1.parenR),k.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(k,_?"ForInStatement":"ForOfStatement")};pp$8.parseVar=function(k,b,_){for(k.declarations=[],k.kind=_;;){var $=this.startNode();if(this.parseVarId($,_),this.eat(types$1.eq)?$.init=this.parseMaybeAssign(b):_==="const"&&!(this.type===types$1._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():$.id.type!=="Identifier"&&!(b&&(this.type===types$1._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):$.init=null,k.declarations.push(this.finishNode($,"VariableDeclarator")),!this.eat(types$1.comma))break}return k};pp$8.parseVarId=function(k,b){k.id=this.parseBindingAtom(),this.checkLValPattern(k.id,b==="var"?BIND_VAR:BIND_LEXICAL,!1)};var FUNC_STATEMENT=1,FUNC_HANGING_STATEMENT=2,FUNC_NULLABLE_ID=4;pp$8.parseFunction=function(k,b,_,$,j){this.initFunction(k),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!$)&&(this.type===types$1.star&&b&FUNC_HANGING_STATEMENT&&this.unexpected(),k.generator=this.eat(types$1.star)),this.options.ecmaVersion>=8&&(k.async=!!$),b&FUNC_STATEMENT&&(k.id=b&FUNC_NULLABLE_ID&&this.type!==types$1.name?null:this.parseIdent(),k.id&&!(b&FUNC_HANGING_STATEMENT)&&this.checkLValSimple(k.id,this.strict||k.generator||k.async?this.treatFunctionsAsVar?BIND_VAR:BIND_LEXICAL:BIND_FUNCTION));var _e=this.yieldPos,et=this.awaitPos,tt=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(functionFlags(k.async,k.generator)),b&FUNC_STATEMENT||(k.id=this.type===types$1.name?this.parseIdent():null),this.parseFunctionParams(k),this.parseFunctionBody(k,_,!1,j),this.yieldPos=_e,this.awaitPos=et,this.awaitIdentPos=tt,this.finishNode(k,b&FUNC_STATEMENT?"FunctionDeclaration":"FunctionExpression")};pp$8.parseFunctionParams=function(k){this.expect(types$1.parenL),k.params=this.parseBindingList(types$1.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};pp$8.parseClass=function(k,b){this.next();var _=this.strict;this.strict=!0,this.parseClassId(k,b),this.parseClassSuper(k);var $=this.enterClassBody(),j=this.startNode(),_e=!1;for(j.body=[],this.expect(types$1.braceL);this.type!==types$1.braceR;){var et=this.parseClassElement(k.superClass!==null);et&&(j.body.push(et),et.type==="MethodDefinition"&&et.kind==="constructor"?(_e&&this.raise(et.start,"Duplicate constructor in the same class"),_e=!0):et.key&&et.key.type==="PrivateIdentifier"&&isPrivateNameConflicted($,et)&&this.raiseRecoverable(et.key.start,"Identifier '#"+et.key.name+"' has already been declared"))}return this.strict=_,this.next(),k.body=this.finishNode(j,"ClassBody"),this.exitClassBody(),this.finishNode(k,b?"ClassDeclaration":"ClassExpression")};pp$8.parseClassElement=function(k){if(this.eat(types$1.semi))return null;var b=this.options.ecmaVersion,_=this.startNode(),$="",j=!1,_e=!1,et="method",tt=!1;if(this.eatContextual("static")){if(b>=13&&this.eat(types$1.braceL))return this.parseClassStaticBlock(_),_;this.isClassElementNameStart()||this.type===types$1.star?tt=!0:$="static"}if(_.static=tt,!$&&b>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===types$1.star)&&!this.canInsertSemicolon()?_e=!0:$="async"),!$&&(b>=9||!_e)&&this.eat(types$1.star)&&(j=!0),!$&&!_e&&!j){var nt=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?et=nt:$=nt)}if($?(_.computed=!1,_.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),_.key.name=$,this.finishNode(_.key,"Identifier")):this.parseClassElementName(_),b<13||this.type===types$1.parenL||et!=="method"||j||_e){var it=!_.static&&checkKeyName(_,"constructor"),rt=it&&k;it&&et!=="method"&&this.raise(_.key.start,"Constructor can't have get/set modifier"),_.kind=it?"constructor":et,this.parseClassMethod(_,j,_e,rt)}else this.parseClassField(_);return _};pp$8.isClassElementNameStart=function(){return this.type===types$1.name||this.type===types$1.privateId||this.type===types$1.num||this.type===types$1.string||this.type===types$1.bracketL||this.type.keyword};pp$8.parseClassElementName=function(k){this.type===types$1.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),k.computed=!1,k.key=this.parsePrivateIdent()):this.parsePropertyName(k)};pp$8.parseClassMethod=function(k,b,_,$){var j=k.key;k.kind==="constructor"?(b&&this.raise(j.start,"Constructor can't be a generator"),_&&this.raise(j.start,"Constructor can't be an async method")):k.static&&checkKeyName(k,"prototype")&&this.raise(j.start,"Classes may not have a static property named prototype");var _e=k.value=this.parseMethod(b,_,$);return k.kind==="get"&&_e.params.length!==0&&this.raiseRecoverable(_e.start,"getter should have no params"),k.kind==="set"&&_e.params.length!==1&&this.raiseRecoverable(_e.start,"setter should have exactly one param"),k.kind==="set"&&_e.params[0].type==="RestElement"&&this.raiseRecoverable(_e.params[0].start,"Setter cannot use rest params"),this.finishNode(k,"MethodDefinition")};pp$8.parseClassField=function(k){if(checkKeyName(k,"constructor")?this.raise(k.key.start,"Classes can't have a field named 'constructor'"):k.static&&checkKeyName(k,"prototype")&&this.raise(k.key.start,"Classes can't have a static field named 'prototype'"),this.eat(types$1.eq)){var b=this.currentThisScope(),_=b.inClassFieldInit;b.inClassFieldInit=!0,k.value=this.parseMaybeAssign(),b.inClassFieldInit=_}else k.value=null;return this.semicolon(),this.finishNode(k,"PropertyDefinition")};pp$8.parseClassStaticBlock=function(k){k.body=[];var b=this.labels;for(this.labels=[],this.enterScope(SCOPE_CLASS_STATIC_BLOCK|SCOPE_SUPER);this.type!==types$1.braceR;){var _=this.parseStatement(null);k.body.push(_)}return this.next(),this.exitScope(),this.labels=b,this.finishNode(k,"StaticBlock")};pp$8.parseClassId=function(k,b){this.type===types$1.name?(k.id=this.parseIdent(),b&&this.checkLValSimple(k.id,BIND_LEXICAL,!1)):(b===!0&&this.unexpected(),k.id=null)};pp$8.parseClassSuper=function(k){k.superClass=this.eat(types$1._extends)?this.parseExprSubscripts(!1):null};pp$8.enterClassBody=function(){var k={declared:Object.create(null),used:[]};return this.privateNameStack.push(k),k.declared};pp$8.exitClassBody=function(){for(var k=this.privateNameStack.pop(),b=k.declared,_=k.used,$=this.privateNameStack.length,j=$===0?null:this.privateNameStack[$-1],_e=0;_e<_.length;++_e){var et=_[_e];hasOwn(b,et.name)||(j?j.used.push(et):this.raiseRecoverable(et.start,"Private field '#"+et.name+"' must be declared in an enclosing class"))}};function isPrivateNameConflicted(k,b){var _=b.key.name,$=k[_],j="true";return b.type==="MethodDefinition"&&(b.kind==="get"||b.kind==="set")&&(j=(b.static?"s":"i")+b.kind),$==="iget"&&j==="iset"||$==="iset"&&j==="iget"||$==="sget"&&j==="sset"||$==="sset"&&j==="sget"?(k[_]="true",!1):$?!0:(k[_]=j,!1)}function checkKeyName(k,b){var _=k.computed,$=k.key;return!_&&($.type==="Identifier"&&$.name===b||$.type==="Literal"&&$.value===b)}pp$8.parseExport=function(k,b){if(this.next(),this.eat(types$1.star))return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(k.exported=this.parseModuleExportName(),this.checkExport(b,k.exported,this.lastTokStart)):k.exported=null),this.expectContextual("from"),this.type!==types$1.string&&this.unexpected(),k.source=this.parseExprAtom(),this.semicolon(),this.finishNode(k,"ExportAllDeclaration");if(this.eat(types$1._default)){this.checkExport(b,"default",this.lastTokStart);var _;if(this.type===types$1._function||(_=this.isAsyncFunction())){var $=this.startNode();this.next(),_&&this.next(),k.declaration=this.parseFunction($,FUNC_STATEMENT|FUNC_NULLABLE_ID,!1,_)}else if(this.type===types$1._class){var j=this.startNode();k.declaration=this.parseClass(j,"nullableID")}else k.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(k,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())k.declaration=this.parseStatement(null),k.declaration.type==="VariableDeclaration"?this.checkVariableExport(b,k.declaration.declarations):this.checkExport(b,k.declaration.id,k.declaration.id.start),k.specifiers=[],k.source=null;else{if(k.declaration=null,k.specifiers=this.parseExportSpecifiers(b),this.eatContextual("from"))this.type!==types$1.string&&this.unexpected(),k.source=this.parseExprAtom();else{for(var _e=0,et=k.specifiers;_e<et.length;_e+=1){var tt=et[_e];this.checkUnreserved(tt.local),this.checkLocalExport(tt.local),tt.local.type==="Literal"&&this.raise(tt.local.start,"A string literal cannot be used as an exported binding without `from`.")}k.source=null}this.semicolon()}return this.finishNode(k,"ExportNamedDeclaration")};pp$8.checkExport=function(k,b,_){!k||(typeof b!="string"&&(b=b.type==="Identifier"?b.name:b.value),hasOwn(k,b)&&this.raiseRecoverable(_,"Duplicate export '"+b+"'"),k[b]=!0)};pp$8.checkPatternExport=function(k,b){var _=b.type;if(_==="Identifier")this.checkExport(k,b,b.start);else if(_==="ObjectPattern")for(var $=0,j=b.properties;$<j.length;$+=1){var _e=j[$];this.checkPatternExport(k,_e)}else if(_==="ArrayPattern")for(var et=0,tt=b.elements;et<tt.length;et+=1){var nt=tt[et];nt&&this.checkPatternExport(k,nt)}else _==="Property"?this.checkPatternExport(k,b.value):_==="AssignmentPattern"?this.checkPatternExport(k,b.left):_==="RestElement"?this.checkPatternExport(k,b.argument):_==="ParenthesizedExpression"&&this.checkPatternExport(k,b.expression)};pp$8.checkVariableExport=function(k,b){if(!!k)for(var _=0,$=b;_<$.length;_+=1){var j=$[_];this.checkPatternExport(k,j.id)}};pp$8.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};pp$8.parseExportSpecifiers=function(k){var b=[],_=!0;for(this.expect(types$1.braceL);!this.eat(types$1.braceR);){if(_)_=!1;else if(this.expect(types$1.comma),this.afterTrailingComma(types$1.braceR))break;var $=this.startNode();$.local=this.parseModuleExportName(),$.exported=this.eatContextual("as")?this.parseModuleExportName():$.local,this.checkExport(k,$.exported,$.exported.start),b.push(this.finishNode($,"ExportSpecifier"))}return b};pp$8.parseImport=function(k){return this.next(),this.type===types$1.string?(k.specifiers=empty$1,k.source=this.parseExprAtom()):(k.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),k.source=this.type===types$1.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(k,"ImportDeclaration")};pp$8.parseImportSpecifiers=function(){var k=[],b=!0;if(this.type===types$1.name){var _=this.startNode();if(_.local=this.parseIdent(),this.checkLValSimple(_.local,BIND_LEXICAL),k.push(this.finishNode(_,"ImportDefaultSpecifier")),!this.eat(types$1.comma))return k}if(this.type===types$1.star){var $=this.startNode();return this.next(),this.expectContextual("as"),$.local=this.parseIdent(),this.checkLValSimple($.local,BIND_LEXICAL),k.push(this.finishNode($,"ImportNamespaceSpecifier")),k}for(this.expect(types$1.braceL);!this.eat(types$1.braceR);){if(b)b=!1;else if(this.expect(types$1.comma),this.afterTrailingComma(types$1.braceR))break;var j=this.startNode();j.imported=this.parseModuleExportName(),this.eatContextual("as")?j.local=this.parseIdent():(this.checkUnreserved(j.imported),j.local=j.imported),this.checkLValSimple(j.local,BIND_LEXICAL),k.push(this.finishNode(j,"ImportSpecifier"))}return k};pp$8.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===types$1.string){var k=this.parseLiteral(this.value);return loneSurrogate.test(k.value)&&this.raise(k.start,"An export name cannot include a lone surrogate."),k}return this.parseIdent(!0)};pp$8.adaptDirectivePrologue=function(k){for(var b=0;b<k.length&&this.isDirectiveCandidate(k[b]);++b)k[b].directive=k[b].expression.raw.slice(1,-1)};pp$8.isDirectiveCandidate=function(k){return this.options.ecmaVersion>=5&&k.type==="ExpressionStatement"&&k.expression.type==="Literal"&&typeof k.expression.value=="string"&&(this.input[k.start]==='"'||this.input[k.start]==="'")};var pp$7=Parser.prototype;pp$7.toAssignable=function(k,b,_){if(this.options.ecmaVersion>=6&&k)switch(k.type){case"Identifier":this.inAsync&&k.name==="await"&&this.raise(k.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":k.type="ObjectPattern",_&&this.checkPatternErrors(_,!0);for(var $=0,j=k.properties;$<j.length;$+=1){var _e=j[$];this.toAssignable(_e,b),_e.type==="RestElement"&&(_e.argument.type==="ArrayPattern"||_e.argument.type==="ObjectPattern")&&this.raise(_e.argument.start,"Unexpected token")}break;case"Property":k.kind!=="init"&&this.raise(k.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(k.value,b);break;case"ArrayExpression":k.type="ArrayPattern",_&&this.checkPatternErrors(_,!0),this.toAssignableList(k.elements,b);break;case"SpreadElement":k.type="RestElement",this.toAssignable(k.argument,b),k.argument.type==="AssignmentPattern"&&this.raise(k.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":k.operator!=="="&&this.raise(k.left.end,"Only '=' operator can be used for specifying default value."),k.type="AssignmentPattern",delete k.operator,this.toAssignable(k.left,b);break;case"ParenthesizedExpression":this.toAssignable(k.expression,b,_);break;case"ChainExpression":this.raiseRecoverable(k.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!b)break;default:this.raise(k.start,"Assigning to rvalue")}else _&&this.checkPatternErrors(_,!0);return k};pp$7.toAssignableList=function(k,b){for(var _=k.length,$=0;$<_;$++){var j=k[$];j&&this.toAssignable(j,b)}if(_){var _e=k[_-1];this.options.ecmaVersion===6&&b&&_e&&_e.type==="RestElement"&&_e.argument.type!=="Identifier"&&this.unexpected(_e.argument.start)}return k};pp$7.parseSpread=function(k){var b=this.startNode();return this.next(),b.argument=this.parseMaybeAssign(!1,k),this.finishNode(b,"SpreadElement")};pp$7.parseRestBinding=function(){var k=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==types$1.name&&this.unexpected(),k.argument=this.parseBindingAtom(),this.finishNode(k,"RestElement")};pp$7.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case types$1.bracketL:var k=this.startNode();return this.next(),k.elements=this.parseBindingList(types$1.bracketR,!0,!0),this.finishNode(k,"ArrayPattern");case types$1.braceL:return this.parseObj(!0)}return this.parseIdent()};pp$7.parseBindingList=function(k,b,_){for(var $=[],j=!0;!this.eat(k);)if(j?j=!1:this.expect(types$1.comma),b&&this.type===types$1.comma)$.push(null);else{if(_&&this.afterTrailingComma(k))break;if(this.type===types$1.ellipsis){var _e=this.parseRestBinding();this.parseBindingListItem(_e),$.push(_e),this.type===types$1.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(k);break}else{var et=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(et),$.push(et)}}return $};pp$7.parseBindingListItem=function(k){return k};pp$7.parseMaybeDefault=function(k,b,_){if(_=_||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(types$1.eq))return _;var $=this.startNodeAt(k,b);return $.left=_,$.right=this.parseMaybeAssign(),this.finishNode($,"AssignmentPattern")};pp$7.checkLValSimple=function(k,b,_){b===void 0&&(b=BIND_NONE);var $=b!==BIND_NONE;switch(k.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(k.name)&&this.raiseRecoverable(k.start,($?"Binding ":"Assigning to ")+k.name+" in strict mode"),$&&(b===BIND_LEXICAL&&k.name==="let"&&this.raiseRecoverable(k.start,"let is disallowed as a lexically bound name"),_&&(hasOwn(_,k.name)&&this.raiseRecoverable(k.start,"Argument name clash"),_[k.name]=!0),b!==BIND_OUTSIDE&&this.declareName(k.name,b,k.start));break;case"ChainExpression":this.raiseRecoverable(k.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":$&&this.raiseRecoverable(k.start,"Binding member expression");break;case"ParenthesizedExpression":return $&&this.raiseRecoverable(k.start,"Binding parenthesized expression"),this.checkLValSimple(k.expression,b,_);default:this.raise(k.start,($?"Binding":"Assigning to")+" rvalue")}};pp$7.checkLValPattern=function(k,b,_){switch(b===void 0&&(b=BIND_NONE),k.type){case"ObjectPattern":for(var $=0,j=k.properties;$<j.length;$+=1){var _e=j[$];this.checkLValInnerPattern(_e,b,_)}break;case"ArrayPattern":for(var et=0,tt=k.elements;et<tt.length;et+=1){var nt=tt[et];nt&&this.checkLValInnerPattern(nt,b,_)}break;default:this.checkLValSimple(k,b,_)}};pp$7.checkLValInnerPattern=function(k,b,_){switch(b===void 0&&(b=BIND_NONE),k.type){case"Property":this.checkLValInnerPattern(k.value,b,_);break;case"AssignmentPattern":this.checkLValPattern(k.left,b,_);break;case"RestElement":this.checkLValPattern(k.argument,b,_);break;default:this.checkLValPattern(k,b,_)}};var TokContext=function k(b,_,$,j,_e){this.token=b,this.isExpr=!!_,this.preserveSpace=!!$,this.override=j,this.generator=!!_e},types={b_stat:new TokContext("{",!1),b_expr:new TokContext("{",!0),b_tmpl:new TokContext("${",!1),p_stat:new TokContext("(",!1),p_expr:new TokContext("(",!0),q_tmpl:new TokContext("`",!0,!0,function(k){return k.tryReadTemplateToken()}),f_stat:new TokContext("function",!1),f_expr:new TokContext("function",!0),f_expr_gen:new TokContext("function",!0,!1,null,!0),f_gen:new TokContext("function",!1,!1,null,!0)},pp$6=Parser.prototype;pp$6.initialContext=function(){return[types.b_stat]};pp$6.curContext=function(){return this.context[this.context.length-1]};pp$6.braceIsBlock=function(k){var b=this.curContext();return b===types.f_expr||b===types.f_stat?!0:k===types$1.colon&&(b===types.b_stat||b===types.b_expr)?!b.isExpr:k===types$1._return||k===types$1.name&&this.exprAllowed?lineBreak.test(this.input.slice(this.lastTokEnd,this.start)):k===types$1._else||k===types$1.semi||k===types$1.eof||k===types$1.parenR||k===types$1.arrow?!0:k===types$1.braceL?b===types.b_stat:k===types$1._var||k===types$1._const||k===types$1.name?!1:!this.exprAllowed};pp$6.inGeneratorContext=function(){for(var k=this.context.length-1;k>=1;k--){var b=this.context[k];if(b.token==="function")return b.generator}return!1};pp$6.updateContext=function(k){var b,_=this.type;_.keyword&&k===types$1.dot?this.exprAllowed=!1:(b=_.updateContext)?b.call(this,k):this.exprAllowed=_.beforeExpr};pp$6.overrideContext=function(k){this.curContext()!==k&&(this.context[this.context.length-1]=k)};types$1.parenR.updateContext=types$1.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var k=this.context.pop();k===types.b_stat&&this.curContext().token==="function"&&(k=this.context.pop()),this.exprAllowed=!k.isExpr};types$1.braceL.updateContext=function(k){this.context.push(this.braceIsBlock(k)?types.b_stat:types.b_expr),this.exprAllowed=!0};types$1.dollarBraceL.updateContext=function(){this.context.push(types.b_tmpl),this.exprAllowed=!0};types$1.parenL.updateContext=function(k){var b=k===types$1._if||k===types$1._for||k===types$1._with||k===types$1._while;this.context.push(b?types.p_stat:types.p_expr),this.exprAllowed=!0};types$1.incDec.updateContext=function(){};types$1._function.updateContext=types$1._class.updateContext=function(k){k.beforeExpr&&k!==types$1._else&&!(k===types$1.semi&&this.curContext()!==types.p_stat)&&!(k===types$1._return&&lineBreak.test(this.input.slice(this.lastTokEnd,this.start)))&&!((k===types$1.colon||k===types$1.braceL)&&this.curContext()===types.b_stat)?this.context.push(types.f_expr):this.context.push(types.f_stat),this.exprAllowed=!1};types$1.backQuote.updateContext=function(){this.curContext()===types.q_tmpl?this.context.pop():this.context.push(types.q_tmpl),this.exprAllowed=!1};types$1.star.updateContext=function(k){if(k===types$1._function){var b=this.context.length-1;this.context[b]===types.f_expr?this.context[b]=types.f_expr_gen:this.context[b]=types.f_gen}this.exprAllowed=!0};types$1.name.updateContext=function(k){var b=!1;this.options.ecmaVersion>=6&&k!==types$1.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(b=!0),this.exprAllowed=b};var pp$5=Parser.prototype;pp$5.checkPropClash=function(k,b,_){if(!(this.options.ecmaVersion>=9&&k.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(k.computed||k.method||k.shorthand))){var $=k.key,j;switch($.type){case"Identifier":j=$.name;break;case"Literal":j=String($.value);break;default:return}var _e=k.kind;if(this.options.ecmaVersion>=6){j==="__proto__"&&_e==="init"&&(b.proto&&(_?_.doubleProto<0&&(_.doubleProto=$.start):this.raiseRecoverable($.start,"Redefinition of __proto__ property")),b.proto=!0);return}j="$"+j;var et=b[j];if(et){var tt;_e==="init"?tt=this.strict&&et.init||et.get||et.set:tt=et.init||et[_e],tt&&this.raiseRecoverable($.start,"Redefinition of property")}else et=b[j]={init:!1,get:!1,set:!1};et[_e]=!0}};pp$5.parseExpression=function(k,b){var _=this.start,$=this.startLoc,j=this.parseMaybeAssign(k,b);if(this.type===types$1.comma){var _e=this.startNodeAt(_,$);for(_e.expressions=[j];this.eat(types$1.comma);)_e.expressions.push(this.parseMaybeAssign(k,b));return this.finishNode(_e,"SequenceExpression")}return j};pp$5.parseMaybeAssign=function(k,b,_){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(k);this.exprAllowed=!1}var $=!1,j=-1,_e=-1,et=-1;b?(j=b.parenthesizedAssign,_e=b.trailingComma,et=b.doubleProto,b.parenthesizedAssign=b.trailingComma=-1):(b=new DestructuringErrors,$=!0);var tt=this.start,nt=this.startLoc;(this.type===types$1.parenL||this.type===types$1.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=k==="await");var it=this.parseMaybeConditional(k,b);if(_&&(it=_.call(this,it,tt,nt)),this.type.isAssign){var rt=this.startNodeAt(tt,nt);return rt.operator=this.value,this.type===types$1.eq&&(it=this.toAssignable(it,!1,b)),$||(b.parenthesizedAssign=b.trailingComma=b.doubleProto=-1),b.shorthandAssign>=it.start&&(b.shorthandAssign=-1),this.type===types$1.eq?this.checkLValPattern(it):this.checkLValSimple(it),rt.left=it,this.next(),rt.right=this.parseMaybeAssign(k),et>-1&&(b.doubleProto=et),this.finishNode(rt,"AssignmentExpression")}else $&&this.checkExpressionErrors(b,!0);return j>-1&&(b.parenthesizedAssign=j),_e>-1&&(b.trailingComma=_e),it};pp$5.parseMaybeConditional=function(k,b){var _=this.start,$=this.startLoc,j=this.parseExprOps(k,b);if(this.checkExpressionErrors(b))return j;if(this.eat(types$1.question)){var _e=this.startNodeAt(_,$);return _e.test=j,_e.consequent=this.parseMaybeAssign(),this.expect(types$1.colon),_e.alternate=this.parseMaybeAssign(k),this.finishNode(_e,"ConditionalExpression")}return j};pp$5.parseExprOps=function(k,b){var _=this.start,$=this.startLoc,j=this.parseMaybeUnary(b,!1,!1,k);return this.checkExpressionErrors(b)||j.start===_&&j.type==="ArrowFunctionExpression"?j:this.parseExprOp(j,_,$,-1,k)};pp$5.parseExprOp=function(k,b,_,$,j){var _e=this.type.binop;if(_e!=null&&(!j||this.type!==types$1._in)&&_e>$){var et=this.type===types$1.logicalOR||this.type===types$1.logicalAND,tt=this.type===types$1.coalesce;tt&&(_e=types$1.logicalAND.binop);var nt=this.value;this.next();var it=this.start,rt=this.startLoc,st=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,j),it,rt,_e,j),ot=this.buildBinary(b,_,k,st,nt,et||tt);return(et&&this.type===types$1.coalesce||tt&&(this.type===types$1.logicalOR||this.type===types$1.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(ot,b,_,$,j)}return k};pp$5.buildBinary=function(k,b,_,$,j,_e){$.type==="PrivateIdentifier"&&this.raise($.start,"Private identifier can only be left side of binary expression");var et=this.startNodeAt(k,b);return et.left=_,et.operator=j,et.right=$,this.finishNode(et,_e?"LogicalExpression":"BinaryExpression")};pp$5.parseMaybeUnary=function(k,b,_,$){var j=this.start,_e=this.startLoc,et;if(this.isContextual("await")&&this.canAwait)et=this.parseAwait($),b=!0;else if(this.type.prefix){var tt=this.startNode(),nt=this.type===types$1.incDec;tt.operator=this.value,tt.prefix=!0,this.next(),tt.argument=this.parseMaybeUnary(null,!0,nt,$),this.checkExpressionErrors(k,!0),nt?this.checkLValSimple(tt.argument):this.strict&&tt.operator==="delete"&&tt.argument.type==="Identifier"?this.raiseRecoverable(tt.start,"Deleting local variable in strict mode"):tt.operator==="delete"&&isPrivateFieldAccess(tt.argument)?this.raiseRecoverable(tt.start,"Private fields can not be deleted"):b=!0,et=this.finishNode(tt,nt?"UpdateExpression":"UnaryExpression")}else if(!b&&this.type===types$1.privateId)($||this.privateNameStack.length===0)&&this.unexpected(),et=this.parsePrivateIdent(),this.type!==types$1._in&&this.unexpected();else{if(et=this.parseExprSubscripts(k,$),this.checkExpressionErrors(k))return et;for(;this.type.postfix&&!this.canInsertSemicolon();){var it=this.startNodeAt(j,_e);it.operator=this.value,it.prefix=!1,it.argument=et,this.checkLValSimple(et),this.next(),et=this.finishNode(it,"UpdateExpression")}}if(!_&&this.eat(types$1.starstar))if(b)this.unexpected(this.lastTokStart);else return this.buildBinary(j,_e,et,this.parseMaybeUnary(null,!1,!1,$),"**",!1);else return et};function isPrivateFieldAccess(k){return k.type==="MemberExpression"&&k.property.type==="PrivateIdentifier"||k.type==="ChainExpression"&&isPrivateFieldAccess(k.expression)}pp$5.parseExprSubscripts=function(k,b){var _=this.start,$=this.startLoc,j=this.parseExprAtom(k,b);if(j.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return j;var _e=this.parseSubscripts(j,_,$,!1,b);return k&&_e.type==="MemberExpression"&&(k.parenthesizedAssign>=_e.start&&(k.parenthesizedAssign=-1),k.parenthesizedBind>=_e.start&&(k.parenthesizedBind=-1),k.trailingComma>=_e.start&&(k.trailingComma=-1)),_e};pp$5.parseSubscripts=function(k,b,_,$,j){for(var _e=this.options.ecmaVersion>=8&&k.type==="Identifier"&&k.name==="async"&&this.lastTokEnd===k.end&&!this.canInsertSemicolon()&&k.end-k.start===5&&this.potentialArrowAt===k.start,et=!1;;){var tt=this.parseSubscript(k,b,_,$,_e,et,j);if(tt.optional&&(et=!0),tt===k||tt.type==="ArrowFunctionExpression"){if(et){var nt=this.startNodeAt(b,_);nt.expression=tt,tt=this.finishNode(nt,"ChainExpression")}return tt}k=tt}};pp$5.parseSubscript=function(k,b,_,$,j,_e,et){var tt=this.options.ecmaVersion>=11,nt=tt&&this.eat(types$1.questionDot);$&&nt&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var it=this.eat(types$1.bracketL);if(it||nt&&this.type!==types$1.parenL&&this.type!==types$1.backQuote||this.eat(types$1.dot)){var rt=this.startNodeAt(b,_);rt.object=k,it?(rt.property=this.parseExpression(),this.expect(types$1.bracketR)):this.type===types$1.privateId&&k.type!=="Super"?rt.property=this.parsePrivateIdent():rt.property=this.parseIdent(this.options.allowReserved!=="never"),rt.computed=!!it,tt&&(rt.optional=nt),k=this.finishNode(rt,"MemberExpression")}else if(!$&&this.eat(types$1.parenL)){var st=new DestructuringErrors,ot=this.yieldPos,ut=this.awaitPos,lt=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var ft=this.parseExprList(types$1.parenR,this.options.ecmaVersion>=8,!1,st);if(j&&!nt&&!this.canInsertSemicolon()&&this.eat(types$1.arrow))return this.checkPatternErrors(st,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=ot,this.awaitPos=ut,this.awaitIdentPos=lt,this.parseArrowExpression(this.startNodeAt(b,_),ft,!0,et);this.checkExpressionErrors(st,!0),this.yieldPos=ot||this.yieldPos,this.awaitPos=ut||this.awaitPos,this.awaitIdentPos=lt||this.awaitIdentPos;var ct=this.startNodeAt(b,_);ct.callee=k,ct.arguments=ft,tt&&(ct.optional=nt),k=this.finishNode(ct,"CallExpression")}else if(this.type===types$1.backQuote){(nt||_e)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var pt=this.startNodeAt(b,_);pt.tag=k,pt.quasi=this.parseTemplate({isTagged:!0}),k=this.finishNode(pt,"TaggedTemplateExpression")}return k};pp$5.parseExprAtom=function(k,b){this.type===types$1.slash&&this.readRegexp();var _,$=this.potentialArrowAt===this.start;switch(this.type){case types$1._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),_=this.startNode(),this.next(),this.type===types$1.parenL&&!this.allowDirectSuper&&this.raise(_.start,"super() call outside constructor of a subclass"),this.type!==types$1.dot&&this.type!==types$1.bracketL&&this.type!==types$1.parenL&&this.unexpected(),this.finishNode(_,"Super");case types$1._this:return _=this.startNode(),this.next(),this.finishNode(_,"ThisExpression");case types$1.name:var j=this.start,_e=this.startLoc,et=this.containsEsc,tt=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!et&&tt.name==="async"&&!this.canInsertSemicolon()&&this.eat(types$1._function))return this.overrideContext(types.f_expr),this.parseFunction(this.startNodeAt(j,_e),0,!1,!0,b);if($&&!this.canInsertSemicolon()){if(this.eat(types$1.arrow))return this.parseArrowExpression(this.startNodeAt(j,_e),[tt],!1,b);if(this.options.ecmaVersion>=8&&tt.name==="async"&&this.type===types$1.name&&!et&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return tt=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(types$1.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(j,_e),[tt],!0,b)}return tt;case types$1.regexp:var nt=this.value;return _=this.parseLiteral(nt.value),_.regex={pattern:nt.pattern,flags:nt.flags},_;case types$1.num:case types$1.string:return this.parseLiteral(this.value);case types$1._null:case types$1._true:case types$1._false:return _=this.startNode(),_.value=this.type===types$1._null?null:this.type===types$1._true,_.raw=this.type.keyword,this.next(),this.finishNode(_,"Literal");case types$1.parenL:var it=this.start,rt=this.parseParenAndDistinguishExpression($,b);return k&&(k.parenthesizedAssign<0&&!this.isSimpleAssignTarget(rt)&&(k.parenthesizedAssign=it),k.parenthesizedBind<0&&(k.parenthesizedBind=it)),rt;case types$1.bracketL:return _=this.startNode(),this.next(),_.elements=this.parseExprList(types$1.bracketR,!0,!0,k),this.finishNode(_,"ArrayExpression");case types$1.braceL:return this.overrideContext(types.b_expr),this.parseObj(!1,k);case types$1._function:return _=this.startNode(),this.next(),this.parseFunction(_,0);case types$1._class:return this.parseClass(this.startNode(),!1);case types$1._new:return this.parseNew();case types$1.backQuote:return this.parseTemplate();case types$1._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.unexpected();default:this.unexpected()}};pp$5.parseExprImport=function(){var k=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var b=this.parseIdent(!0);switch(this.type){case types$1.parenL:return this.parseDynamicImport(k);case types$1.dot:return k.meta=b,this.parseImportMeta(k);default:this.unexpected()}};pp$5.parseDynamicImport=function(k){if(this.next(),k.source=this.parseMaybeAssign(),!this.eat(types$1.parenR)){var b=this.start;this.eat(types$1.comma)&&this.eat(types$1.parenR)?this.raiseRecoverable(b,"Trailing comma is not allowed in import()"):this.unexpected(b)}return this.finishNode(k,"ImportExpression")};pp$5.parseImportMeta=function(k){this.next();var b=this.containsEsc;return k.property=this.parseIdent(!0),k.property.name!=="meta"&&this.raiseRecoverable(k.property.start,"The only valid meta property for import is 'import.meta'"),b&&this.raiseRecoverable(k.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(k.start,"Cannot use 'import.meta' outside a module"),this.finishNode(k,"MetaProperty")};pp$5.parseLiteral=function(k){var b=this.startNode();return b.value=k,b.raw=this.input.slice(this.start,this.end),b.raw.charCodeAt(b.raw.length-1)===110&&(b.bigint=b.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(b,"Literal")};pp$5.parseParenExpression=function(){this.expect(types$1.parenL);var k=this.parseExpression();return this.expect(types$1.parenR),k};pp$5.parseParenAndDistinguishExpression=function(k,b){var _=this.start,$=this.startLoc,j,_e=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var et=this.start,tt=this.startLoc,nt=[],it=!0,rt=!1,st=new DestructuringErrors,ot=this.yieldPos,ut=this.awaitPos,lt;for(this.yieldPos=0,this.awaitPos=0;this.type!==types$1.parenR;)if(it?it=!1:this.expect(types$1.comma),_e&&this.afterTrailingComma(types$1.parenR,!0)){rt=!0;break}else if(this.type===types$1.ellipsis){lt=this.start,nt.push(this.parseParenItem(this.parseRestBinding())),this.type===types$1.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}else nt.push(this.parseMaybeAssign(!1,st,this.parseParenItem));var ft=this.lastTokEnd,ct=this.lastTokEndLoc;if(this.expect(types$1.parenR),k&&!this.canInsertSemicolon()&&this.eat(types$1.arrow))return this.checkPatternErrors(st,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=ot,this.awaitPos=ut,this.parseParenArrowList(_,$,nt,b);(!nt.length||rt)&&this.unexpected(this.lastTokStart),lt&&this.unexpected(lt),this.checkExpressionErrors(st,!0),this.yieldPos=ot||this.yieldPos,this.awaitPos=ut||this.awaitPos,nt.length>1?(j=this.startNodeAt(et,tt),j.expressions=nt,this.finishNodeAt(j,"SequenceExpression",ft,ct)):j=nt[0]}else j=this.parseParenExpression();if(this.options.preserveParens){var pt=this.startNodeAt(_,$);return pt.expression=j,this.finishNode(pt,"ParenthesizedExpression")}else return j};pp$5.parseParenItem=function(k){return k};pp$5.parseParenArrowList=function(k,b,_,$){return this.parseArrowExpression(this.startNodeAt(k,b),_,!1,$)};var empty=[];pp$5.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var k=this.startNode(),b=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(types$1.dot)){k.meta=b;var _=this.containsEsc;return k.property=this.parseIdent(!0),k.property.name!=="target"&&this.raiseRecoverable(k.property.start,"The only valid meta property for new is 'new.target'"),_&&this.raiseRecoverable(k.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(k.start,"'new.target' can only be used in functions and class static block"),this.finishNode(k,"MetaProperty")}var $=this.start,j=this.startLoc,_e=this.type===types$1._import;return k.callee=this.parseSubscripts(this.parseExprAtom(),$,j,!0,!1),_e&&k.callee.type==="ImportExpression"&&this.raise($,"Cannot use new with import()"),this.eat(types$1.parenL)?k.arguments=this.parseExprList(types$1.parenR,this.options.ecmaVersion>=8,!1):k.arguments=empty,this.finishNode(k,"NewExpression")};pp$5.parseTemplateElement=function(k){var b=k.isTagged,_=this.startNode();return this.type===types$1.invalidTemplate?(b||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),_.value={raw:this.value,cooked:null}):_.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),_.tail=this.type===types$1.backQuote,this.finishNode(_,"TemplateElement")};pp$5.parseTemplate=function(k){k===void 0&&(k={});var b=k.isTagged;b===void 0&&(b=!1);var _=this.startNode();this.next(),_.expressions=[];var $=this.parseTemplateElement({isTagged:b});for(_.quasis=[$];!$.tail;)this.type===types$1.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(types$1.dollarBraceL),_.expressions.push(this.parseExpression()),this.expect(types$1.braceR),_.quasis.push($=this.parseTemplateElement({isTagged:b}));return this.next(),this.finishNode(_,"TemplateLiteral")};pp$5.isAsyncProp=function(k){return!k.computed&&k.key.type==="Identifier"&&k.key.name==="async"&&(this.type===types$1.name||this.type===types$1.num||this.type===types$1.string||this.type===types$1.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===types$1.star)&&!lineBreak.test(this.input.slice(this.lastTokEnd,this.start))};pp$5.parseObj=function(k,b){var _=this.startNode(),$=!0,j={};for(_.properties=[],this.next();!this.eat(types$1.braceR);){if($)$=!1;else if(this.expect(types$1.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(types$1.braceR))break;var _e=this.parseProperty(k,b);k||this.checkPropClash(_e,j,b),_.properties.push(_e)}return this.finishNode(_,k?"ObjectPattern":"ObjectExpression")};pp$5.parseProperty=function(k,b){var _=this.startNode(),$,j,_e,et;if(this.options.ecmaVersion>=9&&this.eat(types$1.ellipsis))return k?(_.argument=this.parseIdent(!1),this.type===types$1.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(_,"RestElement")):(_.argument=this.parseMaybeAssign(!1,b),this.type===types$1.comma&&b&&b.trailingComma<0&&(b.trailingComma=this.start),this.finishNode(_,"SpreadElement"));this.options.ecmaVersion>=6&&(_.method=!1,_.shorthand=!1,(k||b)&&(_e=this.start,et=this.startLoc),k||($=this.eat(types$1.star)));var tt=this.containsEsc;return this.parsePropertyName(_),!k&&!tt&&this.options.ecmaVersion>=8&&!$&&this.isAsyncProp(_)?(j=!0,$=this.options.ecmaVersion>=9&&this.eat(types$1.star),this.parsePropertyName(_,b)):j=!1,this.parsePropertyValue(_,k,$,j,_e,et,b,tt),this.finishNode(_,"Property")};pp$5.parsePropertyValue=function(k,b,_,$,j,_e,et,tt){if((_||$)&&this.type===types$1.colon&&this.unexpected(),this.eat(types$1.colon))k.value=b?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,et),k.kind="init";else if(this.options.ecmaVersion>=6&&this.type===types$1.parenL)b&&this.unexpected(),k.kind="init",k.method=!0,k.value=this.parseMethod(_,$);else if(!b&&!tt&&this.options.ecmaVersion>=5&&!k.computed&&k.key.type==="Identifier"&&(k.key.name==="get"||k.key.name==="set")&&this.type!==types$1.comma&&this.type!==types$1.braceR&&this.type!==types$1.eq){(_||$)&&this.unexpected(),k.kind=k.key.name,this.parsePropertyName(k),k.value=this.parseMethod(!1);var nt=k.kind==="get"?0:1;if(k.value.params.length!==nt){var it=k.value.start;k.kind==="get"?this.raiseRecoverable(it,"getter should have no params"):this.raiseRecoverable(it,"setter should have exactly one param")}else k.kind==="set"&&k.value.params[0].type==="RestElement"&&this.raiseRecoverable(k.value.params[0].start,"Setter cannot use rest params")}else this.options.ecmaVersion>=6&&!k.computed&&k.key.type==="Identifier"?((_||$)&&this.unexpected(),this.checkUnreserved(k.key),k.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=j),k.kind="init",b?k.value=this.parseMaybeDefault(j,_e,this.copyNode(k.key)):this.type===types$1.eq&&et?(et.shorthandAssign<0&&(et.shorthandAssign=this.start),k.value=this.parseMaybeDefault(j,_e,this.copyNode(k.key))):k.value=this.copyNode(k.key),k.shorthand=!0):this.unexpected()};pp$5.parsePropertyName=function(k){if(this.options.ecmaVersion>=6){if(this.eat(types$1.bracketL))return k.computed=!0,k.key=this.parseMaybeAssign(),this.expect(types$1.bracketR),k.key;k.computed=!1}return k.key=this.type===types$1.num||this.type===types$1.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};pp$5.initFunction=function(k){k.id=null,this.options.ecmaVersion>=6&&(k.generator=k.expression=!1),this.options.ecmaVersion>=8&&(k.async=!1)};pp$5.parseMethod=function(k,b,_){var $=this.startNode(),j=this.yieldPos,_e=this.awaitPos,et=this.awaitIdentPos;return this.initFunction($),this.options.ecmaVersion>=6&&($.generator=k),this.options.ecmaVersion>=8&&($.async=!!b),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(functionFlags(b,$.generator)|SCOPE_SUPER|(_?SCOPE_DIRECT_SUPER:0)),this.expect(types$1.parenL),$.params=this.parseBindingList(types$1.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody($,!1,!0,!1),this.yieldPos=j,this.awaitPos=_e,this.awaitIdentPos=et,this.finishNode($,"FunctionExpression")};pp$5.parseArrowExpression=function(k,b,_,$){var j=this.yieldPos,_e=this.awaitPos,et=this.awaitIdentPos;return this.enterScope(functionFlags(_,!1)|SCOPE_ARROW),this.initFunction(k),this.options.ecmaVersion>=8&&(k.async=!!_),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,k.params=this.toAssignableList(b,!0),this.parseFunctionBody(k,!0,!1,$),this.yieldPos=j,this.awaitPos=_e,this.awaitIdentPos=et,this.finishNode(k,"ArrowFunctionExpression")};pp$5.parseFunctionBody=function(k,b,_,$){var j=b&&this.type!==types$1.braceL,_e=this.strict,et=!1;if(j)k.body=this.parseMaybeAssign($),k.expression=!0,this.checkParams(k,!1);else{var tt=this.options.ecmaVersion>=7&&!this.isSimpleParamList(k.params);(!_e||tt)&&(et=this.strictDirective(this.end),et&&tt&&this.raiseRecoverable(k.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var nt=this.labels;this.labels=[],et&&(this.strict=!0),this.checkParams(k,!_e&&!et&&!b&&!_&&this.isSimpleParamList(k.params)),this.strict&&k.id&&this.checkLValSimple(k.id,BIND_OUTSIDE),k.body=this.parseBlock(!1,void 0,et&&!_e),k.expression=!1,this.adaptDirectivePrologue(k.body.body),this.labels=nt}this.exitScope()};pp$5.isSimpleParamList=function(k){for(var b=0,_=k;b<_.length;b+=1){var $=_[b];if($.type!=="Identifier")return!1}return!0};pp$5.checkParams=function(k,b){for(var _=Object.create(null),$=0,j=k.params;$<j.length;$+=1){var _e=j[$];this.checkLValInnerPattern(_e,BIND_VAR,b?null:_)}};pp$5.parseExprList=function(k,b,_,$){for(var j=[],_e=!0;!this.eat(k);){if(_e)_e=!1;else if(this.expect(types$1.comma),b&&this.afterTrailingComma(k))break;var et=void 0;_&&this.type===types$1.comma?et=null:this.type===types$1.ellipsis?(et=this.parseSpread($),$&&this.type===types$1.comma&&$.trailingComma<0&&($.trailingComma=this.start)):et=this.parseMaybeAssign(!1,$),j.push(et)}return j};pp$5.checkUnreserved=function(k){var b=k.start,_=k.end,$=k.name;if(this.inGenerator&&$==="yield"&&this.raiseRecoverable(b,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&$==="await"&&this.raiseRecoverable(b,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&$==="arguments"&&this.raiseRecoverable(b,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&($==="arguments"||$==="await")&&this.raise(b,"Cannot use "+$+" in class static initialization block"),this.keywords.test($)&&this.raise(b,"Unexpected keyword '"+$+"'"),!(this.options.ecmaVersion<6&&this.input.slice(b,_).indexOf("\\")!==-1)){var j=this.strict?this.reservedWordsStrict:this.reservedWords;j.test($)&&(!this.inAsync&&$==="await"&&this.raiseRecoverable(b,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(b,"The keyword '"+$+"' is reserved"))}};pp$5.parseIdent=function(k,b){var _=this.startNode();return this.type===types$1.name?_.name=this.value:this.type.keyword?(_.name=this.type.keyword,(_.name==="class"||_.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop()):this.unexpected(),this.next(!!k),this.finishNode(_,"Identifier"),k||(this.checkUnreserved(_),_.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=_.start)),_};pp$5.parsePrivateIdent=function(){var k=this.startNode();return this.type===types$1.privateId?k.name=this.value:this.unexpected(),this.next(),this.finishNode(k,"PrivateIdentifier"),this.privateNameStack.length===0?this.raise(k.start,"Private field '#"+k.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(k),k};pp$5.parseYield=function(k){this.yieldPos||(this.yieldPos=this.start);var b=this.startNode();return this.next(),this.type===types$1.semi||this.canInsertSemicolon()||this.type!==types$1.star&&!this.type.startsExpr?(b.delegate=!1,b.argument=null):(b.delegate=this.eat(types$1.star),b.argument=this.parseMaybeAssign(k)),this.finishNode(b,"YieldExpression")};pp$5.parseAwait=function(k){this.awaitPos||(this.awaitPos=this.start);var b=this.startNode();return this.next(),b.argument=this.parseMaybeUnary(null,!0,!1,k),this.finishNode(b,"AwaitExpression")};var pp$4=Parser.prototype;pp$4.raise=function(k,b){var _=getLineInfo(this.input,k);b+=" ("+_.line+":"+_.column+")";var $=new SyntaxError(b);throw $.pos=k,$.loc=_,$.raisedAt=this.pos,$};pp$4.raiseRecoverable=pp$4.raise;pp$4.curPosition=function(){if(this.options.locations)return new Position(this.curLine,this.pos-this.lineStart)};var pp$3=Parser.prototype,Scope=function k(b){this.flags=b,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};pp$3.enterScope=function(k){this.scopeStack.push(new Scope(k))};pp$3.exitScope=function(){this.scopeStack.pop()};pp$3.treatFunctionsAsVarInScope=function(k){return k.flags&SCOPE_FUNCTION||!this.inModule&&k.flags&SCOPE_TOP};pp$3.declareName=function(k,b,_){var $=!1;if(b===BIND_LEXICAL){var j=this.currentScope();$=j.lexical.indexOf(k)>-1||j.functions.indexOf(k)>-1||j.var.indexOf(k)>-1,j.lexical.push(k),this.inModule&&j.flags&SCOPE_TOP&&delete this.undefinedExports[k]}else if(b===BIND_SIMPLE_CATCH){var _e=this.currentScope();_e.lexical.push(k)}else if(b===BIND_FUNCTION){var et=this.currentScope();this.treatFunctionsAsVar?$=et.lexical.indexOf(k)>-1:$=et.lexical.indexOf(k)>-1||et.var.indexOf(k)>-1,et.functions.push(k)}else for(var tt=this.scopeStack.length-1;tt>=0;--tt){var nt=this.scopeStack[tt];if(nt.lexical.indexOf(k)>-1&&!(nt.flags&SCOPE_SIMPLE_CATCH&&nt.lexical[0]===k)||!this.treatFunctionsAsVarInScope(nt)&&nt.functions.indexOf(k)>-1){$=!0;break}if(nt.var.push(k),this.inModule&&nt.flags&SCOPE_TOP&&delete this.undefinedExports[k],nt.flags&SCOPE_VAR)break}$&&this.raiseRecoverable(_,"Identifier '"+k+"' has already been declared")};pp$3.checkLocalExport=function(k){this.scopeStack[0].lexical.indexOf(k.name)===-1&&this.scopeStack[0].var.indexOf(k.name)===-1&&(this.undefinedExports[k.name]=k)};pp$3.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};pp$3.currentVarScope=function(){for(var k=this.scopeStack.length-1;;k--){var b=this.scopeStack[k];if(b.flags&SCOPE_VAR)return b}};pp$3.currentThisScope=function(){for(var k=this.scopeStack.length-1;;k--){var b=this.scopeStack[k];if(b.flags&SCOPE_VAR&&!(b.flags&SCOPE_ARROW))return b}};var Node=function k(b,_,$){this.type="",this.start=_,this.end=0,b.options.locations&&(this.loc=new SourceLocation(b,$)),b.options.directSourceFile&&(this.sourceFile=b.options.directSourceFile),b.options.ranges&&(this.range=[_,0])},pp$2=Parser.prototype;pp$2.startNode=function(){return new Node(this,this.start,this.startLoc)};pp$2.startNodeAt=function(k,b){return new Node(this,k,b)};function finishNodeAt(k,b,_,$){return k.type=b,k.end=_,this.options.locations&&(k.loc.end=$),this.options.ranges&&(k.range[1]=_),k}pp$2.finishNode=function(k,b){return finishNodeAt.call(this,k,b,this.lastTokEnd,this.lastTokEndLoc)};pp$2.finishNodeAt=function(k,b,_,$){return finishNodeAt.call(this,k,b,_,$)};pp$2.copyNode=function(k){var b=new Node(this,k.start,this.startLoc);for(var _ in k)b[_]=k[_];return b};var ecma9BinaryProperties="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",ecma10BinaryProperties=ecma9BinaryProperties+" Extended_Pictographic",ecma11BinaryProperties=ecma10BinaryProperties,ecma12BinaryProperties=ecma11BinaryProperties+" EBase EComp EMod EPres ExtPict",ecma13BinaryProperties=ecma12BinaryProperties,unicodeBinaryProperties={9:ecma9BinaryProperties,10:ecma10BinaryProperties,11:ecma11BinaryProperties,12:ecma12BinaryProperties,13:ecma13BinaryProperties},unicodeGeneralCategoryValues="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",ecma9ScriptValues="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",ecma10ScriptValues=ecma9ScriptValues+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",ecma11ScriptValues=ecma10ScriptValues+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",ecma12ScriptValues=ecma11ScriptValues+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",ecma13ScriptValues=ecma12ScriptValues+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",unicodeScriptValues={9:ecma9ScriptValues,10:ecma10ScriptValues,11:ecma11ScriptValues,12:ecma12ScriptValues,13:ecma13ScriptValues},data={};function buildUnicodeData(k){var b=data[k]={binary:wordsRegexp(unicodeBinaryProperties[k]+" "+unicodeGeneralCategoryValues),nonBinary:{General_Category:wordsRegexp(unicodeGeneralCategoryValues),Script:wordsRegexp(unicodeScriptValues[k])}};b.nonBinary.Script_Extensions=b.nonBinary.Script,b.nonBinary.gc=b.nonBinary.General_Category,b.nonBinary.sc=b.nonBinary.Script,b.nonBinary.scx=b.nonBinary.Script_Extensions}for(var i$1=0,list=[9,10,11,12,13];i$1<list.length;i$1+=1){var ecmaVersion=list[i$1];buildUnicodeData(ecmaVersion)}var pp$1=Parser.prototype,RegExpValidationState=function k(b){this.parser=b,this.validFlags="gim"+(b.options.ecmaVersion>=6?"uy":"")+(b.options.ecmaVersion>=9?"s":"")+(b.options.ecmaVersion>=13?"d":""),this.unicodeProperties=data[b.options.ecmaVersion>=13?13:b.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};RegExpValidationState.prototype.reset=function k(b,_,$){var j=$.indexOf("u")!==-1;this.start=b|0,this.source=_+"",this.flags=$,this.switchU=j&&this.parser.options.ecmaVersion>=6,this.switchN=j&&this.parser.options.ecmaVersion>=9};RegExpValidationState.prototype.raise=function k(b){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+b)};RegExpValidationState.prototype.at=function k(b,_){_===void 0&&(_=!1);var $=this.source,j=$.length;if(b>=j)return-1;var _e=$.charCodeAt(b);if(!(_||this.switchU)||_e<=55295||_e>=57344||b+1>=j)return _e;var et=$.charCodeAt(b+1);return et>=56320&&et<=57343?(_e<<10)+et-56613888:_e};RegExpValidationState.prototype.nextIndex=function k(b,_){_===void 0&&(_=!1);var $=this.source,j=$.length;if(b>=j)return j;var _e=$.charCodeAt(b),et;return!(_||this.switchU)||_e<=55295||_e>=57344||b+1>=j||(et=$.charCodeAt(b+1))<56320||et>57343?b+1:b+2};RegExpValidationState.prototype.current=function k(b){return b===void 0&&(b=!1),this.at(this.pos,b)};RegExpValidationState.prototype.lookahead=function k(b){return b===void 0&&(b=!1),this.at(this.nextIndex(this.pos,b),b)};RegExpValidationState.prototype.advance=function k(b){b===void 0&&(b=!1),this.pos=this.nextIndex(this.pos,b)};RegExpValidationState.prototype.eat=function k(b,_){return _===void 0&&(_=!1),this.current(_)===b?(this.advance(_),!0):!1};pp$1.validateRegExpFlags=function(k){for(var b=k.validFlags,_=k.flags,$=0;$<_.length;$++){var j=_.charAt($);b.indexOf(j)===-1&&this.raise(k.start,"Invalid regular expression flag"),_.indexOf(j,$+1)>-1&&this.raise(k.start,"Duplicate regular expression flag")}};pp$1.validateRegExpPattern=function(k){this.regexp_pattern(k),!k.switchN&&this.options.ecmaVersion>=9&&k.groupNames.length>0&&(k.switchN=!0,this.regexp_pattern(k))};pp$1.regexp_pattern=function(k){k.pos=0,k.lastIntValue=0,k.lastStringValue="",k.lastAssertionIsQuantifiable=!1,k.numCapturingParens=0,k.maxBackReference=0,k.groupNames.length=0,k.backReferenceNames.length=0,this.regexp_disjunction(k),k.pos!==k.source.length&&(k.eat(41)&&k.raise("Unmatched ')'"),(k.eat(93)||k.eat(125))&&k.raise("Lone quantifier brackets")),k.maxBackReference>k.numCapturingParens&&k.raise("Invalid escape");for(var b=0,_=k.backReferenceNames;b<_.length;b+=1){var $=_[b];k.groupNames.indexOf($)===-1&&k.raise("Invalid named capture referenced")}};pp$1.regexp_disjunction=function(k){for(this.regexp_alternative(k);k.eat(124);)this.regexp_alternative(k);this.regexp_eatQuantifier(k,!0)&&k.raise("Nothing to repeat"),k.eat(123)&&k.raise("Lone quantifier brackets")};pp$1.regexp_alternative=function(k){for(;k.pos<k.source.length&&this.regexp_eatTerm(k););};pp$1.regexp_eatTerm=function(k){return this.regexp_eatAssertion(k)?(k.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(k)&&k.switchU&&k.raise("Invalid quantifier"),!0):(k.switchU?this.regexp_eatAtom(k):this.regexp_eatExtendedAtom(k))?(this.regexp_eatQuantifier(k),!0):!1};pp$1.regexp_eatAssertion=function(k){var b=k.pos;if(k.lastAssertionIsQuantifiable=!1,k.eat(94)||k.eat(36))return!0;if(k.eat(92)){if(k.eat(66)||k.eat(98))return!0;k.pos=b}if(k.eat(40)&&k.eat(63)){var _=!1;if(this.options.ecmaVersion>=9&&(_=k.eat(60)),k.eat(61)||k.eat(33))return this.regexp_disjunction(k),k.eat(41)||k.raise("Unterminated group"),k.lastAssertionIsQuantifiable=!_,!0}return k.pos=b,!1};pp$1.regexp_eatQuantifier=function(k,b){return b===void 0&&(b=!1),this.regexp_eatQuantifierPrefix(k,b)?(k.eat(63),!0):!1};pp$1.regexp_eatQuantifierPrefix=function(k,b){return k.eat(42)||k.eat(43)||k.eat(63)||this.regexp_eatBracedQuantifier(k,b)};pp$1.regexp_eatBracedQuantifier=function(k,b){var _=k.pos;if(k.eat(123)){var $=0,j=-1;if(this.regexp_eatDecimalDigits(k)&&($=k.lastIntValue,k.eat(44)&&this.regexp_eatDecimalDigits(k)&&(j=k.lastIntValue),k.eat(125)))return j!==-1&&j<$&&!b&&k.raise("numbers out of order in {} quantifier"),!0;k.switchU&&!b&&k.raise("Incomplete quantifier"),k.pos=_}return!1};pp$1.regexp_eatAtom=function(k){return this.regexp_eatPatternCharacters(k)||k.eat(46)||this.regexp_eatReverseSolidusAtomEscape(k)||this.regexp_eatCharacterClass(k)||this.regexp_eatUncapturingGroup(k)||this.regexp_eatCapturingGroup(k)};pp$1.regexp_eatReverseSolidusAtomEscape=function(k){var b=k.pos;if(k.eat(92)){if(this.regexp_eatAtomEscape(k))return!0;k.pos=b}return!1};pp$1.regexp_eatUncapturingGroup=function(k){var b=k.pos;if(k.eat(40)){if(k.eat(63)&&k.eat(58)){if(this.regexp_disjunction(k),k.eat(41))return!0;k.raise("Unterminated group")}k.pos=b}return!1};pp$1.regexp_eatCapturingGroup=function(k){if(k.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(k):k.current()===63&&k.raise("Invalid group"),this.regexp_disjunction(k),k.eat(41))return k.numCapturingParens+=1,!0;k.raise("Unterminated group")}return!1};pp$1.regexp_eatExtendedAtom=function(k){return k.eat(46)||this.regexp_eatReverseSolidusAtomEscape(k)||this.regexp_eatCharacterClass(k)||this.regexp_eatUncapturingGroup(k)||this.regexp_eatCapturingGroup(k)||this.regexp_eatInvalidBracedQuantifier(k)||this.regexp_eatExtendedPatternCharacter(k)};pp$1.regexp_eatInvalidBracedQuantifier=function(k){return this.regexp_eatBracedQuantifier(k,!0)&&k.raise("Nothing to repeat"),!1};pp$1.regexp_eatSyntaxCharacter=function(k){var b=k.current();return isSyntaxCharacter(b)?(k.lastIntValue=b,k.advance(),!0):!1};function isSyntaxCharacter(k){return k===36||k>=40&&k<=43||k===46||k===63||k>=91&&k<=94||k>=123&&k<=125}pp$1.regexp_eatPatternCharacters=function(k){for(var b=k.pos,_=0;(_=k.current())!==-1&&!isSyntaxCharacter(_);)k.advance();return k.pos!==b};pp$1.regexp_eatExtendedPatternCharacter=function(k){var b=k.current();return b!==-1&&b!==36&&!(b>=40&&b<=43)&&b!==46&&b!==63&&b!==91&&b!==94&&b!==124?(k.advance(),!0):!1};pp$1.regexp_groupSpecifier=function(k){if(k.eat(63)){if(this.regexp_eatGroupName(k)){k.groupNames.indexOf(k.lastStringValue)!==-1&&k.raise("Duplicate capture group name"),k.groupNames.push(k.lastStringValue);return}k.raise("Invalid group")}};pp$1.regexp_eatGroupName=function(k){if(k.lastStringValue="",k.eat(60)){if(this.regexp_eatRegExpIdentifierName(k)&&k.eat(62))return!0;k.raise("Invalid capture group name")}return!1};pp$1.regexp_eatRegExpIdentifierName=function(k){if(k.lastStringValue="",this.regexp_eatRegExpIdentifierStart(k)){for(k.lastStringValue+=codePointToString(k.lastIntValue);this.regexp_eatRegExpIdentifierPart(k);)k.lastStringValue+=codePointToString(k.lastIntValue);return!0}return!1};pp$1.regexp_eatRegExpIdentifierStart=function(k){var b=k.pos,_=this.options.ecmaVersion>=11,$=k.current(_);return k.advance(_),$===92&&this.regexp_eatRegExpUnicodeEscapeSequence(k,_)&&($=k.lastIntValue),isRegExpIdentifierStart($)?(k.lastIntValue=$,!0):(k.pos=b,!1)};function isRegExpIdentifierStart(k){return isIdentifierStart(k,!0)||k===36||k===95}pp$1.regexp_eatRegExpIdentifierPart=function(k){var b=k.pos,_=this.options.ecmaVersion>=11,$=k.current(_);return k.advance(_),$===92&&this.regexp_eatRegExpUnicodeEscapeSequence(k,_)&&($=k.lastIntValue),isRegExpIdentifierPart($)?(k.lastIntValue=$,!0):(k.pos=b,!1)};function isRegExpIdentifierPart(k){return isIdentifierChar(k,!0)||k===36||k===95||k===8204||k===8205}pp$1.regexp_eatAtomEscape=function(k){return this.regexp_eatBackReference(k)||this.regexp_eatCharacterClassEscape(k)||this.regexp_eatCharacterEscape(k)||k.switchN&&this.regexp_eatKGroupName(k)?!0:(k.switchU&&(k.current()===99&&k.raise("Invalid unicode escape"),k.raise("Invalid escape")),!1)};pp$1.regexp_eatBackReference=function(k){var b=k.pos;if(this.regexp_eatDecimalEscape(k)){var _=k.lastIntValue;if(k.switchU)return _>k.maxBackReference&&(k.maxBackReference=_),!0;if(_<=k.numCapturingParens)return!0;k.pos=b}return!1};pp$1.regexp_eatKGroupName=function(k){if(k.eat(107)){if(this.regexp_eatGroupName(k))return k.backReferenceNames.push(k.lastStringValue),!0;k.raise("Invalid named reference")}return!1};pp$1.regexp_eatCharacterEscape=function(k){return this.regexp_eatControlEscape(k)||this.regexp_eatCControlLetter(k)||this.regexp_eatZero(k)||this.regexp_eatHexEscapeSequence(k)||this.regexp_eatRegExpUnicodeEscapeSequence(k,!1)||!k.switchU&&this.regexp_eatLegacyOctalEscapeSequence(k)||this.regexp_eatIdentityEscape(k)};pp$1.regexp_eatCControlLetter=function(k){var b=k.pos;if(k.eat(99)){if(this.regexp_eatControlLetter(k))return!0;k.pos=b}return!1};pp$1.regexp_eatZero=function(k){return k.current()===48&&!isDecimalDigit(k.lookahead())?(k.lastIntValue=0,k.advance(),!0):!1};pp$1.regexp_eatControlEscape=function(k){var b=k.current();return b===116?(k.lastIntValue=9,k.advance(),!0):b===110?(k.lastIntValue=10,k.advance(),!0):b===118?(k.lastIntValue=11,k.advance(),!0):b===102?(k.lastIntValue=12,k.advance(),!0):b===114?(k.lastIntValue=13,k.advance(),!0):!1};pp$1.regexp_eatControlLetter=function(k){var b=k.current();return isControlLetter(b)?(k.lastIntValue=b%32,k.advance(),!0):!1};function isControlLetter(k){return k>=65&&k<=90||k>=97&&k<=122}pp$1.regexp_eatRegExpUnicodeEscapeSequence=function(k,b){b===void 0&&(b=!1);var _=k.pos,$=b||k.switchU;if(k.eat(117)){if(this.regexp_eatFixedHexDigits(k,4)){var j=k.lastIntValue;if($&&j>=55296&&j<=56319){var _e=k.pos;if(k.eat(92)&&k.eat(117)&&this.regexp_eatFixedHexDigits(k,4)){var et=k.lastIntValue;if(et>=56320&&et<=57343)return k.lastIntValue=(j-55296)*1024+(et-56320)+65536,!0}k.pos=_e,k.lastIntValue=j}return!0}if($&&k.eat(123)&&this.regexp_eatHexDigits(k)&&k.eat(125)&&isValidUnicode(k.lastIntValue))return!0;$&&k.raise("Invalid unicode escape"),k.pos=_}return!1};function isValidUnicode(k){return k>=0&&k<=1114111}pp$1.regexp_eatIdentityEscape=function(k){if(k.switchU)return this.regexp_eatSyntaxCharacter(k)?!0:k.eat(47)?(k.lastIntValue=47,!0):!1;var b=k.current();return b!==99&&(!k.switchN||b!==107)?(k.lastIntValue=b,k.advance(),!0):!1};pp$1.regexp_eatDecimalEscape=function(k){k.lastIntValue=0;var b=k.current();if(b>=49&&b<=57){do k.lastIntValue=10*k.lastIntValue+(b-48),k.advance();while((b=k.current())>=48&&b<=57);return!0}return!1};pp$1.regexp_eatCharacterClassEscape=function(k){var b=k.current();if(isCharacterClassEscape(b))return k.lastIntValue=-1,k.advance(),!0;if(k.switchU&&this.options.ecmaVersion>=9&&(b===80||b===112)){if(k.lastIntValue=-1,k.advance(),k.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(k)&&k.eat(125))return!0;k.raise("Invalid property name")}return!1};function isCharacterClassEscape(k){return k===100||k===68||k===115||k===83||k===119||k===87}pp$1.regexp_eatUnicodePropertyValueExpression=function(k){var b=k.pos;if(this.regexp_eatUnicodePropertyName(k)&&k.eat(61)){var _=k.lastStringValue;if(this.regexp_eatUnicodePropertyValue(k)){var $=k.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(k,_,$),!0}}if(k.pos=b,this.regexp_eatLoneUnicodePropertyNameOrValue(k)){var j=k.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(k,j),!0}return!1};pp$1.regexp_validateUnicodePropertyNameAndValue=function(k,b,_){hasOwn(k.unicodeProperties.nonBinary,b)||k.raise("Invalid property name"),k.unicodeProperties.nonBinary[b].test(_)||k.raise("Invalid property value")};pp$1.regexp_validateUnicodePropertyNameOrValue=function(k,b){k.unicodeProperties.binary.test(b)||k.raise("Invalid property name")};pp$1.regexp_eatUnicodePropertyName=function(k){var b=0;for(k.lastStringValue="";isUnicodePropertyNameCharacter(b=k.current());)k.lastStringValue+=codePointToString(b),k.advance();return k.lastStringValue!==""};function isUnicodePropertyNameCharacter(k){return isControlLetter(k)||k===95}pp$1.regexp_eatUnicodePropertyValue=function(k){var b=0;for(k.lastStringValue="";isUnicodePropertyValueCharacter(b=k.current());)k.lastStringValue+=codePointToString(b),k.advance();return k.lastStringValue!==""};function isUnicodePropertyValueCharacter(k){return isUnicodePropertyNameCharacter(k)||isDecimalDigit(k)}pp$1.regexp_eatLoneUnicodePropertyNameOrValue=function(k){return this.regexp_eatUnicodePropertyValue(k)};pp$1.regexp_eatCharacterClass=function(k){if(k.eat(91)){if(k.eat(94),this.regexp_classRanges(k),k.eat(93))return!0;k.raise("Unterminated character class")}return!1};pp$1.regexp_classRanges=function(k){for(;this.regexp_eatClassAtom(k);){var b=k.lastIntValue;if(k.eat(45)&&this.regexp_eatClassAtom(k)){var _=k.lastIntValue;k.switchU&&(b===-1||_===-1)&&k.raise("Invalid character class"),b!==-1&&_!==-1&&b>_&&k.raise("Range out of order in character class")}}};pp$1.regexp_eatClassAtom=function(k){var b=k.pos;if(k.eat(92)){if(this.regexp_eatClassEscape(k))return!0;if(k.switchU){var _=k.current();(_===99||isOctalDigit(_))&&k.raise("Invalid class escape"),k.raise("Invalid escape")}k.pos=b}var $=k.current();return $!==93?(k.lastIntValue=$,k.advance(),!0):!1};pp$1.regexp_eatClassEscape=function(k){var b=k.pos;if(k.eat(98))return k.lastIntValue=8,!0;if(k.switchU&&k.eat(45))return k.lastIntValue=45,!0;if(!k.switchU&&k.eat(99)){if(this.regexp_eatClassControlLetter(k))return!0;k.pos=b}return this.regexp_eatCharacterClassEscape(k)||this.regexp_eatCharacterEscape(k)};pp$1.regexp_eatClassControlLetter=function(k){var b=k.current();return isDecimalDigit(b)||b===95?(k.lastIntValue=b%32,k.advance(),!0):!1};pp$1.regexp_eatHexEscapeSequence=function(k){var b=k.pos;if(k.eat(120)){if(this.regexp_eatFixedHexDigits(k,2))return!0;k.switchU&&k.raise("Invalid escape"),k.pos=b}return!1};pp$1.regexp_eatDecimalDigits=function(k){var b=k.pos,_=0;for(k.lastIntValue=0;isDecimalDigit(_=k.current());)k.lastIntValue=10*k.lastIntValue+(_-48),k.advance();return k.pos!==b};function isDecimalDigit(k){return k>=48&&k<=57}pp$1.regexp_eatHexDigits=function(k){var b=k.pos,_=0;for(k.lastIntValue=0;isHexDigit(_=k.current());)k.lastIntValue=16*k.lastIntValue+hexToInt(_),k.advance();return k.pos!==b};function isHexDigit(k){return k>=48&&k<=57||k>=65&&k<=70||k>=97&&k<=102}function hexToInt(k){return k>=65&&k<=70?10+(k-65):k>=97&&k<=102?10+(k-97):k-48}pp$1.regexp_eatLegacyOctalEscapeSequence=function(k){if(this.regexp_eatOctalDigit(k)){var b=k.lastIntValue;if(this.regexp_eatOctalDigit(k)){var _=k.lastIntValue;b<=3&&this.regexp_eatOctalDigit(k)?k.lastIntValue=b*64+_*8+k.lastIntValue:k.lastIntValue=b*8+_}else k.lastIntValue=b;return!0}return!1};pp$1.regexp_eatOctalDigit=function(k){var b=k.current();return isOctalDigit(b)?(k.lastIntValue=b-48,k.advance(),!0):(k.lastIntValue=0,!1)};function isOctalDigit(k){return k>=48&&k<=55}pp$1.regexp_eatFixedHexDigits=function(k,b){var _=k.pos;k.lastIntValue=0;for(var $=0;$<b;++$){var j=k.current();if(!isHexDigit(j))return k.pos=_,!1;k.lastIntValue=16*k.lastIntValue+hexToInt(j),k.advance()}return!0};var Token=function k(b){this.type=b.type,this.value=b.value,this.start=b.start,this.end=b.end,b.options.locations&&(this.loc=new SourceLocation(b,b.startLoc,b.endLoc)),b.options.ranges&&(this.range=[b.start,b.end])},pp=Parser.prototype;pp.next=function(k){!k&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Token(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};pp.getToken=function(){return this.next(),new Token(this)};typeof Symbol<"u"&&(pp[Symbol.iterator]=function(){var k=this;return{next:function(){var b=k.getToken();return{done:b.type===types$1.eof,value:b}}}});pp.nextToken=function(){var k=this.curContext();if((!k||!k.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(types$1.eof);if(k.override)return k.override(this);this.readToken(this.fullCharCodeAtPos())};pp.readToken=function(k){return isIdentifierStart(k,this.options.ecmaVersion>=6)||k===92?this.readWord():this.getTokenFromCode(k)};pp.fullCharCodeAtPos=function(){var k=this.input.charCodeAt(this.pos);if(k<=55295||k>=56320)return k;var b=this.input.charCodeAt(this.pos+1);return b<=56319||b>=57344?k:(k<<10)+b-56613888};pp.skipBlockComment=function(){var k=this.options.onComment&&this.curPosition(),b=this.pos,_=this.input.indexOf("*/",this.pos+=2);if(_===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=_+2,this.options.locations)for(var $=void 0,j=b;($=nextLineBreak(this.input,j,this.pos))>-1;)++this.curLine,j=this.lineStart=$;this.options.onComment&&this.options.onComment(!0,this.input.slice(b+2,_),b,this.pos,k,this.curPosition())};pp.skipLineComment=function(k){for(var b=this.pos,_=this.options.onComment&&this.curPosition(),$=this.input.charCodeAt(this.pos+=k);this.pos<this.input.length&&!isNewLine($);)$=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(b+k,this.pos),b,this.pos,_,this.curPosition())};pp.skipSpace=function(){e:for(;this.pos<this.input.length;){var k=this.input.charCodeAt(this.pos);switch(k){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(k>8&&k<14||k>=5760&&nonASCIIwhitespace.test(String.fromCharCode(k)))++this.pos;else break e}}};pp.finishToken=function(k,b){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var _=this.type;this.type=k,this.value=b,this.updateContext(_)};pp.readToken_dot=function(){var k=this.input.charCodeAt(this.pos+1);if(k>=48&&k<=57)return this.readNumber(!0);var b=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&k===46&&b===46?(this.pos+=3,this.finishToken(types$1.ellipsis)):(++this.pos,this.finishToken(types$1.dot))};pp.readToken_slash=function(){var k=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):k===61?this.finishOp(types$1.assign,2):this.finishOp(types$1.slash,1)};pp.readToken_mult_modulo_exp=function(k){var b=this.input.charCodeAt(this.pos+1),_=1,$=k===42?types$1.star:types$1.modulo;return this.options.ecmaVersion>=7&&k===42&&b===42&&(++_,$=types$1.starstar,b=this.input.charCodeAt(this.pos+2)),b===61?this.finishOp(types$1.assign,_+1):this.finishOp($,_)};pp.readToken_pipe_amp=function(k){var b=this.input.charCodeAt(this.pos+1);if(b===k){if(this.options.ecmaVersion>=12){var _=this.input.charCodeAt(this.pos+2);if(_===61)return this.finishOp(types$1.assign,3)}return this.finishOp(k===124?types$1.logicalOR:types$1.logicalAND,2)}return b===61?this.finishOp(types$1.assign,2):this.finishOp(k===124?types$1.bitwiseOR:types$1.bitwiseAND,1)};pp.readToken_caret=function(){var k=this.input.charCodeAt(this.pos+1);return k===61?this.finishOp(types$1.assign,2):this.finishOp(types$1.bitwiseXOR,1)};pp.readToken_plus_min=function(k){var b=this.input.charCodeAt(this.pos+1);return b===k?b===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||lineBreak.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(types$1.incDec,2):b===61?this.finishOp(types$1.assign,2):this.finishOp(types$1.plusMin,1)};pp.readToken_lt_gt=function(k){var b=this.input.charCodeAt(this.pos+1),_=1;return b===k?(_=k===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+_)===61?this.finishOp(types$1.assign,_+1):this.finishOp(types$1.bitShift,_)):b===33&&k===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(b===61&&(_=2),this.finishOp(types$1.relational,_))};pp.readToken_eq_excl=function(k){var b=this.input.charCodeAt(this.pos+1);return b===61?this.finishOp(types$1.equality,this.input.charCodeAt(this.pos+2)===61?3:2):k===61&&b===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(types$1.arrow)):this.finishOp(k===61?types$1.eq:types$1.prefix,1)};pp.readToken_question=function(){var k=this.options.ecmaVersion;if(k>=11){var b=this.input.charCodeAt(this.pos+1);if(b===46){var _=this.input.charCodeAt(this.pos+2);if(_<48||_>57)return this.finishOp(types$1.questionDot,2)}if(b===63){if(k>=12){var $=this.input.charCodeAt(this.pos+2);if($===61)return this.finishOp(types$1.assign,3)}return this.finishOp(types$1.coalesce,2)}}return this.finishOp(types$1.question,1)};pp.readToken_numberSign=function(){var k=this.options.ecmaVersion,b=35;if(k>=13&&(++this.pos,b=this.fullCharCodeAtPos(),isIdentifierStart(b,!0)||b===92))return this.finishToken(types$1.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+codePointToString(b)+"'")};pp.getTokenFromCode=function(k){switch(k){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(types$1.parenL);case 41:return++this.pos,this.finishToken(types$1.parenR);case 59:return++this.pos,this.finishToken(types$1.semi);case 44:return++this.pos,this.finishToken(types$1.comma);case 91:return++this.pos,this.finishToken(types$1.bracketL);case 93:return++this.pos,this.finishToken(types$1.bracketR);case 123:return++this.pos,this.finishToken(types$1.braceL);case 125:return++this.pos,this.finishToken(types$1.braceR);case 58:return++this.pos,this.finishToken(types$1.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(types$1.backQuote);case 48:var b=this.input.charCodeAt(this.pos+1);if(b===120||b===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(b===111||b===79)return this.readRadixNumber(8);if(b===98||b===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(k);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(k);case 124:case 38:return this.readToken_pipe_amp(k);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(k);case 60:case 62:return this.readToken_lt_gt(k);case 61:case 33:return this.readToken_eq_excl(k);case 63:return this.readToken_question();case 126:return this.finishOp(types$1.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+codePointToString(k)+"'")};pp.finishOp=function(k,b){var _=this.input.slice(this.pos,this.pos+b);return this.pos+=b,this.finishToken(k,_)};pp.readRegexp=function(){for(var k,b,_=this.pos;;){this.pos>=this.input.length&&this.raise(_,"Unterminated regular expression");var $=this.input.charAt(this.pos);if(lineBreak.test($)&&this.raise(_,"Unterminated regular expression"),k)k=!1;else{if($==="[")b=!0;else if($==="]"&&b)b=!1;else if($==="/"&&!b)break;k=$==="\\"}++this.pos}var j=this.input.slice(_,this.pos);++this.pos;var _e=this.pos,et=this.readWord1();this.containsEsc&&this.unexpected(_e);var tt=this.regexpState||(this.regexpState=new RegExpValidationState(this));tt.reset(_,j,et),this.validateRegExpFlags(tt),this.validateRegExpPattern(tt);var nt=null;try{nt=new RegExp(j,et)}catch{}return this.finishToken(types$1.regexp,{pattern:j,flags:et,value:nt})};pp.readInt=function(k,b,_){for(var $=this.options.ecmaVersion>=12&&b===void 0,j=_&&this.input.charCodeAt(this.pos)===48,_e=this.pos,et=0,tt=0,nt=0,it=b==null?1/0:b;nt<it;++nt,++this.pos){var rt=this.input.charCodeAt(this.pos),st=void 0;if($&&rt===95){j&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),tt===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),nt===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),tt=rt;continue}if(rt>=97?st=rt-97+10:rt>=65?st=rt-65+10:rt>=48&&rt<=57?st=rt-48:st=1/0,st>=k)break;tt=rt,et=et*k+st}return $&&tt===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===_e||b!=null&&this.pos-_e!==b?null:et};function stringToNumber(k,b){return b?parseInt(k,8):parseFloat(k.replace(/_/g,""))}function stringToBigInt(k){return typeof BigInt!="function"?null:BigInt(k.replace(/_/g,""))}pp.readRadixNumber=function(k){var b=this.pos;this.pos+=2;var _=this.readInt(k);return _==null&&this.raise(this.start+2,"Expected number in radix "+k),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(_=stringToBigInt(this.input.slice(b,this.pos)),++this.pos):isIdentifierStart(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(types$1.num,_)};pp.readNumber=function(k){var b=this.pos;!k&&this.readInt(10,void 0,!0)===null&&this.raise(b,"Invalid number");var _=this.pos-b>=2&&this.input.charCodeAt(b)===48;_&&this.strict&&this.raise(b,"Invalid number");var $=this.input.charCodeAt(this.pos);if(!_&&!k&&this.options.ecmaVersion>=11&&$===110){var j=stringToBigInt(this.input.slice(b,this.pos));return++this.pos,isIdentifierStart(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(types$1.num,j)}_&&/[89]/.test(this.input.slice(b,this.pos))&&(_=!1),$===46&&!_&&(++this.pos,this.readInt(10),$=this.input.charCodeAt(this.pos)),($===69||$===101)&&!_&&($=this.input.charCodeAt(++this.pos),($===43||$===45)&&++this.pos,this.readInt(10)===null&&this.raise(b,"Invalid number")),isIdentifierStart(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var _e=stringToNumber(this.input.slice(b,this.pos),_);return this.finishToken(types$1.num,_e)};pp.readCodePoint=function(){var k=this.input.charCodeAt(this.pos),b;if(k===123){this.options.ecmaVersion<6&&this.unexpected();var _=++this.pos;b=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,b>1114111&&this.invalidStringToken(_,"Code point out of bounds")}else b=this.readHexChar(4);return b};pp.readString=function(k){for(var b="",_=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var $=this.input.charCodeAt(this.pos);if($===k)break;$===92?(b+=this.input.slice(_,this.pos),b+=this.readEscapedChar(!1),_=this.pos):$===8232||$===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(isNewLine($)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return b+=this.input.slice(_,this.pos++),this.finishToken(types$1.string,b)};var INVALID_TEMPLATE_ESCAPE_ERROR={};pp.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(k){if(k===INVALID_TEMPLATE_ESCAPE_ERROR)this.readInvalidTemplateToken();else throw k}this.inTemplateElement=!1};pp.invalidStringToken=function(k,b){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw INVALID_TEMPLATE_ESCAPE_ERROR;this.raise(k,b)};pp.readTmplToken=function(){for(var k="",b=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var _=this.input.charCodeAt(this.pos);if(_===96||_===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===types$1.template||this.type===types$1.invalidTemplate)?_===36?(this.pos+=2,this.finishToken(types$1.dollarBraceL)):(++this.pos,this.finishToken(types$1.backQuote)):(k+=this.input.slice(b,this.pos),this.finishToken(types$1.template,k));if(_===92)k+=this.input.slice(b,this.pos),k+=this.readEscapedChar(!0),b=this.pos;else if(isNewLine(_)){switch(k+=this.input.slice(b,this.pos),++this.pos,_){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:k+=`
`;break;default:k+=String.fromCharCode(_);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),b=this.pos}else++this.pos}};pp.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(types$1.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")};pp.readEscapedChar=function(k){var b=this.input.charCodeAt(++this.pos);switch(++this.pos,b){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return codePointToString(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),k){var _=this.pos-1;return this.invalidStringToken(_,"Invalid escape sequence in template string"),null}default:if(b>=48&&b<=55){var $=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],j=parseInt($,8);return j>255&&($=$.slice(0,-1),j=parseInt($,8)),this.pos+=$.length-1,b=this.input.charCodeAt(this.pos),($!=="0"||b===56||b===57)&&(this.strict||k)&&this.invalidStringToken(this.pos-1-$.length,k?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(j)}return isNewLine(b)?"":String.fromCharCode(b)}};pp.readHexChar=function(k){var b=this.pos,_=this.readInt(16,k);return _===null&&this.invalidStringToken(b,"Bad character escape sequence"),_};pp.readWord1=function(){this.containsEsc=!1;for(var k="",b=!0,_=this.pos,$=this.options.ecmaVersion>=6;this.pos<this.input.length;){var j=this.fullCharCodeAtPos();if(isIdentifierChar(j,$))this.pos+=j<=65535?1:2;else if(j===92){this.containsEsc=!0,k+=this.input.slice(_,this.pos);var _e=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var et=this.readCodePoint();(b?isIdentifierStart:isIdentifierChar)(et,$)||this.invalidStringToken(_e,"Invalid Unicode escape"),k+=codePointToString(et),_=this.pos}else break;b=!1}return k+this.input.slice(_,this.pos)};pp.readWord=function(){var k=this.readWord1(),b=types$1.name;return this.keywords.test(k)&&(b=keywords[k]),this.finishToken(b,k)};var version="8.8.1";Parser.acorn={Parser,version,defaultOptions,Position,SourceLocation,getLineInfo,Node,TokenType,tokTypes:types$1,keywordTypes:keywords,TokContext,tokContexts:types,isIdentifierChar,isIdentifierStart,Token,isNewLine,lineBreak,lineBreakG,nonASCIIwhitespace};function parse$3(k,b){return Parser.parse(k,b)}class WalkerBase{constructor(){this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.context={skip:()=>this.should_skip=!0,remove:()=>this.should_remove=!0,replace:b=>this.replacement=b}}replace(b,_,$,j){b&&($!==null?b[_][$]=j:b[_]=j)}remove(b,_,$){b&&($!==null?b[_].splice($,1):delete b[_])}}class SyncWalker extends WalkerBase{constructor(b,_){super(),this.enter=b,this.leave=_}visit(b,_,$,j){if(b){if(this.enter){const _e=this.should_skip,et=this.should_remove,tt=this.replacement;this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.enter.call(this.context,b,_,$,j),this.replacement&&(b=this.replacement,this.replace(_,$,j,b)),this.should_remove&&this.remove(_,$,j);const nt=this.should_skip,it=this.should_remove;if(this.should_skip=_e,this.should_remove=et,this.replacement=tt,nt)return b;if(it)return null}for(const _e in b){const et=b[_e];if(typeof et=="object")if(Array.isArray(et))for(let tt=0;tt<et.length;tt+=1)et[tt]!==null&&typeof et[tt].type=="string"&&(this.visit(et[tt],b,_e,tt)||tt--);else et!==null&&typeof et.type=="string"&&this.visit(et,b,_e,null)}if(this.leave){const _e=this.replacement,et=this.should_remove;this.replacement=null,this.should_remove=!1,this.leave.call(this.context,b,_,$,j),this.replacement&&(b=this.replacement,this.replace(_,$,j,b)),this.should_remove&&this.remove(_,$,j);const tt=this.should_remove;if(this.replacement=_e,this.should_remove=et,tt)return null}}return b}}function walk(k,{enter:b,leave:_}){return new SyncWalker(b,_).visit(k,null)}function transpiler(k,b={}){var nt;const{wrapAsync:_=!1,addReturn:$=!0,simpleLocs:j=!1}=b;let _e=parse$3(k,{ecmaVersion:2022,allowAwaitOutsideFunction:!0,locations:!0});walk(_e,{enter(it,rt,st,ot){if(isBackTickString(it,rt)){const{quasis:ut,start:lt,end:ft}=it,{raw:ct}=ut[0].value;return this.skip(),this.replace(miniWithLocation(ct,it,j))}if(isStringWithDoubleQuotes(it)){const{value:ut,start:lt,end:ft}=it;return this.skip(),this.replace(miniWithLocation(ut,it,j))}if(it.type==="Identifier"&&isNote(it.name))return this.skip(),this.replace({type:"Literal",value:it.name})},leave(it,rt,st,ot){}});const{body:et}=_e;if(!((nt=et==null?void 0:et[et.length-1])!=null&&nt.expression))throw new Error("unexpected ast format without body expression");if($){const{expression:it}=et[et.length-1];et[et.length-1]={type:"ReturnStatement",argument:it}}const tt=escodegen.generate(_e);return _?`(async ()=>{${tt}})()`:tt}function isStringWithDoubleQuotes(k,b,_){const{raw:$,type:j}=k;return j!=="Literal"?!1:$[0]==='"'}function isBackTickString(k,b){return k.type==="TemplateLiteral"&&b.type!=="TaggedTemplateExpression"}function miniWithLocation(k,b,_){let $;const{start:j,end:_e}=b;if(_)$=[{type:"Literal",value:j},{type:"Literal",value:_e}];else{const{loc:{start:{line:et,column:tt},end:{line:nt,column:it}}}=b;$=[{type:"ArrayExpression",elements:[et,tt,j].map(rt=>({type:"Literal",value:rt}))},{type:"ArrayExpression",elements:[nt,it,_e].map(rt=>({type:"Literal",value:rt}))}]}return{type:"CallExpression",callee:{type:"MemberExpression",object:{type:"CallExpression",callee:{type:"Identifier",name:"mini"},arguments:[{type:"Literal",value:k}],optional:!1},property:{type:"Identifier",name:"withMiniLocation"}},arguments:$,optional:!1}}const ae=createTheme({theme:"dark",settings:{background:"#222",foreground:"#75baff",caret:"#ffcc00",selection:"rgba(128, 203, 196, 0.5)",selectionMatch:"#036dd626",lineHighlight:"#00000050",gutterBackground:"transparent",gutterForeground:"#8a919966"},styles:[{tag:tags.keyword,color:"#c792ea"},{tag:tags.operator,color:"#89ddff"},{tag:tags.special(tags.variableName),color:"#eeffff"},{tag:tags.typeName,color:"#c3e88d"},{tag:tags.atom,color:"#f78c6c"},{tag:tags.number,color:"#c3e88d"},{tag:tags.definition(tags.variableName),color:"#82aaff"},{tag:tags.string,color:"#c3e88d"},{tag:tags.special(tags.string),color:"#c3e88d"},{tag:tags.comment,color:"#7d8799"},{tag:tags.variableName,color:"#c792ea"},{tag:tags.tagName,color:"#c3e88d"},{tag:tags.bracket,color:"#525154"},{tag:tags.meta,color:"#ffcb6b"},{tag:tags.attributeName,color:"#c792ea"},{tag:tags.propertyName,color:"#c792ea"},{tag:tags.className,color:"#decb6b"},{tag:tags.invalid,color:"#ffffff"}]}),B=StateEffect.define(),se=StateField.define({create(){return Decoration.none},update(k,b){try{for(let _ of b.effects)if(_.is(B))if(_.value){const $=Decoration.mark({attributes:{style:"background-color: #FFCA2880"}});k=Decoration.set([$.range(0,b.newDoc.length)])}else k=Decoration.set([]);return k}catch(_){return console.warn("flash error",_),k}},provide:k=>EditorView.decorations.from(k)}),ce=k=>{k.dispatch({effects:B.of(!0)}),setTimeout(()=>{k.dispatch({effects:B.of(!1)})},200)},z=StateEffect.define(),ie=StateField.define({create(){return Decoration.none},update(k,b){try{for(let _ of b.effects)if(_.is(z)){const $=_.value.map(j=>(j.context.locations||[]).map(({start:_e,end:et})=>{const tt=j.context.color||"#FFCA28";let nt=b.newDoc.line(_e.line).from+_e.column,it=b.newDoc.line(et.line).from+et.column;const rt=b.newDoc.length;return nt>rt||it>rt?void 0:Decoration.mark({attributes:{style:`outline: 1.5px solid ${tt};`}}).range(nt,it)})).flat().filter(Boolean)||[];k=Decoration.set($,!0)}return k}catch{return Decoration.set([])}},provide:k=>EditorView.decorations.from(k)}),le=[javascript(),ae,ie,se];function de({value:k,onChange:b,onViewChanged:_,onSelectionChange:$,options:j,editorDidMount:_e}){const et=react.exports.useCallback(it=>{b==null||b(it)},[b]),tt=react.exports.useCallback(it=>{_==null||_(it)},[_]),nt=react.exports.useCallback(it=>{it.selectionSet&&$&&($==null||$(it.state.selection))},[$]);return React.createElement(React.Fragment,null,jsx(ReactCodeMirror,{value:k,onChange:et,onCreateEditor:tt,onUpdate:nt,extensions:le}))}function K(...k){return k.filter(Boolean).join(" ")}function ue({view:k,pattern:b,active:_,getTime:$}){const j=react.exports.useRef([]),_e=react.exports.useRef();react.exports.useEffect(()=>{if(k)if(b&&_){let et=function(){try{const nt=$(),it=[Math.max(_e.current||nt,nt-1/10,0),nt+1/60];_e.current=it[1],j.current=j.current.filter(st=>st.whole.end>nt);const rt=b.queryArc(...it).filter(st=>st.hasOnset());j.current=j.current.concat(rt),k.dispatch({effects:z.of(j.current)})}catch{k.dispatch({effects:z.of([])})}tt=requestAnimationFrame(et)},tt=requestAnimationFrame(et);return()=>{cancelAnimationFrame(tt)}}else j.current=[],k.dispatch({effects:z.of([])})},[b,_,k])}const fe="_container_3i85k_1",me="_header_3i85k_5",ge="_buttons_3i85k_9",pe="_button_3i85k_9",he="_buttonDisabled_3i85k_17",be="_error_3i85k_21",ve="_body_3i85k_25",v={container:fe,header:me,buttons:ge,button:pe,buttonDisabled:he,error:be,body:ve};function O({type:k}){return jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"sc-h-5 sc-w-5",viewBox:"0 0 20 20",fill:"currentColor",children:{refresh:jsx("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"}),play:jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"}),pause:jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}[k]})}function Ee(k){return react.exports.useEffect(()=>(window.addEventListener("message",k),()=>window.removeEventListener("message",k)),[k]),react.exports.useCallback(b=>window.postMessage(b,"*"),[])}function we({defaultOutput:k,interval:b,getTime:_,evalOnMount:$=!1,initialCode:j="",autolink:_e=!1,beforeEval:et,afterEval:tt,onEvalError:nt,onToggle:it}){const rt=react.exports.useMemo(()=>ye(),[]),[st,ot]=react.exports.useState(),[ut,lt]=react.exports.useState(),[ft,ct]=react.exports.useState(j),[pt,mt]=react.exports.useState(),[wt,gt]=react.exports.useState(),[vt,bt]=react.exports.useState(!1),Ct=ft!==pt,{scheduler:Dt,evaluate:_t,start:Rt,stop:jt,pause:Qt}=react.exports.useMemo(()=>repl({interval:b,defaultOutput:k,onSchedulerError:ot,onEvalError:Wt=>{lt(Wt),nt==null||nt(Wt)},getTime:_,transpiler,beforeEval:({code:Wt})=>{ct(Wt),et==null||et()},afterEval:({pattern:Wt,code:Jt})=>{mt(Jt),gt(Wt),lt(),ot(),_e&&(window.location.hash="#"+encodeURIComponent(btoa(Jt))),tt==null||tt()},onToggle:Wt=>{bt(Wt),it==null||it(Wt)}}),[k,b,_]),Nt=Ee(({data:{from:Wt,type:Jt}})=>{Jt==="start"&&Wt!==rt&&jt()}),Vt=react.exports.useCallback(async(Wt=!0)=>{await _t(ft,Wt),Nt({type:"start",from:rt})},[_t,ft]),Yt=react.exports.useRef();return react.exports.useEffect(()=>{!Yt.current&&$&&ft&&(Yt.current=!0,Vt())},[Vt,$,ft]),react.exports.useEffect(()=>()=>{Dt.stop()},[Dt]),{code:ft,setCode:ct,error:st||ut,schedulerError:st,scheduler:Dt,evalError:ut,evaluate:_t,activateCode:Vt,activeCode:pt,isDirty:Ct,pattern:wt,started:vt,start:Rt,stop:jt,pause:Qt,togglePlay:async()=>{vt?Dt.pause():await Vt()}}}function ye(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}const ke=()=>getAudioContext$1().currentTime;function Se({tune:k,hideOutsideView:b=!1,init:_,enableKeyboard:$}){const{code:j,setCode:_e,evaluate:et,activateCode:tt,error:nt,isDirty:it,activeCode:rt,pattern:st,started:ot,scheduler:ut,togglePlay:lt,stop:ft}=we({initialCode:k,defaultOutput:webaudioOutput,getTime:ke}),[ct,pt]=react.exports.useState(),[mt,wt]=useInView({threshold:.01}),gt=react.exports.useRef(),vt=react.exports.useMemo(()=>((wt||!b)&&(gt.current=!0),wt||gt.current),[wt,b]);return ue({view:ct,pattern:st,active:ot&&!(rt!=null&&rt.includes("strudel disable-highlighting")),getTime:()=>ut.getPhase()}),react.exports.useLayoutEffect(()=>{if($){const bt=async Ct=>{(Ct.ctrlKey||Ct.altKey)&&(Ct.code==="Enter"?(Ct.preventDefault(),ce(ct),await tt()):Ct.code==="Period"&&(ft(),Ct.preventDefault()))};return window.addEventListener("keydown",bt,!0),()=>window.removeEventListener("keydown",bt,!0)}},[$,st,j,et,ft,ct]),jsxs("div",{className:v.container,ref:mt,children:[jsxs("div",{className:v.header,children:[jsxs("div",{className:v.buttons,children:[jsx("button",{className:K(v.button,ot?"sc-animate-pulse":""),onClick:()=>lt(),children:jsx(O,{type:ot?"pause":"play"})}),jsx("button",{className:K(it?v.button:v.buttonDisabled),onClick:()=>tt(),children:jsx(O,{type:"refresh"})})]}),nt&&jsx("div",{className:v.error,children:nt.message})]}),jsx("div",{className:v.body,children:vt&&React.createElement(de,{value:j,onChange:_e,onViewChanged:pt})})]})}const style="";samples("github:tidalcycles/Dirt-Samples/master");evalScope(controls,__vitePreload(()=>Promise.resolve().then(()=>strudel),void 0),__vitePreload(()=>Promise.resolve().then(()=>index$2),void 0),__vitePreload(()=>Promise.resolve().then(()=>index$1),void 0),__vitePreload(()=>Promise.resolve().then(()=>index),void 0),__vitePreload(()=>Promise.resolve().then(()=>index$l),void 0),__vitePreload(()=>Promise.resolve().then(()=>osc),void 0));function MiniRepl({tune:k}){return jsx(Se,{tune:k,hideOutsideView:!0})}const layoutProps$1={},MDXLayout$1="wrapper";function MDXContent$1({components:k,...b}){return createElement(MDXLayout$1,{...layoutProps$1,...b,components:k,mdxType:"MDXLayout"},createElement("h1",null,createElement("a",{parentName:"h1",href:"/strudel"},"Introduction to live coding with TidalCycles")),createElement("p",null,createElement("a",{parentName:"p",href:"/strudel/notes"},"notes")," | ",createElement("a",{parentName:"p",href:"/strudel/sounds"},"sounds")," | ",createElement("a",{parentName:"p",href:"/strudel/code"},"code")," | ",createElement("a",{parentName:"p",href:"/strudel/rhythm"},"rhythm")," | ",createElement("a",{parentName:"p",href:"/strudel/samples"},"samples"),`
| `,createElement("a",{parentName:"p",href:"/strudel/synths"},"synths")," | ",createElement("a",{parentName:"p",href:"/strudel/effects"},"effects")," | ",createElement("a",{parentName:"p",href:"/strudel/functions"},"functions")," | ",createElement("a",{parentName:"p",href:"/strudel/composition"},"composition"),`
| `,createElement("a",{parentName:"p",href:"/strudel/documentation"},"documentation")," | ",createElement("a",{parentName:"p",href:"/strudel/community"},"community")," | ",createElement("a",{parentName:"p",href:"/strudel/fin"},"fin")))}MDXContent$1.isMDXComponent=!0;const docs$1=[{comment:`/**
   * Select a sound / sample by name.
   *
   * <details style={{display:'none'}}>
   * <summary>show all sounds</summary>
   *
   * 808 (6) 808bd (25) 808cy (25) 808hc (5) 808ht (5) 808lc (5) 808lt (5) 808mc (5) 808mt (5) 808oh (5) 808sd (25) 909 (1) ab (12) ade (10) ades2 (9) ades3 (7) ades4 (6) alex (2) alphabet (26) amencutup (32) armora (7) arp (2) arpy (11) auto (11) baa (7) baa2 (7) bass (4) bass0 (3) bass1 (30) bass2 (5) bass3 (11) bassdm (24) bassfoo (3) battles (2) bd (24) bend (4) bev (2) bin (2) birds (10) birds3 (19) bleep (13) blip (2) blue (2) bottle (13) breaks125 (2) breaks152 (1) breaks157 (1) breaks165 (1) breath (1) bubble (8) can (14) casio (3) cb (1) cc (6) chin (4) circus (3) clak (2) click (4) clubkick (5) co (4) coins (1) control (2) cosmicg (15) cp (2) cr (6) crow (4) d (4) db (13) diphone (38) diphone2 (12) dist (16) dork2 (4) dorkbot (2) dr (42) dr2 (6) dr55 (4) dr_few (8) drum (6) drumtraks (13) e (8) east (9) electro1 (13) em2 (6) erk (1) f (1) feel (7) feelfx (8) fest (1) fire (1) flick (17) fm (17) foo (27) future (17) gab (10) gabba (4) gabbaloud (4) gabbalouder (4) glasstap (3) glitch (8) glitch2 (8) gretsch (24) gtr (3) h (7) hand (17) hardcore (12) hardkick (6) haw (6) hc (6) hh (13) hh27 (13) hit (6) hmm (1) ho (6) hoover (6) house (8) ht (16) if (5) ifdrums (3) incoming (8) industrial (32) insect (3) invaders (18) jazz (8) jungbass (20) jungle (13) juno (12) jvbass (13) kicklinn (1) koy (2) kurt (7) latibro (8) led (1) less (4) lighter (33) linnhats (6) lt (16) made (7) made2 (1) mash (2) mash2 (4) metal (10) miniyeah (4) monsterb (6) moog (7) mouth (15) mp3 (4) msg (9) mt (16) mute (28) newnotes (15) noise (1) noise2 (8) notes (15) numbers (9) oc (4) odx (15) off (1) outdoor (6) pad (3) padlong (1) pebbles (1) perc (6) peri (15) pluck (17) popkick (10) print (11) proc (2) procshort (8) psr (30) rave (8) rave2 (4) ravemono (2) realclaps (4) reverbkick (1) rm (2) rs (1) sax (22) sd (2) seawolf (3) sequential (8) sf (18) sheffield (1) short (5) sid (12) sine (6) sitar (8) sn (52) space (18) speakspell (12) speech (7) speechless (10) speedupdown (9) stab (23) stomp (10) subroc3d (11) sugar (2) sundance (6) tabla (26) tabla2 (46) tablex (3) tacscan (22) tech (13) techno (7) tink (5) tok (4) toys (13) trump (11) ul (10) ulgab (5) uxay (3) v (6) voodoo (5) wind (10) wobble (1) world (3) xmas (1) yeah (31)
   *
   * <a href="https://tidalcycles.org/docs/configuration/Audio%20Samples/default_library" target="_blank">more info</a>
   *
   * </details>
   *
   * @name s
   * @param {string | Pattern} sound The sound / pattern of sounds to pick
   * @example
   * s("bd hh")
   *
   */`,meta:{filename:"controls.mjs",lineno:11,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:`<p>Select a sound / sample by name.</p>
<details style={{display:'none'}}>
<summary>show all sounds</summary>
<p>808 (6) 808bd (25) 808cy (25) 808hc (5) 808ht (5) 808lc (5) 808lt (5) 808mc (5) 808mt (5) 808oh (5) 808sd (25) 909 (1) ab (12) ade (10) ades2 (9) ades3 (7) ades4 (6) alex (2) alphabet (26) amencutup (32) armora (7) arp (2) arpy (11) auto (11) baa (7) baa2 (7) bass (4) bass0 (3) bass1 (30) bass2 (5) bass3 (11) bassdm (24) bassfoo (3) battles (2) bd (24) bend (4) bev (2) bin (2) birds (10) birds3 (19) bleep (13) blip (2) blue (2) bottle (13) breaks125 (2) breaks152 (1) breaks157 (1) breaks165 (1) breath (1) bubble (8) can (14) casio (3) cb (1) cc (6) chin (4) circus (3) clak (2) click (4) clubkick (5) co (4) coins (1) control (2) cosmicg (15) cp (2) cr (6) crow (4) d (4) db (13) diphone (38) diphone2 (12) dist (16) dork2 (4) dorkbot (2) dr (42) dr2 (6) dr55 (4) dr_few (8) drum (6) drumtraks (13) e (8) east (9) electro1 (13) em2 (6) erk (1) f (1) feel (7) feelfx (8) fest (1) fire (1) flick (17) fm (17) foo (27) future (17) gab (10) gabba (4) gabbaloud (4) gabbalouder (4) glasstap (3) glitch (8) glitch2 (8) gretsch (24) gtr (3) h (7) hand (17) hardcore (12) hardkick (6) haw (6) hc (6) hh (13) hh27 (13) hit (6) hmm (1) ho (6) hoover (6) house (8) ht (16) if (5) ifdrums (3) incoming (8) industrial (32) insect (3) invaders (18) jazz (8) jungbass (20) jungle (13) juno (12) jvbass (13) kicklinn (1) koy (2) kurt (7) latibro (8) led (1) less (4) lighter (33) linnhats (6) lt (16) made (7) made2 (1) mash (2) mash2 (4) metal (10) miniyeah (4) monsterb (6) moog (7) mouth (15) mp3 (4) msg (9) mt (16) mute (28) newnotes (15) noise (1) noise2 (8) notes (15) numbers (9) oc (4) odx (15) off (1) outdoor (6) pad (3) padlong (1) pebbles (1) perc (6) peri (15) pluck (17) popkick (10) print (11) proc (2) procshort (8) psr (30) rave (8) rave2 (4) ravemono (2) realclaps (4) reverbkick (1) rm (2) rs (1) sax (22) sd (2) seawolf (3) sequential (8) sf (18) sheffield (1) short (5) sid (12) sine (6) sitar (8) sn (52) space (18) speakspell (12) speech (7) speechless (10) speedupdown (9) stab (23) stomp (10) subroc3d (11) sugar (2) sundance (6) tabla (26) tabla2 (46) tablex (3) tacscan (22) tech (13) techno (7) tink (5) tok (4) toys (13) trump (11) ul (10) ulgab (5) uxay (3) v (6) voodoo (5) wind (10) wobble (1) world (3) xmas (1) yeah (31)</p>
<p><a href="https://tidalcycles.org/docs/configuration/Audio%20Samples/default_library" target="_blank">more info</a></p>
</details>`,name:"s",params:[{type:{names:["string","Pattern"]},description:"<p>The sound / pattern of sounds to pick</p>",name:"sound"}],examples:['s("bd hh")'],longname:"s",kind:"member",scope:"global",___id:"T000002R000004",___s:!0},{comment:`/**
   * The note or sample number to choose for a synth or sampleset
   * Note names currently not working yet, but will hopefully soon. Just stick to numbers for now
   *
   * @name n
   * @param {string | number | Pattern} value note name, note number or sample number
   * @example
   * s('superpiano').n("<0 1 2 3>").osc()
   * @example
   * s('superpiano').n("<c4 d4 e4 g4>").osc()
   * @example
   * n("0 1 2 3").s('east').osc()
   */`,meta:{filename:"controls.mjs",lineno:30,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:`<p>The note or sample number to choose for a synth or sampleset
Note names currently not working yet, but will hopefully soon. Just stick to numbers for now</p>`,name:"n",params:[{type:{names:["string","number","Pattern"]},description:"<p>note name, note number or sample number</p>",name:"value"}],examples:[`s('superpiano').n("<0 1 2 3>").osc()`,`s('superpiano').n("<c4 d4 e4 g4>").osc()`,`n("0 1 2 3").s('east').osc()`],longname:"n",kind:"member",scope:"global",___id:"T000002R000005",___s:!0},{comment:`/**
   * A pattern of numbers that speed up (or slow down) samples while they play. Currently only supported by osc / superdirt.
   *
   * @name accelerate
   * @param {number | Pattern} amount acceleration.
   * @example
   * s("sax").accelerate("<0 1 2 4 8 16>").slow(2).osc()
   *
   */`,meta:{filename:"controls.mjs",lineno:49,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>A pattern of numbers that speed up (or slow down) samples while they play. Currently only supported by osc / superdirt.</p>",name:"accelerate",params:[{type:{names:["number","Pattern"]},description:"<p>acceleration.</p>",name:"amount"}],examples:['s("sax").accelerate("<0 1 2 4 8 16>").slow(2).osc()'],longname:"accelerate",kind:"member",scope:"global",___id:"T000002R000006",___s:!0},{comment:`/**
   * Controls the gain by an exponential amount.
   *
   * @name gain
   * @param {number | Pattern} amount gain.
   * @example
   * s("hh*8").gain(".4!2 1 .4!2 1 .4 1")
   *
   */`,meta:{filename:"controls.mjs",lineno:59,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Controls the gain by an exponential amount.</p>",name:"gain",params:[{type:{names:["number","Pattern"]},description:"<p>gain.</p>",name:"amount"}],examples:['s("hh*8").gain(".4!2 1 .4!2 1 .4 1")'],longname:"gain",kind:"member",scope:"global",___id:"T000002R000007",___s:!0},{comment:`/**
   * Like {@link gain}, but linear.
   *
   * @name amp
   * @param {number | Pattern} amount gain.
   * @example
   * s("bd*8").amp(".1*2 .5 .1*2 .5 .1 .5").osc()
   *
   */`,meta:{filename:"controls.mjs",lineno:73,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Like {@link gain}, but linear.</p>",name:"amp",params:[{type:{names:["number","Pattern"]},description:"<p>gain.</p>",name:"amount"}],examples:['s("bd*8").amp(".1*2 .5 .1*2 .5 .1 .5").osc()'],longname:"amp",kind:"member",scope:"global",___id:"T000002R000008",___s:!0},{comment:`/**
   * Select the sound bank to use. To be used together with \`s\`. The bank name (+ "_") will be prepended to the value of \`s\`.
   *
   * @name bank
   * @param {string | Pattern} bank the name of the bank
   * @example
   * s("bd sd").bank('RolandTR909') // = s("RolandTR909_bd RolandTR909_sd")
   *
   */`,meta:{filename:"controls.mjs",lineno:99,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Select the sound bank to use. To be used together with <code>s</code>. The bank name (+ &quot;_&quot;) will be prepended to the value of <code>s</code>.</p>",name:"bank",params:[{type:{names:["string","Pattern"]},description:"<p>the name of the bank</p>",name:"bank"}],examples:[`s("bd sd").bank('RolandTR909') // = s("RolandTR909_bd RolandTR909_sd")`],longname:"bank",kind:"member",scope:"global",___id:"T000002R000009",___s:!0},{comment:`/**
   * Sets the center frequency of the band-pass filter.
   *
   * @name bandf
   * @param {number | Pattern} frequency center frequency
   * @example
   * s("bd sd,hh*3").bandf("<1000 2000 4000 8000>")
   *
   */`,meta:{filename:"controls.mjs",lineno:133,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Sets the center frequency of the band-pass filter.</p>",name:"bandf",params:[{type:{names:["number","Pattern"]},description:"<p>center frequency</p>",name:"frequency"}],examples:['s("bd sd,hh*3").bandf("<1000 2000 4000 8000>")'],longname:"bandf",kind:"member",scope:"global",___id:"T000002R000010",___s:!0},{comment:`/**
   * Sets the q-factor of the band-pass filter
   *
   * @name bandq
   * @param {number | Pattern} q q factor
   * @example
   * s("bd sd").bandf(500).bandq("<0 1 2 3>")
   *
   */`,meta:{filename:"controls.mjs",lineno:144,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Sets the q-factor of the band-pass filter</p>",name:"bandq",params:[{type:{names:["number","Pattern"]},description:"<p>q factor</p>",name:"q"}],examples:['s("bd sd").bandf(500).bandq("<0 1 2 3>")'],longname:"bandq",kind:"member",scope:"global",___id:"T000002R000011",___s:!0},{comment:`/**
   * a pattern of numbers from 0 to 1. Skips the beginning of each sample, e.g. \`0.25\` to cut off the first quarter from each sample.
   *
   * @memberof Pattern
   * @name begin
   * @param {number | Pattern} amount between 0 and 1, where 1 is the length of the sample
   * @example
   * samples({ rave: 'rave/AREUREADY.wav' }, 'github:tidalcycles/Dirt-Samples/master/')
   * s("rave").begin("<0 .25 .5 .75>")
   *
   */`,meta:{filename:"controls.mjs",lineno:154,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>a pattern of numbers from 0 to 1. Skips the beginning of each sample, e.g. <code>0.25</code> to cut off the first quarter from each sample.</p>",memberof:"Pattern",name:"begin",params:[{type:{names:["number","Pattern"]},description:"<p>between 0 and 1, where 1 is the length of the sample</p>",name:"amount"}],examples:[`samples({ rave: 'rave/AREUREADY.wav' }, 'github:tidalcycles/Dirt-Samples/master/')
s("rave").begin("<0 .25 .5 .75>")`],scope:"static",longname:"Pattern.begin",kind:"member",___id:"T000002R000012",___s:!0},{comment:`/**
   * The same as .begin, but cuts off the end off each sample.
   *
   * @memberof Pattern
   * @name end
   * @param {number | Pattern} length 1 = whole sample, .5 = half sample, .25 = quarter sample etc..
   * @example
   * s("bd*2,oh*4").end("<.1 .2 .5 1>")
   *
   */`,meta:{filename:"controls.mjs",lineno:170,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>The same as .begin, but cuts off the end off each sample.</p>",memberof:"Pattern",name:"end",params:[{type:{names:["number","Pattern"]},description:"<p>1 = whole sample, .5 = half sample, .25 = quarter sample etc..</p>",name:"length"}],examples:['s("bd*2,oh*4").end("<.1 .2 .5 1>")'],scope:"static",longname:"Pattern.end",kind:"member",___id:"T000002R000013",___s:!0},{comment:`/**
   * Loops the sample (from \`begin\` to \`end\`) the specified number of times.
   * Note that the tempo of the loop is not synced with the cycle tempo.
   *
   * @name loop
   * @param {number | Pattern} times How often the sample is looped
   * @example
   * s("bd").loop("<1 2 3 4>").osc()
   *
   */`,meta:{filename:"controls.mjs",lineno:185,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:`<p>Loops the sample (from <code>begin</code> to <code>end</code>) the specified number of times.
Note that the tempo of the loop is not synced with the cycle tempo.</p>`,name:"loop",params:[{type:{names:["number","Pattern"]},description:"<p>How often the sample is looped</p>",name:"times"}],examples:['s("bd").loop("<1 2 3 4>").osc()'],longname:"loop",kind:"member",scope:"global",___id:"T000002R000014",___s:!0},{comment:`/**
   * a pattern of numbers from 0 to 1. Skips the beginning of each sample, e.g. \`0.25\` to cut off the first quarter from each sample.
   *
   * @name legato
   * @param {number | Pattern} duration between 0 and 1, where 1 is the length of the whole hap time
   * @example
   * "c4 eb4 g4 bb4".legato("<0.125 .25 .5 .75 1 2 4>")
   *
   */`,meta:{filename:"controls.mjs",lineno:198,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>a pattern of numbers from 0 to 1. Skips the beginning of each sample, e.g. <code>0.25</code> to cut off the first quarter from each sample.</p>",name:"legato",params:[{type:{names:["number","Pattern"]},description:"<p>between 0 and 1, where 1 is the length of the whole hap time</p>",name:"duration"}],examples:['"c4 eb4 g4 bb4".legato("<0.125 .25 .5 .75 1 2 4>")'],longname:"legato",kind:"member",scope:"global",___id:"T000002R000015",___s:!0},{comment:`/**
   * bit crusher effect.
   *
   * @name crush
   * @param {number | Pattern} depth between 1 (for drastic reduction in bit-depth) to 16 (for barely no reduction).
   * @example
   * s("<bd sd>,hh*3").fast(2).crush("<16 8 7 6 5 4 3 2>")
   *
   */`,meta:{filename:"controls.mjs",lineno:209,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>bit crusher effect.</p>",name:"crush",params:[{type:{names:["number","Pattern"]},description:"<p>between 1 (for drastic reduction in bit-depth) to 16 (for barely no reduction).</p>",name:"depth"}],examples:['s("<bd sd>,hh*3").fast(2).crush("<16 8 7 6 5 4 3 2>")'],longname:"crush",kind:"member",scope:"global",___id:"T000002R000016",___s:!0},{comment:`/**
   * fake-resampling for lowering the sample rate. Caution: This effect seems to only work in chromium based browsers
   *
   * @name coarse
   * @param {number | Pattern} factor 1 for original 2 for half, 3 for a third and so on.
   * @example
   * s("bd sd,hh*4").coarse("<1 4 8 16 32>")
   *
   */`,meta:{filename:"controls.mjs",lineno:223,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>fake-resampling for lowering the sample rate. Caution: This effect seems to only work in chromium based browsers</p>",name:"coarse",params:[{type:{names:["number","Pattern"]},description:"<p>1 for original 2 for half, 3 for a third and so on.</p>",name:"factor"}],examples:['s("bd sd,hh*4").coarse("<1 4 8 16 32>")'],longname:"coarse",kind:"member",scope:"global",___id:"T000002R000017",___s:!0},{comment:`/**
   * choose the channel the pattern is sent to in superdirt
   *
   * @name channel
   * @param {number | Pattern} channel channel number
   *
   */`,meta:{filename:"controls.mjs",lineno:238,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>choose the channel the pattern is sent to in superdirt</p>",name:"channel",params:[{type:{names:["number","Pattern"]},description:"<p>channel number</p>",name:"channel"}],longname:"channel",kind:"member",scope:"global",___id:"T000002R000018",___s:!0},{comment:`/**
   * In the style of classic drum-machines, \`cut\` will stop a playing sample as soon as another samples with in same cutgroup is to be played. An example would be an open hi-hat followed by a closed one, essentially muting the open.
   *
   * @name cut
   * @param {number | Pattern} group cut group number
   * @example
   * s("bd sax").cut(1).osc()
   *
   */`,meta:{filename:"controls.mjs",lineno:246,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>In the style of classic drum-machines, <code>cut</code> will stop a playing sample as soon as another samples with in same cutgroup is to be played. An example would be an open hi-hat followed by a closed one, essentially muting the open.</p>",name:"cut",params:[{type:{names:["number","Pattern"]},description:"<p>cut group number</p>",name:"group"}],examples:['s("bd sax").cut(1).osc()'],longname:"cut",kind:"member",scope:"global",___id:"T000002R000019",___s:!0},{comment:`/**
   * Applies the cutoff frequency of the low-pass filter.
   *
   * @name cutoff
   * @param {number | Pattern} frequency audible between 0 and 20000
   * @example
   * s("bd sd,hh*3").cutoff("<4000 2000 1000 500 200 100>")
   *
   */`,meta:{filename:"controls.mjs",lineno:260,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Applies the cutoff frequency of the low-pass filter.</p>",name:"cutoff",params:[{type:{names:["number","Pattern"]},description:"<p>audible between 0 and 20000</p>",name:"frequency"}],examples:['s("bd sd,hh*3").cutoff("<4000 2000 1000 500 200 100>")'],longname:"cutoff",kind:"member",scope:"global",___id:"T000002R000020",___s:!0},{comment:`/**
   * Applies the cutoff frequency of the high-pass filter.
   *
   * @name hcutoff
   * @param {number | Pattern} frequency audible between 0 and 20000
   * @example
   * s("bd sd,hh*4").hcutoff("<4000 2000 1000 500 200 100>")
   *
   */`,meta:{filename:"controls.mjs",lineno:271,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Applies the cutoff frequency of the high-pass filter.</p>",name:"hcutoff",params:[{type:{names:["number","Pattern"]},description:"<p>audible between 0 and 20000</p>",name:"frequency"}],examples:['s("bd sd,hh*4").hcutoff("<4000 2000 1000 500 200 100>")'],longname:"hcutoff",kind:"member",scope:"global",___id:"T000002R000021",___s:!0},{comment:`/**
   * Applies the resonance of the high-pass filter.
   *
   * @name hresonance
   * @param {number | Pattern} q resonance factor between 0 and 50
   * @example
   * s("bd sd,hh*4").hcutoff(2000).hresonance("<0 10 20 30>")
   *
   */`,meta:{filename:"controls.mjs",lineno:286,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Applies the resonance of the high-pass filter.</p>",name:"hresonance",params:[{type:{names:["number","Pattern"]},description:"<p>resonance factor between 0 and 50</p>",name:"q"}],examples:['s("bd sd,hh*4").hcutoff(2000).hresonance("<0 10 20 30>")'],longname:"hresonance",kind:"member",scope:"global",___id:"T000002R000022",___s:!0},{comment:`/**
   * Applies the cutoff frequency of the low-pass filter.
   *
   * @name resonance
   * @param {number | Pattern} q resonance factor between 0 and 50
   * @example
   * s("bd sd,hh*4").cutoff(2000).resonance("<0 10 20 30>")
   *
   */`,meta:{filename:"controls.mjs",lineno:301,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Applies the cutoff frequency of the low-pass filter.</p>",name:"resonance",params:[{type:{names:["number","Pattern"]},description:"<p>resonance factor between 0 and 50</p>",name:"q"}],examples:['s("bd sd,hh*4").cutoff(2000).resonance("<0 10 20 30>")'],longname:"resonance",kind:"member",scope:"global",___id:"T000002R000023",___s:!0},{comment:`/**
   * DJ filter, below 0.5 is low pass filter, above is high pass filter.
   *
   * @name djf
   * @param {number | Pattern} cutoff below 0.5 is low pass filter, above is high pass filter
   * @example
   * n("0 3 7 [10,24]").s('superzow').octave(3).djf("<.5 .25 .5 .75>").osc()
   *
   */`,meta:{filename:"controls.mjs",lineno:312,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>DJ filter, below 0.5 is low pass filter, above is high pass filter.</p>",name:"djf",params:[{type:{names:["number","Pattern"]},description:"<p>below 0.5 is low pass filter, above is high pass filter</p>",name:"cutoff"}],examples:[`n("0 3 7 [10,24]").s('superzow').octave(3).djf("<.5 .25 .5 .75>").osc()`],longname:"djf",kind:"member",scope:"global",___id:"T000002R000024",___s:!0},{comment:`/**
   * Set detune of oscillators. Works only with some synths, see <a target="_blank" href="https://tidalcycles.org/docs/patternlib/tutorials/synthesizers">tidal doc</a>
   *
   * @name detune
   * @param {number | Pattern} amount between 0 and 1
   * @example
   * n("0 3 7").s('superzow').octave(3).detune("<0 .25 .5 1 2>").osc()
   *
   */`,meta:{filename:"controls.mjs",lineno:350,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:'<p>Set detune of oscillators. Works only with some synths, see <a target="_blank" href="https://tidalcycles.org/docs/patternlib/tutorials/synthesizers">tidal doc</a></p>',name:"detune",params:[{type:{names:["number","Pattern"]},description:"<p>between 0 and 1</p>",name:"amount"}],examples:[`n("0 3 7").s('superzow').octave(3).detune("<0 .25 .5 1 2>").osc()`],longname:"detune",kind:"member",scope:"global",___id:"T000002R000025",___s:!0},{comment:`/**
   * Set dryness of reverb. See {@link room} and {@link size} for more information about reverb.
   *
   * @name dry
   * @param {number | Pattern} dry 0 = wet, 1 = dry
   * @example
   * n("[0,3,7](3,8)").s("superpiano").room(.7).dry("<0 .5 .75 1>").osc()
   *
   */`,meta:{filename:"controls.mjs",lineno:360,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Set dryness of reverb. See {@link room} and {@link size} for more information about reverb.</p>",name:"dry",params:[{type:{names:["number","Pattern"]},description:"<p>0 = wet, 1 = dry</p>",name:"dry"}],examples:['n("[0,3,7](3,8)").s("superpiano").room(.7).dry("<0 .5 .75 1>").osc()'],longname:"dry",kind:"member",scope:"global",___id:"T000002R000026",___s:!0},{comment:`/**
   * Set frequency of sound.
   *
   * @name freq
   * @param {number | Pattern} frequency in Hz. the audible range is between 20 and 20000 Hz
   * @example
   * freq("220 110 440 110").s("superzow").osc()
   * @example
   * freq("110".mulOut(".5 1.5 .6 [2 3]")).s("superzow").osc()
   *
   */`,meta:{filename:"controls.mjs",lineno:395,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Set frequency of sound.</p>",name:"freq",params:[{type:{names:["number","Pattern"]},description:"<p>in Hz. the audible range is between 20 and 20000 Hz</p>",name:"frequency"}],examples:['freq("220 110 440 110").s("superzow").osc()','freq("110".mulOut(".5 1.5 .6 [2 3]")).s("superzow").osc()'],longname:"freq",kind:"member",scope:"global",___id:"T000002R000027",___s:!0},{comment:`/**
   * Emulation of a Leslie speaker: speakers rotating in a wooden amplified cabinet.
   *
   * @name leslie
   * @param {number | Pattern} wet between 0 and 1
   * @example
   * n("0,4,7").s("supersquare").leslie("<0 .4 .6 1>").osc()
   *
   */`,meta:{filename:"controls.mjs",lineno:418,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Emulation of a Leslie speaker: speakers rotating in a wooden amplified cabinet.</p>",name:"leslie",params:[{type:{names:["number","Pattern"]},description:"<p>between 0 and 1</p>",name:"wet"}],examples:['n("0,4,7").s("supersquare").leslie("<0 .4 .6 1>").osc()'],longname:"leslie",kind:"member",scope:"global",___id:"T000002R000028",___s:!0},{comment:`/**
   * Rate of modulation / rotation for leslie effect
   *
   * @name lrate
   * @param {number | Pattern} rate 6.7 for fast, 0.7 for slow
   * @example
   * n("0,4,7").s("supersquare").leslie(1).lrate("<1 2 4 8>").osc()
   *
   */`,meta:{filename:"controls.mjs",lineno:428,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Rate of modulation / rotation for leslie effect</p>",name:"lrate",params:[{type:{names:["number","Pattern"]},description:"<p>6.7 for fast, 0.7 for slow</p>",name:"rate"}],examples:['n("0,4,7").s("supersquare").leslie(1).lrate("<1 2 4 8>").osc()'],longname:"lrate",kind:"member",scope:"global",___id:"T000002R000029",___s:!0},{comment:`/**
   * Physical size of the cabinet in meters. Be careful, it might be slightly larger than your computer. Affects the Doppler amount (pitch warble)
   *
   * @name lsize
   * @param {number | Pattern} meters somewhere between 0 and 1
   * @example
   * n("0,4,7").s("supersquare").leslie(1).lrate(2).lsize("<.1 .5 1>").osc()
   *
   */`,meta:{filename:"controls.mjs",lineno:439,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Physical size of the cabinet in meters. Be careful, it might be slightly larger than your computer. Affects the Doppler amount (pitch warble)</p>",name:"lsize",params:[{type:{names:["number","Pattern"]},description:"<p>somewhere between 0 and 1</p>",name:"meters"}],examples:['n("0,4,7").s("supersquare").leslie(1).lrate(2).lsize("<.1 .5 1>").osc()'],longname:"lsize",kind:"member",scope:"global",___id:"T000002R000030",___s:!0},{comment:`/**
   * Sets the default octave of a synth.
   *
   * @name octave
   * @param {number | Pattern} octave octave number
   * @example
   * n("0,4,7").s('supersquare').octave("<3 4 5 6>").osc()
   */`,meta:{filename:"controls.mjs",lineno:474,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Sets the default octave of a synth.</p>",name:"octave",params:[{type:{names:["number","Pattern"]},description:"<p>octave number</p>",name:"octave"}],examples:[`n("0,4,7").s('supersquare').octave("<3 4 5 6>").osc()`],longname:"octave",kind:"member",scope:"global",___id:"T000002R000031",___s:!0},{comment:`/**
   * a pattern of numbers. An \`orbit\` is a global parameter context for patterns. Patterns with the same orbit will share hardware output bus offset and global effects, e.g. reverb and delay. The maximum number of orbits is specified in the superdirt startup, numbers higher than maximum will wrap around.
   *
   * @name orbit
   * @param {number | Pattern} number
   *
   */`,meta:{filename:"controls.mjs",lineno:486,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>a pattern of numbers. An <code>orbit</code> is a global parameter context for patterns. Patterns with the same orbit will share hardware output bus offset and global effects, e.g. reverb and delay. The maximum number of orbits is specified in the superdirt startup, numbers higher than maximum will wrap around.</p>",name:"orbit",params:[{type:{names:["number","Pattern"]},name:"number"}],longname:"orbit",kind:"member",scope:"global",___id:"T000002R000032",___s:!0},{comment:`/**
   * Sets position in stereo.
   *
   * @name pan
   * @param {number | Pattern} pan between 0 and 1, from left to right (assuming stereo), once round a circle (assuming multichannel)
   * @example
   * s("[bd hh]*2").pan("<.5 1 .5 0>")
   *
   */`,meta:{filename:"controls.mjs",lineno:500,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Sets position in stereo.</p>",name:"pan",params:[{type:{names:["number","Pattern"]},description:"<p>between 0 and 1, from left to right (assuming stereo), once round a circle (assuming multichannel)</p>",name:"pan"}],examples:['s("[bd hh]*2").pan("<.5 1 .5 0>")'],longname:"pan",kind:"member",scope:"global",___id:"T000002R000033",___s:!0},{comment:`/**
   * Sets the level of reverb.
   *
   * @name room
   * @param {number | Pattern} level between 0 and 1
   * @example
   * s("bd sd").room("<0 .2 .4 .6 .8 1>").osc()
   *
   */`,meta:{filename:"controls.mjs",lineno:567,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Sets the level of reverb.</p>",name:"room",params:[{type:{names:["number","Pattern"]},description:"<p>between 0 and 1</p>",name:"level"}],examples:['s("bd sd").room("<0 .2 .4 .6 .8 1>").osc()'],longname:"room",kind:"member",scope:"global",___id:"T000002R000034",___s:!0},{comment:`/**
   * Sets the room size of the reverb, see {@link room}.
   *
   * @name size
   * @param {number | Pattern} size between 0 and 1
   * @example
   * s("bd sd").room(.8).size("<0 .2 .4 .6 .8 1>").osc()
   *
   */`,meta:{filename:"controls.mjs",lineno:577,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Sets the room size of the reverb, see {@link room}.</p>",name:"size",params:[{type:{names:["number","Pattern"]},description:"<p>between 0 and 1</p>",name:"size"}],examples:['s("bd sd").room(.8).size("<0 .2 .4 .6 .8 1>").osc()'],longname:"size",kind:"member",scope:"global",___id:"T000002R000035",___s:!0},{comment:`/**
   * Wave shaping distortion. CAUTION: it might get loud
   *
   * @name shape
   * @param {number | Pattern} distortion between 0 and 1
   * @example
   * s("bd sd,hh*4").shape("<0 .2 .4 .6 .8>")
   *
   */`,meta:{filename:"controls.mjs",lineno:603,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Wave shaping distortion. CAUTION: it might get loud</p>",name:"shape",params:[{type:{names:["number","Pattern"]},description:"<p>between 0 and 1</p>",name:"distortion"}],examples:['s("bd sd,hh*4").shape("<0 .2 .4 .6 .8>")'],longname:"shape",kind:"member",scope:"global",___id:"T000002R000036",___s:!0},{comment:`/**
   * Changes the speed of sample playback, i.e. a cheap way of changing pitch.
   *
   * @name speed
   * @param {number | Pattern} speed -inf to inf, negative numbers play the sample backwards.
   * @example
   * s("bd").speed("<1 2 4 1 -2 -4>").osc()
   * @example
   * speed("1 1.5*2 [2 1.1]").s("sax").cut(1).osc()
   *
   */`,meta:{filename:"controls.mjs",lineno:617,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Changes the speed of sample playback, i.e. a cheap way of changing pitch.</p>",name:"speed",params:[{type:{names:["number","Pattern"]},description:"<p>inf to inf, negative numbers play the sample backwards.</p>",name:"speed"}],examples:['s("bd").speed("<1 2 4 1 -2 -4>").osc()','speed("1 1.5*2 [2 1.1]").s("sax").cut(1).osc()'],longname:"speed",kind:"member",scope:"global",___id:"T000002R000037",___s:!0},{comment:'/**\n   * Used in conjunction with {@link speed}, accepts values of "r" (rate, default behavior), "c" (cycles), or "s" (seconds). Using `unit "c"` means `speed` will be interpreted in units of cycles, e.g. `speed "1"` means samples will be stretched to fill a cycle. Using `unit "s"` means the playback speed will be adjusted so that the duration is the number of seconds specified by `speed`.\n   *\n   * @name unit\n   * @param {number | string | Pattern} unit see description above\n   * @example\n   * speed("1 2 .5 3").s("bd").unit("c").osc()\n   *\n   */',meta:{filename:"controls.mjs",lineno:633,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Used in conjunction with {@link speed}, accepts values of &quot;r&quot; (rate, default behavior), &quot;c&quot; (cycles), or &quot;s&quot; (seconds). Using <code>unit &quot;c&quot;</code> means <code>speed</code> will be interpreted in units of cycles, e.g. <code>speed &quot;1&quot;</code> means samples will be stretched to fill a cycle. Using <code>unit &quot;s&quot;</code> means the playback speed will be adjusted so that the duration is the number of seconds specified by <code>speed</code>.</p>",name:"unit",params:[{type:{names:["number","string","Pattern"]},description:"<p>see description above</p>",name:"unit"}],examples:['speed("1 2 .5 3").s("bd").unit("c").osc()'],longname:"unit",kind:"member",scope:"global",___id:"T000002R000038",___s:!0},{comment:`/**
   * Made by Calum Gunn. Reminiscent of some weird mixture of filter, ring-modulator and pitch-shifter. The SuperCollider manual defines Squiz as:
   *
   * "A simplistic pitch-raising algorithm. It's not meant to sound natural; its sound is reminiscent of some weird mixture of filter, ring-modulator and pitch-shifter, depending on the input. The algorithm works by cutting the signal into fragments (delimited by upwards-going zero-crossings) and squeezing those fragments in the time domain (i.e. simply playing them back faster than they came in), leaving silences inbetween. All the parameters apart from memlen can be modulated."
   *
   * @name squiz
   * @param {number | Pattern} squiz Try passing multiples of 2 to it - 2, 4, 8 etc.
   * @example
   * squiz("2 4/2 6 [8 16]").s("bd").osc()
   *
   */`,meta:{filename:"controls.mjs",lineno:647,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:`<p>Made by Calum Gunn. Reminiscent of some weird mixture of filter, ring-modulator and pitch-shifter. The SuperCollider manual defines Squiz as:</p>
<p>&quot;A simplistic pitch-raising algorithm. It's not meant to sound natural; its sound is reminiscent of some weird mixture of filter, ring-modulator and pitch-shifter, depending on the input. The algorithm works by cutting the signal into fragments (delimited by upwards-going zero-crossings) and squeezing those fragments in the time domain (i.e. simply playing them back faster than they came in), leaving silences inbetween. All the parameters apart from memlen can be modulated.&quot;</p>`,name:"squiz",params:[{type:{names:["number","Pattern"]},description:"<p>Try passing multiples of 2 to it - 2, 4, 8 etc.</p>",name:"squiz"}],examples:['squiz("2 4/2 6 [8 16]").s("bd").osc()'],longname:"squiz",kind:"member",scope:"global",___id:"T000002R000039",___s:!0},{comment:`/**
   *
   * Formant filter to make things sound like vowels.
   *
   * @name vowel
   * @param {string | Pattern} vowel You can use a e i o u.
   * @example
   * note("c2 <eb2 <g2 g1>>").s('sawtooth')
   * .vowel("<a e i <o u>>")
   *
   */`,meta:{filename:"controls.mjs",lineno:667,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Formant filter to make things sound like vowels.</p>",name:"vowel",params:[{type:{names:["string","Pattern"]},description:"<p>You can use a e i o u.</p>",name:"vowel"}],examples:[`note("c2 <eb2 <g2 g1>>").s('sawtooth')
.vowel("<a e i <o u>>")`],longname:"vowel",kind:"member",scope:"global",___id:"T000002R000040",___s:!0},{comment:`/**
 * Intended for a debugging, drawLine renders the pattern as a string, where each character represents the same time span.
 * Should only be used with single characters as values, otherwise the character slots will be messed up.
 * Character legend:
 *
 * - "|" cycle separator
 * - "-" hold previous value
 * - "." silence
 *
 * @param {Pattern} pattern the pattern to use
 * @param {number} chars max number of characters (approximately)
 * @returns string
 * @example
 * const line = drawLine("0 [1 2 3]", 10); // |0--123|0--123
 * console.log(line);
 * silence;
 */`,meta:{range:[1426,2796],filename:"drawLine.mjs",lineno:26,columnno:0,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100001375",name:"drawLine",type:"FunctionDeclaration",paramnames:["pat","chars"]},vars:{cycle:"drawLine~cycle",pos:"drawLine~pos",lines:"drawLine~lines",emptyLine:"drawLine~emptyLine",haps:"drawLine~haps",durations:"drawLine~durations","":null,charFraction:"drawLine~charFraction",totalSlots:"drawLine~totalSlots",i:"drawLine~i",undefined:null,matches:"drawLine~matches",missingLines:"drawLine~missingLines"}},description:`<p>Intended for a debugging, drawLine renders the pattern as a string, where each character represents the same time span.
Should only be used with single characters as values, otherwise the character slots will be messed up.
Character legend:</p>
<ul>
<li>&quot;|&quot; cycle separator</li>
<li>&quot;-&quot; hold previous value</li>
<li>&quot;.&quot; silence</li>
</ul>`,params:[{type:{names:["Pattern"]},description:"<p>the pattern to use</p>",name:"pattern"},{type:{names:["number"]},description:"<p>max number of characters (approximately)</p>",name:"chars"}],returns:[{description:"<p>string</p>"}],examples:[`const line = drawLine("0 [1 2 3]", 10); // |0--123|0--123
console.log(line);
silence;`],name:"drawLine",longname:"drawLine",kind:"function",scope:"global",___id:"T000002R000119",___s:!0},{comment:`/**
 * Changes the structure of the pattern to form an euclidean rhythm.
 * Euclidian rhythms are rhythms obtained using the greatest common divisor of two numbers.
 * They were described in 2004 by Godfried Toussaint, a canadian computer scientist.
 * Euclidian rhythms are really useful for computer/algorithmic music because they can accurately
 * describe a large number of rhythms used in the most important music world traditions.
 *
 * @memberof Pattern
 * @name euclid
 * @param {number} pulses the number of onsets / beats
 * @param {number} steps the number of steps to fill
 * @param {number} rotation (optional) offset in steps
 * @returns Pattern
 * @example
 * // The Cuban tresillo pattern.
 * note("c3").euclid(3,8)
 */`,meta:{filename:"euclid.mjs",lineno:20,columnno:0,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:`<p>Changes the structure of the pattern to form an euclidean rhythm.
Euclidian rhythms are rhythms obtained using the greatest common divisor of two numbers.
They were described in 2004 by Godfried Toussaint, a canadian computer scientist.
Euclidian rhythms are really useful for computer/algorithmic music because they can accurately
describe a large number of rhythms used in the most important music world traditions.</p>`,memberof:"Pattern",name:"euclid",params:[{type:{names:["number"]},description:"<p>the number of onsets / beats</p>",name:"pulses"},{type:{names:["number"]},description:"<p>the number of steps to fill</p>",name:"steps"},{type:{names:["number"]},description:"<p>(optional) offset in steps</p>",name:"rotation"}],returns:[{description:"<p>Pattern</p>"}],examples:[`// The Cuban tresillo pattern.
note("c3").euclid(3,8)`],scope:"static",longname:"Pattern.euclid",kind:"member",___id:"T000002R000143",___s:!0},{comment:`/**
 * @example // A thirteenth century Persian rhythm called Khafif-e-ramal.
 * note("c3").euclid(2,5)
 * @example // The archetypal pattern of the Cumbia from Colombia, as well as a Calypso rhythm from Trinidad.
 * note("c3").euclid(3,4)
 * @example // Another thirteenth century Persian rhythm by the name of Khafif-e-ramal, as well as a Rumanian folk-dance rhythm.
 * note("c3").euclid(3,5,2)
 * @example // A Ruchenitza rhythm used in a Bulgarian folk-dance.
 * note("c3").euclid(3,7)
 * @example // The Cuban tresillo pattern.
 * note("c3").euclid(3,8)
 * @example // Another Ruchenitza Bulgarian folk-dance rhythm.
 * note("c3").euclid(4,7)
 * @example // The Aksak rhythm of Turkey.
 * note("c3").euclid(4,9)
 * @example // The metric pattern used by Frank Zappa in his piece titled Outside Now.
 * note("c3").euclid(4,11)
 * @example // Yields the York-Samai pattern, a popular Arab rhythm.
 * note("c3").euclid(5,6)
 * @example // The Nawakhat pattern, another popular Arab rhythm.
 * note("c3").euclid(5,7)
 * @example // The Cuban cinquillo pattern.
 * note("c3").euclid(5,8)
 * @example // A popular Arab rhythm called Agsag-Samai.
 * note("c3").euclid(5,9)
 * @example // The metric pattern used by Moussorgsky in Pictures at an Exhibition.
 * note("c3").euclid(5,11)
 * @example // The Venda clapping pattern of a South African children\u2019s song.
 * note("c3").euclid(5,12)
 * @example // The Bossa-Nova rhythm necklace of Brazil.
 * note("c3").euclid(5,16)
 * @example // A typical rhythm played on the Bendir (frame drum).
 * note("c3").euclid(7,8)
 * @example // A common West African bell pattern.
 * note("c3").euclid(7,12)
 * @example // A Samba rhythm necklace from Brazil.
 * note("c3").euclid(7,16,14)
 * @example // A rhythm necklace used in the Central African Republic.
 * note("c3").euclid(9,16)
 * @example // A rhythm necklace of the Aka Pygmies of Central Africa.
 * note("c3").euclid(11,24,14)
 * @example // Another rhythm necklace of the Aka Pygmies of the upper Sangha.
 * note("c3").euclid(13,24,5)
 */`,meta:{range:[3882,4006],filename:"euclid.mjs",lineno:82,columnno:0,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100001673",name:"Pattern.prototype.euclid",type:"FunctionExpression",paramnames:["pulses","steps","rotation"]}},examples:[`// A thirteenth century Persian rhythm called Khafif-e-ramal.
note("c3").euclid(2,5)`,`// The archetypal pattern of the Cumbia from Colombia, as well as a Calypso rhythm from Trinidad.
note("c3").euclid(3,4)`,`// Another thirteenth century Persian rhythm by the name of Khafif-e-ramal, as well as a Rumanian folk-dance rhythm.
note("c3").euclid(3,5,2)`,`// A Ruchenitza rhythm used in a Bulgarian folk-dance.
note("c3").euclid(3,7)`,`// The Cuban tresillo pattern.
note("c3").euclid(3,8)`,`// Another Ruchenitza Bulgarian folk-dance rhythm.
note("c3").euclid(4,7)`,`// The Aksak rhythm of Turkey.
note("c3").euclid(4,9)`,`// The metric pattern used by Frank Zappa in his piece titled Outside Now.
note("c3").euclid(4,11)`,`// Yields the York-Samai pattern, a popular Arab rhythm.
note("c3").euclid(5,6)`,`// The Nawakhat pattern, another popular Arab rhythm.
note("c3").euclid(5,7)`,`// The Cuban cinquillo pattern.
note("c3").euclid(5,8)`,`// A popular Arab rhythm called Agsag-Samai.
note("c3").euclid(5,9)`,`// The metric pattern used by Moussorgsky in Pictures at an Exhibition.
note("c3").euclid(5,11)`,`// The Venda clapping pattern of a South African children\u2019s song.
note("c3").euclid(5,12)`,`// The Bossa-Nova rhythm necklace of Brazil.
note("c3").euclid(5,16)`,`// A typical rhythm played on the Bendir (frame drum).
note("c3").euclid(7,8)`,`// A common West African bell pattern.
note("c3").euclid(7,12)`,`// A Samba rhythm necklace from Brazil.
note("c3").euclid(7,16,14)`,`// A rhythm necklace used in the Central African Republic.
note("c3").euclid(9,16)`,`// A rhythm necklace of the Aka Pygmies of Central Africa.
note("c3").euclid(11,24,14)`,`// Another rhythm necklace of the Aka Pygmies of the upper Sangha.
note("c3").euclid(13,24,5)`],name:"euclid",longname:"Pattern#euclid",kind:"function",memberof:"Pattern",scope:"instance",___id:"T000002R000144",___s:!0},{comment:`/**
 * Similar to \`.euclid\`, but each pulse is held until the next pulse, so there will be no gaps.
 * @name euclidLegato
 * @memberof Pattern
 * @example
 * n("g2").decay(.1).sustain(.3).euclidLegato(3,8)
 */`,meta:{filename:"euclid.mjs",lineno:86,columnno:0,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Similar to <code>.euclid</code>, but each pulse is held until the next pulse, so there will be no gaps.</p>",name:"euclidLegato",memberof:"Pattern",examples:['n("g2").decay(.1).sustain(.3).euclidLegato(3,8)'],scope:"static",longname:"Pattern.euclidLegato",kind:"member",___id:"T000002R000145",___s:!0},{comment:"/** @class Class representing a pattern. */",meta:{range:[1530,41475],filename:"pattern.mjs",lineno:24,columnno:0,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100003098",name:"exports.Pattern",type:"ClassDeclaration"}},name:"Pattern",longname:"Pattern",kind:"class",classdesc:"<p>Class representing a pattern.</p>",scope:"global",description:"<p>Create a pattern. As an end user, you will most likely not create a Pattern directly.</p>",memberof:"Pattern",params:[{type:{names:["function"]},description:"<p>The function that maps a {@link State} to an array of {@link Hap}.</p>",name:"query"}],___id:"T000002R000260",___s:!0},{comment:`/**
   * Returns a new pattern, with the function applied to the value of
   * each hap. It has the alias {@link Pattern#fmap}.
   * @param {Function} func
   * @returns Pattern
   */`,meta:{range:[2270,2379],filename:"pattern.mjs",lineno:45,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100003115",name:"Pattern#withValue",type:"MethodDefinition",paramnames:["func"]},vars:{"":null}},description:`<p>Returns a new pattern, with the function applied to the value of
each hap. It has the alias {@link Pattern#fmap}.</p>`,params:[{type:{names:["function"]},name:"func"}],returns:[{description:"<p>Pattern</p>"}],name:"withValue",longname:"Pattern#withValue",kind:"function",memberof:"Pattern",scope:"instance",___id:"T000002R000262",___s:!0},{comment:`/**
   * see {@link Pattern#withValue}
   */`,meta:{range:[2430,2479],filename:"pattern.mjs",lineno:52,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100003140",name:"Pattern#fmap",type:"MethodDefinition",paramnames:["func"]},vars:{"":null}},description:"<p>see {@link Pattern#withValue}</p>",name:"fmap",longname:"Pattern#fmap",kind:"function",memberof:"Pattern",scope:"instance",params:[],___id:"T000002R000263",___s:!0},{comment:`/**
   * When this method is called on a pattern of functions, it matches its haps
   * with those in the given pattern of values.  A new pattern is returned, with
   * each matching value applied to the corresponding function.
   *
   * In this \`_appBoth\` variant, where timespans of the function and value haps
   * are not the same but do intersect, the resulting hap has a timespan of the
   * intersection. This applies to both the part and the whole timespan.
   * @param {Pattern} pat_val
   * @returns Pattern
   */`,meta:{range:[3922,4202],filename:"pattern.mjs",lineno:94,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100003258",name:"Pattern#appBoth",type:"MethodDefinition",paramnames:["pat_val"]},vars:{"":null}},description:`<p>When this method is called on a pattern of functions, it matches its haps
with those in the given pattern of values.  A new pattern is returned, with
each matching value applied to the corresponding function.</p>
<p>In this <code>_appBoth</code> variant, where timespans of the function and value haps
are not the same but do intersect, the resulting hap has a timespan of the
intersection. This applies to both the part and the whole timespan.</p>`,params:[{type:{names:["Pattern"]},name:"pat_val"}],returns:[{description:"<p>Pattern</p>"}],name:"appBoth",longname:"Pattern#appBoth",kind:"function",memberof:"Pattern",scope:"instance",___id:"T000002R000271",___s:!0},{comment:`/**
   * As with {@link Pattern#appBoth}, but the \`whole\` timespan is not the intersection,
   * but the timespan from the function of patterns that this method is called
   * on. In practice, this means that the pattern structure, including onsets,
   * are preserved from the pattern of functions (often referred to as the left
   * hand or inner pattern).
   * @param {Pattern} pat_val
   * @returns Pattern
   */`,meta:{range:[4625,5369],filename:"pattern.mjs",lineno:114,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100003294",name:"Pattern#appLeft",type:"MethodDefinition",paramnames:["pat_val"]},vars:{"":null}},description:`<p>As with {@link Pattern#appBoth}, but the <code>whole</code> timespan is not the intersection,
but the timespan from the function of patterns that this method is called
on. In practice, this means that the pattern structure, including onsets,
are preserved from the pattern of functions (often referred to as the left
hand or inner pattern).</p>`,params:[{type:{names:["Pattern"]},name:"pat_val"}],returns:[{description:"<p>Pattern</p>"}],name:"appLeft",longname:"Pattern#appLeft",kind:"function",memberof:"Pattern",scope:"instance",___id:"T000002R000273",___s:!0},{comment:`/**
   * As with {@link Pattern#appLeft}, but \`whole\` timespans are instead taken from the
   * pattern of values, i.e. structure is preserved from the right hand/outer
   * pattern.
   * @param {Pattern} pat_val
   * @returns Pattern
   */`,meta:{range:[5616,6361],filename:"pattern.mjs",lineno:144,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100003404",name:"Pattern#appRight",type:"MethodDefinition",paramnames:["pat_val"]},vars:{"":null}},description:`<p>As with {@link Pattern#appLeft}, but <code>whole</code> timespans are instead taken from the
pattern of values, i.e. structure is preserved from the right hand/outer
pattern.</p>`,params:[{type:{names:["Pattern"]},name:"pat_val"}],returns:[{description:"<p>Pattern</p>"}],name:"appRight",longname:"Pattern#appRight",kind:"function",memberof:"Pattern",scope:"instance",___id:"T000002R000285",___s:!0},{comment:`/**
   * Query haps inside the given time span.
   *
   * @param {Fraction | number} begin from time
   * @param {Fraction | number} end to time
   * @returns Hap[]
   * @example
   * const pattern = sequence('a', ['b', 'c'])
   * const haps = pattern.queryArc(0, 1)
   * console.log(haps)
   * silence
   */`,meta:{range:[11772,11858],filename:"pattern.mjs",lineno:329,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100004023",name:"Pattern#queryArc",type:"MethodDefinition",paramnames:["begin","end"]},vars:{"":null}},description:"<p>Query haps inside the given time span.</p>",params:[{type:{names:["Fraction","number"]},description:"<p>from time</p>",name:"begin"},{type:{names:["Fraction","number"]},description:"<p>to time</p>",name:"end"}],returns:[{description:"<p>Hap[]</p>"}],examples:[`const pattern = sequence('a', ['b', 'c'])
const haps = pattern.queryArc(0, 1)
console.log(haps)
silence`],name:"queryArc",longname:"Pattern#queryArc",kind:"function",memberof:"Pattern",scope:"instance",___id:"T000002R000327",___s:!0},{comment:`/**
   * Returns a new pattern, with queries split at cycle boundaries. This makes
   * some calculations easier to express, as all haps are then constrained to
   * happen within a cycle.
   * @returns Pattern
   */`,meta:{range:[12081,12281],filename:"pattern.mjs",lineno:339,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100004040",name:"Pattern#splitQueries",type:"MethodDefinition",paramnames:[]},vars:{"":null}},description:`<p>Returns a new pattern, with queries split at cycle boundaries. This makes
some calculations easier to express, as all haps are then constrained to
happen within a cycle.</p>`,returns:[{description:"<p>Pattern</p>"}],name:"splitQueries",longname:"Pattern#splitQueries",kind:"function",memberof:"Pattern",scope:"instance",params:[],___id:"T000002R000328",___s:!0},{comment:`/**
   * Returns a new pattern, where the given function is applied to the query
   * timespan before passing it to the original pattern.
   * @param {Function} func the function to apply
   * @returns Pattern
   */`,meta:{range:[12503,12597],filename:"pattern.mjs",lineno:353,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100004080",name:"Pattern#withQuerySpan",type:"MethodDefinition",paramnames:["func"]},vars:{"":null}},description:`<p>Returns a new pattern, where the given function is applied to the query
timespan before passing it to the original pattern.</p>`,params:[{type:{names:["function"]},description:"<p>the function to apply</p>",name:"func"}],returns:[{description:"<p>Pattern</p>"}],name:"withQuerySpan",longname:"Pattern#withQuerySpan",kind:"function",memberof:"Pattern",scope:"instance",___id:"T000002R000331",___s:!0},{comment:`/**
   * As with {@link Pattern#withQuerySpan}, but the function is applied to both the
   * begin and end time of the query timespan.
   * @param {Function} func the function to apply
   * @returns Pattern
   */`,meta:{range:[13050,13169],filename:"pattern.mjs",lineno:374,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100004136",name:"Pattern#withQueryTime",type:"MethodDefinition",paramnames:["func"]},vars:{"":null}},description:`<p>As with {@link Pattern#withQuerySpan}, but the function is applied to both the
begin and end time of the query timespan.</p>`,params:[{type:{names:["function"]},description:"<p>the function to apply</p>",name:"func"}],returns:[{description:"<p>Pattern</p>"}],name:"withQueryTime",longname:"Pattern#withQueryTime",kind:"function",memberof:"Pattern",scope:"instance",___id:"T000002R000335",___s:!0},{comment:`/**
   * Similar to {@link Pattern#withQuerySpan}, but the function is applied to the timespans
   * of all haps returned by pattern queries (both \`part\` timespans, and where
   * present, \`whole\` timespans).
   * @param {Function} func
   * @returns Pattern
   */`,meta:{range:[13440,13550],filename:"pattern.mjs",lineno:385,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100004161",name:"Pattern#withHapSpan",type:"MethodDefinition",paramnames:["func"]},vars:{"":null}},description:`<p>Similar to {@link Pattern#withQuerySpan}, but the function is applied to the timespans
of all haps returned by pattern queries (both <code>part</code> timespans, and where
present, <code>whole</code> timespans).</p>`,params:[{type:{names:["function"]},name:"func"}],returns:[{description:"<p>Pattern</p>"}],name:"withHapSpan",longname:"Pattern#withHapSpan",kind:"function",memberof:"Pattern",scope:"instance",___id:"T000002R000336",___s:!0},{comment:`/**
   * As with {@link Pattern#withHapSpan}, but the function is applied to both the
   * begin and end time of the hap timespans.
   * @param {Function} func the function to apply
   * @returns Pattern
   */`,meta:{range:[13766,13849],filename:"pattern.mjs",lineno:395,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100004186",name:"Pattern#withHapTime",type:"MethodDefinition",paramnames:["func"]},vars:{"":null}},description:`<p>As with {@link Pattern#withHapSpan}, but the function is applied to both the
begin and end time of the hap timespans.</p>`,params:[{type:{names:["function"]},description:"<p>the function to apply</p>",name:"func"}],returns:[{description:"<p>Pattern</p>"}],name:"withHapTime",longname:"Pattern#withHapTime",kind:"function",memberof:"Pattern",scope:"instance",___id:"T000002R000337",___s:!0},{comment:`/**
   * Returns a new pattern with the given function applied to the list of haps returned by every query.
   * @param {Function} func
   * @returns Pattern
   */`,meta:{range:[14019,14099],filename:"pattern.mjs",lineno:404,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100004203",name:"Pattern#withHaps",type:"MethodDefinition",paramnames:["func"]},vars:{"":null}},description:"<p>Returns a new pattern with the given function applied to the list of haps returned by every query.</p>",params:[{type:{names:["function"]},name:"func"}],returns:[{description:"<p>Pattern</p>"}],name:"withHaps",longname:"Pattern#withHaps",kind:"function",memberof:"Pattern",scope:"instance",___id:"T000002R000338",___s:!0},{comment:`/**
   * As with {@link Pattern#withHaps}, but applies the function to every hap, rather than every list of haps.
   * @param {Function} func
   * @returns Pattern
   */`,meta:{range:[14275,14346],filename:"pattern.mjs",lineno:413,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100004220",name:"Pattern#withHap",type:"MethodDefinition",paramnames:["func"]},vars:{"":null}},description:"<p>As with {@link Pattern#withHaps}, but applies the function to every hap, rather than every list of haps.</p>",params:[{type:{names:["function"]},name:"func"}],returns:[{description:"<p>Pattern</p>"}],name:"withHap",longname:"Pattern#withHap",kind:"function",memberof:"Pattern",scope:"instance",___id:"T000002R000339",___s:!0},{comment:`/**
   * Returns a new pattern with the context field set to every hap set to the given value.
   * @param {*} context
   * @returns Pattern
   */`,meta:{range:[14499,14583],filename:"pattern.mjs",lineno:422,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100004237",name:"Pattern#setContext",type:"MethodDefinition",paramnames:["context"]},vars:{"":null}},description:"<p>Returns a new pattern with the context field set to every hap set to the given value.</p>",params:[{type:{names:["*"]},name:"context"}],returns:[{description:"<p>Pattern</p>"}],name:"setContext",longname:"Pattern#setContext",kind:"function",memberof:"Pattern",scope:"instance",___id:"T000002R000340",___s:!0},{comment:`/**
   * Returns a new pattern with the given function applied to the context field of every hap.
   * @param {Function} func
   * @returns Pattern
   */`,meta:{range:[14743,14835],filename:"pattern.mjs",lineno:431,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100004254",name:"Pattern#withContext",type:"MethodDefinition",paramnames:["func"]},vars:{"":null}},description:"<p>Returns a new pattern with the given function applied to the context field of every hap.</p>",params:[{type:{names:["function"]},name:"func"}],returns:[{description:"<p>Pattern</p>"}],name:"withContext",longname:"Pattern#withContext",kind:"function",memberof:"Pattern",scope:"instance",___id:"T000002R000341",___s:!0},{comment:`/**
   * Returns a new pattern with the context field of every hap set to an empty object.
   * @returns Pattern
   */`,meta:{range:[14960,15034],filename:"pattern.mjs",lineno:439,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100004275",name:"Pattern#stripContext",type:"MethodDefinition",paramnames:[]},vars:{"":null}},description:"<p>Returns a new pattern with the context field of every hap set to an empty object.</p>",returns:[{description:"<p>Pattern</p>"}],name:"stripContext",longname:"Pattern#stripContext",kind:"function",memberof:"Pattern",scope:"instance",params:[],___id:"T000002R000342",___s:!0},{comment:`/**
   * Returns a new pattern with the given location information added to the
   * context of every hap.
   * @param {Number} start
   * @param {Number} end
   * @returns Pattern
   */`,meta:{range:[15227,15578],filename:"pattern.mjs",lineno:450,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100004291",name:"Pattern#withLocation",type:"MethodDefinition",paramnames:["start","end"]},vars:{"":null}},description:`<p>Returns a new pattern with the given location information added to the
context of every hap.</p>`,params:[{type:{names:["Number"]},name:"start"},{type:{names:["Number"]},name:"end"}],returns:[{description:"<p>Pattern</p>"}],name:"withLocation",longname:"Pattern#withLocation",kind:"function",memberof:"Pattern",scope:"instance",___id:"T000002R000343",___s:!0},{comment:`/**
   * Returns a new Pattern, which only returns haps that meet the given test.
   * @param {Function} hap_test - a function which returns false for haps to be removed from the pattern
   * @returns Pattern
   */`,meta:{range:[16623,16720],filename:"pattern.mjs",lineno:492,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100004503",name:"Pattern#filterHaps",type:"MethodDefinition",paramnames:["hap_test"]},vars:{"":null}},description:"<p>Returns a new Pattern, which only returns haps that meet the given test.</p>",params:[{type:{names:["function"]},description:"<p>a function which returns false for haps to be removed from the pattern</p>",name:"hap_test"}],returns:[{description:"<p>Pattern</p>"}],name:"filterHaps",longname:"Pattern#filterHaps",kind:"function",memberof:"Pattern",scope:"instance",___id:"T000002R000377",___s:!0},{comment:`/**
   * As with {@link Pattern#filterHaps}, but the function is applied to values
   * inside haps.
   * @param {Function} value_test
   * @returns Pattern
   */`,meta:{range:[16889,17012],filename:"pattern.mjs",lineno:502,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100004522",name:"Pattern#filterValues",type:"MethodDefinition",paramnames:["value_test"]},vars:{"":null}},description:`<p>As with {@link Pattern#filterHaps}, but the function is applied to values
inside haps.</p>`,params:[{type:{names:["function"]},name:"value_test"}],returns:[{description:"<p>Pattern</p>"}],name:"filterValues",longname:"Pattern#filterValues",kind:"function",memberof:"Pattern",scope:"instance",___id:"T000002R000378",___s:!0},{comment:`/**
   * Returns a new pattern, with haps containing undefined values removed from
   * query results.
   * @returns Pattern
   */`,meta:{range:[17149,17230],filename:"pattern.mjs",lineno:511,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100004547",name:"Pattern#removeUndefineds",type:"MethodDefinition",paramnames:[]},vars:{"":null}},description:`<p>Returns a new pattern, with haps containing undefined values removed from
query results.</p>`,returns:[{description:"<p>Pattern</p>"}],name:"removeUndefineds",longname:"Pattern#removeUndefineds",kind:"function",memberof:"Pattern",scope:"instance",params:[],___id:"T000002R000379",___s:!0},{comment:`/**
   * Returns a new pattern, with all haps without onsets filtered out. A hap
   * with an onset is one with a \`whole\` timespan that begins at the same time
   * as its \`part\` timespan.
   * @returns Pattern
   */`,meta:{range:[17453,17718],filename:"pattern.mjs",lineno:521,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100004561",name:"Pattern#onsetsOnly",type:"MethodDefinition",paramnames:[]},vars:{"":null}},description:`<p>Returns a new pattern, with all haps without onsets filtered out. A hap
with an onset is one with a <code>whole</code> timespan that begins at the same time
as its <code>part</code> timespan.</p>`,returns:[{description:"<p>Pattern</p>"}],name:"onsetsOnly",longname:"Pattern#onsetsOnly",kind:"function",memberof:"Pattern",scope:"instance",params:[],___id:"T000002R000380",___s:!0},{comment:`/**
   * Returns a new pattern, with 'continuous' haps (those without 'whole'
   * timespans) removed from query results.
   * @returns Pattern
   */`,meta:{range:[17874,18008],filename:"pattern.mjs",lineno:533,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100004576",name:"Pattern#discreteOnly",type:"MethodDefinition",paramnames:[]},vars:{"":null}},description:`<p>Returns a new pattern, with 'continuous' haps (those without 'whole'
timespans) removed from query results.</p>`,returns:[{description:"<p>Pattern</p>"}],name:"discreteOnly",longname:"Pattern#discreteOnly",kind:"function",memberof:"Pattern",scope:"instance",params:[],___id:"T000002R000381",___s:!0},{comment:`/**
   * Queries the pattern for the first cycle, returning Haps. Mainly of use when
   * debugging a pattern.
   * @param {Boolean} with_context - set to true, otherwise the context field
   * will be stripped from the resulting haps.
   * @returns [Hap]
   */`,meta:{range:[18278,18476],filename:"pattern.mjs",lineno:545,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100004590",name:"Pattern#firstCycle",type:"MethodDefinition",paramnames:["with_context"]},vars:{"":null}},description:`<p>Queries the pattern for the first cycle, returning Haps. Mainly of use when
debugging a pattern.</p>`,params:[{type:{names:["Boolean"]},description:`<p>set to true, otherwise the context field
will be stripped from the resulting haps.</p>`,name:"with_context",defaultvalue:!1}],returns:[{description:"<p>[Hap]</p>"}],name:"firstCycle",longname:"Pattern#firstCycle",kind:"function",memberof:"Pattern",scope:"instance",___id:"T000002R000382",___s:!0},{comment:`/**
   * Accessor for a list of values returned by querying the first cycle.
   */`,meta:{range:[18565,18647],filename:"pattern.mjs",lineno:556,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100004627",name:"Pattern#firstCycleValues",type:"MethodDefinition",paramnames:[]},vars:{"":null}},description:"<p>Accessor for a list of values returned by querying the first cycle.</p>",name:"firstCycleValues",longname:"Pattern#firstCycleValues",kind:"member",memberof:"Pattern",scope:"instance",params:[],___id:"T000002R000385",___s:!0},{comment:`/**
   * More human-readable version of the {@link Pattern#firstCycleValues} accessor.
   */`,meta:{range:[18746,18909],filename:"pattern.mjs",lineno:563,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100004644",name:"Pattern#showFirstCycle",type:"MethodDefinition",paramnames:[]},vars:{"":null}},description:"<p>More human-readable version of the {@link Pattern#firstCycleValues} accessor.</p>",name:"showFirstCycle",longname:"Pattern#showFirstCycle",kind:"member",memberof:"Pattern",scope:"instance",params:[],___id:"T000002R000386",___s:!0},{comment:`/**
   * Returns a new pattern, which returns haps sorted in temporal order. Mainly
   * of use when comparing two patterns for equality, in tests.
   * @returns Pattern
   */`,meta:{range:[19091,19364],filename:"pattern.mjs",lineno:574,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100004682",name:"Pattern#sortHapsByPart",type:"MethodDefinition",paramnames:[]},vars:{"":null}},description:`<p>Returns a new pattern, which returns haps sorted in temporal order. Mainly
of use when comparing two patterns for equality, in tests.</p>`,returns:[{description:"<p>Pattern</p>"}],name:"sortHapsByPart",longname:"Pattern#sortHapsByPart",kind:"function",memberof:"Pattern",scope:"instance",params:[],___id:"T000002R000387",___s:!0},{comment:`/**
   * Assumes a numerical pattern. Returns a new pattern with all values rounded
   * to the nearest integer.
   * @name round
   * @memberof Pattern
   * @returns Pattern
   * @example
   * "0.5 1.5 2.5".round().scale('C major').note()
   */`,meta:{filename:"pattern.mjs",lineno:643,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:`<p>Assumes a numerical pattern. Returns a new pattern with all values rounded
to the nearest integer.</p>`,name:"round",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:[`"0.5 1.5 2.5".round().scale('C major').note()`],scope:"static",longname:"Pattern.round",kind:"member",___id:"T000002R000405",___s:!0},{comment:"/**\n   * Assumes a numerical pattern. Returns a new pattern with all values set to\n   * their mathematical floor. E.g. `3.7` replaced with to `3`, and `-4.2`\n   * replaced with `-5`.\n   * @returns Pattern\n   */",meta:{range:[21962,22030],filename:"pattern.mjs",lineno:662,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100005042",name:"Pattern#floor",type:"MethodDefinition",paramnames:[]},vars:{"":null}},description:`<p>Assumes a numerical pattern. Returns a new pattern with all values set to
their mathematical floor. E.g. <code>3.7</code> replaced with to <code>3</code>, and <code>-4.2</code>
replaced with <code>-5</code>.</p>`,returns:[{description:"<p>Pattern</p>"}],name:"floor",longname:"Pattern#floor",kind:"function",memberof:"Pattern",scope:"instance",params:[],___id:"T000002R000407",___s:!0},{comment:"/**\n   * Assumes a numerical pattern. Returns a new pattern with all values set to\n   * their mathematical ceiling. E.g. `3.2` replaced with `4`, and `-4.2`\n   * replaced with `-4`.\n   * @returns Pattern\n   */",meta:{range:[22246,22312],filename:"pattern.mjs",lineno:672,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100005061",name:"Pattern#ceil",type:"MethodDefinition",paramnames:[]},vars:{"":null}},description:`<p>Assumes a numerical pattern. Returns a new pattern with all values set to
their mathematical ceiling. E.g. <code>3.2</code> replaced with <code>4</code>, and <code>-4.2</code>
replaced with <code>-4</code>.</p>`,returns:[{description:"<p>Pattern</p>"}],name:"ceil",longname:"Pattern#ceil",kind:"function",memberof:"Pattern",scope:"instance",params:[],___id:"T000002R000408",___s:!0},{comment:`/**
   * Assumes a numerical pattern, containing unipolar values in the range 0 ..
   * 1. Returns a new pattern with values scaled to the bipolar range -1 .. 1
   * @returns Pattern
   */`,meta:{range:[22507,22564],filename:"pattern.mjs",lineno:681,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100005080",name:"Pattern#toBipolar",type:"MethodDefinition",paramnames:[]},vars:{"":null}},description:`<p>Assumes a numerical pattern, containing unipolar values in the range 0 ..</p>
<ol>
<li>Returns a new pattern with values scaled to the bipolar range -1 .. 1</li>
</ol>`,returns:[{description:"<p>Pattern</p>"}],name:"toBipolar",longname:"Pattern#toBipolar",kind:"function",memberof:"Pattern",scope:"instance",params:[],___id:"T000002R000409",___s:!0},{comment:`/**
   * Assumes a numerical pattern, containing bipolar values in the range -1 ..
   * 1. Returns a new pattern with values scaled to the unipolar range 0 .. 1
   * @returns Pattern
   */`,meta:{range:[22759,22820],filename:"pattern.mjs",lineno:690,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100005096",name:"Pattern#fromBipolar",type:"MethodDefinition",paramnames:[]},vars:{"":null}},description:`<p>Assumes a numerical pattern, containing bipolar values in the range -1 ..</p>
<ol>
<li>Returns a new pattern with values scaled to the unipolar range 0 .. 1</li>
</ol>`,returns:[{description:"<p>Pattern</p>"}],name:"fromBipolar",longname:"Pattern#fromBipolar",kind:"function",memberof:"Pattern",scope:"instance",params:[],___id:"T000002R000410",___s:!0},{comment:`/**
   * Assumes a numerical pattern, containing unipolar values in the range 0 .. 1.
   * Returns a new pattern with values scaled to the given min/max range.
   * Most useful in combination with continuous patterns.
   * @name range
   * @memberof Pattern
   * @returns Pattern
   * @example
   * s("bd sd,hh*4").cutoff(sine.range(500,2000).slow(4))
   */`,meta:{filename:"pattern.mjs",lineno:694,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:`<p>Assumes a numerical pattern, containing unipolar values in the range 0 .. 1.
Returns a new pattern with values scaled to the given min/max range.
Most useful in combination with continuous patterns.</p>`,name:"range",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:['s("bd sd,hh*4").cutoff(sine.range(500,2000).slow(4))'],scope:"static",longname:"Pattern.range",kind:"member",___id:"T000002R000411",___s:!0},{comment:`/**
   * Assumes a numerical pattern, containing unipolar values in the range 0 ..
   * 1. Returns a new pattern with values scaled to the given min/max range,
   * following an exponential curve.
   * @param {Number} min
   * @param {Number} max
   * @returns Pattern
   */`,meta:{range:[23528,23620],filename:"pattern.mjs",lineno:716,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100005130",name:"Pattern#_rangex",type:"MethodDefinition",paramnames:["min","max"]},vars:{"":null}},description:`<p>Assumes a numerical pattern, containing unipolar values in the range 0 ..</p>
<ol>
<li>Returns a new pattern with values scaled to the given min/max range,
following an exponential curve.</li>
</ol>`,params:[{type:{names:["Number"]},name:"min"},{type:{names:["Number"]},name:"max"}],returns:[{description:"<p>Pattern</p>"}],name:"_rangex",longname:"Pattern#_rangex",kind:"function",memberof:"Pattern",scope:"instance",___id:"T000002R000413",___s:!0},{comment:`/**
   * Assumes a numerical pattern, containing bipolar values in the range -1 ..
   * 1. Returns a new pattern with values scaled to the given min/max range.
   * @param {Number} min
   * @param {Number} max
   * @returns Pattern
   */`,meta:{range:[23864,23935],filename:"pattern.mjs",lineno:727,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100005157",name:"Pattern#_range2",type:"MethodDefinition",paramnames:["min","max"]},vars:{"":null}},description:`<p>Assumes a numerical pattern, containing bipolar values in the range -1 ..</p>
<ol>
<li>Returns a new pattern with values scaled to the given min/max range.</li>
</ol>`,params:[{type:{names:["Number"]},name:"min"},{type:{names:["Number"]},name:"max"}],returns:[{description:"<p>Pattern</p>"}],name:"_range2",longname:"Pattern#_range2",kind:"function",memberof:"Pattern",scope:"instance",___id:"T000002R000414",___s:!0},{comment:`/**
   * Like layer, but with a single function:
   * @name _apply
   * @memberof Pattern
   * @example
   * "<c3 eb3 g3>".scale('C minor').apply(scaleTranspose("0,2,4")).note()
   */`,meta:{filename:"pattern.mjs",lineno:734,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Like layer, but with a single function:</p>",name:"_apply",memberof:"Pattern",examples:[`"<c3 eb3 g3>".scale('C minor').apply(scaleTranspose("0,2,4")).note()`],scope:"static",longname:"Pattern._apply",kind:"member",___id:"T000002R000415",___s:!0},{comment:`/**
   * Layers the result of the given function(s). Like {@link superimpose}, but without the original pattern:
   * @name layer
   * @memberof Pattern
   * @returns Pattern
   * @example
   * "<0 2 4 6 ~ 4 ~ 2 0!3 ~!5>*4"
   *   .layer(x=>x.add("0,2"))
   *   .scale('C minor').note()
   */`,meta:{filename:"pattern.mjs",lineno:745,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Layers the result of the given function(s). Like {@link superimpose}, but without the original pattern:</p>",name:"layer",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:[`"<0 2 4 6 ~ 4 ~ 2 0!3 ~!5>*4"
  .layer(x=>x.add("0,2"))
  .scale('C minor').note()`],scope:"static",longname:"Pattern.layer",kind:"member",___id:"T000002R000417",___s:!0},{comment:`/**
   * Speed up a pattern by the given factor. Used by "*" in mini notation.
   *
   * @name fast
   * @memberof Pattern
   * @param {number | Pattern} factor speed up factor
   * @returns Pattern
   * @example
   * s("<bd sd> hh").fast(2) // s("[<bd sd> hh]*2")
   */`,meta:{filename:"pattern.mjs",lineno:820,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Speed up a pattern by the given factor. Used by &quot;*&quot; in mini notation.</p>",name:"fast",memberof:"Pattern",params:[{type:{names:["number","Pattern"]},description:"<p>speed up factor</p>",name:"factor"}],returns:[{description:"<p>Pattern</p>"}],examples:['s("<bd sd> hh").fast(2) // s("[<bd sd> hh]*2")'],scope:"static",longname:"Pattern.fast",kind:"member",___id:"T000002R000437",___s:!0},{comment:`/**
   * Slow down a pattern over the given number of cycles. Like the "/" operator in mini notation.
   *
   * @name slow
   * @memberof Pattern
   * @param {number | Pattern} factor slow down factor
   * @returns Pattern
   * @example
   * s("<bd sd> hh").slow(2) // s("[<bd sd> hh]/2")
   */`,meta:{filename:"pattern.mjs",lineno:836,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Slow down a pattern over the given number of cycles. Like the &quot;/&quot; operator in mini notation.</p>",name:"slow",memberof:"Pattern",params:[{type:{names:["number","Pattern"]},description:"<p>slow down factor</p>",name:"factor"}],returns:[{description:"<p>Pattern</p>"}],examples:['s("<bd sd> hh").slow(2) // s("[<bd sd> hh]/2")'],scope:"static",longname:"Pattern.slow",kind:"member",___id:"T000002R000441",___s:!0},{comment:`/**
   * Nudge a pattern to start earlier in time. Equivalent of Tidal's <~ operator
   *
   * @name early
   * @memberof Pattern
   * @param {number | Pattern} cycles number of cycles to nudge left
   * @returns Pattern
   * @example
   * "bd ~".stack("hh ~".early(.1)).s()
   */`,meta:{filename:"pattern.mjs",lineno:863,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Nudge a pattern to start earlier in time. Equivalent of Tidal's &lt;~ operator</p>",name:"early",memberof:"Pattern",params:[{type:{names:["number","Pattern"]},description:"<p>number of cycles to nudge left</p>",name:"cycles"}],returns:[{description:"<p>Pattern</p>"}],examples:['"bd ~".stack("hh ~".early(.1)).s()'],scope:"static",longname:"Pattern.early",kind:"member",___id:"T000002R000446",___s:!0},{comment:`/**
   * Nudge a pattern to start later in time. Equivalent of Tidal's ~> operator
   *
   * @name late
   * @memberof Pattern
   * @param {number | Pattern} cycles number of cycles to nudge right
   * @returns Pattern
   * @example
   * "bd ~".stack("hh ~".late(.1)).s()
   */`,meta:{filename:"pattern.mjs",lineno:878,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Nudge a pattern to start later in time. Equivalent of Tidal's ~&gt; operator</p>",name:"late",memberof:"Pattern",params:[{type:{names:["number","Pattern"]},description:"<p>number of cycles to nudge right</p>",name:"cycles"}],returns:[{description:"<p>Pattern</p>"}],examples:['"bd ~".stack("hh ~".late(.1)).s()'],scope:"static",longname:"Pattern.late",kind:"member",___id:"T000002R000449",___s:!0},{comment:`/**
   * Applies the given function whenever the given pattern is in a true state.
   * @name when
   * @memberof Pattern
   * @param {Pattern} binary_pat
   * @param {function} func
   * @returns Pattern
   * @example
   * "c3 eb3 g3".when("<0 1>/2", x=>x.sub(5)).note()
   */`,meta:{filename:"pattern.mjs",lineno:929,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Applies the given function whenever the given pattern is in a true state.</p>",name:"when",memberof:"Pattern",params:[{type:{names:["Pattern"]},name:"binary_pat"},{type:{names:["function"]},name:"func"}],returns:[{description:"<p>Pattern</p>"}],examples:['"c3 eb3 g3".when("<0 1>/2", x=>x.sub(5)).note()'],scope:"static",longname:"Pattern.when",kind:"member",___id:"T000002R000461",___s:!0},{comment:`/**
   * Superimposes the function result on top of the original pattern, delayed by the given time.
   * @name off
   * @memberof Pattern
   * @param {Pattern | number} time offset time
   * @param {function} func function to apply
   * @returns Pattern
   * @example
   * "c3 eb3 g3".off(1/8, x=>x.add(7)).note()
   */`,meta:{filename:"pattern.mjs",lineno:948,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Superimposes the function result on top of the original pattern, delayed by the given time.</p>",name:"off",memberof:"Pattern",params:[{type:{names:["Pattern","number"]},description:"<p>offset time</p>",name:"time"},{type:{names:["function"]},description:"<p>function to apply</p>",name:"func"}],returns:[{description:"<p>Pattern</p>"}],examples:['"c3 eb3 g3".off(1/8, x=>x.add(7)).note()'],scope:"static",longname:"Pattern.off",kind:"member",___id:"T000002R000467",___s:!0},{comment:`/**
   * Applies the given function every n cycles, starting from the first cycle.
   * @name firstOf
   * @memberof Pattern
   * @param {number} n how many cycles
   * @param {function} func function to apply
   * @returns Pattern
   * @example
   * note("c3 d3 e3 g3").firstOf(4, x=>x.rev())
   */`,meta:{filename:"pattern.mjs",lineno:962,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Applies the given function every n cycles, starting from the first cycle.</p>",name:"firstOf",memberof:"Pattern",params:[{type:{names:["number"]},description:"<p>how many cycles</p>",name:"n"},{type:{names:["function"]},description:"<p>function to apply</p>",name:"func"}],returns:[{description:"<p>Pattern</p>"}],examples:['note("c3 d3 e3 g3").firstOf(4, x=>x.rev())'],scope:"static",longname:"Pattern.firstOf",kind:"member",___id:"T000002R000469",___s:!0},{comment:`/**
   * Applies the given function every n cycles, starting from the last cycle.
   * @name lastOf
   * @memberof Pattern
   * @param {number} n how many cycles
   * @param {function} func function to apply
   * @returns Pattern
   * @example
   * note("c3 d3 e3 g3").lastOf(4, x=>x.rev())
   */`,meta:{filename:"pattern.mjs",lineno:980,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Applies the given function every n cycles, starting from the last cycle.</p>",name:"lastOf",memberof:"Pattern",params:[{type:{names:["number"]},description:"<p>how many cycles</p>",name:"n"},{type:{names:["function"]},description:"<p>function to apply</p>",name:"func"}],returns:[{description:"<p>Pattern</p>"}],examples:['note("c3 d3 e3 g3").lastOf(4, x=>x.rev())'],scope:"static",longname:"Pattern.lastOf",kind:"member",___id:"T000002R000473",___s:!0},{comment:`/**
   * An alias for {@link firstOf}
   * @name every
   * @memberof Pattern
   * @param {number} n how many cycles
   * @param {function} func function to apply
   * @returns Pattern
   * @example
   * note("c3 d3 e3 g3").every(4, x=>x.rev())
   */`,meta:{filename:"pattern.mjs",lineno:997,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>An alias for {@link firstOf}</p>",name:"every",memberof:"Pattern",params:[{type:{names:["number"]},description:"<p>how many cycles</p>",name:"n"},{type:{names:["function"]},description:"<p>function to apply</p>",name:"func"}],returns:[{description:"<p>Pattern</p>"}],examples:['note("c3 d3 e3 g3").every(4, x=>x.rev())'],scope:"static",longname:"Pattern.every",kind:"member",___id:"T000002R000477",___s:!0},{comment:`/**
   * Returns a new pattern where every other cycle is played once, twice as
   * fast, and offset in time by one quarter of a cycle. Creates a kind of
   * breakbeat feel.
   * @returns Pattern
   */`,meta:{range:[31773,31869],filename:"pattern.mjs",lineno:1017,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100006060",name:"Pattern#brak",type:"MethodDefinition",paramnames:[]},vars:{"":null}},description:`<p>Returns a new pattern where every other cycle is played once, twice as
fast, and offset in time by one quarter of a cycle. Creates a kind of
breakbeat feel.</p>`,returns:[{description:"<p>Pattern</p>"}],name:"brak",longname:"Pattern#brak",kind:"function",memberof:"Pattern",scope:"instance",params:[],___id:"T000002R000479",___s:!0},{comment:`/**
   * Reverse all haps in a pattern
   *
   * @name rev
   * @memberof Pattern
   * @returns Pattern
   * @example
   * note("c3 d3 e3 g3").rev()
   */`,meta:{filename:"pattern.mjs",lineno:1021,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Reverse all haps in a pattern</p>",name:"rev",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:['note("c3 d3 e3 g3").rev()'],scope:"static",longname:"Pattern.rev",kind:"member",___id:"T000002R000480",___s:!0},{comment:`/**
   * Stacks the given pattern(s) to the current pattern.
   * @name stack
   * @memberof Pattern
   * @example
   * s("hh*2").stack(
   *   n("c2(3,8)")
   * )
   */`,meta:{filename:"pattern.mjs",lineno:1073,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Stacks the given pattern(s) to the current pattern.</p>",name:"stack",memberof:"Pattern",examples:[`s("hh*2").stack(
  n("c2(3,8)")
)`],scope:"static",longname:"Pattern.stack",kind:"member",___id:"T000002R000502",___s:!0},{comment:`/**
   * Appends the given pattern(s) to the current pattern. Synonyms: .sequence .fastcat
   * @name seq
   * @memberof Pattern
   * @example
   * s("hh*2").seq(
   *   n("c2(3,8)")
   * )
   */`,meta:{filename:"pattern.mjs",lineno:1090,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Appends the given pattern(s) to the current pattern. Synonyms: .sequence .fastcat</p>",name:"seq",memberof:"Pattern",examples:[`s("hh*2").seq(
  n("c2(3,8)")
)`],scope:"static",longname:"Pattern.seq",kind:"member",___id:"T000002R000505",___s:!0},{comment:`/**
   * Appends the given pattern(s) to the next cycle. Synonym: .slowcat
   * @name cat
   * @memberof Pattern
   * @example
   * s("hh*2").cat(
   *   n("c2(3,8)")
   * )
   */`,meta:{filename:"pattern.mjs",lineno:1103,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Appends the given pattern(s) to the next cycle. Synonym: .slowcat</p>",name:"cat",memberof:"Pattern",examples:[`s("hh*2").cat(
  n("c2(3,8)")
)`],scope:"static",longname:"Pattern.cat",kind:"member",___id:"T000002R000507",___s:!0},{comment:`/**
   * Superimposes the result of the given function(s) on top of the original pattern:
   * @name superimpose
   * @memberof Pattern
   * @returns Pattern
   * @example
   * "<0 2 4 6 ~ 4 ~ 2 0!3 ~!5>*4"
   *   .superimpose(x=>x.add(2))
   *   .scale('C minor').note()
   */`,meta:{filename:"pattern.mjs",lineno:1124,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Superimposes the result of the given function(s) on top of the original pattern:</p>",name:"superimpose",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:[`"<0 2 4 6 ~ 4 ~ 2 0!3 ~!5>*4"
  .superimpose(x=>x.add(2))
  .scale('C minor').note()`],scope:"static",longname:"Pattern.superimpose",kind:"member",___id:"T000002R000511",___s:!0},{comment:`/**
   * Superimpose and offset multiple times, applying the given function each time.
   * @name echoWith
   * @memberof Pattern
   * @returns Pattern
   * @param {number} times how many times to repeat
   * @param {number} time cycle offset between iterations
   * @param {function} func function to apply, given the pattern and the iteration index
   * @example
   * "<0 [2 4]>"
   * .echoWith(4, 1/8, (p,n) => p.add(n*2))
   * .scale('C minor').note().legato(.2)
   */`,meta:{filename:"pattern.mjs",lineno:1146,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Superimpose and offset multiple times, applying the given function each time.</p>",name:"echoWith",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],params:[{type:{names:["number"]},description:"<p>how many times to repeat</p>",name:"times"},{type:{names:["number"]},description:"<p>cycle offset between iterations</p>",name:"time"},{type:{names:["function"]},description:"<p>function to apply, given the pattern and the iteration index</p>",name:"func"}],examples:[`"<0 [2 4]>"
.echoWith(4, 1/8, (p,n) => p.add(n*2))
.scale('C minor').note().legato(.2)`],scope:"static",longname:"Pattern.echoWith",kind:"member",___id:"T000002R000515",___s:!0},{comment:`/**
   * Superimpose and offset multiple times, gradually decreasing the velocity
   * @name echo
   * @memberof Pattern
   * @returns Pattern
   * @param {number} times how many times to repeat
   * @param {number} time cycle offset between iterations
   * @param {number} feedback velocity multiplicator for each iteration
   * @example
   * s("bd sd").echo(3, 1/6, .8)
   */`,meta:{filename:"pattern.mjs",lineno:1163,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Superimpose and offset multiple times, gradually decreasing the velocity</p>",name:"echo",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],params:[{type:{names:["number"]},description:"<p>how many times to repeat</p>",name:"times"},{type:{names:["number"]},description:"<p>cycle offset between iterations</p>",name:"time"},{type:{names:["number"]},description:"<p>velocity multiplicator for each iteration</p>",name:"feedback"}],examples:['s("bd sd").echo(3, 1/6, .8)'],scope:"static",longname:"Pattern.echo",kind:"member",___id:"T000002R000517",___s:!0},{comment:`/**
   * Divides a pattern into a given number of subdivisions, plays the subdivisions in order, but increments the starting subdivision each cycle. The pattern wraps to the first subdivision after the last subdivision is played.
   * @name iter
   * @memberof Pattern
   * @returns Pattern
   * @example
   * note("0 1 2 3".scale('A minor')).iter(4)
   */`,meta:{filename:"pattern.mjs",lineno:1178,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Divides a pattern into a given number of subdivisions, plays the subdivisions in order, but increments the starting subdivision each cycle. The pattern wraps to the first subdivision after the last subdivision is played.</p>",name:"iter",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:[`note("0 1 2 3".scale('A minor')).iter(4)`],scope:"static",longname:"Pattern.iter",kind:"member",___id:"T000002R000519",___s:!0},{comment:`/**
   * Like \`iter\`, but plays the subdivisions in reverse order. Known as iter' in tidalcycles
   * @name iterBack
   * @memberof Pattern
   * @returns Pattern
   * @example
   * note("0 1 2 3".scale('A minor')).iterBack(4)
   */`,meta:{filename:"pattern.mjs",lineno:1191,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Like <code>iter</code>, but plays the subdivisions in reverse order. Known as iter' in tidalcycles</p>",name:"iterBack",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:[`note("0 1 2 3".scale('A minor')).iterBack(4)`],scope:"static",longname:"Pattern.iterBack",kind:"member",___id:"T000002R000522",___s:!0},{comment:`/**
   * Divides a pattern into a given number of parts, then cycles through those parts in turn, applying the given function to each part in turn (one part per cycle).
   * @name chunk
   * @memberof Pattern
   * @returns Pattern
   * @example
   * "0 1 2 3".chunk(4, x=>x.add(7)).scale('A minor').note()
   */`,meta:{filename:"pattern.mjs",lineno:1203,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Divides a pattern into a given number of parts, then cycles through those parts in turn, applying the given function to each part in turn (one part per cycle).</p>",name:"chunk",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:[`"0 1 2 3".chunk(4, x=>x.add(7)).scale('A minor').note()`],scope:"static",longname:"Pattern.chunk",kind:"member",___id:"T000002R000524",___s:!0},{comment:`/**
   * Like \`chunk\`, but cycles through the parts in reverse order. Known as chunk' in tidalcycles
   * @name chunkBack
   * @memberof Pattern
   * @returns Pattern
   * @example
   * "0 1 2 3".chunkBack(4, x=>x.add(7)).scale('A minor').note()
   */`,meta:{filename:"pattern.mjs",lineno:1218,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Like <code>chunk</code>, but cycles through the parts in reverse order. Known as chunk' in tidalcycles</p>",name:"chunkBack",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:[`"0 1 2 3".chunkBack(4, x=>x.add(7)).scale('A minor').note()`],scope:"static",longname:"Pattern.chunkBack",kind:"member",___id:"T000002R000528",___s:!0},{comment:`/**
   * Cuts each sample into the given number of parts, allowing you to explore a technique known as 'granular synthesis'.
   * It turns a pattern of samples into a pattern of parts of samples.
   * @name chop
   * @memberof Pattern
   * @returns Pattern
   * @example
   * samples({ rhodes: 'https://cdn.freesound.org/previews/132/132051_316502-lq.mp3' })
   * s("rhodes")
   *  .chop(4)
   *  .rev() // reverse order of chops
   *  .loopAt(4,1) // fit sample into 4 cycles
   *
   */`,meta:{filename:"pattern.mjs",lineno:1238,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:`<p>Cuts each sample into the given number of parts, allowing you to explore a technique known as 'granular synthesis'.
It turns a pattern of samples into a pattern of parts of samples.</p>`,name:"chop",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:[`samples({ rhodes: 'https://cdn.freesound.org/previews/132/132051_316502-lq.mp3' })
s("rhodes")
 .chop(4)
 .rev() // reverse order of chops
 .loopAt(4,1) // fit sample into 4 cycles`],scope:"static",longname:"Pattern.chop",kind:"member",___id:"T000002R000532",___s:!0},{comment:`/**
   * Makes the sample fit the given number of cycles by changing the speed.
   * @name loopAt
   * @memberof Pattern
   * @returns Pattern
   * @example
   * samples({ rhodes: 'https://cdn.freesound.org/previews/132/132051_316502-lq.mp3' })
   * s("rhodes").loopAt(4,1)
   */`,meta:{filename:"pattern.mjs",lineno:1268,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Makes the sample fit the given number of cycles by changing the speed.</p>",name:"loopAt",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:[`samples({ rhodes: 'https://cdn.freesound.org/previews/132/132051_316502-lq.mp3' })
s("rhodes").loopAt(4,1)`],scope:"static",longname:"Pattern.loopAt",kind:"member",___id:"T000002R000547",___s:!0},{comment:`/**
   *
   * Sets the velocity from 0 to 1. Is multiplied together with gain.
   * @name velocity
   * @example
   * s("hh*8")
   * .gain(".4!2 1 .4!2 1 .4 1")
   * .velocity(".4 1")
   */`,meta:{filename:"pattern.mjs",lineno:1296,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Sets the velocity from 0 to 1. Is multiplied together with gain.</p>",name:"velocity",examples:[`s("hh*8")
.gain(".4!2 1 .4!2 1 .4 1")
.velocity(".4 1")`],longname:"velocity",kind:"member",scope:"global",___id:"T000002R000553",___s:!0},{comment:`/**
   *
   * Multiplies the hap duration with the given factor.
   * @name legato
   * @memberof Pattern
   * @example
   * note("c3 eb3 g3 c4").legato("<.25 .5 1 2>")
   */`,meta:{filename:"pattern.mjs",lineno:1354,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Multiplies the hap duration with the given factor.</p>",name:"legato",memberof:"Pattern",examples:['note("c3 eb3 g3 c4").legato("<.25 .5 1 2>")'],scope:"static",longname:"Pattern.legato",kind:"member",___id:"T000002R000564",___s:!0},{comment:`/**
     *
     * Assumes a pattern of numbers. Adds the given number to each item in the pattern.
     * @name add
     * @memberof Pattern
     * @example
     * // Here, the triad 0, 2, 4 is shifted by different amounts
     * "0 2 4".add("<0 3 4 0>").scale('C major').note()
     * // Without add, the equivalent would be:
     * // "<[0 2 4] [3 5 7] [4 6 8] [0 2 4]>".scale('C major').note()
     * @example
     * // You can also use add with notes:
     * "c3 e3 g3".add("<0 5 7 0>").note()
     * // Behind the scenes, the notes are converted to midi numbers:
     * // "48 52 55".add("<0 5 7 0>").note()
     */`,meta:{filename:"pattern.mjs",lineno:1395,columnno:4,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Assumes a pattern of numbers. Adds the given number to each item in the pattern.</p>",name:"add",memberof:"Pattern",examples:[`// Here, the triad 0, 2, 4 is shifted by different amounts
"0 2 4".add("<0 3 4 0>").scale('C major').note()
// Without add, the equivalent would be:
// "<[0 2 4] [3 5 7] [4 6 8] [0 2 4]>".scale('C major').note()`,`// You can also use add with notes:
"c3 e3 g3".add("<0 5 7 0>").note()
// Behind the scenes, the notes are converted to midi numbers:
// "48 52 55".add("<0 5 7 0>").note()`],scope:"static",longname:"Pattern.add",kind:"member",___id:"T000002R000576",___s:!0},{comment:`/**
     *
     * Like add, but the given numbers are subtracted.
     * @name sub
     * @memberof Pattern
     * @example
     * "0 2 4".sub("<0 1 2 3>").scale('C4 minor').note()
     * // See add for more information.
     */`,meta:{filename:"pattern.mjs",lineno:1412,columnno:4,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Like add, but the given numbers are subtracted.</p>",name:"sub",memberof:"Pattern",examples:[`"0 2 4".sub("<0 1 2 3>").scale('C4 minor').note()
// See add for more information.`],scope:"static",longname:"Pattern.sub",kind:"member",___id:"T000002R000578",___s:!0},{comment:`/**
     *
     * Multiplies each number by the given factor.
     * @name mul
     * @memberof Pattern
     * @example
     * "1 1.5 [1.66, <2 2.33>]".mul(150).freq()
     */`,meta:{filename:"pattern.mjs",lineno:1422,columnno:4,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Multiplies each number by the given factor.</p>",name:"mul",memberof:"Pattern",examples:['"1 1.5 [1.66, <2 2.33>]".mul(150).freq()'],scope:"static",longname:"Pattern.mul",kind:"member",___id:"T000002R000580",___s:!0},{comment:`/**
     *
     * Divides each number by the given factor.
     * @name div
     * @memberof Pattern
     */`,meta:{filename:"pattern.mjs",lineno:1431,columnno:4,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Divides each number by the given factor.</p>",name:"div",memberof:"Pattern",scope:"static",longname:"Pattern.div",kind:"member",___id:"T000002R000582",___s:!0},{comment:`/**
   * Applies the given structure to the pattern:
   *
   * @name struct
   * @memberof Pattern
   * @returns Pattern
   * @example
   * note("c3,eb3,g3")
   *   .struct("x ~ x ~ ~ x ~ x ~ ~ ~ x ~ x ~ ~")
   *   .slow(4)
   */`,meta:{filename:"pattern.mjs",lineno:1516,columnno:2,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Applies the given structure to the pattern:</p>",name:"struct",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:[`note("c3,eb3,g3")
  .struct("x ~ x ~ ~ x ~ x ~ ~ ~ x ~ x ~ ~")
  .slow(4)`],scope:"static",longname:"Pattern.struct",kind:"member",___id:"T000002R000620",___s:!0},{comment:`/** A discrete value that repeats once per cycle.
 *
 * @returns {Pattern}
 * @example
 * pure('e4') // "e4"
 */`,meta:{range:[47731,47935],filename:"pattern.mjs",lineno:1591,columnno:0,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100007764",name:"exports.pure",type:"FunctionDeclaration",paramnames:["value"]}},description:"<p>A discrete value that repeats once per cycle.</p>",returns:[{type:{names:["Pattern"]}}],examples:[`pure('e4') // "e4"`],name:"pure",longname:"pure",kind:"function",scope:"global",___id:"T000002R000649",___s:!0},{comment:`/** The given items are played at the same time at the same length.
 *
 * @return {Pattern}
 * @example
 * stack(g3, b3, [e4, d4]).note() // "g3,b3,[e4,d4]".note()
 */`,meta:{range:[48828,49101],filename:"pattern.mjs",lineno:1628,columnno:0,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100007856",name:"exports.stack",type:"FunctionDeclaration",paramnames:["pats"]}},description:"<p>The given items are played at the same time at the same length.</p>",returns:[{type:{names:["Pattern"]}}],examples:['stack(g3, b3, [e4, d4]).note() // "g3,b3,[e4,d4]".note()'],name:"stack",longname:"stack",kind:"function",scope:"global",___id:"T000002R000657",___s:!0},{comment:`/** Concatenation: combines a list of patterns, switching between them successively, one per cycle:
 *
 * synonyms: {@link cat}
 *
 * @return {Pattern}
 * @example
 * slowcat(e5, b4, [d5, c5])
 *
 */`,meta:{range:[49303,50213],filename:"pattern.mjs",lineno:1644,columnno:0,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100007906",name:"exports.slowcat",type:"FunctionDeclaration",paramnames:["pats"]}},description:`<p>Concatenation: combines a list of patterns, switching between them successively, one per cycle:</p>
<p>synonyms: {@link cat}</p>`,returns:[{type:{names:["Pattern"]}}],examples:["slowcat(e5, b4, [d5, c5])"],name:"slowcat",longname:"slowcat",kind:"function",scope:"global",___id:"T000002R000661",___s:!0},{comment:`/** Concatenation: combines a list of patterns, switching between them successively, one per cycle. Unlike slowcat, this version will skip cycles.
 * @param {...any} items - The items to concatenate
 * @return {Pattern}
 */`,meta:{range:[50439,50812],filename:"pattern.mjs",lineno:1669,columnno:0,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100008033",name:"exports.slowcatPrime",type:"FunctionDeclaration",paramnames:["pats"]}},description:"<p>Concatenation: combines a list of patterns, switching between them successively, one per cycle. Unlike slowcat, this version will skip cycles.</p>",params:[{type:{names:["any"]},variable:!0,description:"<p>The items to concatenate</p>",name:"items"}],returns:[{type:{names:["Pattern"]}}],name:"slowcatPrime",longname:"slowcatPrime",kind:"function",scope:"global",___id:"T000002R000669",___s:!0},{comment:`/** Concatenation: as with {@link slowcat}, but squashes a cycle from each pattern into one cycle
 *
 * Synonyms: {@link seq}, {@link sequence}
 *
 * @param {...any} items - The items to concatenate
 * @return {Pattern}
 * @example
 * fastcat(e5, b4, [d5, c5])
 * // sequence(e5, b4, [d5, c5])
 * // seq(e5, b4, [d5, c5])
 */`,meta:{range:[51140,51222],filename:"pattern.mjs",lineno:1690,columnno:0,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100008086",name:"exports.fastcat",type:"FunctionDeclaration",paramnames:["pats"]}},description:`<p>Concatenation: as with {@link slowcat}, but squashes a cycle from each pattern into one cycle</p>
<p>Synonyms: {@link seq}, {@link sequence}</p>`,params:[{type:{names:["any"]},variable:!0,description:"<p>The items to concatenate</p>",name:"items"}],returns:[{type:{names:["Pattern"]}}],examples:[`fastcat(e5, b4, [d5, c5])
// sequence(e5, b4, [d5, c5])
// seq(e5, b4, [d5, c5])`],name:"fastcat",longname:"fastcat",kind:"function",scope:"global",___id:"T000002R000675",___s:!0},{comment:`/** The given items are con**cat**enated, where each one takes one cycle. Synonym: slowcat
 *
 * @param {...any} items - The items to concatenate
 * @return {Pattern}
 * @example
 * cat(e5, b4, [d5, c5]).note() // "<e5 b4 [d5 c5]>".note()
 *
 */`,meta:{range:[51470,51529],filename:"pattern.mjs",lineno:1702,columnno:0,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100008103",name:"exports.cat",type:"FunctionDeclaration",paramnames:["pats"]}},description:"<p>The given items are con<strong>cat</strong>enated, where each one takes one cycle. Synonym: slowcat</p>",params:[{type:{names:["any"]},variable:!0,description:"<p>The items to concatenate</p>",name:"items"}],returns:[{type:{names:["Pattern"]}}],examples:['cat(e5, b4, [d5, c5]).note() // "<e5 b4 [d5 c5]>".note()'],name:"cat",longname:"cat",kind:"function",scope:"global",___id:"T000002R000677",___s:!0},{comment:`/** Like {@link seq}, but each step has a length, relative to the whole.
 * @return {Pattern}
 * @example
 * timeCat([3,e3],[1, g3]).note() // "e3@3 g3".note()
 */`,meta:{range:[51695,52054],filename:"pattern.mjs",lineno:1711,columnno:0,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100008114",name:"exports.timeCat",type:"FunctionDeclaration",paramnames:["timepats"]}},description:"<p>Like {@link seq}, but each step has a length, relative to the whole.</p>",returns:[{type:{names:["Pattern"]}}],examples:['timeCat([3,e3],[1, g3]).note() // "e3@3 g3".note()'],name:"timeCat",longname:"timeCat",kind:"function",scope:"global",___id:"T000002R000679",___s:!0},{comment:"/** See {@link fastcat} */",meta:{range:[52083,52147],filename:"pattern.mjs",lineno:1724,columnno:0,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100008200",name:"exports.sequence",type:"FunctionDeclaration",paramnames:["pats"]}},description:"<p>See {@link fastcat}</p>",name:"sequence",longname:"sequence",kind:"function",scope:"global",___id:"T000002R000686",___s:!0},{comment:`/** Like **cat**, but the items are crammed into one cycle. Synonyms: fastcat, sequence
 * @example
 * seq(e5, b4, [d5, c5]).note() // "e5 b4 [d5 c5]".note()
 *
 */`,meta:{range:[52314,52373],filename:"pattern.mjs",lineno:1733,columnno:0,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100008211",name:"exports.seq",type:"FunctionDeclaration",paramnames:["pats"]}},description:"<p>Like <strong>cat</strong>, but the items are crammed into one cycle. Synonyms: fastcat, sequence</p>",examples:['seq(e5, b4, [d5, c5]).note() // "e5 b4 [d5 c5]".note()'],name:"seq",longname:"seq",kind:"function",scope:"global",___id:"T000002R000688",___s:!0},{comment:`/**
 *  A sawtooth signal between 0 and 1.
 *
 * @return {Pattern}
 * @example
 * "c3 [eb3,g3] g2 [g3,bb3]".legato(saw.slow(4)).note()
 * @example
 * saw.range(0,8).segment(8).scale('C major').slow(4).note()
 *
 */`,meta:{range:[1582,1622],filename:"signal.mjs",lineno:35,columnno:0,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100010694",name:"exports.saw",type:"VariableDeclaration"}},description:"<p>A sawtooth signal between 0 and 1.</p>",returns:[{type:{names:["Pattern"]}}],examples:['"c3 [eb3,g3] g2 [g3,bb3]".legato(saw.slow(4)).note()',"saw.range(0,8).segment(8).scale('C major').slow(4).note()"],name:"saw",longname:"saw",kind:"constant",scope:"global",___id:"T000002R000930",___s:!0},{comment:`/**
 *  A sine signal between 0 and 1.
 *
 * @return {Pattern}
 * @example
 * sine.segment(16).range(0,15).slow(2).scale('C minor').note()
 *
 */`,meta:{range:[1871,1911],filename:"signal.mjs",lineno:48,columnno:0,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100010732",name:"exports.sine",type:"VariableDeclaration"}},description:"<p>A sine signal between 0 and 1.</p>",returns:[{type:{names:["Pattern"]}}],examples:["sine.segment(16).range(0,15).slow(2).scale('C minor').note()"],name:"sine",longname:"sine",kind:"constant",scope:"global",___id:"T000002R000936",___s:!0},{comment:`/**
 *  A cosine signal between 0 and 1.
 *
 * @return {Pattern}
 * @example
 * stack(sine,cosine).segment(16).range(0,15).slow(2).scale('C minor').note()
 *
 */`,meta:{range:[2075,2129],filename:"signal.mjs",lineno:58,columnno:0,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100010740",name:"exports.cosine",type:"VariableDeclaration"}},description:"<p>A cosine signal between 0 and 1.</p>",returns:[{type:{names:["Pattern"]}}],examples:["stack(sine,cosine).segment(16).range(0,15).slow(2).scale('C minor').note()"],name:"cosine",longname:"cosine",kind:"constant",scope:"global",___id:"T000002R000938",___s:!0},{comment:`/**
 *  A square signal between 0 and 1.
 *
 * @return {Pattern}
 * @example
 * square.segment(2).range(0,7).scale('C minor').note()
 *
 */`,meta:{range:[2328,2389],filename:"signal.mjs",lineno:69,columnno:0,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100010770",name:"exports.square",type:"VariableDeclaration"}},description:"<p>A square signal between 0 and 1.</p>",returns:[{type:{names:["Pattern"]}}],examples:["square.segment(2).range(0,7).scale('C minor').note()"],name:"square",longname:"square",kind:"constant",scope:"global",___id:"T000002R000942",___s:!0},{comment:`/**
 *  A triangle signal between 0 and 1.
 *
 * @return {Pattern}
 * @example
 * tri.segment(8).range(0,7).scale('C minor').note()
 *
 */`,meta:{range:[2573,2611],filename:"signal.mjs",lineno:80,columnno:0,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100010795",name:"exports.tri",type:"VariableDeclaration"}},description:"<p>A triangle signal between 0 and 1.</p>",returns:[{type:{names:["Pattern"]}}],examples:["tri.segment(8).range(0,7).scale('C minor').note()"],name:"tri",longname:"tri",kind:"constant",scope:"global",___id:"T000002R000946",___s:!0},{comment:`/**
 * A continuous pattern of random numbers, between 0 and 1.
 *
 * @name rand
 * @example
 * // randomly change the cutoff
 * s("bd sd,hh*4").cutoff(rand.range(500,2000))
 *
 */`,meta:{filename:"signal.mjs",lineno:117,columnno:0,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>A continuous pattern of random numbers, between 0 and 1.</p>",name:"rand",examples:[`// randomly change the cutoff
s("bd sd,hh*4").cutoff(rand.range(500,2000))`],longname:"rand",kind:"member",scope:"global",___id:"T000002R000964",___s:!0},{comment:`/**
 * A continuous pattern of random numbers, between -1 and 1
 */`,meta:{range:[3712,3750],filename:"signal.mjs",lineno:130,columnno:0,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100010957",name:"exports.rand2",type:"VariableDeclaration"}},description:"<p>A continuous pattern of random numbers, between -1 and 1</p>",name:"rand2",longname:"rand2",kind:"constant",scope:"global",___id:"T000002R000967",___s:!0},{comment:`/**
 * A continuous pattern of random integers, between 0 and n-1.
 *
 * @name irand
 * @param {number} n max value (exclusive)
 * @example
 * // randomly select scale notes from 0 - 7 (= C to C)
 * irand(8).struct("x(3,8)").scale('C minor').note()
 *
 */`,meta:{filename:"signal.mjs",lineno:138,columnno:0,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>A continuous pattern of random integers, between 0 and n-1.</p>",name:"irand",params:[{type:{names:["number"]},description:"<p>max value (exclusive)</p>",name:"n"}],examples:[`// randomly select scale notes from 0 - 7 (= C to C)
irand(8).struct("x(3,8)").scale('C minor').note()`],longname:"irand",kind:"member",scope:"global",___id:"T000002R000977",___s:!0},{comment:`/**
 * Choose from the list of values (or patterns of values) using the given
 * pattern of numbers, which should be in the range of 0..1
 * @param {Pattern} pat
 * @param {*} xs
 * @returns {Pattern}
 */`,meta:{range:[4697,4784],filename:"signal.mjs",lineno:164,columnno:0,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100011084",name:"exports.chooseWith",type:"VariableDeclaration"}},description:`<p>Choose from the list of values (or patterns of values) using the given
pattern of numbers, which should be in the range of 0..1</p>`,params:[{type:{names:["Pattern"]},name:"pat"},{type:{names:["*"]},name:"xs"}],returns:[{type:{names:["Pattern"]}}],name:"chooseWith",longname:"chooseWith",kind:"constant",scope:"global",___id:"T000002R000983",___s:!0},{comment:`/**
 * As with {chooseWith}, but the structure comes from the chosen values, rather
 * than the pattern you're using to choose with.
 * @param {Pattern} pat
 * @param {*} xs
 * @returns {Pattern}
 */`,meta:{range:[4986,5075],filename:"signal.mjs",lineno:175,columnno:0,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100011100",name:"exports.chooseInWith",type:"VariableDeclaration"}},description:`<p>As with {chooseWith}, but the structure comes from the chosen values, rather
than the pattern you're using to choose with.</p>`,params:[{type:{names:["Pattern"]},name:"pat"},{type:{names:["*"]},name:"xs"}],returns:[{type:{names:["Pattern"]}}],name:"chooseInWith",longname:"chooseInWith",kind:"constant",scope:"global",___id:"T000002R000985",___s:!0},{comment:`/**
 * Chooses randomly from the given list of elements.
 * @param  {...any} xs values / patterns to choose from.
 * @returns {Pattern} - a continuous pattern.
 */`,meta:{range:[5241,5295],filename:"signal.mjs",lineno:184,columnno:0,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100011116",name:"exports.choose",type:"VariableDeclaration"}},description:"<p>Chooses randomly from the given list of elements.</p>",params:[{type:{names:["any"]},variable:!0,description:"<p>values / patterns to choose from.</p>",name:"xs"}],returns:[{type:{names:["Pattern"]},description:`<ul>
<li>a continuous pattern.</li>
</ul>`}],name:"choose",longname:"choose",kind:"constant",scope:"global",___id:"T000002R000987",___s:!0},{comment:`/**
 * Chooses from the given list of values (or patterns of values), according
 * to the pattern that the method is called on. The pattern should be in
 * the range 0 .. 1.
 * @param  {...any} xs
 * @returns {Pattern}
 */`,meta:{range:[5520,5598],filename:"signal.mjs",lineno:193,columnno:0,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100011128",name:"Pattern.prototype.choose",type:"FunctionExpression",paramnames:["xs"]}},description:`<p>Chooses from the given list of values (or patterns of values), according
to the pattern that the method is called on. The pattern should be in
the range 0 .. 1.</p>`,params:[{type:{names:["any"]},variable:!0,name:"xs"}],returns:[{type:{names:["Pattern"]}}],name:"choose",longname:"Pattern#choose",kind:"function",memberof:"Pattern",scope:"instance",___id:"T000002R000989",___s:!0},{comment:`/**
 * As with choose, but the pattern that this method is called on should be
 * in the range -1 .. 1
 * @param  {...any} xs
 * @returns {Pattern}
 */`,meta:{range:[5753,5846],filename:"signal.mjs",lineno:203,columnno:0,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100011144",name:"Pattern.prototype.choose2",type:"FunctionExpression",paramnames:["xs"]}},description:`<p>As with choose, but the pattern that this method is called on should be
in the range -1 .. 1</p>`,params:[{type:{names:["any"]},variable:!0,name:"xs"}],returns:[{type:{names:["Pattern"]}}],name:"choose2",longname:"Pattern#choose2",kind:"function",memberof:"Pattern",scope:"instance",___id:"T000002R000990",___s:!0},{comment:`/**
 * Picks one of the elements at random each cycle.
 * @returns {Pattern}
 * @example
 * chooseCycles("bd", "hh", "sd").s().fast(4)
 * @example
 * "bd | hh | sd".s().fast(4)
 */`,meta:{range:[6030,6103],filename:"signal.mjs",lineno:215,columnno:0,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100011162",name:"exports.chooseCycles",type:"VariableDeclaration"}},description:"<p>Picks one of the elements at random each cycle.</p>",returns:[{type:{names:["Pattern"]}}],examples:['chooseCycles("bd", "hh", "sd").s().fast(4)','"bd | hh | sd".s().fast(4)'],name:"chooseCycles",longname:"chooseCycles",kind:"constant",scope:"global",___id:"T000002R000991",___s:!0},{comment:`/**
 * Generates a continuous pattern of [perlin noise](https://en.wikipedia.org/wiki/Perlin_noise), in the range 0..1.
 *
 * @name perlin
 * @example
 * // randomly change the cutoff
 * s("bd sd,hh*4").cutoff(perlin.range(500,2000))
 *
 */`,meta:{filename:"signal.mjs",lineno:250,columnno:0,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:'<p>Generates a continuous pattern of <a href="https://en.wikipedia.org/wiki/Perlin_noise">perlin noise</a>, in the range 0..1.</p>',name:"perlin",examples:[`// randomly change the cutoff
s("bd sd,hh*4").cutoff(perlin.range(500,2000))`],longname:"perlin",kind:"member",scope:"global",___id:"T000002R001015",___s:!0},{comment:`/**
 * Randomly removes events from the pattern by a given amount.
 * 0 = 0% chance of removal
 * 1 = 100% chance of removal
 *
 * @name degradeBy
 * @memberof Pattern
 * @param {number} amount - a number between 0 and 1
 * @returns Pattern
 * @example
 * s("hh*8").degradeBy(0.2)
 * @example
 * s("[hh?0.2]*8")
 */`,meta:{filename:"signal.mjs",lineno:265,columnno:0,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:`<p>Randomly removes events from the pattern by a given amount.
0 = 0% chance of removal
1 = 100% chance of removal</p>`,name:"degradeBy",memberof:"Pattern",params:[{type:{names:["number"]},description:"<p>a number between 0 and 1</p>",name:"amount"}],returns:[{description:"<p>Pattern</p>"}],examples:['s("hh*8").degradeBy(0.2)','s("[hh?0.2]*8")'],scope:"static",longname:"Pattern.degradeBy",kind:"member",___id:"T000002R001019",___s:!0},{comment:`/**
 *
 * Randomly removes 50% of events from the pattern. Shorthand for \`.degradeBy(0.5)\`
 *
 * @name degrade
 * @memberof Pattern
 * @returns Pattern
 * @example
 * s("hh*8").degrade()
 * @example
 * s("[hh?]*8")
 */`,meta:{filename:"signal.mjs",lineno:283,columnno:0,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Randomly removes 50% of events from the pattern. Shorthand for <code>.degradeBy(0.5)</code></p>",name:"degrade",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:['s("hh*8").degrade()','s("[hh?]*8")'],scope:"static",longname:"Pattern.degrade",kind:"member",___id:"T000002R001021",___s:!0},{comment:`/**
 * Inverse of {@link Pattern#degradeBy}: Randomly removes events from the pattern by a given amount.
 * 0 = 100% chance of removal
 * 1 = 0% chance of removal
 * Events that would be removed by degradeBy are let through by undegradeBy and vice versa (see second example).
 *
 * @name undegradeBy
 * @memberof Pattern
 * @param {number} amount - a number between 0 and 1
 * @returns Pattern
 * @example
 * s("hh*8").undegradeBy(0.2)
 */`,meta:{filename:"signal.mjs",lineno:299,columnno:0,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:`<p>Inverse of {@link Pattern#degradeBy}: Randomly removes events from the pattern by a given amount.
0 = 100% chance of removal
1 = 0% chance of removal
Events that would be removed by degradeBy are let through by undegradeBy and vice versa (see second example).</p>`,name:"undegradeBy",memberof:"Pattern",params:[{type:{names:["number"]},description:"<p>a number between 0 and 1</p>",name:"amount"}],returns:[{description:"<p>Pattern</p>"}],examples:['s("hh*8").undegradeBy(0.2)'],scope:"static",longname:"Pattern.undegradeBy",kind:"member",___id:"T000002R001023",___s:!0},{comment:`/**
 *
 * Randomly applies the given function by the given probability.
 * Similar to {@link Pattern#someCyclesBy}
 *
 * @name sometimesBy
 * @memberof Pattern
 * @param {number | Pattern} probability - a number between 0 and 1
 * @param {function} function - the transformation to apply
 * @returns Pattern
 * @example
 * s("hh(3,8)").sometimesBy(.4, x=>x.speed("0.5"))
 */`,meta:{filename:"signal.mjs",lineno:333,columnno:0,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:`<p>Randomly applies the given function by the given probability.
Similar to {@link Pattern#someCyclesBy}</p>`,name:"sometimesBy",memberof:"Pattern",params:[{type:{names:["number","Pattern"]},description:"<p>a number between 0 and 1</p>",name:"probability"},{type:{names:["function"]},description:"<p>the transformation to apply</p>",name:"function"}],returns:[{description:"<p>Pattern</p>"}],examples:['s("hh(3,8)").sometimesBy(.4, x=>x.speed("0.5"))'],scope:"static",longname:"Pattern.sometimesBy",kind:"member",___id:"T000002R001027",___s:!0},{comment:`/**
 *
 * Applies the given function with a 50% chance
 *
 * @name sometimes
 * @memberof Pattern
 * @param {function} function - the transformation to apply
 * @returns Pattern
 * @example
 * s("hh*4").sometimes(x=>x.speed("0.5"))
 */`,meta:{filename:"signal.mjs",lineno:365,columnno:0,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Applies the given function with a 50% chance</p>",name:"sometimes",memberof:"Pattern",params:[{type:{names:["function"]},description:"<p>the transformation to apply</p>",name:"function"}],returns:[{description:"<p>Pattern</p>"}],examples:['s("hh*4").sometimes(x=>x.speed("0.5"))'],scope:"static",longname:"Pattern.sometimes",kind:"member",___id:"T000002R001033",___s:!0},{comment:`/**
 *
 * Randomly applies the given function by the given probability on a cycle by cycle basis.
 * Similar to {@link Pattern#sometimesBy}
 *
 * @name someCyclesBy
 * @memberof Pattern
 * @param {number | Pattern} probability - a number between 0 and 1
 * @param {function} function - the transformation to apply
 * @returns Pattern
 * @example
 * s("hh(3,8)").someCyclesBy(.3, x=>x.speed("0.5"))
 */`,meta:{filename:"signal.mjs",lineno:391,columnno:0,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:`<p>Randomly applies the given function by the given probability on a cycle by cycle basis.
Similar to {@link Pattern#sometimesBy}</p>`,name:"someCyclesBy",memberof:"Pattern",params:[{type:{names:["number","Pattern"]},description:"<p>a number between 0 and 1</p>",name:"probability"},{type:{names:["function"]},description:"<p>the transformation to apply</p>",name:"function"}],returns:[{description:"<p>Pattern</p>"}],examples:['s("hh(3,8)").someCyclesBy(.3, x=>x.speed("0.5"))'],scope:"static",longname:"Pattern.someCyclesBy",kind:"member",___id:"T000002R001037",___s:!0},{comment:`/**
 *
 * Shorthand for \`.someCyclesBy(0.5, fn)\`
 *
 * @name someCycles
 * @memberof Pattern
 * @returns Pattern
 * @example
 * s("hh(3,8)").someCycles(x=>x.speed("0.5"))
 */`,meta:{filename:"signal.mjs",lineno:411,columnno:0,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Shorthand for <code>.someCyclesBy(0.5, fn)</code></p>",name:"someCycles",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:['s("hh(3,8)").someCycles(x=>x.speed("0.5"))'],scope:"static",longname:"Pattern.someCycles",kind:"member",___id:"T000002R001040",___s:!0},{comment:`/**
 *
 * Shorthand for \`.sometimesBy(0.75, fn)\`
 *
 * @name often
 * @memberof Pattern
 * @returns Pattern
 * @example
 * s("hh*8").often(x=>x.speed("0.5"))
 */`,meta:{filename:"signal.mjs",lineno:425,columnno:0,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Shorthand for <code>.sometimesBy(0.75, fn)</code></p>",name:"often",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:['s("hh*8").often(x=>x.speed("0.5"))'],scope:"static",longname:"Pattern.often",kind:"member",___id:"T000002R001042",___s:!0},{comment:`/**
 *
 * Shorthand for \`.sometimesBy(0.25, fn)\`
 *
 * @name rarely
 * @memberof Pattern
 * @returns Pattern
 * @example
 * s("hh*8").rarely(x=>x.speed("0.5"))
 */`,meta:{filename:"signal.mjs",lineno:439,columnno:0,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Shorthand for <code>.sometimesBy(0.25, fn)</code></p>",name:"rarely",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:['s("hh*8").rarely(x=>x.speed("0.5"))'],scope:"static",longname:"Pattern.rarely",kind:"member",___id:"T000002R001044",___s:!0},{comment:`/**
 *
 * Shorthand for \`.sometimesBy(0.1, fn)\`
 *
 * @name almostNever
 * @memberof Pattern
 * @returns Pattern
 * @example
 * s("hh*8").almostNever(x=>x.speed("0.5"))
 */`,meta:{filename:"signal.mjs",lineno:453,columnno:0,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Shorthand for <code>.sometimesBy(0.1, fn)</code></p>",name:"almostNever",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:['s("hh*8").almostNever(x=>x.speed("0.5"))'],scope:"static",longname:"Pattern.almostNever",kind:"member",___id:"T000002R001046",___s:!0},{comment:`/**
 *
 * Shorthand for \`.sometimesBy(0.9, fn)\`
 *
 * @name almostAlways
 * @memberof Pattern
 * @returns Pattern
 * @example
 * s("hh*8").almostAlways(x=>x.speed("0.5"))
 */`,meta:{filename:"signal.mjs",lineno:467,columnno:0,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Shorthand for <code>.sometimesBy(0.9, fn)</code></p>",name:"almostAlways",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:['s("hh*8").almostAlways(x=>x.speed("0.5"))'],scope:"static",longname:"Pattern.almostAlways",kind:"member",___id:"T000002R001048",___s:!0},{comment:`/**
 *
 * Shorthand for \`.sometimesBy(0, fn)\` (never calls fn)
 *
 * @name never
 * @memberof Pattern
 * @returns Pattern
 * @example
 * s("hh*8").never(x=>x.speed("0.5"))
 */`,meta:{filename:"signal.mjs",lineno:481,columnno:0,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Shorthand for <code>.sometimesBy(0, fn)</code> (never calls fn)</p>",name:"never",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:['s("hh*8").never(x=>x.speed("0.5"))'],scope:"static",longname:"Pattern.never",kind:"member",___id:"T000002R001050",___s:!0},{comment:`/**
 *
 * Shorthand for \`.sometimesBy(1, fn)\` (always calls fn)
 *
 * @name always
 * @memberof Pattern
 * @returns Pattern
 * @example
 * s("hh*8").always(x=>x.speed("0.5"))
 */`,meta:{filename:"signal.mjs",lineno:495,columnno:0,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{}},description:"<p>Shorthand for <code>.sometimesBy(1, fn)</code> (always calls fn)</p>",name:"always",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:['s("hh*8").always(x=>x.speed("0.5"))'],scope:"static",longname:"Pattern.always",kind:"member",___id:"T000002R001052",___s:!0},{comment:`/**
 * @deprecated does not appear to be referenced or invoked anywhere in the codebase
 */`,meta:{range:[1790,1949],filename:"util.mjs",lineno:37,columnno:0,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100020416",name:"exports.getFreq",type:"VariableDeclaration"}},deprecated:"does not appear to be referenced or invoked anywhere in the codebase",name:"getFreq",longname:"getFreq",kind:"constant",scope:"global",___id:"T000002R001267",___s:!0},{comment:`/**
 * @deprecated does not appear to be referenced or invoked anywhere in the codebase
 */`,meta:{range:[2043,2224],filename:"util.mjs",lineno:47,columnno:0,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/core",code:{id:"astnode100020439",name:"exports.midi2note",type:"VariableDeclaration"}},deprecated:"does not appear to be referenced or invoked anywhere in the codebase",name:"midi2note",longname:"midi2note",kind:"constant",scope:"global",___id:"T000002R001269",___s:!0},{comment:`/**
 *
 * Sends each hap as an OSC message, which can be picked up by SuperCollider or any other OSC-enabled software.
 *
 * @name osc
 * @memberof Pattern
 * @returns Pattern
 */`,meta:{filename:"osc.mjs",lineno:39,columnno:0,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/osc",code:{}},description:"<p>Sends each hap as an OSC message, which can be picked up by SuperCollider or any other OSC-enabled software.</p>",name:"osc",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],scope:"static",longname:"Pattern.osc",kind:"member",___id:"T000002R002781",___s:!0},{comment:`/**
 * Change the pitch of each value by the given amount. Expects numbers or note strings as values.
 * The amount can be given as a number of semitones or as a string in interval short notation.
 * If you don't care about enharmonic correctness, just use numbers. Otherwise, pass the interval of
 * the form: ST where S is the degree number and T the type of interval with
 *
 * - M = major
 * - m = minor
 * - P = perfect
 * - A = augmented
 * - d = diminished
 *
 * Examples intervals:
 *
 * - 1P = unison
 * - 3M = major third
 * - 3m = minor third
 * - 4P = perfect fourth
 * - 4A = augmented fourth
 * - 5P = perfect fifth
 * - 5d = diminished fifth
 *
 * @param {string | number} amount Either number of semitones or interval string.
 * @returns Pattern
 * @memberof Pattern
 * @name transpose
 * @example
 * "c2 c3".fast(2).transpose("<0 -2 5 3>".slow(2)).note()
 * @example
 * "c2 c3".fast(2).transpose("<1P -2M 4P 3m>".slow(2)).note()
 */`,meta:{filename:"tonal.mjs",lineno:45,columnno:0,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/tonal",code:{}},description:`<p>Change the pitch of each value by the given amount. Expects numbers or note strings as values.
The amount can be given as a number of semitones or as a string in interval short notation.
If you don't care about enharmonic correctness, just use numbers. Otherwise, pass the interval of
the form: ST where S is the degree number and T the type of interval with</p>
<ul>
<li>M = major</li>
<li>m = minor</li>
<li>P = perfect</li>
<li>A = augmented</li>
<li>d = diminished</li>
</ul>
<p>Examples intervals:</p>
<ul>
<li>1P = unison</li>
<li>3M = major third</li>
<li>3m = minor third</li>
<li>4P = perfect fourth</li>
<li>4A = augmented fourth</li>
<li>5P = perfect fifth</li>
<li>5d = diminished fifth</li>
</ul>`,params:[{type:{names:["string","number"]},description:"<p>Either number of semitones or interval string.</p>",name:"amount"}],returns:[{description:"<p>Pattern</p>"}],memberof:"Pattern",name:"transpose",examples:['"c2 c3".fast(2).transpose("<0 -2 5 3>".slow(2)).note()','"c2 c3".fast(2).transpose("<1P -2M 4P 3m>".slow(2)).note()'],scope:"static",longname:"Pattern.transpose",kind:"member",___id:"T000002R003380",___s:!0},{comment:`/**
 * Transposes notes inside the scale by the number of steps.
 * Expected to be called on a Pattern which already has a {@link Pattern#scale}
 *
 * @memberof Pattern
 * @name scaleTranspose
 * @param {offset} offset number of steps inside the scale
 * @returns Pattern
 * @example
 * "-8 [2,4,6]"
 * .scale('C4 bebop major')
 * .scaleTranspose("<0 -1 -2 -3 -4 -5 -6 -4>")
 * .note()
 */`,meta:{filename:"tonal.mjs",lineno:98,columnno:0,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/tonal",code:{}},description:`<p>Transposes notes inside the scale by the number of steps.
Expected to be called on a Pattern which already has a {@link Pattern#scale}</p>`,memberof:"Pattern",name:"scaleTranspose",params:[{type:{names:["offset"]},description:"<p>number of steps inside the scale</p>",name:"offset"}],returns:[{description:"<p>Pattern</p>"}],examples:[`"-8 [2,4,6]"
.scale('C4 bebop major')
.scaleTranspose("<0 -1 -2 -3 -4 -5 -6 -4>")
.note()`],scope:"static",longname:"Pattern.scaleTranspose",kind:"member",___id:"T000002R003384",___s:!0},{comment:`/**
 * Turns numbers into notes in the scale (zero indexed). Also sets scale for other scale operations, like {@link Pattern#scaleTranspose}.
 *
 * The scale name has the form "TO? N" wher
 *
 * - T = Tonic
 * - O = Octave (optional, defaults to 3)
 * - N = Name of scale, available names can be found [here](https://github.com/tonaljs/tonal/blob/main/packages/scale-type/data.ts).
 *
 * @memberof Pattern
 * @name scale
 * @param {string} scale Name of scale
 * @returns Pattern
 * @example
 * "0 2 4 6 4 2"
 * .scale(seq('C2 major', 'C2 minor').slow(2))
 * .note()
 */`,meta:{filename:"tonal.mjs",lineno:125,columnno:0,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/tonal",code:{}},description:`<p>Turns numbers into notes in the scale (zero indexed). Also sets scale for other scale operations, like {@link Pattern#scaleTranspose}.</p>
<p>The scale name has the form &quot;TO? N&quot; wher</p>
<ul>
<li>T = Tonic</li>
<li>O = Octave (optional, defaults to 3)</li>
<li>N = Name of scale, available names can be found <a href="https://github.com/tonaljs/tonal/blob/main/packages/scale-type/data.ts">here</a>.</li>
</ul>`,memberof:"Pattern",name:"scale",params:[{type:{names:["string"]},description:"<p>Name of scale</p>",name:"scale"}],returns:[{description:"<p>Pattern</p>"}],examples:[`"0 2 4 6 4 2"
.scale(seq('C2 major', 'C2 minor').slow(2))
.note()`],scope:"static",longname:"Pattern.scale",kind:"member",___id:"T000002R003386",___s:!0},{comment:`/**
 * Turns chord symbols into voicings, using the smoothest voice leading possible.
 * Uses [chord-voicings package](https://github.com/felixroos/chord-voicings#chord-voicings).
 *
 * @name voicings
 * @memberof Pattern
 * @param {range} range note range for possible voicings (optional, defaults to \`['F3', 'A4']\`)
 * @returns Pattern
 * @example
 * stack("<C^7 A7 Dm7 G7>".voicings(), "<C3 A2 D3 G2>").note()
 */`,meta:{filename:"voicings.mjs",lineno:34,columnno:0,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/tonal",code:{}},description:`<p>Turns chord symbols into voicings, using the smoothest voice leading possible.
Uses <a href="https://github.com/felixroos/chord-voicings#chord-voicings">chord-voicings package</a>.</p>`,name:"voicings",memberof:"Pattern",params:[{type:{names:["range"]},description:"<p>note range for possible voicings (optional, defaults to <code>['F3', 'A4']</code>)</p>",name:"range"}],returns:[{description:"<p>Pattern</p>"}],examples:['stack("<C^7 A7 Dm7 G7>".voicings(), "<C3 A2 D3 G2>").note()'],scope:"static",longname:"Pattern.voicings",kind:"member",___id:"T000002R003411",___s:!0},{comment:`/**
 * Loads a collection of samples to use with \`s\`
 *
 * @example
 * samples({
 *  bd: '808bd/BD0000.WAV',
 *  sd: '808sd/SD0010.WAV'
 *  }, 'https://raw.githubusercontent.com/tidalcycles/Dirt-Samples/master/');
 * s("[bd ~]*2, [~ hh]*2, ~ sd")
 *
 */`,meta:{range:[3729,5410],filename:"sampler.mjs",lineno:120,columnno:0,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/webaudio",code:{id:"astnode100041955",name:"exports.samples",type:"VariableDeclaration"}},description:"<p>Loads a collection of samples to use with <code>s</code></p>",examples:[`samples({
 bd: '808bd/BD0000.WAV',
 sd: '808sd/SD0010.WAV'
 }, 'https://raw.githubusercontent.com/tidalcycles/Dirt-Samples/master/');
s("[bd ~]*2, [~ hh]*2, ~ sd")`],name:"samples",longname:"samples",kind:"constant",scope:"global",___id:"T000002R003659",___s:!0},{comment:`/**
 *
 * Uses [webdirt](https://github.com/dktr0/WebDirt) as output.
 *
 * <details>
 * <summary>show supported Webdirt controls</summary>
 *
 * - s :: String, -- name of sample bank
 * - n :: Int, -- number of sample within a bank
 * - {@link gain} :: Number, -- clamped from 0 to 2; 1 is default and full-scale
 * - overgain :: Number, -- additional gain added to gain to go past clamp at 2
 * - {@link pan} :: Number, -- range: 0 to 1
 * - nudge :: Number, -- nudge the time of the sample forwards/backwards in seconds
 * - {@link speed} :: Number, -- speed / pitch of the sample
 * - {@link unit} :: String
 * - note :: Number, -- pitch offset in semitones
 * - {@link begin} :: Number, -- cut from sample start, normalized
 * - {@link end} :: Number, -- cut from sample end, normalized
 * - {@link cut} :: Int, -- samples with same cut number will interupt each other
 * - {@link cutoff} :: Number, -- lowpass filter frequency
 * - {@link resonance} :: Number, -- lowpass filter resonance
 * - {@link hcutoff} :: Number, -- highpass filter frequency
 * - {@link hresonance} :: Number, -- highpass filter resonance
 * - {@link bandf} :: Number, -- bandpass filter frequency
 * - {@link bandq} :: Number, -- bandpass filter resonance
 * - {@link vowel} :: String, -- name of vowel ('a' | 'e' | 'i' | 'o' | 'u')
 * - delay :: Number, -- delay wet/dry mix
 * - delaytime :: Number, -- delay time in seconds
 * - delayfeedback :: Number, -- delay feedback
 * - {@link loop} :: Number, -- loop sample n times (relative to sample length)
 * - {@link crush} :: Number, -- bitcrusher (currently not working)
 * - {@link coarse} :: Number, -- coarse effect (currently not working)
 * - {@link shape} :: Number, -- (currently not working)

 *
 * </details>
 *
 * @name webdirt
 * @memberof Pattern
 * @returns Pattern
 * @example
 * s("bd*2 hh sd hh").n("<0 1>").webdirt()
 */`,meta:{filename:"webdirt.mjs",lineno:20,columnno:0,path:"/Users/jack/Documents/git/music/livecode/strudel/packages/webdirt",code:{}},description:`<p>Uses <a href="https://github.com/dktr0/WebDirt">webdirt</a> as output.</p>
<details>
<summary>show supported Webdirt controls</summary>
<ul>
<li>s :: String, -- name of sample bank</li>
<li>n :: Int, -- number of sample within a bank</li>
<li>{@link gain} :: Number, -- clamped from 0 to 2; 1 is default and full-scale</li>
<li>overgain :: Number, -- additional gain added to gain to go past clamp at 2</li>
<li>{@link pan} :: Number, -- range: 0 to 1</li>
<li>nudge :: Number, -- nudge the time of the sample forwards/backwards in seconds</li>
<li>{@link speed} :: Number, -- speed / pitch of the sample</li>
<li>{@link unit} :: String</li>
<li>note :: Number, -- pitch offset in semitones</li>
<li>{@link begin} :: Number, -- cut from sample start, normalized</li>
<li>{@link end} :: Number, -- cut from sample end, normalized</li>
<li>{@link cut} :: Int, -- samples with same cut number will interupt each other</li>
<li>{@link cutoff} :: Number, -- lowpass filter frequency</li>
<li>{@link resonance} :: Number, -- lowpass filter resonance</li>
<li>{@link hcutoff} :: Number, -- highpass filter frequency</li>
<li>{@link hresonance} :: Number, -- highpass filter resonance</li>
<li>{@link bandf} :: Number, -- bandpass filter frequency</li>
<li>{@link bandq} :: Number, -- bandpass filter resonance</li>
<li>{@link vowel} :: String, -- name of vowel ('a' | 'e' | 'i' | 'o' | 'u')</li>
<li>delay :: Number, -- delay wet/dry mix</li>
<li>delaytime :: Number, -- delay time in seconds</li>
<li>delayfeedback :: Number, -- delay feedback</li>
<li>{@link loop} :: Number, -- loop sample n times (relative to sample length)</li>
<li>{@link crush} :: Number, -- bitcrusher (currently not working)</li>
<li>{@link coarse} :: Number, -- coarse effect (currently not working)</li>
<li>{@link shape} :: Number, -- (currently not working)</li>
</ul>
</details>`,name:"webdirt",memberof:"Pattern",returns:[{description:"<p>Pattern</p>"}],examples:['s("bd*2 hh sd hh").n("<0 1>").webdirt()'],scope:"static",longname:"Pattern.webdirt",kind:"member",___id:"T000002R003936",___s:!0},{kind:"package",longname:"package:undefined",files:["/Users/jack/Documents/git/music/livecode/strudel/packages/core/controls.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/core/cyclist.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/core/draw.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/core/drawLine.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/core/euclid.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/core/evaluate.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/core/examples/vite-vanilla-repl/main.js","/Users/jack/Documents/git/music/livecode/strudel/packages/core/examples/vite-vanilla-repl/tune.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/core/fraction.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/core/gist.js","/Users/jack/Documents/git/music/livecode/strudel/packages/core/hap.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/core/index.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/core/logger.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/core/pattern.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/core/pianoroll.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/core/repl.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/core/signal.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/core/speak.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/core/state.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/core/test/drawLine.test.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/core/test/fraction.test.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/core/test/pattern.test.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/core/test/util.test.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/core/test/value.test.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/core/time.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/core/timespan.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/core/ui.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/core/util.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/core/value.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/core/zyklus.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/embed/embed.js","/Users/jack/Documents/git/music/livecode/strudel/packages/eval/evaluate.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/eval/index.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/eval/shapeshifter.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/eval/test/evaluate.test.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/eval/test/shapeshifter.test.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/midi/index.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/midi/midi.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/mini/index.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/mini/krill-parser.js","/Users/jack/Documents/git/music/livecode/strudel/packages/mini/mini.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/mini/test/mini.test.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/osc/osc.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/osc/server.js","/Users/jack/Documents/git/music/livecode/strudel/packages/osc/tidal-sniffer.js","/Users/jack/Documents/git/music/livecode/strudel/packages/react/examples/nano-repl/src/App.jsx","/Users/jack/Documents/git/music/livecode/strudel/packages/react/examples/nano-repl/src/main.jsx","/Users/jack/Documents/git/music/livecode/strudel/packages/react/examples/nano-repl/vite.config.js","/Users/jack/Documents/git/music/livecode/strudel/packages/react/postcss.config.js","/Users/jack/Documents/git/music/livecode/strudel/packages/react/src/App.jsx","/Users/jack/Documents/git/music/livecode/strudel/packages/react/src/components/CodeMirror6.jsx","/Users/jack/Documents/git/music/livecode/strudel/packages/react/src/components/MiniRepl.jsx","/Users/jack/Documents/git/music/livecode/strudel/packages/react/src/cx.js","/Users/jack/Documents/git/music/livecode/strudel/packages/react/src/hooks/useHighlighting.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/react/src/hooks/useKeydown.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/react/src/hooks/usePostMessage.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/react/src/hooks/useStrudel.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/react/src/index.js","/Users/jack/Documents/git/music/livecode/strudel/packages/react/src/main.jsx","/Users/jack/Documents/git/music/livecode/strudel/packages/react/src/themes/strudel-theme.js","/Users/jack/Documents/git/music/livecode/strudel/packages/react/tailwind.config.js","/Users/jack/Documents/git/music/livecode/strudel/packages/react/vite.config.js","/Users/jack/Documents/git/music/livecode/strudel/packages/serial/serial.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/soundfonts/convert.js","/Users/jack/Documents/git/music/livecode/strudel/packages/soundfonts/fontloader.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/soundfonts/index.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/soundfonts/list.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/soundfonts/sfumato.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/tonal/index.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/tonal/test/tonal.test.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/tonal/tonal.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/tonal/voicings.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/tone/index.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/tone/test/tone.test.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/tone/tone.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/transpiler/index.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/transpiler/test/transpiler.test.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/transpiler/transpiler.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/webaudio/feedbackdelay.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/webaudio/index.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/webaudio/reverb.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/webaudio/sampler.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/webaudio/vite.config.js","/Users/jack/Documents/git/music/livecode/strudel/packages/webaudio/vowel.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/webaudio/webaudio.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/webaudio/worklets.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/webdirt/index.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/webdirt/webdirt.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/xen/index.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/xen/test/xen.test.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/xen/tune.mjs","/Users/jack/Documents/git/music/livecode/strudel/packages/xen/tunejs.js","/Users/jack/Documents/git/music/livecode/strudel/packages/xen/xen.mjs"],___id:"T000002R013957",___s:!0}],jsdoc={docs:docs$1},docs=jsdoc.docs.reduce((k,b)=>Object.assign(k,{[b.longname]:b}),{});function JsDoc({name:k}){var _,$,j;const b=docs[k];return b?jsxs(Fragment,{children:[jsx("h3",{children:b.longname}),b.description.slice(3,-4),jsx("ul",{children:(_=b.params)==null?void 0:_.map((_e,et)=>{var tt,nt,it;return jsxs("li",{children:[_e.name," (",(nt=(tt=_e.type)==null?void 0:tt.names)==null?void 0:nt.join("|"),"): ",(it=_e.description)==null?void 0:it.replace(/(<([^>]+)>)/gi,"")]},et)})}),($=b.examples)!=null&&$.length?jsx("div",{className:"space-y-2",children:(j=b.examples)==null?void 0:j.map((_e,et)=>jsx(MiniRepl,{tune:_e}))}):jsx("div",{})]}):(console.warn("Not found: "+k),jsx("div",{}))}const layoutProps={},MDXLayout="wrapper";function MDXContent({components:k,...b}){return createElement(MDXLayout,{...layoutProps,...b,components:k,mdxType:"MDXLayout"},createElement("h1",null,"Functions"),createElement("h2",null,"Alternative Pattern Syntax"),createElement("p",null,"To avoid getting to many nested parens, there is an alternative syntax to add a type to a pattern:"),createElement(MiniRepl,{tune:"seq(d4, fs4, a4).note()",mdxType:"MiniRepl"}),createElement("p",null,"You can use this with any function that declares a type (like ",createElement("inlineCode",{parentName:"p"},"n"),", ",createElement("inlineCode",{parentName:"p"},"s"),", ",createElement("inlineCode",{parentName:"p"},"note"),", ",createElement("inlineCode",{parentName:"p"},"freq")," etc), just make sure to leave the parens empty!"),createElement("h2",null,"Pattern Factories"),createElement("p",null,"The following functions will return a pattern."),createElement(JsDoc,{name:"cat",mdxType:"JsDoc"}),createElement(JsDoc,{name:"seq",mdxType:"JsDoc"}),createElement(JsDoc,{name:"stack",mdxType:"JsDoc"}),createElement(JsDoc,{name:"timeCat",mdxType:"JsDoc"}),createElement("h2",null,"Combining Patterns"),createElement("p",null,"You can freely mix JS patterns, mini patterns and values! For example, this pattern:"),createElement(MiniRepl,{tune:`cat(
  stack(g3,b3,e4),
  stack(a3,c3,e4),
  stack(b3,d3,fs4),
  stack(b3,e4,g4)
).note()`,mdxType:"MiniRepl"}),createElement("p",null,"...is equivalent to:"),createElement(MiniRepl,{tune:`cat(
  "g3,b3,e4",
  "a3,c3,e4",
  "b3,d3,f#4",
  "b3,e4,g4"
).note()`,mdxType:"MiniRepl"}),createElement("p",null,"... as well as:"),createElement(MiniRepl,{tune:'note("<[g3,b3,e4] [a3,c3,e4] [b3,d3,f#4] [b3,e4,g4]>")',mdxType:"MiniRepl"}),createElement("p",null,"While mini notation is almost always shorter, it only has a handful of modifiers: ","*",` / ! @.
When using JS patterns, there is a lot more you can do.`),createElement("h2",null,"Time Modifiers"),createElement("p",null,"The following functions modify a pattern temporal structure in some way."),createElement(JsDoc,{name:"Pattern.slow",mdxType:"JsDoc"}),createElement(JsDoc,{name:"Pattern.fast",mdxType:"JsDoc"}),createElement(JsDoc,{name:"Pattern.early",mdxType:"JsDoc"}),createElement(JsDoc,{name:"Pattern.late",mdxType:"JsDoc"}),createElement(JsDoc,{name:"Pattern.legato",mdxType:"JsDoc"}),createElement(JsDoc,{name:"Pattern.struct",mdxType:"JsDoc"}),createElement(JsDoc,{name:"Pattern.euclid",mdxType:"JsDoc"}),createElement(JsDoc,{name:"Pattern.euclidLegato",mdxType:"JsDoc"}),createElement(JsDoc,{name:"Pattern.rev",mdxType:"JsDoc"}),createElement(JsDoc,{name:"Pattern.iter",mdxType:"JsDoc"}),createElement(JsDoc,{name:"Pattern.iterBack",mdxType:"JsDoc"}),createElement("h2",null,"Conditional Modifiers"),createElement(JsDoc,{name:"Pattern.every",mdxType:"JsDoc"}),createElement(JsDoc,{name:"Pattern.each",mdxType:"JsDoc"}),createElement(JsDoc,{name:"Pattern.when",mdxType:"JsDoc"}),createElement("h2",null,"Accumulation Modifiers"),createElement(JsDoc,{name:"Pattern.stack",mdxType:"JsDoc"}),createElement(JsDoc,{name:"Pattern.superimpose",mdxType:"JsDoc"}),createElement(JsDoc,{name:"Pattern.layer",mdxType:"JsDoc"}),createElement(JsDoc,{name:"Pattern.off",mdxType:"JsDoc"}),createElement(JsDoc,{name:"Pattern.echo",mdxType:"JsDoc"}),createElement(JsDoc,{name:"Pattern.echoWith",mdxType:"JsDoc"}),createElement("h2",null,"Concat Modifiers"),createElement(JsDoc,{name:"Pattern.seq",mdxType:"JsDoc"}),createElement(JsDoc,{name:"Pattern.cat",mdxType:"JsDoc"}),createElement("h2",null,"Value Modifiers"),createElement(JsDoc,{name:"Pattern.add",mdxType:"JsDoc"}),createElement(JsDoc,{name:"Pattern.sub",mdxType:"JsDoc"}),createElement(JsDoc,{name:"Pattern.mul",mdxType:"JsDoc"}),createElement(JsDoc,{name:"Pattern.div",mdxType:"JsDoc"}),createElement(JsDoc,{name:"Pattern.round",mdxType:"JsDoc"}),createElement(JsDoc,{name:"Pattern.apply",mdxType:"JsDoc"}),createElement(JsDoc,{name:"Pattern.range",mdxType:"JsDoc"}),createElement(JsDoc,{name:"Pattern.chunk",mdxType:"JsDoc"}),createElement(JsDoc,{name:"Pattern.chunkBack",mdxType:"JsDoc"}),createElement("h2",null,"Continuous Signals"),createElement("p",null,`Signals are patterns with continuous values, meaning they have theoretically infinite steps.
They can provide streams of numbers that can be sampled at discrete points in time.`),createElement(JsDoc,{name:"saw",mdxType:"JsDoc"}),createElement(JsDoc,{name:"sine",mdxType:"JsDoc"}),createElement(JsDoc,{name:"cosine",mdxType:"JsDoc"}),createElement(JsDoc,{name:"tri",mdxType:"JsDoc"}),createElement(JsDoc,{name:"square",mdxType:"JsDoc"}),createElement("h3",null,"Ranges from -1 to 1"),createElement("p",null,"There is also ",createElement("inlineCode",{parentName:"p"},"saw2"),", ",createElement("inlineCode",{parentName:"p"},"sine2"),", ",createElement("inlineCode",{parentName:"p"},"cosine2"),", ",createElement("inlineCode",{parentName:"p"},"tri2")," and ",createElement("inlineCode",{parentName:"p"},"square2")," which have a range from -1 to 1!"),createElement(JsDoc,{name:"rand",mdxType:"JsDoc"}),createElement(JsDoc,{name:"perlin",mdxType:"JsDoc"}),createElement(JsDoc,{name:"irand",mdxType:"JsDoc"}),createElement("h2",null,"Random Modifiers"),createElement("p",null,"These methods add random behavior to your Patterns."),createElement(JsDoc,{name:"chooseCycles",mdxType:"JsDoc"}),createElement(JsDoc,{name:"Pattern.degradeBy",mdxType:"JsDoc"}),createElement(JsDoc,{name:"Pattern.degrade",mdxType:"JsDoc"}),createElement(JsDoc,{name:"Pattern.undegradeBy",mdxType:"JsDoc"}),createElement(JsDoc,{name:"Pattern.sometimesBy",mdxType:"JsDoc"}),createElement(JsDoc,{name:"Pattern.sometimes",mdxType:"JsDoc"}),createElement(JsDoc,{name:"Pattern.someCyclesBy",mdxType:"JsDoc"}),createElement(JsDoc,{name:"Pattern.someCycles",mdxType:"JsDoc"}),createElement(JsDoc,{name:"Pattern.often",mdxType:"JsDoc"}),createElement(JsDoc,{name:"Pattern.rarely",mdxType:"JsDoc"}),createElement(JsDoc,{name:"Pattern.almostNever",mdxType:"JsDoc"}),createElement(JsDoc,{name:"Pattern.almostAlways",mdxType:"JsDoc"}),createElement(JsDoc,{name:"Pattern.never",mdxType:"JsDoc"}),createElement(JsDoc,{name:"Pattern.always",mdxType:"JsDoc"}))}MDXContent.isMDXComponent=!0;initAudioOnFirstClick();function App(){return jsx("div",{className:"bg-slate-900 w-screen h-screen overflow-auto",children:jsxs("main",{className:"p-16 max-w-4xl prose prose-invert",children:[jsx(MDXContent$1,{}),jsx(MDXContent,{})]})})}const index$k="";ReactDOM.render(jsx(React.StrictMode,{children:jsx(App,{})}),document.getElementById("root"));const fillStr$1=(k,b)=>Array(Math.abs(b)+1).join(k);function deprecate(k,b,_){return function(...$){return console.warn(`${k} is deprecated. Use ${b}.`),_.apply(this,$)}}function isNamed(k){return k!==null&&typeof k=="object"&&typeof k.name=="string"}function isPitch(k){return k!==null&&typeof k=="object"&&typeof k.step=="number"&&typeof k.alt=="number"}const FIFTHS=[0,2,4,-1,1,3,5],STEPS_TO_OCTS=FIFTHS.map(k=>Math.floor(k*7/12));function encode(k){const{step:b,alt:_,oct:$,dir:j=1}=k,_e=FIFTHS[b]+7*_;if($===void 0)return[j*_e];const et=$-STEPS_TO_OCTS[b]-4*_;return[j*_e,j*et]}const FIFTHS_TO_STEPS=[3,0,4,1,5,2,6];function decode(k){const[b,_,$]=k,j=FIFTHS_TO_STEPS[unaltered(b)],_e=Math.floor((b+1)/7);if(_===void 0)return{step:j,alt:_e,dir:$};const et=_+4*_e+STEPS_TO_OCTS[j];return{step:j,alt:_e,oct:et,dir:$}}function unaltered(k){const b=(k+1)%7;return b<0?7+b:b}const NoNote={empty:!0,name:"",pc:"",acc:""},cache$1$1=new Map,stepToLetter=k=>"CDEFGAB".charAt(k),altToAcc=k=>k<0?fillStr$1("b",-k):fillStr$1("#",k),accToAlt=k=>k[0]==="b"?-k.length:k.length;function note(k){const b=cache$1$1.get(k);if(b)return b;const _=typeof k=="string"?parse$1$1(k):isPitch(k)?note(pitchName$1(k)):isNamed(k)?note(k.name):NoNote;return cache$1$1.set(k,_),_}const REGEX$1$1=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function tokenizeNote(k){const b=REGEX$1$1.exec(k);return[b[1].toUpperCase(),b[2].replace(/x/g,"##"),b[3],b[4]]}function coordToNote(k){return note(decode(k))}const mod=(k,b)=>(k%b+b)%b,SEMI=[0,2,4,5,7,9,11];function parse$1$1(k){const b=tokenizeNote(k);if(b[0]===""||b[3]!=="")return NoNote;const _=b[0],$=b[1],j=b[2],_e=(_.charCodeAt(0)+3)%7,et=accToAlt($),tt=j.length?+j:void 0,nt=encode({step:_e,alt:et,oct:tt}),it=_+$+j,rt=_+$,st=(SEMI[_e]+et+120)%12,ot=tt===void 0?mod(SEMI[_e]+et,12)-12*99:SEMI[_e]+et+12*(tt+1),ut=ot>=0&&ot<=127?ot:null,lt=tt===void 0?null:Math.pow(2,(ot-69)/12)*440;return{empty:!1,acc:$,alt:et,chroma:st,coord:nt,freq:lt,height:ot,letter:_,midi:ut,name:it,oct:tt,pc:rt,step:_e}}function pitchName$1(k){const{step:b,alt:_,oct:$}=k,j=stepToLetter(b);if(!j)return"";const _e=j+altToAcc(_);return $||$===0?_e+$:_e}const NoInterval={empty:!0,name:"",acc:""},INTERVAL_TONAL_REGEX="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",INTERVAL_SHORTHAND_REGEX="(AA|A|P|M|m|d|dd)([-+]?\\d+)",REGEX$5=new RegExp("^"+INTERVAL_TONAL_REGEX+"|"+INTERVAL_SHORTHAND_REGEX+"$");function tokenizeInterval(k){const b=REGEX$5.exec(`${k}`);return b===null?["",""]:b[1]?[b[1],b[2]]:[b[4],b[3]]}const cache$2={};function interval(k){return typeof k=="string"?cache$2[k]||(cache$2[k]=parse$2(k)):isPitch(k)?interval(pitchName(k)):isNamed(k)?interval(k.name):NoInterval}const SIZES=[0,2,4,5,7,9,11],TYPES="PMMPPMM";function parse$2(k){const b=tokenizeInterval(k);if(b[0]==="")return NoInterval;const _=+b[0],$=b[1],j=(Math.abs(_)-1)%7,_e=TYPES[j];if(_e==="M"&&$==="P")return NoInterval;const et=_e==="M"?"majorable":"perfectable",tt=""+_+$,nt=_<0?-1:1,it=_===8||_===-8?_:nt*(j+1),rt=qToAlt(et,$),st=Math.floor((Math.abs(_)-1)/7),ot=nt*(SIZES[j]+rt+12*st),ut=(nt*(SIZES[j]+rt)%12+12)%12,lt=encode({step:j,alt:rt,oct:st,dir:nt});return{empty:!1,name:tt,num:_,q:$,step:j,alt:rt,dir:nt,type:et,simple:it,semitones:ot,chroma:ut,coord:lt,oct:st}}function coordToInterval(k,b){const[_,$=0]=k,j=_*7+$*12<0,_e=b||j?[-_,-$,-1]:[_,$,1];return interval(decode(_e))}function qToAlt(k,b){return b==="M"&&k==="majorable"||b==="P"&&k==="perfectable"?0:b==="m"&&k==="majorable"?-1:/^A+$/.test(b)?b.length:/^d+$/.test(b)?-1*(k==="perfectable"?b.length:b.length+1):0}function pitchName(k){const{step:b,alt:_,oct:$=0,dir:j}=k;if(!j)return"";const _e=b+1+7*$,et=_e===0?b+1:_e,tt=j<0?"-":"",nt=TYPES[b]==="M"?"majorable":"perfectable";return tt+et+altToQ(nt,_)}function altToQ(k,b){return b===0?k==="majorable"?"M":"P":b===-1&&k==="majorable"?"m":b>0?fillStr$1("A",b):fillStr$1("d",k==="perfectable"?b:b+1)}function transpose$3(k,b){const _=note(k),$=interval(b);if(_.empty||$.empty)return"";const j=_.coord,_e=$.coord,et=j.length===1?[j[0]+_e[0]]:[j[0]+_e[0],j[1]+_e[1]];return coordToNote(et).name}function distance$3(k,b){const _=note(k),$=note(b);if(_.empty||$.empty)return"";const j=_.coord,_e=$.coord,et=_e[0]-j[0],tt=j.length===2&&_e.length===2?_e[1]-j[1]:-Math.floor(et*7/12),nt=$.height===_.height&&$.midi!==null&&_.midi!==null&&_.step>$.step;return coordToInterval([et,tt],nt).name}const Core=Object.freeze(Object.defineProperty({__proto__:null,accToAlt,altToAcc,coordToInterval,coordToNote,decode,deprecate,distance:distance$3,encode,fillStr:fillStr$1,interval,isNamed,isPitch,note,stepToLetter,tokenizeInterval,tokenizeNote,transpose:transpose$3},Symbol.toStringTag,{value:"Module"})),fillStr=(k,b)=>Array(b+1).join(k),REGEX$4=/^(_{1,}|=|\^{1,}|)([abcdefgABCDEFG])([,']*)$/;function tokenize$3(k){const b=REGEX$4.exec(k);return b?[b[1],b[2],b[3]]:["","",""]}function abcToScientificNotation(k){const[b,_,$]=tokenize$3(k);if(_==="")return"";let j=4;for(let et=0;et<$.length;et++)j+=$.charAt(et)===","?-1:1;const _e=b[0]==="_"?b.replace(/_/g,"b"):b[0]==="^"?b.replace(/\^/g,"#"):"";return _.charCodeAt(0)>96?_.toUpperCase()+_e+(j+1):_+_e+j}function scientificToAbcNotation(k){const b=note(k);if(b.empty||!b.oct&&b.oct!==0)return"";const{letter:_,acc:$,oct:j}=b,_e=$[0]==="b"?$.replace(/b/g,"_"):$.replace(/#/g,"^"),et=j>4?_.toLowerCase():_,tt=j===5?"":j>4?fillStr("'",j-5):fillStr(",",4-j);return _e+et+tt}function transpose$2(k,b){return scientificToAbcNotation(transpose$3(abcToScientificNotation(k),b))}function distance$2(k,b){return distance$3(abcToScientificNotation(k),abcToScientificNotation(b))}var index$j={abcToScientificNotation,scientificToAbcNotation,tokenize:tokenize$3,transpose:transpose$2,distance:distance$2};function ascR$1(k,b){const _=[];for(;b--;_[b]=b+k);return _}function descR$1(k,b){const _=[];for(;b--;_[b]=k-b);return _}function range$1(k,b){return k<b?ascR$1(k,b-k+1):descR$1(k,k-b+1)}function rotate$1(k,b){const _=b.length,$=(k%_+_)%_;return b.slice($,_).concat(b.slice(0,$))}function compact$1(k){return k.filter(b=>b===0||b)}function sortedNoteNames(k){return k.map(_=>note(_)).filter(_=>!_.empty).sort((_,$)=>_.height-$.height).map(_=>_.name)}function sortedUniqNoteNames(k){return sortedNoteNames(k).filter((b,_,$)=>_===0||b!==$[_-1])}function shuffle$1(k,b=Math.random){let _,$,j=k.length;for(;j;)_=Math.floor(b()*j--),$=k[j],k[j]=k[_],k[_]=$;return k}function permutations$1(k){return k.length===0?[[]]:permutations$1(k.slice(1)).reduce((b,_)=>b.concat(k.map(($,j)=>{const _e=_.slice();return _e.splice(j,0,k[0]),_e})),[])}const index_es$1=Object.freeze(Object.defineProperty({__proto__:null,compact:compact$1,permutations:permutations$1,range:range$1,rotate:rotate$1,shuffle:shuffle$1,sortedNoteNames,sortedUniqNoteNames},Symbol.toStringTag,{value:"Module"}));function ascR(k,b){const _=[];for(;b--;_[b]=b+k);return _}function descR(k,b){const _=[];for(;b--;_[b]=k-b);return _}function range(k,b){return k<b?ascR(k,b-k+1):descR(k,k-b+1)}function rotate(k,b){const _=b.length,$=(k%_+_)%_;return b.slice($,_).concat(b.slice(0,$))}function compact(k){return k.filter(b=>b===0||b)}function shuffle(k,b=Math.random){let _,$,j=k.length;for(;j;)_=Math.floor(b()*j--),$=k[j],k[j]=k[_],k[_]=$;return k}function permutations(k){return k.length===0?[[]]:permutations(k.slice(1)).reduce((b,_)=>b.concat(k.map(($,j)=>{const _e=_.slice();return _e.splice(j,0,k[0]),_e})),[])}var index$i={compact,permutations,range,rotate,shuffle};const EmptyPcset={empty:!0,name:"",setNum:0,chroma:"000000000000",normalized:"000000000000",intervals:[]},setNumToChroma=k=>Number(k).toString(2),chromaToNumber=k=>parseInt(k,2),REGEX$3=/^[01]{12}$/;function isChroma(k){return REGEX$3.test(k)}const isPcsetNum=k=>typeof k=="number"&&k>=0&&k<=4095,isPcset=k=>k&&isChroma(k.chroma),cache$1={[EmptyPcset.chroma]:EmptyPcset};function get$a(k){const b=isChroma(k)?k:isPcsetNum(k)?setNumToChroma(k):Array.isArray(k)?listToChroma(k):isPcset(k)?k.chroma:EmptyPcset.chroma;return cache$1[b]=cache$1[b]||chromaToPcset(b)}const pcset=deprecate("Pcset.pcset","Pcset.get",get$a),chroma$1=k=>get$a(k).chroma,intervals=k=>get$a(k).intervals,num$1=k=>get$a(k).setNum,IVLS=["1P","2m","2M","3m","3M","4P","5d","5P","6m","6M","7m","7M"];function chromaToIntervals(k){const b=[];for(let _=0;_<12;_++)k.charAt(_)==="1"&&b.push(IVLS[_]);return b}function chromas(){return range(2048,4095).map(setNumToChroma)}function modes$1(k,b=!0){const $=get$a(k).chroma.split("");return compact($.map((j,_e)=>{const et=rotate(_e,$);return b&&et[0]==="0"?null:et.join("")}))}function isEqual(k,b){return get$a(k).setNum===get$a(b).setNum}function isSubsetOf(k){const b=get$a(k).setNum;return _=>{const $=get$a(_).setNum;return b&&b!==$&&($&b)===$}}function isSupersetOf(k){const b=get$a(k).setNum;return _=>{const $=get$a(_).setNum;return b&&b!==$&&($|b)===$}}function isNoteIncludedIn(k){const b=get$a(k);return _=>{const $=note(_);return b&&!$.empty&&b.chroma.charAt($.chroma)==="1"}}function filter(k){const b=isNoteIncludedIn(k);return _=>_.filter(b)}var index$h={get:get$a,chroma:chroma$1,num:num$1,intervals,chromas,isSupersetOf,isSubsetOf,isNoteIncludedIn,isEqual,filter,modes:modes$1,pcset};function chromaRotations(k){const b=k.split("");return b.map((_,$)=>rotate($,b).join(""))}function chromaToPcset(k){const b=chromaToNumber(k),_=chromaRotations(k).map(chromaToNumber).filter(_e=>_e>=2048).sort()[0],$=setNumToChroma(_),j=chromaToIntervals(k);return{empty:!1,name:"",setNum:b,chroma:k,normalized:$,intervals:j}}function listToChroma(k){if(k.length===0)return EmptyPcset.chroma;let b;const _=[0,0,0,0,0,0,0,0,0,0,0,0];for(let $=0;$<k.length;$++)b=note(k[$]),b.empty&&(b=interval(k[$])),b.empty||(_[b.chroma]=1);return _.join("")}const CHORDS=[["1P 3M 5P","major","M ^ "],["1P 3M 5P 7M","major seventh","maj7 \u0394 ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 \u03949 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth/ninth","6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 \u0394#4 \u0394#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -\u03947 m\u0394 -^7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim \xB0 o"],["1P 3m 5d 7d","diminished seventh","dim7 \xB07 o7"],["1P 3m 5d 7m","half-diminished","m7b5 \xF8 -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 \u03949#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],NoChordType={...EmptyPcset,name:"",quality:"Unknown",intervals:[],aliases:[]};let dictionary$1=[],index$g={};function get$9(k){return index$g[k]||NoChordType}const chordType=deprecate("ChordType.chordType","ChordType.get",get$9);function names$8(){return dictionary$1.map(k=>k.name).filter(k=>k)}function symbols(){return dictionary$1.map(k=>k.aliases[0]).filter(k=>k)}function keys$1(){return Object.keys(index$g)}function all$2(){return dictionary$1.slice()}const entries$2=deprecate("ChordType.entries","ChordType.all",all$2);function removeAll$1(){dictionary$1=[],index$g={}}function add$3(k,b,_){const $=getQuality(k),j={...get$a(k),name:_||"",quality:$,intervals:k,aliases:b};dictionary$1.push(j),j.name&&(index$g[j.name]=j),index$g[j.setNum]=j,index$g[j.chroma]=j,j.aliases.forEach(_e=>addAlias$1(j,_e))}function addAlias$1(k,b){index$g[b]=k}function getQuality(k){const b=_=>k.indexOf(_)!==-1;return b("5A")?"Augmented":b("3M")?"Major":b("5d")?"Diminished":b("3m")?"Minor":"Unknown"}CHORDS.forEach(([k,b,_])=>add$3(k.split(" "),_.split(" "),b));dictionary$1.sort((k,b)=>k.setNum-b.setNum);var index$1$3={names:names$8,symbols,get:get$9,all:all$2,add:add$3,removeAll:removeAll$1,keys:keys$1,entries:entries$2,chordType};const namedSet=k=>{const b=k.reduce((_,$)=>{const j=note($).chroma;return j!==void 0&&(_[j]=_[j]||note($).name),_},{});return _=>b[_]};function detect(k){const b=k.map($=>note($).pc).filter($=>$);return note.length===0?[]:findExactMatches(b,1).filter($=>$.weight).sort(($,j)=>j.weight-$.weight).map($=>$.name)}function findExactMatches(k,b){const _=k[0],$=note(_).chroma,j=namedSet(k),_e=modes$1(k,!1),et=[];return _e.forEach((tt,nt)=>{all$2().filter(rt=>rt.chroma===tt).forEach(rt=>{const st=rt.aliases[0],ot=j(nt);nt!==$?et.push({weight:.5*b,name:`${ot}${st}/${_}`}):et.push({weight:1*b,name:`${ot}${st}`})})}),et}const SCALES=[["1P 2M 3M 5P 6M","major pentatonic","pentatonic"],["1P 3M 4P 5P 7M","ionian pentatonic"],["1P 3M 4P 5P 7m","mixolydian pentatonic","indian"],["1P 2M 4P 5P 6M","ritusen"],["1P 2M 4P 5P 7m","egyptian"],["1P 3M 4P 5d 7m","neopolitan major pentatonic"],["1P 3m 4P 5P 6m","vietnamese 1"],["1P 2m 3m 5P 6m","pelog"],["1P 2m 4P 5P 6m","kumoijoshi"],["1P 2M 3m 5P 6m","hirajoshi"],["1P 2m 4P 5d 7m","iwato"],["1P 2m 4P 5P 7m","in-sen"],["1P 3M 4A 5P 7M","lydian pentatonic","chinese"],["1P 3m 4P 6m 7m","malkos raga"],["1P 3m 4P 5d 7m","locrian pentatonic","minor seven flat five pentatonic"],["1P 3m 4P 5P 7m","minor pentatonic","vietnamese 2"],["1P 3m 4P 5P 6M","minor six pentatonic"],["1P 2M 3m 5P 6M","flat three pentatonic","kumoi"],["1P 2M 3M 5P 6m","flat six pentatonic"],["1P 2m 3M 5P 6M","scriabin"],["1P 3M 5d 6m 7m","whole tone pentatonic"],["1P 3M 4A 5A 7M","lydian #5P pentatonic"],["1P 3M 4A 5P 7m","lydian dominant pentatonic"],["1P 3m 4P 5P 7M","minor #7M pentatonic"],["1P 3m 4d 5d 7m","super locrian pentatonic"],["1P 2M 3m 4P 5P 7M","minor hexatonic"],["1P 2A 3M 5P 5A 7M","augmented"],["1P 2M 3m 3M 5P 6M","major blues"],["1P 2M 4P 5P 6M 7m","piongio"],["1P 2m 3M 4A 6M 7m","prometheus neopolitan"],["1P 2M 3M 4A 6M 7m","prometheus"],["1P 2m 3M 5d 6m 7m","mystery #1"],["1P 2m 3M 4P 5A 6M","six tone symmetric"],["1P 2M 3M 4A 5A 7m","whole tone","messiaen's mode #1"],["1P 2m 4P 4A 5P 7M","messiaen's mode #5"],["1P 3m 4P 5d 5P 7m","minor blues","blues"],["1P 2M 3M 4P 5d 6m 7m","locrian major","arabian"],["1P 2m 3M 4A 5P 6m 7M","double harmonic lydian"],["1P 2M 3m 4P 5P 6m 7M","harmonic minor"],["1P 2m 2A 3M 4A 6m 7m","altered","super locrian","diminished whole tone","pomeroy"],["1P 2M 3m 4P 5d 6m 7m","locrian #2","half-diminished","aeolian b5"],["1P 2M 3M 4P 5P 6m 7m","mixolydian b6","melodic minor fifth mode","hindu"],["1P 2M 3M 4A 5P 6M 7m","lydian dominant","lydian b7","overtone"],["1P 2M 3M 4A 5P 6M 7M","lydian"],["1P 2M 3M 4A 5A 6M 7M","lydian augmented"],["1P 2m 3m 4P 5P 6M 7m","dorian b2","phrygian #6","melodic minor second mode"],["1P 2M 3m 4P 5P 6M 7M","melodic minor"],["1P 2m 3m 4P 5d 6m 7m","locrian"],["1P 2m 3m 4d 5d 6m 7d","ultralocrian","superlocrian bb7","superlocrian diminished"],["1P 2m 3m 4P 5d 6M 7m","locrian 6","locrian natural 6","locrian sharp 6"],["1P 2A 3M 4P 5P 5A 7M","augmented heptatonic"],["1P 2M 3m 4A 5P 6M 7m","dorian #4","ukrainian dorian","romanian minor","altered dorian"],["1P 2M 3m 4A 5P 6M 7M","lydian diminished"],["1P 2m 3m 4P 5P 6m 7m","phrygian"],["1P 2M 3M 4A 5A 7m 7M","leading whole tone"],["1P 2M 3M 4A 5P 6m 7m","lydian minor"],["1P 2m 3M 4P 5P 6m 7m","phrygian dominant","spanish","phrygian major"],["1P 2m 3m 4P 5P 6m 7M","balinese"],["1P 2m 3m 4P 5P 6M 7M","neopolitan major"],["1P 2M 3m 4P 5P 6m 7m","aeolian","minor"],["1P 2M 3M 4P 5P 6m 7M","harmonic major"],["1P 2m 3M 4P 5P 6m 7M","double harmonic major","gypsy"],["1P 2M 3m 4P 5P 6M 7m","dorian"],["1P 2M 3m 4A 5P 6m 7M","hungarian minor"],["1P 2A 3M 4A 5P 6M 7m","hungarian major"],["1P 2m 3M 4P 5d 6M 7m","oriental"],["1P 2m 3m 3M 4A 5P 7m","flamenco"],["1P 2m 3m 4A 5P 6m 7M","todi raga"],["1P 2M 3M 4P 5P 6M 7m","mixolydian","dominant"],["1P 2m 3M 4P 5d 6m 7M","persian"],["1P 2M 3M 4P 5P 6M 7M","major","ionian"],["1P 2m 3M 5d 6m 7m 7M","enigmatic"],["1P 2M 3M 4P 5A 6M 7M","major augmented","major #5","ionian augmented","ionian #5"],["1P 2A 3M 4A 5P 6M 7M","lydian #9"],["1P 2m 2M 4P 4A 5P 6m 7M","messiaen's mode #4"],["1P 2m 3M 4P 4A 5P 6m 7M","purvi raga"],["1P 2m 3m 3M 4P 5P 6m 7m","spanish heptatonic"],["1P 2M 3M 4P 5P 6M 7m 7M","bebop"],["1P 2M 3m 3M 4P 5P 6M 7m","bebop minor"],["1P 2M 3M 4P 5P 5A 6M 7M","bebop major"],["1P 2m 3m 4P 5d 5P 6m 7m","bebop locrian"],["1P 2M 3m 4P 5P 6m 7m 7M","minor bebop"],["1P 2M 3m 4P 5d 6m 6M 7M","diminished","whole-half diminished"],["1P 2M 3M 4P 5d 5P 6M 7M","ichikosucho"],["1P 2M 3m 4P 5P 6m 6M 7M","minor six diminished"],["1P 2m 3m 3M 4A 5P 6M 7m","half-whole diminished","dominant diminished","messiaen's mode #2"],["1P 3m 3M 4P 5P 6M 7m 7M","kafi raga"],["1P 2M 3M 4P 4A 5A 6A 7M","messiaen's mode #6"],["1P 2M 3m 3M 4P 5d 5P 6M 7m","composite blues"],["1P 2M 3m 3M 4A 5P 6m 7m 7M","messiaen's mode #3"],["1P 2m 2M 3m 4P 4A 5P 6m 6M 7M","messiaen's mode #7"],["1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M","chromatic"]],NoScaleType={...EmptyPcset,intervals:[],aliases:[]};let dictionary=[],index$f={};function names$7(){return dictionary.map(k=>k.name)}function get$8(k){return index$f[k]||NoScaleType}const scaleType=deprecate("ScaleDictionary.scaleType","ScaleType.get",get$8);function all$1(){return dictionary.slice()}const entries$1=deprecate("ScaleDictionary.entries","ScaleType.all",all$1);function keys(){return Object.keys(index$f)}function removeAll(){dictionary=[],index$f={}}function add$2(k,b,_=[]){const $={...get$a(k),name:b,intervals:k,aliases:_};return dictionary.push($),index$f[$.name]=$,index$f[$.setNum]=$,index$f[$.chroma]=$,$.aliases.forEach(j=>addAlias($,j)),$}function addAlias(k,b){index$f[b]=k}SCALES.forEach(([k,b,..._])=>add$2(k.split(" "),b,_));var index$1$2={names:names$7,get:get$8,all:all$1,add:add$2,removeAll,keys,entries:entries$1,scaleType};const NoChord={empty:!0,name:"",symbol:"",root:"",rootDegree:0,type:"",tonic:null,setNum:NaN,quality:"Unknown",chroma:"",normalized:"",aliases:[],notes:[],intervals:[]},NUM_TYPES=/^(6|64|7|9|11|13)$/;function tokenize$2(k){const[b,_,$,j]=tokenizeNote(k);return b===""?["",k]:b==="A"&&j==="ug"?["","aug"]:!j&&($==="4"||$==="5")?[b+_,$]:NUM_TYPES.test($)?[b+_,$+j]:[b+_+$,j]}function get$7(k){if(k==="")return NoChord;if(Array.isArray(k)&&k.length===2)return getChord(k[1],k[0]);{const[b,_]=tokenize$2(k),$=getChord(_,b);return $.empty?getChord(k):$}}function getChord(k,b,_){const $=get$9(k),j=note(b||""),_e=note(_||"");if($.empty||b&&j.empty||_&&_e.empty)return NoChord;const et=distance$3(j.pc,_e.pc),tt=$.intervals.indexOf(et)+1;if(!_e.empty&&!tt)return NoChord;const nt=Array.from($.intervals);for(let ot=1;ot<tt;ot++){const ut=nt[0][0],lt=nt[0][1],ft=parseInt(ut,10)+7;nt.push(`${ft}${lt}`),nt.shift()}const it=j.empty?[]:nt.map(ot=>transpose$3(j,ot));k=$.aliases.indexOf(k)!==-1?k:$.aliases[0];const rt=`${j.empty?"":j.pc}${k}${_e.empty||tt<=1?"":"/"+_e.pc}`,st=`${b?j.pc+" ":""}${$.name}${tt>1&&_?" over "+_e.pc:""}`;return{...$,name:st,symbol:rt,type:$.name,root:_e.name,intervals:nt,rootDegree:tt,tonic:j.name,notes:it}}const chord=deprecate("Chord.chord","Chord.get",get$7);function transpose$1(k,b){const[_,$]=tokenize$2(k);return _?transpose$3(_,b)+$:k}function chordScales(k){const b=get$7(k),_=isSupersetOf(b.chroma);return all$1().filter($=>_($.chroma)).map($=>$.name)}function extended$1(k){const b=get$7(k),_=isSupersetOf(b.chroma);return all$2().filter($=>_($.chroma)).map($=>b.tonic+$.aliases[0])}function reduced$1(k){const b=get$7(k),_=isSubsetOf(b.chroma);return all$2().filter($=>_($.chroma)).map($=>b.tonic+$.aliases[0])}var index$e={getChord,get:get$7,detect,chordScales,extended:extended$1,reduced:reduced$1,tokenize:tokenize$2,transpose:transpose$1,chord};const DATA=[[.125,"dl",["large","duplex longa","maxima","octuple","octuple whole"]],[.25,"l",["long","longa"]],[.5,"d",["double whole","double","breve"]],[1,"w",["whole","semibreve"]],[2,"h",["half","minim"]],[4,"q",["quarter","crotchet"]],[8,"e",["eighth","quaver"]],[16,"s",["sixteenth","semiquaver"]],[32,"t",["thirty-second","demisemiquaver"]],[64,"sf",["sixty-fourth","hemidemisemiquaver"]],[128,"h",["hundred twenty-eighth"]],[256,"th",["two hundred fifty-sixth"]]],VALUES=[];DATA.forEach(([k,b,_])=>add$1(k,b,_));const NoDuration={empty:!0,name:"",value:0,fraction:[0,0],shorthand:"",dots:"",names:[]};function names$6(){return VALUES.reduce((k,b)=>(b.names.forEach(_=>k.push(_)),k),[])}function shorthands(){return VALUES.map(k=>k.shorthand)}const REGEX$2=/^([^.]+)(\.*)$/;function get$6(k){const[b,_,$]=REGEX$2.exec(k)||[],j=VALUES.find(tt=>tt.shorthand===_||tt.names.includes(_));if(!j)return NoDuration;const _e=calcDots(j.fraction,$.length),et=_e[0]/_e[1];return{...j,name:k,dots:$,value:et,fraction:_e}}const value=k=>get$6(k).value,fraction=k=>get$6(k).fraction;var index$d={names:names$6,shorthands,get:get$6,value,fraction};function add$1(k,b,_){VALUES.push({empty:!1,dots:"",name:"",value:1/k,fraction:k<1?[1/k,1]:[1,k],shorthand:b,names:_})}function calcDots(k,b){const _=Math.pow(2,b);let $=k[0]*_,j=k[1]*_;const _e=$;for(let et=0;et<b;et++)$+=_e/Math.pow(2,et+1);for(;$%2===0&&j%2===0;)$/=2,j/=2;return[$,j]}function names$5(){return"1P 2M 3M 4P 5P 6m 7m".split(" ")}const get$5=interval,name$1=k=>interval(k).name,semitones=k=>interval(k).semitones,quality=k=>interval(k).q,num=k=>interval(k).num;function simplify$1(k){const b=interval(k);return b.empty?"":b.simple+b.q}function invert(k){const b=interval(k);if(b.empty)return"";const _=(7-b.step)%7,$=b.type==="perfectable"?-b.alt:-(b.alt+1);return interval({step:_,alt:$,oct:b.oct,dir:b.dir}).name}const IN=[1,2,2,3,3,4,5,5,6,6,7,7],IQ="P m M m M P d P m M m M".split(" ");function fromSemitones(k){const b=k<0?-1:1,_=Math.abs(k),$=_%12,j=Math.floor(_/12);return b*(IN[$]+7*j)+IQ[$]}const distance$1=distance$3,add=combinator((k,b)=>[k[0]+b[0],k[1]+b[1]]),addTo=k=>b=>add(k,b),substract=combinator((k,b)=>[k[0]-b[0],k[1]-b[1]]);function transposeFifths$1(k,b){const _=get$5(k);if(_.empty)return"";const[$,j,_e]=_.coord;return coordToInterval([$+b,j,_e]).name}var index$c={names:names$5,get:get$5,name:name$1,num,semitones,quality,fromSemitones,distance:distance$1,invert,simplify:simplify$1,add,addTo,substract,transposeFifths:transposeFifths$1};function combinator(k){return(b,_)=>{const $=interval(b).coord,j=interval(_).coord;if($&&j){const _e=k($,j);return coordToInterval(_e).name}}}function isMidi(k){return+k>=0&&+k<=127}function toMidi$1(k){if(isMidi(k))return+k;const b=note(k);return b.empty?null:b.midi}function midiToFreq(k,b=440){return Math.pow(2,(k-69)/12)*b}const L2=Math.log(2),L440=Math.log(440);function freqToMidi(k){const b=12*(Math.log(k)-L440)/L2+69;return Math.round(b*100)/100}const SHARPS="C C# D D# E F F# G G# A A# B".split(" "),FLATS="C Db D Eb E F Gb G Ab A Bb B".split(" ");function midiToNoteName(k,b={}){if(isNaN(k)||k===-1/0||k===1/0)return"";k=Math.round(k);const $=(b.sharps===!0?SHARPS:FLATS)[k%12];if(b.pitchClass)return $;const j=Math.floor(k/12)-1;return $+j}var index$b={isMidi,toMidi:toMidi$1,midiToFreq,midiToNoteName,freqToMidi};const NAMES$2=["C","D","E","F","G","A","B"],toName=k=>k.name,onlyNotes=k=>k.map(note).filter(b=>!b.empty);function names$4(k){return k===void 0?NAMES$2.slice():Array.isArray(k)?onlyNotes(k).map(toName):[]}const get$4=note,name=k=>get$4(k).name,pitchClass=k=>get$4(k).pc,accidentals=k=>get$4(k).acc,octave=k=>get$4(k).oct,midi=k=>get$4(k).midi,freq=k=>get$4(k).freq,chroma=k=>get$4(k).chroma;function fromMidi(k){return midiToNoteName(k)}function fromFreq(k){return midiToNoteName(freqToMidi(k))}function fromFreqSharps(k){return midiToNoteName(freqToMidi(k),{sharps:!0})}function fromMidiSharps(k){return midiToNoteName(k,{sharps:!0})}const transpose=transpose$3,tr=transpose$3,transposeBy=k=>b=>transpose(b,k),trBy=transposeBy,transposeFrom=k=>b=>transpose(k,b),trFrom=transposeFrom;function transposeFifths(k,b){const _=get$4(k);if(_.empty)return"";const[$,j]=_.coord;return coordToNote(j===void 0?[$+b]:[$+b,j]).name}const trFifths=transposeFifths,ascending=(k,b)=>k.height-b.height,descending=(k,b)=>b.height-k.height;function sortedNames(k,b){return b=b||ascending,onlyNotes(k).sort(b).map(toName)}function sortedUniqNames(k){return sortedNames(k,ascending).filter((b,_,$)=>_===0||b!==$[_-1])}const simplify=k=>{const b=get$4(k);return b.empty?"":midiToNoteName(b.midi||b.chroma,{sharps:b.alt>0,pitchClass:b.midi===null})};function enharmonic(k,b){const _=get$4(k);if(_.empty)return"";const $=get$4(b||midiToNoteName(_.midi||_.chroma,{sharps:_.alt<0,pitchClass:!0}));if($.empty||$.chroma!==_.chroma)return"";if(_.oct===void 0)return $.pc;const j=_.chroma-_.alt,_e=$.chroma-$.alt,et=j>11||_e<0?-1:j<0||_e>11?1:0,tt=_.oct+et;return $.pc+tt}var index$a={names:names$4,get:get$4,name,pitchClass,accidentals,octave,midi,ascending,descending,sortedNames,sortedUniqNames,fromMidi,fromMidiSharps,freq,fromFreq,fromFreqSharps,chroma,transpose,tr,transposeBy,trBy,transposeFrom,trFrom,transposeFifths,trFifths,simplify,enharmonic};const NoRomanNumeral={empty:!0,name:"",chordType:""},cache={};function get$3(k){return typeof k=="string"?cache[k]||(cache[k]=parse$1(k)):typeof k=="number"?get$3(NAMES$1[k]||""):isPitch(k)?fromPitch(k):isNamed(k)?get$3(k.name):NoRomanNumeral}const romanNumeral=deprecate("RomanNumeral.romanNumeral","RomanNumeral.get",get$3);function names$3(k=!0){return(k?NAMES$1:NAMES_MINOR).slice()}function fromPitch(k){return get$3(altToAcc(k.alt)+NAMES$1[k.step])}const REGEX$1=/^(#{1,}|b{1,}|x{1,}|)(IV|I{1,3}|VI{0,2}|iv|i{1,3}|vi{0,2})([^IViv]*)$/;function tokenize$1(k){return REGEX$1.exec(k)||["","","",""]}const ROMANS="I II III IV V VI VII",NAMES$1=ROMANS.split(" "),NAMES_MINOR=ROMANS.toLowerCase().split(" ");function parse$1(k){const[b,_,$,j]=tokenize$1(k);if(!$)return NoRomanNumeral;const _e=$.toUpperCase(),et=NAMES$1.indexOf(_e),tt=accToAlt(_),nt=1;return{empty:!1,name:b,roman:$,interval:interval({step:et,alt:tt,dir:nt}).name,acc:_,chordType:j,alt:tt,step:et,major:$===_e,oct:0,dir:nt}}var index$9={names:names$3,get:get$3,romanNumeral};const Empty=Object.freeze([]),NoKey={type:"major",tonic:"",alteration:0,keySignature:""},NoKeyScale={tonic:"",grades:Empty,intervals:Empty,scale:Empty,chords:Empty,chordsHarmonicFunction:Empty,chordScales:Empty},NoMajorKey={...NoKey,...NoKeyScale,type:"major",minorRelative:"",scale:Empty,secondaryDominants:Empty,secondaryDominantsMinorRelative:Empty,substituteDominants:Empty,substituteDominantsMinorRelative:Empty},NoMinorKey={...NoKey,type:"minor",relativeMajor:"",natural:NoKeyScale,harmonic:NoKeyScale,melodic:NoKeyScale},mapScaleToType=(k,b,_="")=>b.map(($,j)=>`${k[j]}${_}${$}`);function keyScale(k,b,_,$){return j=>{const _e=k.map(tt=>get$3(tt).interval||""),et=_e.map(tt=>transpose$3(j,tt));return{tonic:j,grades:k,intervals:_e,scale:et,chords:mapScaleToType(et,b),chordsHarmonicFunction:_.slice(),chordScales:mapScaleToType(et,$," ")}}}const distInFifths=(k,b)=>{const _=note(k),$=note(b);return _.empty||$.empty?0:$.coord[0]-_.coord[0]},MajorScale=keyScale("I II III IV V VI VII".split(" "),"maj7 m7 m7 maj7 7 m7 m7b5".split(" "),"T SD T SD D T D".split(" "),"major,dorian,phrygian,lydian,mixolydian,minor,locrian".split(",")),NaturalScale=keyScale("I II bIII IV V bVI bVII".split(" "),"m7 m7b5 maj7 m7 m7 maj7 7".split(" "),"T SD T SD D SD SD".split(" "),"minor,locrian,major,dorian,phrygian,lydian,mixolydian".split(",")),HarmonicScale=keyScale("I II bIII IV V bVI VII".split(" "),"mMaj7 m7b5 +maj7 m7 7 maj7 o7".split(" "),"T SD T SD D SD D".split(" "),"harmonic minor,locrian 6,major augmented,lydian diminished,phrygian dominant,lydian #9,ultralocrian".split(",")),MelodicScale=keyScale("I II bIII IV V VI VII".split(" "),"m6 m7 +maj7 7 7 m7b5 m7b5".split(" "),"T SD T SD D  ".split(" "),"melodic minor,dorian b2,lydian augmented,lydian dominant,mixolydian b6,locrian #2,altered".split(","));function majorKey(k){const b=note(k).pc;if(!b)return NoMajorKey;const _=MajorScale(b),$=distInFifths("C",b),j=_e=>{const et=get$3(_e);return et.empty?"":transpose$3(k,et.interval)+et.chordType};return{..._,type:"major",minorRelative:transpose$3(b,"-3m"),alteration:$,keySignature:altToAcc($),secondaryDominants:"- VI7 VII7 I7 II7 III7 -".split(" ").map(j),secondaryDominantsMinorRelative:"- IIIm7b5 IV#m7 Vm7 VIm7 VIIm7b5 -".split(" ").map(j),substituteDominants:"- bIII7 IV7 bV7 bVI7 bVII7 -".split(" ").map(j),substituteDominantsMinorRelative:"- IIIm7 Im7 IIbm7 VIm7 IVm7 -".split(" ").map(j)}}function minorKey(k){const b=note(k).pc;if(!b)return NoMinorKey;const _=distInFifths("C",b)-3;return{type:"minor",tonic:b,relativeMajor:transpose$3(b,"3m"),alteration:_,keySignature:altToAcc(_),natural:NaturalScale(b),harmonic:HarmonicScale(b),melodic:MelodicScale(b)}}function majorTonicFromKeySignature(k){return typeof k=="number"?transposeFifths("C",k):typeof k=="string"&&/^b+|#+$/.test(k)?transposeFifths("C",accToAlt(k)):null}var index$8={majorKey,majorTonicFromKeySignature,minorKey};const MODES=[[0,2773,0,"ionian","","Maj7","major"],[1,2902,2,"dorian","m","m7"],[2,3418,4,"phrygian","m","m7"],[3,2741,-1,"lydian","","Maj7"],[4,2774,1,"mixolydian","","7"],[5,2906,3,"aeolian","m","m7","minor"],[6,3434,5,"locrian","dim","m7b5"]],NoMode={...EmptyPcset,name:"",alt:0,modeNum:NaN,triad:"",seventh:"",aliases:[]},modes=MODES.map(toMode),index$7={};modes.forEach(k=>{index$7[k.name]=k,k.aliases.forEach(b=>{index$7[b]=k})});function get$2(k){return typeof k=="string"?index$7[k.toLowerCase()]||NoMode:k&&k.name?get$2(k.name):NoMode}const mode=deprecate("Mode.mode","Mode.get",get$2);function all(){return modes.slice()}const entries=deprecate("Mode.mode","Mode.all",all);function names$2(){return modes.map(k=>k.name)}function toMode(k){const[b,_,$,j,_e,et,tt]=k,nt=tt?[tt]:[],it=Number(_).toString(2);return{empty:!1,intervals:get$8(j).intervals,modeNum:b,chroma:it,normalized:it,name:j,setNum:_,alt:$,triad:_e,seventh:et,aliases:nt}}function notes(k,b){return get$2(k).intervals.map(_=>transpose$3(b,_))}function chords(k){return(b,_)=>{const $=get$2(b);if($.empty)return[];const j=rotate($.modeNum,k),_e=$.intervals.map(et=>transpose$3(_,et));return j.map((et,tt)=>_e[tt]+et)}}const triads=chords(MODES.map(k=>k[4])),seventhChords=chords(MODES.map(k=>k[5]));function distance(k,b){const _=get$2(b),$=get$2(k);return _.empty||$.empty?"":simplify$1(transposeFifths$1("1P",$.alt-_.alt))}function relativeTonic(k,b,_){return transpose$3(_,distance(k,b))}var index$1$1={get:get$2,names:names$2,all,distance,relativeTonic,notes,triads,seventhChords,entries,mode};function fromRomanNumerals(k,b){return b.map(get$3).map($=>transpose$3(k,interval($))+$.chordType)}function toRomanNumerals(k,b){return b.map(_=>{const[$,j]=tokenize$2(_),_e=distance$3(k,$);return get$3(interval(_e)).name+j})}var index$6={fromRomanNumerals,toRomanNumerals};function numeric(k){const b=compact(k.map(toMidi$1));return!k.length||b.length!==k.length?[]:b.reduce((_,$)=>{const j=_[_.length-1];return _.concat(range(j,$).slice(1))},[b[0]])}function chromatic(k,b){return numeric(k).map(_=>midiToNoteName(_,b))}var index$5={numeric,chromatic};const NoScale={empty:!0,name:"",type:"",tonic:null,setNum:NaN,chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function tokenize(k){if(typeof k!="string")return["",""];const b=k.indexOf(" "),_=note(k.substring(0,b));if(_.empty){const j=note(k);return j.empty?["",k]:[j.name,""]}const $=k.substring(_.name.length+1);return[_.name,$.length?$:""]}const names$1=names$7;function get$1(k){const b=Array.isArray(k)?k:tokenize(k),_=note(b[0]).name,$=get$8(b[1]);if($.empty)return NoScale;const j=$.name,_e=_?$.intervals.map(tt=>transpose$3(_,tt)):[],et=_?_+" "+j:j;return{...$,name:et,type:j,tonic:_,notes:_e}}const scale=deprecate("Scale.scale","Scale.get",get$1);function scaleChords(k){const b=get$1(k),_=isSubsetOf(b.chroma);return all$2().filter($=>_($.chroma)).map($=>$.aliases[0])}function extended(k){const b=get$1(k),_=isSupersetOf(b.chroma);return all$1().filter($=>_($.chroma)).map($=>$.name)}function reduced(k){const b=isSubsetOf(get$1(k).chroma);return all$1().filter(_=>b(_.chroma)).map(_=>_.name)}function scaleNotes(k){const b=k.map(j=>note(j).pc).filter(j=>j),_=b[0],$=sortedUniqNames(b);return rotate($.indexOf(_),$)}function modeNames(k){const b=get$1(k);if(b.empty)return[];const _=b.tonic?b.notes:b.intervals;return modes$1(b.chroma).map(($,j)=>{const _e=get$1($).name;return _e?[_[j],_e]:["",""]}).filter($=>$[0])}function getNoteNameOf(k){const b=Array.isArray(k)?scaleNotes(k):get$1(k).notes,_=b.map($=>note($).chroma);return $=>{const j=note(typeof $=="number"?fromMidi($):$),_e=j.height;if(_e===void 0)return;const et=_e%12,tt=_.indexOf(et);if(tt!==-1)return enharmonic(j.name,b[tt])}}function rangeOf(k){const b=getNoteNameOf(k);return(_,$)=>{const j=note(_).height,_e=note($).height;return j===void 0||_e===void 0?[]:range(j,_e).map(b).filter(et=>et)}}var index$4={get:get$1,names:names$1,extended,modeNames,reduced,scaleChords,scaleNotes,tokenize,rangeOf,scale};const NONE={empty:!0,name:"",upper:void 0,lower:void 0,type:void 0,additive:[]},NAMES=["4/4","3/4","2/4","2/2","12/8","9/8","6/8","3/8"];function names(){return NAMES.slice()}const REGEX=/^(\d?\d(?:\+\d)*)\/(\d)$/,CACHE=new Map;function get(k){const b=CACHE.get(k);if(b)return b;const _=build(parse(k));return CACHE.set(k,_),_}function parse(k){if(typeof k=="string"){const[_e,et,tt]=REGEX.exec(k)||[];return parse([et,tt])}const[b,_]=k,$=+_;if(typeof b=="number")return[b,$];const j=b.split("+").map(_e=>+_e);return j.length===1?[j[0],$]:[j,$]}var index$3={names,parse,get};function build([k,b]){const _=Array.isArray(k)?k.reduce((tt,nt)=>tt+nt,0):k,$=b;if(_===0||$===0)return NONE;const j=Array.isArray(k)?`${k.join("+")}/${b}`:`${k}/${b}`,_e=Array.isArray(k)?k:[],et=$===4||$===2?"simple":$===8&&_%3===0?"compound":"irregular";return{empty:!1,name:j,type:et,upper:_,lower:$,additive:_e}}const Tonal=Core,PcSet=index$h,ChordDictionary=index$1$3,ScaleDictionary=index$1$2,index_es=Object.freeze(Object.defineProperty({__proto__:null,Array:index_es$1,Core,ChordDictionary,PcSet,ScaleDictionary,Tonal,AbcNotation:index$j,Chord:index$e,ChordType:index$1$3,Collection:index$i,DurationValue:index$d,Interval:index$c,Key:index$8,Midi:index$b,Mode:index$1$1,Note:index$a,Pcset:index$h,Progression:index$6,Range:index$5,RomanNumeral:index$9,Scale:index$4,ScaleType:index$1$2,TimeSignature:index$3,accToAlt,altToAcc,coordToInterval,coordToNote,decode,deprecate,distance:distance$3,encode,fillStr:fillStr$1,interval,isNamed,isPitch,note,stepToLetter,tokenizeInterval,tokenizeNote,transpose:transpose$3},Symbol.toStringTag,{value:"Module"}));function scaleOffset(k,b,_){let[$,j]=index$4.tokenize(k),{notes:_e}=index$4.get(`${$} ${j}`);if(_e=_e.map(ut=>index$a.get(ut).pc),b=Number(b),isNaN(b))throw new Error(`scale offset "${b}" not a number`);const{pc:et,oct:tt=3}=index$a.get(_),nt=_e.indexOf(et);if(nt===-1)throw new Error(`note "${_}" is not in scale "${k}"`);let it=nt,rt=tt,st=et;const ot=Math.sign(b);for(;Math.abs(it-nt)<Math.abs(b);){it+=ot;const ut=mod$1(it,_e.length);ot<0&&st[0]==="C"&&(rt+=ot),st=_e[ut],ot>0&&st[0]==="C"&&(rt+=ot)}return st+rt}Pattern$3.prototype._transpose=function(k){return this.withHap(b=>{const _=isNaN(Number(k))?String(k):index$c.fromSemitones(k);if(typeof b.value=="number"){const $=typeof _=="string"?index$c.semitones(_)||0:_;return b.withValue(()=>b.value+$)}return b.withValue(()=>index$a.simplify(index$a.transpose(b.value,_)))})};Pattern$3.prototype._scaleTranspose=function(k){return this.withHap(b=>{if(!b.context.scale)throw new Error("can only use scaleTranspose after .scale");if(typeof b.value!="string")throw new Error("can only use scaleTranspose with notes");return b.withValue(()=>scaleOffset(b.context.scale,Number(k),b.value))})};Pattern$3.prototype._scale=function(k){return this.withHap(b=>{let _=b.value;const $=Number(_);if(!isNaN($)){let[j,_e]=index$4.tokenize(k);const{pc:et,oct:tt=3}=index$a.get(j);_=scaleOffset(et+" "+_e,$,et+tt)}return b.withValue(()=>_).setContext({...b.context,scale:k})})};Pattern$3.prototype.define("transpose",(k,b)=>b.transpose(k),{composable:!0,patternified:!0});Pattern$3.prototype.define("scale",(k,b)=>b.scale(k),{composable:!0,patternified:!0});Pattern$3.prototype.define("scaleTranspose",(k,b)=>b.scaleTranspose(k),{composable:!0,patternified:!0});var dist={},dictionaryVoicing$1={},getBestVoicing$1={};getBestVoicing$1.__esModule=!0;getBestVoicing$1.getBestVoicing=void 0;function getBestVoicing(k){var b=k.chord,_=k.range,$=k.finder,j=k.picker,_e=k.lastVoicing,et=$(b,_);return et.length?j(et,_e):[]}getBestVoicing$1.getBestVoicing=getBestVoicing;var voicingsInRange={};const require$$0=getAugmentedNamespace(index_es);var tokenizeChord$1={};tokenizeChord$1.__esModule=!0;tokenizeChord$1.tokenizeChord=void 0;function tokenizeChord(k){var b=(k||"").match(/^([A-G][b#]*)([^\/]*)[\/]?([A-G][b#]*)?$/);return b?b.slice(1):[]}tokenizeChord$1.tokenizeChord=tokenizeChord;var hasRequiredVoicingsInRange;function requireVoicingsInRange(){if(hasRequiredVoicingsInRange)return voicingsInRange;hasRequiredVoicingsInRange=1,voicingsInRange.__esModule=!0,voicingsInRange.voicingsInRange=void 0;var k=require$$0,b=requireDictionaryVoicing(),_=tokenizeChord$1;function $(j,_e,et){_e===void 0&&(_e=b.lefthand),et===void 0&&(et=["D3","A4"]);var tt=(0,_.tokenizeChord)(j),nt=tt[0],it=tt[1];if(!_e[it])return[];var rt=_e[it].map(function(ot){return ot.split(" ")}),st=k.Range.chromatic(et);return rt.reduce(function(ot,ut){var lt=ut.map(function(mt){return k.Interval.substract(mt,ut[0])}),ft=k.Note.transpose(nt,ut[0]),ct=st.filter(function(mt){return k.Note.chroma(mt)===k.Note.chroma(ft)}).filter(function(mt){return k.Note.midi(k.Note.transpose(mt,lt[lt.length-1]))<=k.Note.midi(et[1])}).map(function(mt){return k.Note.enharmonic(mt,ft)}),pt=ct.map(function(mt){return lt.map(function(wt){return k.Note.transpose(mt,wt)})});return ot.concat(pt)},[])}return voicingsInRange.voicingsInRange=$,voicingsInRange}var hasRequiredDictionaryVoicing;function requireDictionaryVoicing(){return hasRequiredDictionaryVoicing||(hasRequiredDictionaryVoicing=1,function(k){var b=commonjsGlobal&&commonjsGlobal.__assign||function(){return b=Object.assign||function(tt){for(var nt,it=1,rt=arguments.length;it<rt;it++){nt=arguments[it];for(var st in nt)Object.prototype.hasOwnProperty.call(nt,st)&&(tt[st]=nt[st])}return tt},b.apply(this,arguments)},_=commonjsGlobal&&commonjsGlobal.__rest||function(tt,nt){var it={};for(var rt in tt)Object.prototype.hasOwnProperty.call(tt,rt)&&nt.indexOf(rt)<0&&(it[rt]=tt[rt]);if(tt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var st=0,rt=Object.getOwnPropertySymbols(tt);st<rt.length;st++)nt.indexOf(rt[st])<0&&Object.prototype.propertyIsEnumerable.call(tt,rt[st])&&(it[rt[st]]=tt[rt[st]]);return it};k.__esModule=!0,k.dictionaryVoicing=k.dictionaryVoicingFinder=k.triads=k.guidetones=k.lefthand=void 0;var $=getBestVoicing$1,j=requireVoicingsInRange();k.lefthand={m7:["3m 5P 7m 9M","7m 9M 10m 12P"],7:["3M 6M 7m 9M","7m 9M 10M 13M"],"^7":["3M 5P 7M 9M","7M 9M 10M 12P"],69:["3M 5P 6A 9M"],m7b5:["3m 5d 7m 8P","7m 8P 10m 12d"],"7b9":["3M 6m 7m 9m","7m 9m 10M 13m"],"7b13":["3M 6m 7m 9m","7m 9m 10M 13m"],o7:["1P 3m 5d 6M","5d 6M 8P 10m"],"7#11":["7m 9M 11A 13A"],"7#9":["3M 7m 9A"],mM7:["3m 5P 7M 9M","7M 9M 10m 12P"],m6:["3m 5P 6M 9M","6M 9M 10m 12P"]},k.guidetones={m7:["3m 7m","7m 10m"],m9:["3m 7m","7m 10m"],7:["3M 7m","7m 10M"],"^7":["3M 7M","7M 10M"],"^9":["3M 7M","7M 10M"],69:["3M 6M"],6:["3M 6M","6M 10M"],m7b5:["3m 7m","7m 10m"],"7b9":["3M 7m","7m 10M"],"7b13":["3M 7m","7m 10M"],o7:["3m 6M","6M 10m"],"7#11":["3M 7m","7m 10M"],"7#9":["3M 7m","7m 10M"],mM7:["3m 7M","7M 10m"],m6:["3m 6M","6M 10m"]},k.triads={M:["1P 3M 5P","3M 5P 8P","5P 8P 10M"],m:["1P 3m 5P","3m 5P 8P","5P 8P 10m"],o:["1P 3m 5d","3m 5d 8P","5d 8P 10m"],aug:["1P 3m 5A","3m 5A 8P","5A 8P 10m"]};var _e=function(tt){return function(nt,it){return(0,j.voicingsInRange)(nt,tt,it)}};k.dictionaryVoicingFinder=_e;var et=function(tt){var nt=tt.dictionary,it=tt.range,rt=_(tt,["dictionary","range"]);return(0,$.getBestVoicing)(b(b({},rt),{range:it,finder:(0,k.dictionaryVoicingFinder)(nt)}))};k.dictionaryVoicing=et}(dictionaryVoicing$1)),dictionaryVoicing$1}var minTopNoteDiff$2={};minTopNoteDiff$2.__esModule=!0;minTopNoteDiff$2.minTopNoteDiff=void 0;var tonal_1=require$$0;function minTopNoteDiff$1(k,b){if(!b)return k[0];var _=function($){return Math.abs(tonal_1.Note.midi(b[b.length-1])-tonal_1.Note.midi($[$.length-1]))};return k.reduce(function($,j){return _(j)<_($)?j:$},k[0])}minTopNoteDiff$2.minTopNoteDiff=minTopNoteDiff$1;(function(k){k.__esModule=!0;var b=requireDictionaryVoicing(),_=minTopNoteDiff$2,$=getBestVoicing$1,j=tokenizeChord$1;k.default={tokenizeChord:j.tokenizeChord,getBestVoicing:$.getBestVoicing,dictionaryVoicing:b.dictionaryVoicing,dictionaryVoicingFinder:b.dictionaryVoicingFinder,lefthand:b.lefthand,guidetones:b.guidetones,triads:b.triads,minTopNoteDiff:_.minTopNoteDiff}})(dist);const _voicings=getDefaultExportFromCjs(dist),{dictionaryVoicing,minTopNoteDiff,lefthand}=_voicings.default||_voicings,getVoicing=(k,b,_=["F3","A4"])=>dictionaryVoicing({chord:k,dictionary:lefthand,range:_,picker:minTopNoteDiff,lastVoicing:b}),Pattern$1=Pattern$3;Pattern$1.prototype.fmapNested=function(k){return new Pattern$1(b=>this.query(b).map(_=>reify$2(k(_)).query(b).map($=>new Hap(_.whole,_.part,$.value,$.context))).flat())};Pattern$1.prototype.voicings=function(k){let b;return k!=null&&k.length||(k=["F3","A4"]),this.fmapNested(_=>(b=getVoicing(_.value,b,k),stack$1(...b).withContext(()=>({locations:_.context.locations||[]}))))};Pattern$1.prototype._rootNotes=function(k=2){return this.fmap(b=>{const[_,$]=b.match(/^([a-gA-G][b#]?).*$/);return $+k})};Pattern$1.prototype.define("voicings",(k,b)=>b.voicings(k),{composable:!0});Pattern$1.prototype.define("rootNotes",(k,b)=>b.rootNotes(k),{composable:!0,patternified:!0});const index$2=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));function peg$subclass(k,b){function _(){this.constructor=k}_.prototype=b.prototype,k.prototype=new _}function peg$SyntaxError(k,b,_,$){var j=Error.call(this,k);return Object.setPrototypeOf&&Object.setPrototypeOf(j,peg$SyntaxError.prototype),j.expected=b,j.found=_,j.location=$,j.name="SyntaxError",j}peg$subclass(peg$SyntaxError,Error);function peg$padEnd(k,b,_){return _=_||" ",k.length>b?k:(b-=k.length,_+=_.repeat(b),k+_.slice(0,b))}peg$SyntaxError.prototype.format=function(k){var b="peg error: "+this.message;if(this.location){var _=null,$;for($=0;$<k.length;$++)if(k[$].source===this.location.source){_=k[$].text.split(/\r\n|\n|\r/g);break}var j=this.location.start,_e=this.location.source+":"+j.line+":"+j.column;if(_){var et=this.location.end,tt=peg$padEnd("",j.line.toString().length," "),nt=_[j.line-1],it=j.line===et.line?et.column:nt.length+1,rt=it-j.column||1;b+=`
 --> `+_e+`
`+tt+` |
`+j.line+" | "+nt+`
`+tt+" | "+peg$padEnd("",j.column-1," ")+peg$padEnd("",rt,"^")}else b+=`
 at `+_e}return b};peg$SyntaxError.buildMessage=function(k,b){var _={literal:function(it){return'"'+j(it.text)+'"'},class:function(it){var rt=it.parts.map(function(st){return Array.isArray(st)?_e(st[0])+"-"+_e(st[1]):_e(st)});return"["+(it.inverted?"^":"")+rt.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(it){return it.description}};function $(it){return it.charCodeAt(0).toString(16).toUpperCase()}function j(it){return it.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(rt){return"\\x0"+$(rt)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(rt){return"\\x"+$(rt)})}function _e(it){return it.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(rt){return"\\x0"+$(rt)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(rt){return"\\x"+$(rt)})}function et(it){return _[it.type](it)}function tt(it){var rt=it.map(et),st,ot;if(rt.sort(),rt.length>0){for(st=1,ot=1;st<rt.length;st++)rt[st-1]!==rt[st]&&(rt[ot]=rt[st],ot++);rt.length=ot}switch(rt.length){case 1:return rt[0];case 2:return rt[0]+" or "+rt[1];default:return rt.slice(0,-1).join(", ")+", or "+rt[rt.length-1]}}function nt(it){return it?'"'+j(it)+'"':"end of input"}return"Expected "+tt(k)+" but "+nt(b)+" found."};function peg$parse(k,b){b=b!==void 0?b:{};var _={},$=b.grammarSource,j={start:Dr},_e=Dr,et=".",tt="-",nt="+",it="0",rt=",",st="|",ot='"',ut="'",lt="#",ft="^",ct="_",pt=":",mt="[",wt="]",gt="<",vt=">",bt="@",Ct="!",Dt="(",_t=")",Rt="/",jt="*",Qt="%",Nt="?",Vt="struct",Yt="target",Wt="euclid",Jt="slow",Ut="rotL",Kt="rotR",mn="fast",Mt="scale",qt="//",Ht="cat",an="$",en="setcps",pn="setbpm",bn="hush",vn=/^[1-9]/,xn=/^[eE]/,Rn=/^[0-9]/,_n=/^[ \n\r\t]/,Fn=/^[0-9a-zA-Z~]/,ln=/^[^\n]/,$n=Ar("number"),Tn=fn(".",!1),Un=er([["1","9"]],!1,!1),zn=er(["e","E"],!1,!1),Gn=fn("-",!1),Yn=fn("+",!1),Bn=fn("0",!1),Xn=er([["0","9"]],!1,!1),jn=Ar("whitespace"),Qn=er([" ",`
`,"\r","	"],!1,!1),yn=fn(",",!1),An=fn("|",!1),nn=fn('"',!1),Dn=fn("'",!1),wn=er([["0","9"],["a","z"],["A","Z"],"~"],!1,!1),lr=fn("#",!1),ur=fn("^",!1),In=fn("_",!1),Jn=fn(":",!1),Nn=fn("[",!1),Sn=fn("]",!1),Kn=fn("<",!1),cr=fn(">",!1),Cn=fn("@",!1),Pn=fn("!",!1),Wn=fn("(",!1),Hn=fn(")",!1),_i=fn("/",!1),hr=fn("*",!1),fr=fn("%",!1),at=fn("?",!1),yt=fn("struct",!1),dt=fn("target",!1),Ot=fn("euclid",!1),St=fn("slow",!1),It=fn("rotL",!1),Ft=fn("rotR",!1),Lt=fn("fast",!1),Zt=fn("scale",!1),hn=fn("//",!1),On=er([`
`],!0,!1),Tt=fn("cat",!1),Et=fn("$",!1),Pt=fn("setcps",!1),xt=fn("setbpm",!1),Bt=fn("hush",!1),zt=function(){return parseFloat(ss())},Xt=function(ht){return ht.join("")},rn=function(ht){return ht},gn=function(ht){return ht.arguments_.alignment="t",ht},En=function(ht){return{weight:ht}},Ln=function(ht){return{replicate:ht}},dr=function(ht,At,$t){return{operator:{type_:"bjorklund",arguments_:{pulse:ht,step:At,rotation:$t||0}}}},mr=function(ht){return{operator:{type_:"stretch",arguments_:{amount:ht}}}},Rr=function(ht){return{operator:{type_:"stretch",arguments_:{amount:"1/"+ht}}}},Br=function(ht){return{operator:{type_:"fixed-step",arguments_:{amount:ht}}}},Ir=function(ht){return{operator:{type_:"degradeBy",arguments_:{amount:ht||.5}}}},Nr=function(ht,At){return new Hs(ht,At)},Fr=function(ht){return new Cr(ht,"h")},Qr=function(ht){return{alignment:"v",list:ht}},jr=function(ht){return{alignment:"r",list:ht}},Lr=function(ht,At){return At&&At.list.length>0?new Cr([ht,...At.list],At.alignment):ht},Vr=function(ht){return ht},Wr=function(ht){return{name:"struct",args:{sequence:ht}}},qr=function(ht){return{name:"target",args:{name:ht}}},Ur=function(ht,At,$t){return{name:"bjorklund",args:{pulse:parseInt(ht),step:parseInt(At)}}},zr=function(ht){return{name:"stretch",args:{amount:ht}}},Gr=function(ht){return{name:"shift",args:{amount:"-"+ht}}},Xr=function(ht){return{name:"shift",args:{amount:ht}}},Hr=function(ht){return{name:"stretch",args:{amount:"1/"+ht}}},Zr=function(ht){return{name:"scale",args:{scale:ht.join("")}}},kr=function(ht,At){return At},Yr=function(ht,At){return At.unshift(ht),new Cr(At,"t")},Jr=function(ht){return ht},Kr=function(ht,At){return new Xs(ht.name,ht.args,At)},es=function(ht){return ht},ts=function(ht){return ht},ns=function(ht){return new xr("setcps",{value:ht})},is=function(ht){return new xr("setcps",{value:ht/120/2})},rs=function(){return new xr("hush")},kt=0,dn=0,gr=[{line:1,column:1}],qn=0,br=[],tn=0,yr;if("startRule"in b){if(!(b.startRule in j))throw new Error(`Can't start parsing from rule "`+b.startRule+'".');_e=j[b.startRule]}function ss(){return k.substring(dn,kt)}function os(){return wr(dn,kt)}function fn(ht,At){return{type:"literal",text:ht,ignoreCase:At}}function er(ht,At,$t){return{type:"class",parts:ht,inverted:At,ignoreCase:$t}}function as(){return{type:"end"}}function Ar(ht){return{type:"other",description:ht}}function Er(ht){var At=gr[ht],$t;if(At)return At;for($t=ht-1;!gr[$t];)$t--;for(At=gr[$t],At={line:At.line,column:At.column};$t<ht;)k.charCodeAt($t)===10?(At.line++,At.column=1):At.column++,$t++;return gr[ht]=At,At}function wr(ht,At){var $t=Er(ht),Gt=Er(At);return{source:$,start:{offset:ht,line:$t.line,column:$t.column},end:{offset:At,line:Gt.line,column:Gt.column}}}function sn(ht){kt<qn||(kt>qn&&(qn=kt,br=[]),br.push(ht))}function ls(ht,At,$t){return new peg$SyntaxError(peg$SyntaxError.buildMessage(ht,At),ht,At,$t)}function Dr(){var ht;return ht=Gs(),ht}function Mn(){var ht,At;return tn++,ht=kt,Pr(),At=Or(),At!==_?(ps(),fs(),dn=ht,ht=zt()):(kt=ht,ht=_),tn--,ht===_&&tn===0&&sn($n),ht}function us(){var ht;return k.charCodeAt(kt)===46?(ht=et,kt++):(ht=_,tn===0&&sn(Tn)),ht}function cs(){var ht;return vn.test(k.charAt(kt))?(ht=k.charAt(kt),kt++):(ht=_,tn===0&&sn(Un)),ht}function hs(){var ht;return xn.test(k.charAt(kt))?(ht=k.charAt(kt),kt++):(ht=_,tn===0&&sn(zn)),ht}function fs(){var ht,At,$t,Gt,un;if(ht=kt,At=hs(),At!==_){if($t=Pr(),$t===_&&($t=ds()),$t===_&&($t=null),Gt=[],un=nr(),un!==_)for(;un!==_;)Gt.push(un),un=nr();else Gt=_;Gt!==_?(At=[At,$t,Gt],ht=At):(kt=ht,ht=_)}else kt=ht,ht=_;return ht}function ps(){var ht,At,$t,Gt;if(ht=kt,At=us(),At!==_){if($t=[],Gt=nr(),Gt!==_)for(;Gt!==_;)$t.push(Gt),Gt=nr();else $t=_;$t!==_?(At=[At,$t],ht=At):(kt=ht,ht=_)}else kt=ht,ht=_;return ht}function Or(){var ht,At,$t,Gt;if(ht=ms(),ht===_)if(ht=kt,At=cs(),At!==_){for($t=[],Gt=nr();Gt!==_;)$t.push(Gt),Gt=nr();At=[At,$t],ht=At}else kt=ht,ht=_;return ht}function Pr(){var ht;return k.charCodeAt(kt)===45?(ht=tt,kt++):(ht=_,tn===0&&sn(Gn)),ht}function ds(){var ht;return k.charCodeAt(kt)===43?(ht=nt,kt++):(ht=_,tn===0&&sn(Yn)),ht}function ms(){var ht;return k.charCodeAt(kt)===48?(ht=it,kt++):(ht=_,tn===0&&sn(Bn)),ht}function nr(){var ht;return Rn.test(k.charAt(kt))?(ht=k.charAt(kt),kt++):(ht=_,tn===0&&sn(Xn)),ht}function cn(){var ht,At;for(tn++,ht=[],_n.test(k.charAt(kt))?(At=k.charAt(kt),kt++):(At=_,tn===0&&sn(Qn));At!==_;)ht.push(At),_n.test(k.charAt(kt))?(At=k.charAt(kt),kt++):(At=_,tn===0&&sn(Qn));return tn--,At=_,tn===0&&sn(jn),ht}function ir(){var ht,At,$t,Gt;return ht=kt,At=cn(),k.charCodeAt(kt)===44?($t=rt,kt++):($t=_,tn===0&&sn(yn)),$t!==_?(Gt=cn(),At=[At,$t,Gt],ht=At):(kt=ht,ht=_),ht}function _r(){var ht,At,$t,Gt;return ht=kt,At=cn(),k.charCodeAt(kt)===124?($t=st,kt++):($t=_,tn===0&&sn(An)),$t!==_?(Gt=cn(),At=[At,$t,Gt],ht=At):(kt=ht,ht=_),ht}function rr(){var ht;return k.charCodeAt(kt)===34?(ht=ot,kt++):(ht=_,tn===0&&sn(nn)),ht===_&&(k.charCodeAt(kt)===39?(ht=ut,kt++):(ht=_,tn===0&&sn(Dn))),ht}function vr(){var ht;return Fn.test(k.charAt(kt))?(ht=k.charAt(kt),kt++):(ht=_,tn===0&&sn(wn)),ht===_&&(k.charCodeAt(kt)===45?(ht=tt,kt++):(ht=_,tn===0&&sn(Gn)),ht===_&&(k.charCodeAt(kt)===35?(ht=lt,kt++):(ht=_,tn===0&&sn(lr)),ht===_&&(k.charCodeAt(kt)===46?(ht=et,kt++):(ht=_,tn===0&&sn(Tn)),ht===_&&(k.charCodeAt(kt)===94?(ht=ft,kt++):(ht=_,tn===0&&sn(ur)),ht===_&&(k.charCodeAt(kt)===95?(ht=ct,kt++):(ht=_,tn===0&&sn(In)),ht===_&&(k.charCodeAt(kt)===58?(ht=pt,kt++):(ht=_,tn===0&&sn(Jn)))))))),ht}function $r(){var ht,At,$t;if(ht=kt,cn(),At=[],$t=vr(),$t!==_)for(;$t!==_;)At.push($t),$t=vr();else At=_;return At!==_?($t=cn(),dn=ht,ht=Xt(At)):(kt=ht,ht=_),ht}function gs(){var ht,At,$t,Gt;return ht=kt,cn(),k.charCodeAt(kt)===91?(At=mt,kt++):(At=_,tn===0&&sn(Nn)),At!==_?(cn(),$t=Mr(),$t!==_?(cn(),k.charCodeAt(kt)===93?(Gt=wt,kt++):(Gt=_,tn===0&&sn(Sn)),Gt!==_?(cn(),dn=ht,ht=rn($t)):(kt=ht,ht=_)):(kt=ht,ht=_)):(kt=ht,ht=_),ht}function ys(){var ht,At,$t,Gt;return ht=kt,cn(),k.charCodeAt(kt)===60?(At=gt,kt++):(At=_,tn===0&&sn(Kn)),At!==_?(cn(),$t=sr(),$t!==_?(cn(),k.charCodeAt(kt)===62?(Gt=vt,kt++):(Gt=_,tn===0&&sn(cr)),Gt!==_?(cn(),dn=ht,ht=gn($t)):(kt=ht,ht=_)):(kt=ht,ht=_)):(kt=ht,ht=_),ht}function Os(){var ht;return ht=$r(),ht===_&&(ht=gs(),ht===_&&(ht=ys())),ht}function vs(){var ht;return ht=bs(),ht===_&&(ht=Ss(),ht===_&&(ht=Cs(),ht===_&&(ht=xs(),ht===_&&(ht=ks(),ht===_&&(ht=ws(),ht===_&&(ht=As())))))),ht}function bs(){var ht,At,$t;return ht=kt,k.charCodeAt(kt)===64?(At=bt,kt++):(At=_,tn===0&&sn(Cn)),At!==_?($t=Mn(),$t!==_?(dn=ht,ht=En($t)):(kt=ht,ht=_)):(kt=ht,ht=_),ht}function ws(){var ht,At,$t;return ht=kt,k.charCodeAt(kt)===33?(At=Ct,kt++):(At=_,tn===0&&sn(Pn)),At!==_?($t=Mn(),$t!==_?(dn=ht,ht=Ln($t)):(kt=ht,ht=_)):(kt=ht,ht=_),ht}function Ss(){var ht,At,$t,Gt,un,kn,Vn;return ht=kt,k.charCodeAt(kt)===40?(At=Dt,kt++):(At=_,tn===0&&sn(Wn)),At!==_?(cn(),$t=Mn(),$t!==_?(cn(),Gt=ir(),Gt!==_?(cn(),un=Mn(),un!==_?(cn(),ir(),cn(),kn=Mn(),kn===_&&(kn=null),cn(),k.charCodeAt(kt)===41?(Vn=_t,kt++):(Vn=_,tn===0&&sn(Hn)),Vn!==_?(dn=ht,ht=dr($t,un,kn)):(kt=ht,ht=_)):(kt=ht,ht=_)):(kt=ht,ht=_)):(kt=ht,ht=_)):(kt=ht,ht=_),ht}function Cs(){var ht,At,$t;return ht=kt,k.charCodeAt(kt)===47?(At=Rt,kt++):(At=_,tn===0&&sn(_i)),At!==_?($t=Mn(),$t!==_?(dn=ht,ht=mr($t)):(kt=ht,ht=_)):(kt=ht,ht=_),ht}function xs(){var ht,At,$t;return ht=kt,k.charCodeAt(kt)===42?(At=jt,kt++):(At=_,tn===0&&sn(hr)),At!==_?($t=Mn(),$t!==_?(dn=ht,ht=Rr($t)):(kt=ht,ht=_)):(kt=ht,ht=_),ht}function ks(){var ht,At,$t;return ht=kt,k.charCodeAt(kt)===37?(At=Qt,kt++):(At=_,tn===0&&sn(fr)),At!==_?($t=Mn(),$t!==_?(dn=ht,ht=Br($t)):(kt=ht,ht=_)):(kt=ht,ht=_),ht}function As(){var ht,At,$t;return ht=kt,k.charCodeAt(kt)===63?(At=Nt,kt++):(At=_,tn===0&&sn(at)),At!==_?($t=Mn(),$t===_&&($t=null),dn=ht,ht=Ir($t)):(kt=ht,ht=_),ht}function Tr(){var ht,At,$t;return ht=kt,At=Os(),At!==_?($t=vs(),$t===_&&($t=null),dn=ht,ht=Nr(At,$t)):(kt=ht,ht=_),ht}function sr(){var ht,At,$t;if(ht=kt,At=[],$t=Tr(),$t!==_)for(;$t!==_;)At.push($t),$t=Tr();else At=_;return At!==_&&(dn=ht,At=Fr(At)),ht=At,ht}function Es(){var ht,At,$t,Gt,un;if(ht=kt,At=[],$t=kt,Gt=ir(),Gt!==_?(un=sr(),un!==_?$t=un:(kt=$t,$t=_)):(kt=$t,$t=_),$t!==_)for(;$t!==_;)At.push($t),$t=kt,Gt=ir(),Gt!==_?(un=sr(),un!==_?$t=un:(kt=$t,$t=_)):(kt=$t,$t=_);else At=_;return At!==_&&(dn=ht,At=Qr(At)),ht=At,ht}function Ds(){var ht,At,$t,Gt,un;if(ht=kt,At=[],$t=kt,Gt=_r(),Gt!==_?(un=sr(),un!==_?$t=un:(kt=$t,$t=_)):(kt=$t,$t=_),$t!==_)for(;$t!==_;)At.push($t),$t=kt,Gt=_r(),Gt!==_?(un=sr(),un!==_?$t=un:(kt=$t,$t=_)):(kt=$t,$t=_);else At=_;return At!==_&&(dn=ht,At=jr(At)),ht=At,ht}function Mr(){var ht,At,$t;return ht=kt,At=sr(),At!==_?($t=Es(),$t===_&&($t=Ds()),$t===_&&($t=null),dn=ht,ht=Lr(At,$t)):(kt=ht,ht=_),ht}function Ps(){var ht,At,$t,Gt;return ht=kt,cn(),At=rr(),At!==_?($t=Mr(),$t!==_?(Gt=rr(),Gt!==_?(dn=ht,ht=Vr($t)):(kt=ht,ht=_)):(kt=ht,ht=_)):(kt=ht,ht=_),ht}function _s(){var ht;return ht=Fs(),ht===_&&(ht=Rs(),ht===_&&(ht=Ns(),ht===_&&(ht=Ts(),ht===_&&(ht=Ms(),ht===_&&(ht=$s(),ht===_&&(ht=Is(),ht===_&&(ht=Bs()))))))),ht}function $s(){var ht,At,$t;return ht=kt,k.substr(kt,6)===Vt?(At=Vt,kt+=6):(At=_,tn===0&&sn(yt)),At!==_?(cn(),$t=or(),$t!==_?(dn=ht,ht=Wr($t)):(kt=ht,ht=_)):(kt=ht,ht=_),ht}function Ts(){var ht,At,$t,Gt,un;return ht=kt,k.substr(kt,6)===Yt?(At=Yt,kt+=6):(At=_,tn===0&&sn(dt)),At!==_?(cn(),$t=rr(),$t!==_?(Gt=$r(),Gt!==_?(un=rr(),un!==_?(dn=ht,ht=qr(Gt)):(kt=ht,ht=_)):(kt=ht,ht=_)):(kt=ht,ht=_)):(kt=ht,ht=_),ht}function Ms(){var ht,At,$t,Gt;return ht=kt,k.substr(kt,6)===Wt?(At=Wt,kt+=6):(At=_,tn===0&&sn(Ot)),At!==_?(cn(),$t=Or(),$t!==_?(cn(),Gt=Or(),Gt!==_?(cn(),Or(),dn=ht,ht=Ur($t,Gt)):(kt=ht,ht=_)):(kt=ht,ht=_)):(kt=ht,ht=_),ht}function Rs(){var ht,At,$t;return ht=kt,k.substr(kt,4)===Jt?(At=Jt,kt+=4):(At=_,tn===0&&sn(St)),At!==_?(cn(),$t=Mn(),$t!==_?(dn=ht,ht=zr($t)):(kt=ht,ht=_)):(kt=ht,ht=_),ht}function Bs(){var ht,At,$t;return ht=kt,k.substr(kt,4)===Ut?(At=Ut,kt+=4):(At=_,tn===0&&sn(It)),At!==_?(cn(),$t=Mn(),$t!==_?(dn=ht,ht=Gr($t)):(kt=ht,ht=_)):(kt=ht,ht=_),ht}function Is(){var ht,At,$t;return ht=kt,k.substr(kt,4)===Kt?(At=Kt,kt+=4):(At=_,tn===0&&sn(Ft)),At!==_?(cn(),$t=Mn(),$t!==_?(dn=ht,ht=Xr($t)):(kt=ht,ht=_)):(kt=ht,ht=_),ht}function Ns(){var ht,At,$t;return ht=kt,k.substr(kt,4)===mn?(At=mn,kt+=4):(At=_,tn===0&&sn(Lt)),At!==_?(cn(),$t=Mn(),$t!==_?(dn=ht,ht=Hr($t)):(kt=ht,ht=_)):(kt=ht,ht=_),ht}function Fs(){var ht,At,$t,Gt,un;if(ht=kt,k.substr(kt,5)===Mt?(At=Mt,kt+=5):(At=_,tn===0&&sn(Zt)),At!==_)if(cn(),$t=rr(),$t!==_){if(Gt=[],un=vr(),un!==_)for(;un!==_;)Gt.push(un),un=vr();else Gt=_;Gt!==_?(un=rr(),un!==_?(dn=ht,ht=Zr(Gt)):(kt=ht,ht=_)):(kt=ht,ht=_)}else kt=ht,ht=_;else kt=ht,ht=_;return ht}function Sr(){var ht,At,$t,Gt;if(ht=kt,k.substr(kt,2)===qt?(At=qt,kt+=2):(At=_,tn===0&&sn(hn)),At!==_){for($t=[],ln.test(k.charAt(kt))?(Gt=k.charAt(kt),kt++):(Gt=_,tn===0&&sn(On));Gt!==_;)$t.push(Gt),ln.test(k.charAt(kt))?(Gt=k.charAt(kt),kt++):(Gt=_,tn===0&&sn(On));At=[At,$t],ht=At}else kt=ht,ht=_;return ht}function Qs(){var ht,At,$t,Gt,un,kn,Vn,ar;if(ht=kt,k.substr(kt,3)===Ht?(At=Ht,kt+=3):(At=_,tn===0&&sn(Tt)),At!==_)if(cn(),k.charCodeAt(kt)===91?($t=mt,kt++):($t=_,tn===0&&sn(Nn)),$t!==_)if(cn(),Gt=or(),Gt!==_){for(un=[],kn=kt,Vn=ir(),Vn!==_?(ar=or(),ar!==_?(dn=kn,kn=kr(Gt,ar)):(kt=kn,kn=_)):(kt=kn,kn=_);kn!==_;)un.push(kn),kn=kt,Vn=ir(),Vn!==_?(ar=or(),ar!==_?(dn=kn,kn=kr(Gt,ar)):(kt=kn,kn=_)):(kt=kn,kn=_);kn=cn(),k.charCodeAt(kt)===93?(Vn=wt,kt++):(Vn=_,tn===0&&sn(Sn)),Vn!==_?(dn=ht,ht=Yr(Gt,un)):(kt=ht,ht=_)}else kt=ht,ht=_;else kt=ht,ht=_;else kt=ht,ht=_;return ht}function js(){var ht;return ht=Qs(),ht===_&&(ht=Ps()),ht}function or(){var ht,At,$t,Gt,un;if(ht=kt,At=js(),At!==_){for(cn(),$t=[],Gt=Sr();Gt!==_;)$t.push(Gt),Gt=Sr();dn=ht,ht=Jr(At)}else kt=ht,ht=_;return ht===_&&(ht=kt,At=_s(),At!==_?(cn(),k.charCodeAt(kt)===36?($t=an,kt++):($t=_,tn===0&&sn(Et)),$t!==_?(Gt=cn(),un=or(),un!==_?(dn=ht,ht=Kr(At,un)):(kt=ht,ht=_)):(kt=ht,ht=_)):(kt=ht,ht=_)),ht}function Ls(){var ht,At;return ht=kt,At=or(),At!==_&&(dn=ht,At=es(At)),ht=At,ht===_&&(ht=Sr()),ht}function Vs(){var ht;return ht=Ls(),ht}function Ws(){var ht,At;return ht=kt,cn(),At=qs(),At===_&&(At=Us(),At===_&&(At=zs())),At!==_?(cn(),dn=ht,ht=ts(At)):(kt=ht,ht=_),ht}function qs(){var ht,At,$t;return ht=kt,k.substr(kt,6)===en?(At=en,kt+=6):(At=_,tn===0&&sn(Pt)),At!==_?(cn(),$t=Mn(),$t!==_?(dn=ht,ht=ns($t)):(kt=ht,ht=_)):(kt=ht,ht=_),ht}function Us(){var ht,At,$t;return ht=kt,k.substr(kt,6)===pn?(At=pn,kt+=6):(At=_,tn===0&&sn(xt)),At!==_?(cn(),$t=Mn(),$t!==_?(dn=ht,ht=is($t)):(kt=ht,ht=_)):(kt=ht,ht=_),ht}function zs(){var ht,At;return ht=kt,k.substr(kt,4)===bn?(At=bn,kt+=4):(At=_,tn===0&&sn(Bt)),At!==_&&(dn=ht,At=rs()),ht=At,ht}function Gs(){var ht;return ht=Vs(),ht===_&&(ht=Ws()),ht}var Cr=function(ht,At){this.type_="pattern",this.arguments_={alignment:At},this.source_=ht},Xs=function(ht,At,$t){this.type_=ht,this.arguments_=At,this.source_=$t},Hs=function(ht,At){this.type_="element",this.source_=ht,this.options_=At,this.location_=os()},xr=function(ht,At){this.type_="command",this.name_=ht,this.options_=At};if(yr=_e(),yr!==_&&kt===k.length)return yr;throw yr!==_&&kt<k.length&&sn(as()),ls(br,qn<k.length?k.charAt(qn):null,qn<k.length?wr(qn,qn+1):wr(qn,qn))}const{pure,Pattern,Fraction,stack,slowcat,sequence,timeCat,silence,reify:reify$1}=strudel;var _seedState=0;const randOffset=2e-4;function _nextSeed(){return _seedState++}const applyOptions=k=>(b,_)=>{const j=k.source_[_].options_,_e=j==null?void 0:j.operator;if(_e){switch(_e.type_){case"stretch":const tt=Fraction(_e.arguments_.amount).inverse();return reify$1(b).fast(tt);case"bjorklund":return b.euclid(_e.arguments_.pulse,_e.arguments_.step,_e.arguments_.rotation);case"degradeBy":return reify$1(b)._degradeByWith(rand.early(randOffset*_nextSeed()).segment(1),_e.arguments_.amount)}console.warn(`operator "${_e.type_}" not implemented`)}if(j!=null&&j.weight)return b;const et=Object.keys(j||{}).filter(tt=>tt!=="operator");return et.length&&console.warn(`option${et.length>1?"s":""} ${et.map(tt=>`"${tt}"`).join(", ")} not implemented`),b};function resolveReplications(k){k.source_=k.source_.map(b=>{const{replicate:_,...$}=b.options_||{};return _?{...b,options_:{...$,weight:_},source_:{type_:"pattern",arguments_:{alignment:"h"},source_:[{type_:"element",source_:b.source_,location_:b.location_,options_:{operator:{type_:"stretch",arguments_:{amount:Fraction(_).inverse().toString()}}}}]}}:b})}function patternifyAST(k){switch(k.type_){case"pattern":resolveReplications(k);const b=k.source_.map(patternifyAST).map(applyOptions(k)),_=k.arguments_.alignment;if(_==="v")return stack(...b);if(_==="r")return chooseInWith(rand.early(randOffset*_nextSeed()).segment(1),b);const $=k.source_.some(j=>{var _e;return!!((_e=j.options_)!=null&&_e.weight)});if(!$&&_==="t")return slowcat(...b);if($){const j=timeCat(...k.source_.map((_e,et)=>{var tt;return[((tt=_e.options_)==null?void 0:tt.weight)||1,b[et]]}));if(_==="t"){const _e=k.source_.reduce((et,tt)=>{var nt;return et+(((nt=tt.options_)==null?void 0:nt.weight)||1)},0);return j._slow(_e)}return j}return sequence(...b);case"element":if(k.source_==="~")return silence;if(typeof k.source_!="object"){if(!k.location_)return console.warn("no location for",k),k.source_;const{start:j,end:_e}=k.location_,et=isNaN(Number(k.source_))?k.source_:Number(k.source_);return pure(et).withLocation([j.line,j.column,j.offset],[_e.line,_e.column,_e.offset])}return patternifyAST(k.source_);case"stretch":return patternifyAST(k.source_).slow(k.arguments_.amount);default:return console.warn(`node type "${k.type_}" not implemented -> returning silence`),silence}}const mini=(...k)=>{const b=k.map(_=>{const $=peg$parse(`"${_}"`);return patternifyAST($)});return sequence(...b)},h$1=k=>{const b=peg$parse(k);return patternifyAST(b)};Pattern.prototype.define("mini",mini,{composable:!0});Pattern.prototype.define("m",mini,{composable:!0});Pattern.prototype.define("h",h$1,{composable:!0});function minify(k){return typeof k=="string"?mini(k):reify$1(k)}const index$1=Object.freeze(Object.defineProperty({__proto__:null,patternifyAST,mini,h:h$1,minify,SyntaxError:peg$SyntaxError,parse:peg$parse},Symbol.toStringTag,{value:"Module"}));class e{constructor(b=!1){this.eventMap={},this.eventsSuspended=b==1}addListener(b,_,$={}){if(typeof b=="string"&&b.length<1||b instanceof String&&b.length<1||typeof b!="string"&&!(b instanceof String)&&b!==e.ANY_EVENT)throw new TypeError("The 'event' parameter must be a string or EventEmitter.ANY_EVENT.");if(typeof _!="function")throw new TypeError("The callback must be a function.");const j=new t(b,this,_,$);return this.eventMap[b]||(this.eventMap[b]=[]),$.prepend?this.eventMap[b].unshift(j):this.eventMap[b].push(j),j}addOneTimeListener(b,_,$={}){$.remaining=1,this.addListener(b,_,$)}static get ANY_EVENT(){return Symbol.for("Any event")}hasListener(b,_){return b===void 0?!!(this.eventMap[e.ANY_EVENT]&&this.eventMap[e.ANY_EVENT].length>0)||Object.entries(this.eventMap).some(([,$])=>$.length>0):this.eventMap[b]&&this.eventMap[b].length>0?_ instanceof t?this.eventMap[b].filter($=>$===_).length>0:typeof _=="function"?this.eventMap[b].filter($=>$.callback===_).length>0:_==null:!1}get eventNames(){return Object.keys(this.eventMap)}getListeners(b){return this.eventMap[b]||[]}suspendEvent(b){this.getListeners(b).forEach(_=>{_.suspended=!0})}unsuspendEvent(b){this.getListeners(b).forEach(_=>{_.suspended=!1})}getListenerCount(b){return this.getListeners(b).length}emit(b,..._){if(typeof b!="string"&&!(b instanceof String))throw new TypeError("The 'event' parameter must be a string.");if(this.eventsSuspended)return;let $=[],j=this.eventMap[e.ANY_EVENT]||[];return this.eventMap[b]&&(j=j.concat(this.eventMap[b])),j.forEach(_e=>{if(_e.suspended)return;let et=[..._];Array.isArray(_e.arguments)&&(et=et.concat(_e.arguments)),_e.remaining>0&&($.push(_e.callback.apply(_e.context,et)),_e.count++),--_e.remaining<1&&_e.remove()}),$}removeListener(b,_,$={}){if(b===void 0)return void(this.eventMap={});if(!this.eventMap[b])return;let j=this.eventMap[b].filter(_e=>_&&_e.callback!==_||$.remaining&&$.remaining!==_e.remaining||$.context&&$.context!==_e.context);j.length?this.eventMap[b]=j:delete this.eventMap[b]}async waitFor(b,_={}){return _.duration=parseInt(_.duration),(isNaN(_.duration)||_.duration<=0)&&(_.duration=1/0),new Promise(($,j)=>{let _e,et=this.addListener(b,()=>{clearTimeout(_e),$()},{remaining:1});_.duration!==1/0&&(_e=setTimeout(()=>{et.remove(),j("The duration expired before the event was emitted.")},_.duration))})}get eventCount(){return Object.keys(this.eventMap).length}}class t{constructor(b,_,$,j={}){if(typeof b!="string"&&!(b instanceof String)&&b!==e.ANY_EVENT)throw new TypeError("The 'event' parameter must be a string or EventEmitter.ANY_EVENT.");if(!_)throw new ReferenceError("The 'target' parameter is mandatory.");if(typeof $!="function")throw new TypeError("The 'callback' must be a function.");j.arguments===void 0||Array.isArray(j.arguments)||(j.arguments=[j.arguments]),(j=Object.assign({context:_,remaining:1/0,arguments:void 0,duration:1/0},j)).duration!==1/0&&setTimeout(()=>this.remove(),j.duration),this.arguments=j.arguments,this.callback=$,this.context=j.context,this.count=0,this.event=b,this.remaining=parseInt(j.remaining)>=1?parseInt(j.remaining):1/0,this.suspended=!1,this.target=_}remove(){this.target.removeListener(this.event,this.callback,{context:this.context,remaining:this.remaining})}}/**
 * The `Enumerations` class contains enumerations and arrays of elements used throughout the
 * library. All properties are static and should be referenced using the class name. For example:
 * `Enumerations.MIDI_CHANNEL_MESSAGES`.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class n{static get MIDI_CHANNEL_MESSAGES(){return{noteoff:8,noteon:9,keyaftertouch:10,controlchange:11,programchange:12,channelaftertouch:13,pitchbend:14}}static get MIDI_CHANNEL_NUMBERS(){return[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]}static get MIDI_CHANNEL_MODE_MESSAGES(){return{allsoundoff:120,resetallcontrollers:121,localcontrol:122,allnotesoff:123,omnimodeoff:124,omnimodeon:125,monomodeon:126,polymodeon:127}}static get MIDI_CONTROL_CHANGE_MESSAGES(){return{bankselectcoarse:0,modulationwheelcoarse:1,breathcontrollercoarse:2,controller3:3,footcontrollercoarse:4,portamentotimecoarse:5,dataentrycoarse:6,volumecoarse:7,balancecoarse:8,controller9:9,pancoarse:10,expressioncoarse:11,effectcontrol1coarse:12,effectcontrol2coarse:13,controller14:14,controller15:15,generalpurposeslider1:16,generalpurposeslider2:17,generalpurposeslider3:18,generalpurposeslider4:19,controller20:20,controller21:21,controller22:22,controller23:23,controller24:24,controller25:25,controller26:26,controller27:27,controller28:28,controller29:29,controller30:30,controller31:31,bankselectfine:32,modulationwheelfine:33,breathcontrollerfine:34,controller35:35,footcontrollerfine:36,portamentotimefine:37,dataentryfine:38,volumefine:39,balancefine:40,controller41:41,panfine:42,expressionfine:43,effectcontrol1fine:44,effectcontrol2fine:45,controller46:46,controller47:47,controller48:48,controller49:49,controller50:50,controller51:51,controller52:52,controller53:53,controller54:54,controller55:55,controller56:56,controller57:57,controller58:58,controller59:59,controller60:60,controller61:61,controller62:62,controller63:63,holdpedal:64,portamento:65,sustenutopedal:66,softpedal:67,legatopedal:68,hold2pedal:69,soundvariation:70,resonance:71,soundreleasetime:72,soundattacktime:73,brightness:74,soundcontrol6:75,soundcontrol7:76,soundcontrol8:77,soundcontrol9:78,soundcontrol10:79,generalpurposebutton1:80,generalpurposebutton2:81,generalpurposebutton3:82,generalpurposebutton4:83,controller84:84,controller85:85,controller86:86,controller87:87,controller88:88,controller89:89,controller90:90,reverblevel:91,tremololevel:92,choruslevel:93,celestelevel:94,phaserlevel:95,databuttonincrement:96,databuttondecrement:97,nonregisteredparametercoarse:98,nonregisteredparameterfine:99,registeredparametercoarse:100,registeredparameterfine:101,controller102:102,controller103:103,controller104:104,controller105:105,controller106:106,controller107:107,controller108:108,controller109:109,controller110:110,controller111:111,controller112:112,controller113:113,controller114:114,controller115:115,controller116:116,controller117:117,controller118:118,controller119:119,allsoundoff:120,resetallcontrollers:121,localcontrol:122,allnotesoff:123,omnimodeoff:124,omnimodeon:125,monomodeon:126,polymodeon:127}}static get MIDI_REGISTERED_PARAMETERS(){return{pitchbendrange:[0,0],channelfinetuning:[0,1],channelcoarsetuning:[0,2],tuningprogram:[0,3],tuningbank:[0,4],modulationrange:[0,5],azimuthangle:[61,0],elevationangle:[61,1],gain:[61,2],distanceratio:[61,3],maximumdistance:[61,4],maximumdistancegain:[61,5],referencedistanceratio:[61,6],panspreadangle:[61,7],rollangle:[61,8]}}static get MIDI_SYSTEM_MESSAGES(){return{sysex:240,timecode:241,songposition:242,songselect:243,tunerequest:246,tuningrequest:246,sysexend:247,clock:248,start:250,continue:251,stop:252,activesensing:254,reset:255,midimessage:0,unknownsystemmessage:-1}}static get CHANNEL_EVENTS(){return["noteoff","controlchange","noteon","keyaftertouch","programchange","channelaftertouch","pitchbend","allnotesoff","allsoundoff","localcontrol","monomode","omnimode","resetallcontrollers","nrpn","nrpn-dataentrycoarse","nrpn-dataentryfine","nrpn-databuttonincrement","nrpn-databuttondecrement","rpn","rpn-dataentrycoarse","rpn-dataentryfine","rpn-databuttonincrement","rpn-databuttondecrement"]}}/**
 * The `Note` class represents a single musical note such as `"D3"`, `"G#4"`, `"F-1"`, `"Gb7"`, etc.
 *
 * `Note` objects can be played back on a single channel by calling
 * [`OutputChannel.playNote()`]{@link OutputChannel#playNote} or, on multiple channels of the same
 * output, by calling [`Output.playNote()`]{@link Output#playNote}.
 *
 * The note has [`attack`](#attack) and [`release`](#release) velocities set at `0.5` by default.
 * These can be changed by passing in the appropriate option. It is also possible to set a
 * system-wide default for attack and release velocities by using the
 * [`WebMidi.defaults`](WebMidi#defaults) property.
 *
 * If you prefer to work with raw MIDI values (`0` to `127`), you can use [`rawAttack`](#rawAttack) and
 * [`rawRelease`](#rawRelease) to both get and set the values.
 *
 * The note may have a [`duration`](#duration). If it does, playback will be automatically stopped
 * when the duration has elapsed by sending a `"noteoff"` event. By default, the duration is set to
 * `Infinity`. In this case, it will never stop playing unless explicitly stopped by calling a
 * method such as [`OutputChannel.stopNote()`]{@link OutputChannel#stopNote},
 * [`Output.stopNote()`]{@link Output#stopNote} or similar.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class s{constructor(b,_={}){this.duration=d.defaults.note.duration,this.attack=d.defaults.note.attack,this.release=d.defaults.note.release,_.duration!=null&&(this.duration=_.duration),_.attack!=null&&(this.attack=_.attack),_.rawAttack!=null&&(this.attack=r.from7bitToFloat(_.rawAttack)),_.release!=null&&(this.release=_.release),_.rawRelease!=null&&(this.release=r.from7bitToFloat(_.rawRelease)),Number.isInteger(b)?this.identifier=r.toNoteIdentifier(b):this.identifier=b}get identifier(){return this._name+(this._accidental||"")+this._octave}set identifier(b){const _=r.getNoteDetails(b);if(d.validation&&!b)throw new Error("Invalid note identifier");this._name=_.name,this._accidental=_.accidental,this._octave=_.octave}get name(){return this._name}set name(b){if(d.validation&&(b=b.toUpperCase(),!["C","D","E","F","G","A","B"].includes(b)))throw new Error("Invalid name value");this._name=b}get accidental(){return this._accidental}set accidental(b){if(d.validation&&(b=b.toLowerCase(),!["#","##","b","bb"].includes(b)))throw new Error("Invalid accidental value");this._accidental=b}get octave(){return this._octave}set octave(b){if(d.validation&&(b=parseInt(b),isNaN(b)))throw new Error("Invalid octave value");this._octave=b}get duration(){return this._duration}set duration(b){if(d.validation&&(b=parseFloat(b),isNaN(b)||b===null||b<0))throw new RangeError("Invalid duration value.");this._duration=b}get attack(){return this._attack}set attack(b){if(d.validation&&(b=parseFloat(b),isNaN(b)||!(b>=0&&b<=1)))throw new RangeError("Invalid attack value.");this._attack=b}get release(){return this._release}set release(b){if(d.validation&&(b=parseFloat(b),isNaN(b)||!(b>=0&&b<=1)))throw new RangeError("Invalid release value.");this._release=b}get rawAttack(){return r.fromFloatTo7Bit(this._attack)}set rawAttack(b){this._attack=r.from7bitToFloat(b)}get rawRelease(){return r.fromFloatTo7Bit(this._release)}set rawRelease(b){this._release=r.from7bitToFloat(b)}get number(){return r.toNoteNumber(this.identifier)}getOffsetNumber(b=0,_=0){return d.validation&&(b=parseInt(b)||0,_=parseInt(_)||0),Math.min(Math.max(this.number+12*b+_,0),127)}}/**
 * The `Utilities` class contains general-purpose utility methods. All methods are static and
 * should be called using the class name. For example: `Utilities.getNoteDetails("C4")`.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class r{static toNoteNumber(b,_=0){if(_=_==null?0:parseInt(_),isNaN(_))throw new RangeError("Invalid 'octaveOffset' value");typeof b!="string"&&(b="");const $=this.getNoteDetails(b);if(!$)throw new TypeError("Invalid note identifier");let j=12*($.octave+1+_);if(j+={C:0,D:2,E:4,F:5,G:7,A:9,B:11}[$.name],$.accidental&&($.accidental.startsWith("b")?j-=$.accidental.length:j+=$.accidental.length),j<0||j>127)throw new RangeError("Invalid octaveOffset value");return j}static getNoteDetails(b){Number.isInteger(b)&&(b=this.toNoteIdentifier(b));const _=b.match(/^([CDEFGAB])(#{0,2}|b{0,2})(-?\d+)$/i);if(!_)throw new TypeError("Invalid note identifier");const $=_[1].toUpperCase(),j=parseInt(_[3]);let _e=_[2].toLowerCase();return _e=_e===""?void 0:_e,{accidental:_e,identifier:$+(_e||"")+j,name:$,octave:j}}static sanitizeChannels(b){let _;if(this.validation){if(b==="all")_=["all"];else if(b==="none")return[]}return _=Array.isArray(b)?b:[b],_.indexOf("all")>-1&&(_=n.MIDI_CHANNEL_NUMBERS),_.map(function($){return parseInt($)}).filter(function($){return $>=1&&$<=16})}static toTimestamp(b){let _=!1;const $=parseFloat(b);return!isNaN($)&&(typeof b=="string"&&b.substring(0,1)==="+"?$>=0&&(_=d.time+$):$>=0&&(_=$),_)}static guessNoteNumber(b,_){_=parseInt(_)||0;let $=!1;if(Number.isInteger(b)&&b>=0&&b<=127)$=parseInt(b);else if(parseInt(b)>=0&&parseInt(b)<=127)$=parseInt(b);else if(typeof b=="string"||b instanceof String)try{$=this.toNoteNumber(b.trim(),_)}catch{return!1}return $}static toNoteIdentifier(b,_){if(b=parseInt(b),isNaN(b)||b<0||b>127)throw new RangeError("Invalid note number");if(_=_==null?0:parseInt(_),isNaN(_))throw new RangeError("Invalid octaveOffset value");const $=Math.floor(b/12-1)+_;return["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"][b%12]+$.toString()}static buildNote(b,_={}){if(_.octaveOffset=parseInt(_.octaveOffset)||0,b instanceof s)return b;let $=this.guessNoteNumber(b,_.octaveOffset);if($===!1)throw new TypeError(`The input could not be parsed as a note (${b})`);return _.octaveOffset=void 0,new s($,_)}static buildNoteArray(b,_={}){let $=[];return Array.isArray(b)||(b=[b]),b.forEach(j=>{$.push(this.buildNote(j,_))}),$}static from7bitToFloat(b){return b===1/0&&(b=127),b=parseInt(b)||0,Math.min(Math.max(b/127,0),1)}static fromFloatTo7Bit(b){return b===1/0&&(b=1),b=parseFloat(b)||0,Math.min(Math.max(Math.round(127*b),0),127)}static fromMsbLsbToFloat(b,_=0){d.validation&&(b=Math.min(Math.max(parseInt(b)||0,0),127),_=Math.min(Math.max(parseInt(_)||0,0),127));const $=((b<<7)+_)/16383;return Math.min(Math.max($,0),1)}static fromFloatToMsbLsb(b){d.validation&&(b=Math.min(Math.max(parseFloat(b)||0,0),1));const _=Math.round(16383*b);return{msb:_>>7,lsb:127&_}}static offsetNumber(b,_=0,$=0){if(d.validation){if(b=parseInt(b),isNaN(b))throw new Error("Invalid note number");_=parseInt(_)||0,$=parseInt($)||0}return Math.min(Math.max(b+12*_+$,0),127)}static getPropertyByValue(b,_){return Object.keys(b).find($=>b[$]===_)}static getCcNameByNumber(b){return r.getPropertyByValue(n.MIDI_CONTROL_CHANGE_MESSAGES,b)}static getChannelModeByNumber(b){if(!(b>=120&&b<=127))return!1;for(let _ in n.MIDI_CHANNEL_MODE_MESSAGES)if(n.MIDI_CHANNEL_MODE_MESSAGES.hasOwnProperty(_)&&b===n.MIDI_CHANNEL_MODE_MESSAGES[_])return _;return!1}static get isNode(){return typeof process<"u"&&process.versions!=null&&process.versions.node!=null}static get isBrowser(){return typeof window<"u"&&window.document!==void 0}}/**
 * The `OutputChannel` class represents a single output MIDI channel. `OutputChannel` objects are
 * provided by an [`Output`](Output) port which, itself, is made available by a device. The
 * `OutputChannel` object is derived from the host's MIDI subsystem and should not be instantiated
 * directly.
 *
 * All 16 `OutputChannel` objects can be found inside the parent output's
 * [`channels`]{@link Output#channels} property.
 *
 * @param {Output} output The [`Output`](Output) this channel belongs to.
 * @param {number} number The MIDI channel number (`1` - `16`).
 *
 * @extends EventEmitter
 * @license Apache-2.0
 * @since 3.0.0
 */class a extends e{constructor(b,_){super(),this._output=b,this._number=_,this._octaveOffset=0}destroy(){this._output=null,this._number=null,this._octaveOffset=0,this.removeListener()}send(b,_={time:0}){return this.output.send(b,_),this}sendKeyAftertouch(b,_,$={}){if(d.validation){if($.useRawValue&&($.rawValue=$.useRawValue),isNaN(parseFloat(_)))throw new RangeError("Invalid key aftertouch value.");if($.rawValue){if(!(_>=0&&_<=127&&Number.isInteger(_)))throw new RangeError("Key aftertouch raw value must be an integer between 0 and 127.")}else if(!(_>=0&&_<=1))throw new RangeError("Key aftertouch value must be a float between 0 and 1.")}$.rawValue||(_=r.fromFloatTo7Bit(_));const j=d.octaveOffset+this.output.octaveOffset+this.octaveOffset;return Array.isArray(b)||(b=[b]),r.buildNoteArray(b).forEach(_e=>{this.send([(n.MIDI_CHANNEL_MESSAGES.keyaftertouch<<4)+(this.number-1),_e.getOffsetNumber(j),_],{time:r.toTimestamp($.time)})}),this}sendControlChange(b,_,$={}){if(typeof b=="string"&&(b=n.MIDI_CONTROL_CHANGE_MESSAGES[b]),Array.isArray(_)||(_=[_]),d.validation){if(b===void 0)throw new TypeError("Control change must be identified with a valid name or an integer between 0 and 127.");if(!Number.isInteger(b)||!(b>=0&&b<=127))throw new TypeError("Control change number must be an integer between 0 and 127.");if((_=_.map(j=>{const _e=Math.min(Math.max(parseInt(j),0),127);if(isNaN(_e))throw new TypeError("Values must be integers between 0 and 127");return _e})).length===2&&b>=32)throw new TypeError("To use a value array, the controller must be between 0 and 31")}return _.forEach((j,_e)=>{this.send([(n.MIDI_CHANNEL_MESSAGES.controlchange<<4)+(this.number-1),b+32*_e,_[_e]],{time:r.toTimestamp($.time)})}),this}_selectNonRegisteredParameter(b,_={}){return this.sendControlChange(99,b[0],_),this.sendControlChange(98,b[1],_),this}_deselectRegisteredParameter(b={}){return this.sendControlChange(101,127,b),this.sendControlChange(100,127,b),this}_deselectNonRegisteredParameter(b={}){return this.sendControlChange(101,127,b),this.sendControlChange(100,127,b),this}_selectRegisteredParameter(b,_={}){return this.sendControlChange(101,b[0],_),this.sendControlChange(100,b[1],_),this}_setCurrentParameter(b,_={}){return b=[].concat(b),this.sendControlChange(6,b[0],_),b.length<2||this.sendControlChange(38,b[1],_),this}sendRpnDecrement(b,_={}){if(Array.isArray(b)||(b=n.MIDI_REGISTERED_PARAMETERS[b]),d.validation){if(b===void 0)throw new TypeError("The specified registered parameter is invalid.");let $=!1;if(Object.getOwnPropertyNames(n.MIDI_REGISTERED_PARAMETERS).forEach(j=>{n.MIDI_REGISTERED_PARAMETERS[j][0]===b[0]&&n.MIDI_REGISTERED_PARAMETERS[j][1]===b[1]&&($=!0)}),!$)throw new TypeError("The specified registered parameter is invalid.")}return this._selectRegisteredParameter(b,_),this.sendControlChange(97,0,_),this._deselectRegisteredParameter(_),this}sendRpnIncrement(b,_={}){if(Array.isArray(b)||(b=n.MIDI_REGISTERED_PARAMETERS[b]),d.validation){if(b===void 0)throw new TypeError("The specified registered parameter is invalid.");let $=!1;if(Object.getOwnPropertyNames(n.MIDI_REGISTERED_PARAMETERS).forEach(j=>{n.MIDI_REGISTERED_PARAMETERS[j][0]===b[0]&&n.MIDI_REGISTERED_PARAMETERS[j][1]===b[1]&&($=!0)}),!$)throw new TypeError("The specified registered parameter is invalid.")}return this._selectRegisteredParameter(b,_),this.sendControlChange(96,0,_),this._deselectRegisteredParameter(_),this}playNote(b,_={}){if(this.sendNoteOn(b,_),_.duration>0&&isFinite(String(_.duration).trim()||NaN)){let $={time:(r.toTimestamp(_.time)||d.time)+_.duration,release:_.release,rawRelease:_.rawRelease};this.sendNoteOff(b,$)}return this}sendNoteOff(b,_={}){if(d.validation){if(_.rawRelease!=null&&!(_.rawRelease>=0&&_.rawRelease<=127))throw new RangeError("The 'rawRelease' option must be an integer between 0 and 127");if(_.release!=null&&!(_.release>=0&&_.release<=1))throw new RangeError("The 'release' option must be an number between 0 and 1");_.rawVelocity&&(_.rawRelease=_.velocity,console.warn("The 'rawVelocity' option is deprecated. Use 'rawRelease' instead.")),_.velocity&&(_.release=_.velocity,console.warn("The 'velocity' option is deprecated. Use 'attack' instead."))}let $=64;_.rawRelease!=null?$=_.rawRelease:isNaN(_.release)||($=Math.round(127*_.release));const j=d.octaveOffset+this.output.octaveOffset+this.octaveOffset;return r.buildNoteArray(b,{rawRelease:parseInt($)}).forEach(_e=>{this.send([(n.MIDI_CHANNEL_MESSAGES.noteoff<<4)+(this.number-1),_e.getOffsetNumber(j),_e.rawRelease],{time:r.toTimestamp(_.time)})}),this}stopNote(b,_={}){return this.sendNoteOff(b,_)}sendNoteOn(b,_={}){if(d.validation){if(_.rawAttack!=null&&!(_.rawAttack>=0&&_.rawAttack<=127))throw new RangeError("The 'rawAttack' option must be an integer between 0 and 127");if(_.attack!=null&&!(_.attack>=0&&_.attack<=1))throw new RangeError("The 'attack' option must be an number between 0 and 1");_.rawVelocity&&(_.rawAttack=_.velocity,_.rawRelease=_.release,console.warn("The 'rawVelocity' option is deprecated. Use 'rawAttack' or 'rawRelease'.")),_.velocity&&(_.attack=_.velocity,console.warn("The 'velocity' option is deprecated. Use 'attack' instead."))}let $=64;_.rawAttack!=null?$=_.rawAttack:isNaN(_.attack)||($=Math.round(127*_.attack));const j=d.octaveOffset+this.output.octaveOffset+this.octaveOffset;return r.buildNoteArray(b,{rawAttack:$}).forEach(_e=>{this.send([(n.MIDI_CHANNEL_MESSAGES.noteon<<4)+(this.number-1),_e.getOffsetNumber(j),_e.rawAttack],{time:r.toTimestamp(_.time)})}),this}sendChannelMode(b,_=0,$={}){if(typeof b=="string"&&(b=n.MIDI_CHANNEL_MODE_MESSAGES[b]),d.validation){if(b===void 0)throw new TypeError("Invalid channel mode message name or number.");if(isNaN(b)||!(b>=120&&b<=127))throw new TypeError("Invalid channel mode message number.");if(isNaN(parseInt(_))||_<0||_>127)throw new RangeError("Value must be an integer between 0 and 127.")}return this.send([(n.MIDI_CHANNEL_MESSAGES.controlchange<<4)+(this.number-1),b,_],{time:r.toTimestamp($.time)}),this}sendOmniMode(b,_={}){return b===void 0||b?this.sendChannelMode("omnimodeon",0,_):this.sendChannelMode("omnimodeoff",0,_),this}sendChannelAftertouch(b,_={}){if(d.validation){if(isNaN(parseFloat(b)))throw new RangeError("Invalid channel aftertouch value.");if(_.rawValue){if(!(b>=0&&b<=127&&Number.isInteger(b)))throw new RangeError("Channel aftertouch raw value must be an integer between 0 and 127.")}else if(!(b>=0&&b<=1))throw new RangeError("Channel aftertouch value must be a float between 0 and 1.")}return this.send([(n.MIDI_CHANNEL_MESSAGES.channelaftertouch<<4)+(this.number-1),Math.round(127*b)],{time:r.toTimestamp(_.time)}),this}sendMasterTuning(b,_={}){if(b=parseFloat(b)||0,d.validation&&!(b>-65&&b<64))throw new RangeError("The value must be a decimal number larger than -65 and smaller than 64.");let $=Math.floor(b)+64,j=b-Math.floor(b);j=Math.round((j+1)/2*16383);let _e=j>>7&127,et=127&j;return this.sendRpnValue("channelcoarsetuning",$,_),this.sendRpnValue("channelfinetuning",[_e,et],_),this}sendModulationRange(b,_,$={}){if(d.validation){if(!Number.isInteger(b)||!(b>=0&&b<=127))throw new RangeError("The semitones value must be an integer between 0 and 127.");if(!(_==null||Number.isInteger(_)&&_>=0&&_<=127))throw new RangeError("If specified, the cents value must be an integer between 0 and 127.")}return _>=0&&_<=127||(_=0),this.sendRpnValue("modulationrange",[b,_],$),this}sendNrpnValue(b,_,$={}){if(_=[].concat(_),d.validation){if(!Array.isArray(b)||!Number.isInteger(b[0])||!Number.isInteger(b[1]))throw new TypeError("The specified NRPN is invalid.");if(!(b[0]>=0&&b[0]<=127))throw new RangeError("The first byte of the NRPN must be between 0 and 127.");if(!(b[1]>=0&&b[1]<=127))throw new RangeError("The second byte of the NRPN must be between 0 and 127.");_.forEach(j=>{if(!(j>=0&&j<=127))throw new RangeError("The data bytes of the NRPN must be between 0 and 127.")})}return this._selectNonRegisteredParameter(b,$),this._setCurrentParameter(_,$),this._deselectNonRegisteredParameter($),this}sendPitchBend(b,_={}){if(d.validation)if(_.rawValue&&Array.isArray(b)){if(!(b[0]>=0&&b[0]<=127))throw new RangeError("The pitch bend MSB must be an integer between 0 and 127.");if(!(b[1]>=0&&b[1]<=127))throw new RangeError("The pitch bend LSB must be an integer between 0 and 127.")}else if(_.rawValue&&!Array.isArray(b)){if(!(b>=0&&b<=127))throw new RangeError("The pitch bend MSB must be an integer between 0 and 127.")}else{if(isNaN(b)||b===null)throw new RangeError("Invalid pitch bend value.");if(!(b>=-1&&b<=1))throw new RangeError("The pitch bend MSB must be an integer between 0 and 127.")}let $=0,j=0;if(_.rawValue&&Array.isArray(b))$=b[0],j=b[1];else if(_.rawValue&&!Array.isArray(b))$=b;else{const _e=r.fromFloatToMsbLsb((b+1)/2);$=_e.msb,j=_e.lsb}return this.send([(n.MIDI_CHANNEL_MESSAGES.pitchbend<<4)+(this.number-1),j,$],{time:r.toTimestamp(_.time)}),this}sendPitchBendRange(b,_,$={}){if(d.validation){if(!Number.isInteger(b)||!(b>=0&&b<=127))throw new RangeError("The semitones value must be an integer between 0 and 127.");if(!Number.isInteger(_)||!(_>=0&&_<=127))throw new RangeError("The cents value must be an integer between 0 and 127.")}return this.sendRpnValue("pitchbendrange",[b,_],$),this}sendProgramChange(b,_={}){if(b=parseInt(b)||0,d.validation&&!(b>=0&&b<=127))throw new RangeError("The program number must be between 0 and 127.");return this.send([(n.MIDI_CHANNEL_MESSAGES.programchange<<4)+(this.number-1),b],{time:r.toTimestamp(_.time)}),this}sendRpnValue(b,_,$={}){if(Array.isArray(b)||(b=n.MIDI_REGISTERED_PARAMETERS[b]),d.validation){if(!Number.isInteger(b[0])||!Number.isInteger(b[1]))throw new TypeError("The specified NRPN is invalid.");if(!(b[0]>=0&&b[0]<=127))throw new RangeError("The first byte of the RPN must be between 0 and 127.");if(!(b[1]>=0&&b[1]<=127))throw new RangeError("The second byte of the RPN must be between 0 and 127.");[].concat(_).forEach(j=>{if(!(j>=0&&j<=127))throw new RangeError("The data bytes of the RPN must be between 0 and 127.")})}return this._selectRegisteredParameter(b,$),this._setCurrentParameter(_,$),this._deselectRegisteredParameter($),this}sendTuningBank(b,_={}){if(d.validation&&(!Number.isInteger(b)||!(b>=0&&b<=127)))throw new RangeError("The tuning bank number must be between 0 and 127.");return this.sendRpnValue("tuningbank",b,_),this}sendTuningProgram(b,_={}){if(d.validation&&(!Number.isInteger(b)||!(b>=0&&b<=127)))throw new RangeError("The tuning program number must be between 0 and 127.");return this.sendRpnValue("tuningprogram",b,_),this}sendLocalControl(b,_={}){return b?this.sendChannelMode("localcontrol",127,_):this.sendChannelMode("localcontrol",0,_)}sendAllNotesOff(b={}){return this.sendChannelMode("allnotesoff",0,b)}sendAllSoundOff(b={}){return this.sendChannelMode("allsoundoff",0,b)}sendResetAllControllers(b={}){return this.sendChannelMode("resetallcontrollers",0,b)}sendPolyphonicMode(b,_={}){return b==="mono"?this.sendChannelMode("monomodeon",0,_):this.sendChannelMode("polymodeon",0,_)}get octaveOffset(){return this._octaveOffset}set octaveOffset(b){if(this.validation&&(b=parseInt(b),isNaN(b)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=b}get output(){return this._output}get number(){return this._number}}/**
 * The `Output` class represents a single MIDI output port (not to be confused with a MIDI channel).
 * A port is made available by a MIDI device. A MIDI device can advertise several input and output
 * ports. Each port has 16 MIDI channels which can be accessed via the [`channels`](#channels)
 * property.
 *
 * The `Output` object is automatically instantiated by the library according to the host's MIDI
 * subsystem and should not be directly instantiated.
 *
 * You can access all available `Output` objects by referring to the
 * [`WebMidi.outputs`](WebMidi#outputs) array or by using methods such as
 * [`WebMidi.getOutputByName()`](WebMidi#getOutputByName) or
 * [`WebMidi.getOutputById()`](WebMidi#getOutputById).
 *
 * @fires Output#opened
 * @fires Output#disconnected
 * @fires Output#closed
 *
 * @extends EventEmitter
 * @license Apache-2.0
 */class i extends e{constructor(b){super(),this._midiOutput=b,this._octaveOffset=0,this.channels=[];for(let _=1;_<=16;_++)this.channels[_]=new a(this,_);this._midiOutput.onstatechange=this._onStateChange.bind(this)}async destroy(){this.removeListener(),this.channels.forEach(b=>b.destroy()),this.channels=[],this._midiOutput.onstatechange=null,await this.close(),this._midiOutput=null}_onStateChange(b){let _={timestamp:d.time};b.port.connection==="open"?(_.type="opened",_.target=this,_.port=_.target,this.emit("opened",_)):b.port.connection==="closed"&&b.port.state==="connected"?(_.type="closed",_.target=this,_.port=_.target,this.emit("closed",_)):b.port.connection==="closed"&&b.port.state==="disconnected"?(_.type="disconnected",_.port={connection:b.port.connection,id:b.port.id,manufacturer:b.port.manufacturer,name:b.port.name,state:b.port.state,type:b.port.type},this.emit("disconnected",_)):b.port.connection==="pending"&&b.port.state==="disconnected"||console.warn("This statechange event was not caught:",b.port.connection,b.port.state)}async open(){try{return await this._midiOutput.open(),Promise.resolve(this)}catch(b){return Promise.reject(b)}}async close(){this._midiOutput?await this._midiOutput.close():await Promise.resolve()}send(b,_={time:0},$=0){if(b instanceof h&&(b=r.isNode?b.data:b.rawData),b instanceof Uint8Array&&r.isNode&&(b=Array.from(b)),d.validation){if(Array.isArray(b)||b instanceof Uint8Array||(b=[b],Array.isArray(_)&&(b=b.concat(_)),_=isNaN($)?{time:0}:{time:$}),!(parseInt(b[0])>=128&&parseInt(b[0])<=255))throw new RangeError("The first byte (status) must be an integer between 128 and 255.");b.slice(1).forEach(j=>{if(!((j=parseInt(j))>=0&&j<=255))throw new RangeError("Data bytes must be integers between 0 and 255.")}),_||(_={time:0})}return this._midiOutput.send(b,r.toTimestamp(_.time)),this}sendSysex(b,_=[],$={}){if(b=[].concat(b),_ instanceof Uint8Array){const j=new Uint8Array(1+b.length+_.length+1);j[0]=n.MIDI_SYSTEM_MESSAGES.sysex,j.set(Uint8Array.from(b),1),j.set(_,1+b.length),j[j.length-1]=n.MIDI_SYSTEM_MESSAGES.sysexend,this.send(j,{time:$.time})}else{const j=b.concat(_,n.MIDI_SYSTEM_MESSAGES.sysexend);this.send([n.MIDI_SYSTEM_MESSAGES.sysex].concat(j),{time:$.time})}return this}clear(){return this._midiOutput.clear?this._midiOutput.clear():d.validation&&console.warn("The 'clear()' method has not yet been implemented in your environment."),this}sendTimecodeQuarterFrame(b,_={}){if(d.validation&&(b=parseInt(b),isNaN(b)||!(b>=0&&b<=127)))throw new RangeError("The value must be an integer between 0 and 127.");return this.send([n.MIDI_SYSTEM_MESSAGES.timecode,b],{time:_.time}),this}sendSongPosition(b=0,_={}){var $=(b=Math.floor(b)||0)>>7&127,j=127&b;return this.send([n.MIDI_SYSTEM_MESSAGES.songposition,$,j],{time:_.time}),this}sendSongSelect(b=0,_={}){if(d.validation&&(b=parseInt(b),isNaN(b)||!(b>=0&&b<=127)))throw new RangeError("The program value must be between 0 and 127");return this.send([n.MIDI_SYSTEM_MESSAGES.songselect,b],{time:_.time}),this}sendTuneRequest(b={}){return this.send([n.MIDI_SYSTEM_MESSAGES.tunerequest],{time:b.time}),this}sendClock(b={}){return this.send([n.MIDI_SYSTEM_MESSAGES.clock],{time:b.time}),this}sendStart(b={}){return this.send([n.MIDI_SYSTEM_MESSAGES.start],{time:b.time}),this}sendContinue(b={}){return this.send([n.MIDI_SYSTEM_MESSAGES.continue],{time:b.time}),this}sendStop(b={}){return this.send([n.MIDI_SYSTEM_MESSAGES.stop],{time:b.time}),this}sendActiveSensing(b={}){return this.send([n.MIDI_SYSTEM_MESSAGES.activesensing],{time:b.time}),this}sendReset(b={}){return this.send([n.MIDI_SYSTEM_MESSAGES.reset],{time:b.time}),this}sendTuningRequest(b={}){return d.validation&&console.warn("The sendTuningRequest() method has been deprecated. Use sendTuningRequest() instead."),this.sendTuneRequest(b)}sendKeyAftertouch(b,_,$={}){return $.channels==null&&($.channels=n.MIDI_CHANNEL_NUMBERS),r.sanitizeChannels($.channels).forEach(j=>{this.channels[j].sendKeyAftertouch(b,_,$)}),this}sendControlChange(b,_,$={},j={}){if(d.validation&&(Array.isArray($)||Number.isInteger($)||$==="all")){const _e=$;($=j).channels=_e,$.channels==="all"&&($.channels=n.MIDI_CHANNEL_NUMBERS)}return $.channels==null&&($.channels=n.MIDI_CHANNEL_NUMBERS),r.sanitizeChannels($.channels).forEach(_e=>{this.channels[_e].sendControlChange(b,_,$)}),this}sendPitchBendRange(b=0,_=0,$={}){return $.channels==null&&($.channels=n.MIDI_CHANNEL_NUMBERS),r.sanitizeChannels($.channels).forEach(j=>{this.channels[j].sendPitchBendRange(b,_,$)}),this}setPitchBendRange(b=0,_=0,$="all",j={}){return d.validation&&(console.warn("The setPitchBendRange() method is deprecated. Use sendPitchBendRange() instead."),j.channels=$,j.channels==="all"&&(j.channels=n.MIDI_CHANNEL_NUMBERS)),this.sendPitchBendRange(b,_,j)}sendRpnValue(b,_,$={}){return $.channels==null&&($.channels=n.MIDI_CHANNEL_NUMBERS),r.sanitizeChannels($.channels).forEach(j=>{this.channels[j].sendRpnValue(b,_,$)}),this}setRegisteredParameter(b,_=[],$="all",j={}){return d.validation&&(console.warn("The setRegisteredParameter() method is deprecated. Use sendRpnValue() instead."),j.channels=$,j.channels==="all"&&(j.channels=n.MIDI_CHANNEL_NUMBERS)),this.sendRpnValue(b,_,j)}sendChannelAftertouch(b,_={},$={}){if(d.validation&&(Array.isArray(_)||Number.isInteger(_)||_==="all")){const j=_;(_=$).channels=j,_.channels==="all"&&(_.channels=n.MIDI_CHANNEL_NUMBERS)}return _.channels==null&&(_.channels=n.MIDI_CHANNEL_NUMBERS),r.sanitizeChannels(_.channels).forEach(j=>{this.channels[j].sendChannelAftertouch(b,_)}),this}sendPitchBend(b,_={},$={}){if(d.validation&&(Array.isArray(_)||Number.isInteger(_)||_==="all")){const j=_;(_=$).channels=j,_.channels==="all"&&(_.channels=n.MIDI_CHANNEL_NUMBERS)}return _.channels==null&&(_.channels=n.MIDI_CHANNEL_NUMBERS),r.sanitizeChannels(_.channels).forEach(j=>{this.channels[j].sendPitchBend(b,_)}),this}sendProgramChange(b=0,_={},$={}){if(d.validation&&(Array.isArray(_)||Number.isInteger(_)||_==="all")){const j=_;(_=$).channels=j,_.channels==="all"&&(_.channels=n.MIDI_CHANNEL_NUMBERS)}return _.channels==null&&(_.channels=n.MIDI_CHANNEL_NUMBERS),r.sanitizeChannels(_.channels).forEach(j=>{this.channels[j].sendProgramChange(b,_)}),this}sendModulationRange(b,_,$={}){return $.channels==null&&($.channels=n.MIDI_CHANNEL_NUMBERS),r.sanitizeChannels($.channels).forEach(j=>{this.channels[j].sendModulationRange(b,_,$)}),this}setModulationRange(b=0,_=0,$="all",j={}){return d.validation&&(console.warn("The setModulationRange() method is deprecated. Use sendModulationRange() instead."),j.channels=$,j.channels==="all"&&(j.channels=n.MIDI_CHANNEL_NUMBERS)),this.sendModulationRange(b,_,j)}sendMasterTuning(b,_={}){return _.channels==null&&(_.channels=n.MIDI_CHANNEL_NUMBERS),r.sanitizeChannels(_.channels).forEach($=>{this.channels[$].sendMasterTuning(b,_)}),this}setMasterTuning(b,_={},$={}){return d.validation&&(console.warn("The setMasterTuning() method is deprecated. Use sendMasterTuning() instead."),$.channels=_,$.channels==="all"&&($.channels=n.MIDI_CHANNEL_NUMBERS)),this.sendMasterTuning(b,$)}sendTuningProgram(b,_={}){return _.channels==null&&(_.channels=n.MIDI_CHANNEL_NUMBERS),r.sanitizeChannels(_.channels).forEach($=>{this.channels[$].sendTuningProgram(b,_)}),this}setTuningProgram(b,_="all",$={}){return d.validation&&(console.warn("The setTuningProgram() method is deprecated. Use sendTuningProgram() instead."),$.channels=_,$.channels==="all"&&($.channels=n.MIDI_CHANNEL_NUMBERS)),this.sendTuningProgram(b,$)}sendTuningBank(b=0,_={}){return _.channels==null&&(_.channels=n.MIDI_CHANNEL_NUMBERS),r.sanitizeChannels(_.channels).forEach($=>{this.channels[$].sendTuningBank(b,_)}),this}setTuningBank(b,_="all",$={}){return d.validation&&(console.warn("The setTuningBank() method is deprecated. Use sendTuningBank() instead."),$.channels=_,$.channels==="all"&&($.channels=n.MIDI_CHANNEL_NUMBERS)),this.sendTuningBank(b,$)}sendChannelMode(b,_=0,$={},j={}){if(d.validation&&(Array.isArray($)||Number.isInteger($)||$==="all")){const _e=$;($=j).channels=_e,$.channels==="all"&&($.channels=n.MIDI_CHANNEL_NUMBERS)}return $.channels==null&&($.channels=n.MIDI_CHANNEL_NUMBERS),r.sanitizeChannels($.channels).forEach(_e=>{this.channels[_e].sendChannelMode(b,_,$)}),this}sendAllSoundOff(b={}){return b.channels==null&&(b.channels=n.MIDI_CHANNEL_NUMBERS),r.sanitizeChannels(b.channels).forEach(_=>{this.channels[_].sendAllSoundOff(b)}),this}sendAllNotesOff(b={}){return b.channels==null&&(b.channels=n.MIDI_CHANNEL_NUMBERS),r.sanitizeChannels(b.channels).forEach(_=>{this.channels[_].sendAllNotesOff(b)}),this}sendResetAllControllers(b={},_={}){if(d.validation&&(Array.isArray(b)||Number.isInteger(b)||b==="all")){const $=b;(b=_).channels=$,b.channels==="all"&&(b.channels=n.MIDI_CHANNEL_NUMBERS)}return b.channels==null&&(b.channels=n.MIDI_CHANNEL_NUMBERS),r.sanitizeChannels(b.channels).forEach($=>{this.channels[$].sendResetAllControllers(b)}),this}sendPolyphonicMode(b,_={},$={}){if(d.validation&&(Array.isArray(_)||Number.isInteger(_)||_==="all")){const j=_;(_=$).channels=j,_.channels==="all"&&(_.channels=n.MIDI_CHANNEL_NUMBERS)}return _.channels==null&&(_.channels=n.MIDI_CHANNEL_NUMBERS),r.sanitizeChannels(_.channels).forEach(j=>{this.channels[j].sendPolyphonicMode(b,_)}),this}sendLocalControl(b,_={},$={}){if(d.validation&&(Array.isArray(_)||Number.isInteger(_)||_==="all")){const j=_;(_=$).channels=j,_.channels==="all"&&(_.channels=n.MIDI_CHANNEL_NUMBERS)}return _.channels==null&&(_.channels=n.MIDI_CHANNEL_NUMBERS),r.sanitizeChannels(_.channels).forEach(j=>{this.channels[j].sendLocalControl(b,_)}),this}sendOmniMode(b,_={},$={}){if(d.validation&&(Array.isArray(_)||Number.isInteger(_)||_==="all")){const j=_;(_=$).channels=j,_.channels==="all"&&(_.channels=n.MIDI_CHANNEL_NUMBERS)}return _.channels==null&&(_.channels=n.MIDI_CHANNEL_NUMBERS),r.sanitizeChannels(_.channels).forEach(j=>{this.channels[j].sendOmniMode(b,_)}),this}sendNrpnValue(b,_,$={}){return $.channels==null&&($.channels=n.MIDI_CHANNEL_NUMBERS),r.sanitizeChannels($.channels).forEach(j=>{this.channels[j].sendNrpnValue(b,_,$)}),this}setNonRegisteredParameter(b,_=[],$="all",j={}){return d.validation&&(console.warn("The setNonRegisteredParameter() method is deprecated. Use sendNrpnValue() instead."),j.channels=$,j.channels==="all"&&(j.channels=n.MIDI_CHANNEL_NUMBERS)),this.sendNrpnValue(b,_,j)}sendRpnIncrement(b,_={}){return _.channels==null&&(_.channels=n.MIDI_CHANNEL_NUMBERS),r.sanitizeChannels(_.channels).forEach($=>{this.channels[$].sendRpnIncrement(b,_)}),this}incrementRegisteredParameter(b,_="all",$={}){return d.validation&&(console.warn("The incrementRegisteredParameter() method is deprecated. Use sendRpnIncrement() instead."),$.channels=_,$.channels==="all"&&($.channels=n.MIDI_CHANNEL_NUMBERS)),this.sendRpnIncrement(b,$)}sendRpnDecrement(b,_={}){return _.channels==null&&(_.channels=n.MIDI_CHANNEL_NUMBERS),r.sanitizeChannels(_.channels).forEach($=>{this.channels[$].sendRpnDecrement(b,_)}),this}decrementRegisteredParameter(b,_="all",$={}){return d.validation&&(console.warn("The decrementRegisteredParameter() method is deprecated. Use sendRpnDecrement() instead."),$.channels=_,$.channels==="all"&&($.channels=n.MIDI_CHANNEL_NUMBERS)),this.sendRpnDecrement(b,$)}sendNoteOff(b,_={},$={}){if(d.validation&&(Array.isArray(_)||Number.isInteger(_)||_==="all")){const j=_;(_=$).channels=j,_.channels==="all"&&(_.channels=n.MIDI_CHANNEL_NUMBERS)}return _.channels==null&&(_.channels=n.MIDI_CHANNEL_NUMBERS),r.sanitizeChannels(_.channels).forEach(j=>{this.channels[j].sendNoteOff(b,_)}),this}stopNote(b,_){return this.sendNoteOff(b,_)}playNote(b,_={},$={}){if(d.validation&&(_.rawVelocity&&console.warn("The 'rawVelocity' option is deprecated. Use 'rawAttack' instead."),_.velocity&&console.warn("The 'velocity' option is deprecated. Use 'velocity' instead."),Array.isArray(_)||Number.isInteger(_)||_==="all")){const j=_;(_=$).channels=j,_.channels==="all"&&(_.channels=n.MIDI_CHANNEL_NUMBERS)}return _.channels==null&&(_.channels=n.MIDI_CHANNEL_NUMBERS),r.sanitizeChannels(_.channels).forEach(j=>{this.channels[j].playNote(b,_)}),this}sendNoteOn(b,_={},$={}){if(d.validation&&(Array.isArray(_)||Number.isInteger(_)||_==="all")){const j=_;(_=$).channels=j,_.channels==="all"&&(_.channels=n.MIDI_CHANNEL_NUMBERS)}return _.channels==null&&(_.channels=n.MIDI_CHANNEL_NUMBERS),r.sanitizeChannels(_.channels).forEach(j=>{this.channels[j].sendNoteOn(b,_)}),this}get name(){return this._midiOutput.name}get id(){return this._midiOutput.id}get connection(){return this._midiOutput.connection}get manufacturer(){return this._midiOutput.manufacturer}get state(){return this._midiOutput.state}get type(){return this._midiOutput.type}get octaveOffset(){return this._octaveOffset}set octaveOffset(b){if(this.validation&&(b=parseInt(b),isNaN(b)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=b}}/**
 * The `Forwarder` class allows the forwarding of MIDI messages to predetermined outputs. When you
 * call its [`forward()`](#forward) method, it will send the specified [`Message`](Message) object
 * to all the outputs listed in its [`destinations`](#destinations) property.
 *
 * If specific channels or message types have been defined in the [`channels`](#channels) or
 * [`types`](#types) properties, only messages matching the channels/types will be forwarded.
 *
 * While it can be manually instantiated, you are more likely to come across a `Forwarder` object as
 * the return value of the [`Input.addForwarder()`](Input#addForwarder) method.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class o{constructor(b=[],_={}){this.destinations=[],this.types=[...Object.keys(n.MIDI_SYSTEM_MESSAGES),...Object.keys(n.MIDI_CHANNEL_MESSAGES)],this.channels=n.MIDI_CHANNEL_NUMBERS,this.suspended=!1,Array.isArray(b)||(b=[b]),_.types&&!Array.isArray(_.types)&&(_.types=[_.types]),_.channels&&!Array.isArray(_.channels)&&(_.channels=[_.channels]),d.validation&&(b.forEach($=>{if(!($ instanceof i))throw new TypeError("Destinations must be of type 'Output'.")}),_.types!==void 0&&_.types.forEach($=>{if(!n.MIDI_SYSTEM_MESSAGES.hasOwnProperty($)&&!n.MIDI_CHANNEL_MESSAGES.hasOwnProperty($))throw new TypeError("Type must be a valid message type.")}),_.channels!==void 0&&_.channels.forEach($=>{if(!n.MIDI_CHANNEL_NUMBERS.includes($))throw new TypeError("MIDI channel must be between 1 and 16.")})),this.destinations=b,_.types&&(this.types=_.types),_.channels&&(this.channels=_.channels)}forward(b){this.suspended||this.types.includes(b.type)&&(b.channel&&!this.channels.includes(b.channel)||this.destinations.forEach(_=>{(!d.validation||_ instanceof i)&&_.send(b)}))}}/**
 * The `InputChannel` class represents a single MIDI input channel (1-16) from a single input
 * device. This object is derived from the host's MIDI subsystem and should not be instantiated
 * directly.
 *
 * All 16 `InputChannel` objects can be found inside the input's [`channels`](Input#channels)
 * property.
 *
 * @fires InputChannel#midimessage
 * @fires InputChannel#unknownmessage
 *
 * @fires InputChannel#noteoff
 * @fires InputChannel#noteon
 * @fires InputChannel#keyaftertouch
 * @fires InputChannel#programchange
 * @fires InputChannel#event:controlchange-controllerxxx
 * @fires InputChannel#channelaftertouch
 * @fires InputChannel#pitchbend
 * @fires InputChannel#controlchange
 *
 * @fires InputChannel#allnotesoff
 * @fires InputChannel#allsoundoff
 * @fires InputChannel#localcontrol
 * @fires InputChannel#monomode
 * @fires InputChannel#omnimode
 * @fires InputChannel#resetallcontrollers
 *
 * @fires InputChannel#event:nrpn
 * @fires InputChannel#event:nrpn-dataentrycoarse
 * @fires InputChannel#event:nrpn-dataentryfine
 * @fires InputChannel#event:nrpn-databuttonincrement
 * @fires InputChannel#event:nrpn-databuttondecrement
 * @fires InputChannel#event:rpn
 * @fires InputChannel#event:rpn-dataentrycoarse
 * @fires InputChannel#event:rpn-dataentryfine
 * @fires InputChannel#event:rpn-databuttonincrement
 * @fires InputChannel#event:rpn-databuttondecrement
 *
 * @extends EventEmitter
 * @license Apache-2.0
 * @since 3.0.0
 */class l extends e{constructor(b,_){super(),this._input=b,this._number=_,this._octaveOffset=0,this._nrpnBuffer=[],this._rpnBuffer=[],this.parameterNumberEventsEnabled=!0,this.notesState=new Array(128).fill(!1)}destroy(){this._input=null,this._number=null,this._octaveOffset=0,this._nrpnBuffer=[],this.notesState=new Array(128).fill(!1),this.parameterNumberEventsEnabled=!1,this.removeListener()}_processMidiMessageEvent(b){const _=Object.assign({},b);_.port=this.input,_.target=this,_.type="midimessage",this.emit(_.type,_),this._parseEventForStandardMessages(_)}_parseEventForStandardMessages(b){const _=Object.assign({},b);_.type=_.message.type||"unknownmessage";const $=b.message.dataBytes[0],j=b.message.dataBytes[1];if(_.type==="noteoff"||_.type==="noteon"&&j===0)this.notesState[$]=!1,_.type="noteoff",_.note=new s(r.offsetNumber($,this.octaveOffset+this.input.octaveOffset+d.octaveOffset),{rawAttack:0,rawRelease:j}),_.value=r.from7bitToFloat(j),_.rawValue=j,_.velocity=_.note.release,_.rawVelocity=_.note.rawRelease;else if(_.type==="noteon")this.notesState[$]=!0,_.note=new s(r.offsetNumber($,this.octaveOffset+this.input.octaveOffset+d.octaveOffset),{rawAttack:j}),_.value=r.from7bitToFloat(j),_.rawValue=j,_.velocity=_.note.attack,_.rawVelocity=_.note.rawAttack;else if(_.type==="keyaftertouch")_.note=new s(r.offsetNumber($,this.octaveOffset+this.input.octaveOffset+d.octaveOffset)),_.value=r.from7bitToFloat(j),_.rawValue=j,_.identifier=_.note.identifier,_.key=_.note.number,_.rawKey=$;else if(_.type==="controlchange"){_.controller={number:$,name:r.getCcNameByNumber($)},_.subtype=_.controller.name||"controller"+$,_.value=r.from7bitToFloat(j),_.rawValue=j;const _e=Object.assign({},_);_e.type=`${_.type}-controller${$}`,delete _e.subtype,this.emit(_e.type,_e),_.message.dataBytes[0]>=120&&this._parseChannelModeMessage(_),this.parameterNumberEventsEnabled&&this._isRpnOrNrpnController(_.message.dataBytes[0])&&this._parseEventForParameterNumber(_)}else _.type==="programchange"?(_.value=$,_.rawValue=_.value):_.type==="channelaftertouch"?(_.value=r.from7bitToFloat($),_.rawValue=$):_.type==="pitchbend"?(_.value=((j<<7)+$-8192)/8192,_.rawValue=(j<<7)+$):_.type="unknownmessage";this.emit(_.type,_)}_parseChannelModeMessage(b){const _=Object.assign({},b);_.type=_.controller.name,_.type==="localcontrol"&&(_.value=_.message.data[2]===127,_.rawValue=_.message.data[2]),_.type==="omnimodeon"?(_.type="omnimode",_.value=!0,_.rawValue=_.message.data[2]):_.type==="omnimodeoff"&&(_.type="omnimode",_.value=!1,_.rawValue=_.message.data[2]),_.type==="monomodeon"?(_.type="monomode",_.value=!0,_.rawValue=_.message.data[2]):_.type==="polymodeon"&&(_.type="monomode",_.value=!1,_.rawValue=_.message.data[2]),this.emit(_.type,_)}_parseEventForParameterNumber(b){const _=b.message.dataBytes[0],$=b.message.dataBytes[1],j=n.MIDI_CONTROL_CHANGE_MESSAGES;_===j.nonregisteredparameterfine||_===j.registeredparameterfine?(this._nrpnBuffer=[],this._rpnBuffer=[],_===j.nonregisteredparameterfine?this._nrpnBuffer=[b.message]:$!==127&&(this._rpnBuffer=[b.message])):_===j.nonregisteredparametercoarse||_===j.registeredparametercoarse?_===j.nonregisteredparametercoarse?(this._rpnBuffer=[],this._nrpnBuffer.length===1?this._nrpnBuffer.push(b.message):this._nrpnBuffer=[]):(this._nrpnBuffer=[],this._rpnBuffer.length===1&&$!==127?this._rpnBuffer.push(b.message):this._rpnBuffer=[]):_!==j.dataentrycoarse&&_!==j.dataentryfine&&_!==j.databuttonincrement&&_!==j.databuttondecrement||(this._rpnBuffer.length===2?this._dispatchParameterNumberEvent("rpn",this._rpnBuffer[0].dataBytes[1],this._rpnBuffer[1].dataBytes[1],b):this._nrpnBuffer.length===2?this._dispatchParameterNumberEvent("nrpn",this._nrpnBuffer[0].dataBytes[1],this._nrpnBuffer[1].dataBytes[1],b):(this._nrpnBuffer=[],this._rpnBuffer=[]))}_isRpnOrNrpnController(b){return b===n.MIDI_CONTROL_CHANGE_MESSAGES.dataentrycoarse||b===n.MIDI_CONTROL_CHANGE_MESSAGES.dataentryfine||b===n.MIDI_CONTROL_CHANGE_MESSAGES.databuttonincrement||b===n.MIDI_CONTROL_CHANGE_MESSAGES.databuttondecrement||b===n.MIDI_CONTROL_CHANGE_MESSAGES.nonregisteredparametercoarse||b===n.MIDI_CONTROL_CHANGE_MESSAGES.nonregisteredparameterfine||b===n.MIDI_CONTROL_CHANGE_MESSAGES.registeredparametercoarse||b===n.MIDI_CONTROL_CHANGE_MESSAGES.registeredparameterfine}_dispatchParameterNumberEvent(b,_,$,j){b=b==="nrpn"?"nrpn":"rpn";const _e={target:j.target,timestamp:j.timestamp,message:j.message,parameterMsb:_,parameterLsb:$,value:r.from7bitToFloat(j.message.dataBytes[1]),rawValue:j.message.dataBytes[1]};_e.parameter=b==="rpn"?Object.keys(n.MIDI_REGISTERED_PARAMETERS).find(tt=>n.MIDI_REGISTERED_PARAMETERS[tt][0]===_&&n.MIDI_REGISTERED_PARAMETERS[tt][1]===$):(_<<7)+$;const et=r.getPropertyByValue(n.MIDI_CONTROL_CHANGE_MESSAGES,j.message.dataBytes[0]);_e.type=`${b}-${et}`,this.emit(_e.type,_e),_e.type=b,_e.subtype=et,this.emit(_e.type,_e)}getChannelModeByNumber(b){return d.validation&&(console.warn("The 'getChannelModeByNumber()' method has been moved to the 'Utilities' class."),b=Math.floor(b)),r.getChannelModeByNumber(b)}getCcNameByNumber(b){if(d.validation&&(console.warn("The 'getCcNameByNumber()' method has been moved to the 'Utilities' class."),!((b=parseInt(b))>=0&&b<=127)))throw new RangeError("Invalid control change number.");return r.getCcNameByNumber(b)}getNoteState(b){b instanceof s&&(b=b.identifier);const _=r.guessNoteNumber(b,d.octaveOffset+this.input.octaveOffset+this.octaveOffset);return this.notesState[_]}get octaveOffset(){return this._octaveOffset}set octaveOffset(b){if(this.validation&&(b=parseInt(b),isNaN(b)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=b}get input(){return this._input}get number(){return this._number}get nrpnEventsEnabled(){return this.parameterNumberEventsEnabled}set nrpnEventsEnabled(b){this.validation&&(b=!!b),this.parameterNumberEventsEnabled=b}}/**
 * The `Message` class represents a single MIDI message. It has several properties that make it
 * easy to make sense of the binary data it contains.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class h{constructor(b){this.rawData=b,this.data=Array.from(this.rawData),this.statusByte=this.rawData[0],this.rawDataBytes=this.rawData.slice(1),this.dataBytes=this.data.slice(1),this.isChannelMessage=!1,this.isSystemMessage=!1,this.command=void 0,this.channel=void 0,this.manufacturerId=void 0,this.type=void 0,this.statusByte<240?(this.isChannelMessage=!0,this.command=this.statusByte>>4,this.channel=1+(15&this.statusByte)):(this.isSystemMessage=!0,this.command=this.statusByte),this.isChannelMessage?this.type=r.getPropertyByValue(n.MIDI_CHANNEL_MESSAGES,this.command):this.isSystemMessage&&(this.type=r.getPropertyByValue(n.MIDI_SYSTEM_MESSAGES,this.command)),this.statusByte===n.MIDI_SYSTEM_MESSAGES.sysex&&(this.dataBytes[0]===0?(this.manufacturerId=this.dataBytes.slice(0,3),this.dataBytes=this.dataBytes.slice(3,this.rawDataBytes.length-1),this.rawDataBytes=this.rawDataBytes.slice(3,this.rawDataBytes.length-1)):(this.manufacturerId=[this.dataBytes[0]],this.dataBytes=this.dataBytes.slice(1,this.dataBytes.length-1),this.rawDataBytes=this.rawDataBytes.slice(1,this.rawDataBytes.length-1)))}}/**
 * The `Input` class represents a single MIDI input port. This object is automatically instantiated
 * by the library according to the host's MIDI subsystem and does not need to be directly
 * instantiated. Instead, you can access all `Input` objects by referring to the
 * [`WebMidi.inputs`](WebMidi#inputs) array. You can also retrieve inputs by using methods such as
 * [`WebMidi.getInputByName()`](WebMidi#getInputByName) and
 * [`WebMidi.getInputById()`](WebMidi#getInputById).
 *
 * Note that a single MIDI device may expose several inputs and/or outputs.
 *
 * **Important**: the `Input` class does not directly fire channel-specific MIDI messages
 * (such as [`noteon`](InputChannel#event:noteon) or
 * [`controlchange`](InputChannel#event:controlchange), etc.). The [`InputChannel`](InputChannel)
 * object does that. However, you can still use the
 * [`Input.addListener()`](#addListener) method to listen to channel-specific events on multiple
 * [`InputChannel`](InputChannel) objects at once.
 *
 * @fires Input#opened
 * @fires Input#disconnected
 * @fires Input#closed
 * @fires Input#midimessage
 *
 * @fires Input#sysex
 * @fires Input#timecode
 * @fires Input#songposition
 * @fires Input#songselect
 * @fires Input#tunerequest
 * @fires Input#clock
 * @fires Input#start
 * @fires Input#continue
 * @fires Input#stop
 * @fires Input#activesensing
 * @fires Input#reset
 *
 * @fires Input#unknownmidimessage
 *
 * @extends EventEmitter
 * @license Apache-2.0
 */class c extends e{constructor(b){super(),this._midiInput=b,this._octaveOffset=0,this.channels=[];for(let _=1;_<=16;_++)this.channels[_]=new l(this,_);this._forwarders=[],this._midiInput.onstatechange=this._onStateChange.bind(this),this._midiInput.onmidimessage=this._onMidiMessage.bind(this)}async destroy(){this.removeListener(),this.channels.forEach(b=>b.destroy()),this.channels=[],this._forwarders=[],this._midiInput&&(this._midiInput.onstatechange=null,this._midiInput.onmidimessage=null),await this.close(),this._midiInput=null}_onStateChange(b){let _={timestamp:d.time,target:this,port:this};b.port.connection==="open"?(_.type="opened",this.emit("opened",_)):b.port.connection==="closed"&&b.port.state==="connected"?(_.type="closed",this.emit("closed",_)):b.port.connection==="closed"&&b.port.state==="disconnected"?(_.type="disconnected",_.port={connection:b.port.connection,id:b.port.id,manufacturer:b.port.manufacturer,name:b.port.name,state:b.port.state,type:b.port.type},this.emit("disconnected",_)):b.port.connection==="pending"&&b.port.state==="disconnected"||console.warn("This statechange event was not caught: ",b.port.connection,b.port.state)}_onMidiMessage(b){const _=new h(b.data),$={port:this,target:this,message:_,timestamp:b.timeStamp,type:"midimessage",data:_.data,rawData:_.data,statusByte:_.data[0],dataBytes:_.dataBytes};this.emit("midimessage",$),_.isSystemMessage?this._parseEvent($):_.isChannelMessage&&this.channels[_.channel]._processMidiMessageEvent($),this._forwarders.forEach(j=>j.forward(_))}_parseEvent(b){const _=Object.assign({},b);_.type=_.message.type||"unknownmidimessage",_.type==="songselect"&&(_.song=b.data[1]+1,_.value=b.data[1],_.rawValue=_.value),this.emit(_.type,_)}async open(){try{await this._midiInput.open()}catch(b){return Promise.reject(b)}return Promise.resolve(this)}async close(){if(!this._midiInput)return Promise.resolve(this);try{await this._midiInput.close()}catch(b){return Promise.reject(b)}return Promise.resolve(this)}getChannelModeByNumber(){d.validation&&console.warn("The 'getChannelModeByNumber()' method has been moved to the 'Utilities' class.")}addListener(b,_,$={}){if(d.validation&&typeof $=="function"){let j=_!=null?[].concat(_):void 0;_=$,$={channels:j}}if(n.CHANNEL_EVENTS.includes(b)){$.channels===void 0&&($.channels=n.MIDI_CHANNEL_NUMBERS);let j=[];return r.sanitizeChannels($.channels).forEach(_e=>{j.push(this.channels[_e].addListener(b,_,$))}),j}return super.addListener(b,_,$)}addOneTimeListener(b,_,$={}){return $.remaining=1,this.addListener(b,_,$)}on(b,_,$,j){return this.addListener(b,_,$,j)}hasListener(b,_,$={}){if(d.validation&&typeof $=="function"){let j=[].concat(_);_=$,$={channels:j}}return n.CHANNEL_EVENTS.includes(b)?($.channels===void 0&&($.channels=n.MIDI_CHANNEL_NUMBERS),r.sanitizeChannels($.channels).every(j=>this.channels[j].hasListener(b,_))):super.hasListener(b,_)}removeListener(b,_,$={}){if(d.validation&&typeof $=="function"){let j=[].concat(_);_=$,$={channels:j}}if($.channels===void 0&&($.channels=n.MIDI_CHANNEL_NUMBERS),b==null)return r.sanitizeChannels($.channels).forEach(j=>{this.channels[j]&&this.channels[j].removeListener()}),super.removeListener();n.CHANNEL_EVENTS.includes(b)?r.sanitizeChannels($.channels).forEach(j=>{this.channels[j].removeListener(b,_,$)}):super.removeListener(b,_,$)}addForwarder(b,_={}){let $;return $=b instanceof o?b:new o(b,_),this._forwarders.push($),$}removeForwarder(b){this._forwarders=this._forwarders.filter(_=>_!==b)}hasForwarder(b){return this._forwarders.includes(b)}get name(){return this._midiInput.name}get id(){return this._midiInput.id}get connection(){return this._midiInput.connection}get manufacturer(){return this._midiInput.manufacturer}get octaveOffset(){return this._octaveOffset}set octaveOffset(b){if(this.validation&&(b=parseInt(b),isNaN(b)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=b}get state(){return this._midiInput.state}get type(){return this._midiInput.type}get nrpnEventsEnabled(){return d.validation&&console.warn("The 'nrpnEventsEnabled' property has been moved to the 'InputChannel' class."),!1}}/**
 * The `WebMidi` object makes it easier to work with the low-level Web MIDI API. Basically, it
 * simplifies sending outgoing MIDI messages and reacting to incoming MIDI messages.
 *
 * When using the WebMidi.js library, you should know that the `WebMidi` class has already been
 * instantiated. You cannot instantiate it yourself. If you use the **IIFE** version, you should
 * simply use the global object called `WebMidi`. If you use the **CJS** (CommonJS) or **ESM** (ES6
 * module) version, you get an already-instantiated object when you import the module.
 *
 * @fires WebMidi#connected
 * @fires WebMidi#disabled
 * @fires WebMidi#disconnected
 * @fires WebMidi#enabled
 * @fires WebMidi#error
 * @fires WebMidi#midiaccessgranted
 * @fires WebMidi#portschanged
 *
 * @extends EventEmitter
 * @license Apache-2.0
 */const d=new class extends e{constructor(){super(),this.defaults={note:{attack:r.from7bitToFloat(64),release:r.from7bitToFloat(64),duration:1/0}},this.interface=null,this.validation=!0,this._inputs=[],this._disconnectedInputs=[],this._outputs=[],this._disconnectedOutputs=[],this._stateChangeQueue=[],this._octaveOffset=0}async enable(k={},b=!1){if(r.isNode){try{window.navigator}catch{global.navigator=await Object.getPrototypeOf(async function(){}).constructor(`
        let jzz = await import("jzz");
        return jzz.default;
        `)()}try{}catch{global.performance=await Object.getPrototypeOf(async function(){}).constructor(`
        let perf_hooks = await import("perf_hooks");
        return perf_hooks.performance;
        `)()}}if(this.validation=k.validation!==!1,this.validation&&(typeof k=="function"&&(k={callback:k,sysex:b}),b&&(k.sysex=!0)),this.enabled)return typeof k.callback=="function"&&k.callback(),Promise.resolve();const _={timestamp:this.time,target:this,type:"error",error:void 0},$={timestamp:this.time,target:this,type:"midiaccessgranted"},j={timestamp:this.time,target:this,type:"enabled"};try{typeof k.requestMIDIAccessFunction=="function"?this.interface=await k.requestMIDIAccessFunction({sysex:k.sysex,software:k.software}):this.interface=await navigator.requestMIDIAccess({sysex:k.sysex,software:k.software})}catch(_e){return _.error=_e,this.emit("error",_),typeof k.callback=="function"&&k.callback(_e),Promise.reject(_e)}this.emit("midiaccessgranted",$),this.interface.onstatechange=this._onInterfaceStateChange.bind(this);try{await this._updateInputsAndOutputs()}catch(_e){return _.error=_e,this.emit("error",_),typeof k.callback=="function"&&k.callback(_e),Promise.reject(_e)}return this.emit("enabled",j),typeof k.callback=="function"&&k.callback(),Promise.resolve(this)}async disable(){return this._destroyInputsAndOutputs().then(()=>{navigator&&typeof navigator.close=="function"&&navigator.close(),this.interface&&(this.interface.onstatechange=void 0),this.interface=null;let k={timestamp:this.time,target:this,type:"disabled"};this.emit("disabled",k),this.removeListener()})}getInputById(k,b={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!k)return}if(b.disconnected){for(let _=0;_<this._disconnectedInputs.length;_++)if(this._disconnectedInputs[_].id===k.toString())return this._disconnectedInputs[_]}else for(let _=0;_<this.inputs.length;_++)if(this.inputs[_].id===k.toString())return this.inputs[_]}getInputByName(k,b={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!k)return;k=k.toString()}if(b.disconnected){for(let _=0;_<this._disconnectedInputs.length;_++)if(~this._disconnectedInputs[_].name.indexOf(k))return this._disconnectedInputs[_]}else for(let _=0;_<this.inputs.length;_++)if(~this.inputs[_].name.indexOf(k))return this.inputs[_]}getOutputByName(k,b={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!k)return;k=k.toString()}if(b.disconnected){for(let _=0;_<this._disconnectedOutputs.length;_++)if(~this._disconnectedOutputs[_].name.indexOf(k))return this._disconnectedOutputs[_]}else for(let _=0;_<this.outputs.length;_++)if(~this.outputs[_].name.indexOf(k))return this.outputs[_]}getOutputById(k,b={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!k)return}if(b.disconnected){for(let _=0;_<this._disconnectedOutputs.length;_++)if(this._disconnectedOutputs[_].id===k.toString())return this._disconnectedOutputs[_]}else for(let _=0;_<this.outputs.length;_++)if(this.outputs[_].id===k.toString())return this.outputs[_]}noteNameToNumber(k){return this.validation&&console.warn("The noteNameToNumber() method is deprecated. Use Utilities.toNoteNumber() instead."),r.toNoteNumber(k,this.octaveOffset)}getOctave(k){return this.validation&&(console.warn("The getOctave()is deprecated. Use Utilities.getNoteDetails() instead"),k=parseInt(k)),!isNaN(k)&&k>=0&&k<=127&&r.getNoteDetails(r.offsetNumber(k,this.octaveOffset)).octave}sanitizeChannels(k){return this.validation&&console.warn("The sanitizeChannels() method has been moved to the utilities class."),r.sanitizeChannels(k)}toMIDIChannels(k){return this.validation&&console.warn("The toMIDIChannels() method has been deprecated. Use Utilities.sanitizeChannels() instead."),r.sanitizeChannels(k)}guessNoteNumber(k){return this.validation&&console.warn("The guessNoteNumber() method has been deprecated. Use Utilities.guessNoteNumber() instead."),r.guessNoteNumber(k,this.octaveOffset)}getValidNoteArray(k,b={}){return this.validation&&console.warn("The getValidNoteArray() method has been moved to the Utilities.buildNoteArray()"),r.buildNoteArray(k,b)}convertToTimestamp(k){return this.validation&&console.warn("The convertToTimestamp() method has been moved to Utilities.toTimestamp()."),r.toTimestamp(k)}async _destroyInputsAndOutputs(){let k=[];return this.inputs.forEach(b=>k.push(b.destroy())),this.outputs.forEach(b=>k.push(b.destroy())),Promise.all(k).then(()=>{this._inputs=[],this._outputs=[]})}_onInterfaceStateChange(k){this._updateInputsAndOutputs();let b={timestamp:k.timeStamp,type:k.port.state,target:this};if(k.port.state==="connected"&&k.port.connection==="open"){k.port.type==="output"?b.port=this.getOutputById(k.port.id):k.port.type==="input"&&(b.port=this.getInputById(k.port.id)),this.emit(k.port.state,b);const _=Object.assign({},b);_.type="portschanged",this.emit(_.type,_)}else if(k.port.state==="disconnected"&&k.port.connection==="pending"){k.port.type==="input"?b.port=this.getInputById(k.port.id,{disconnected:!0}):k.port.type==="output"&&(b.port=this.getOutputById(k.port.id,{disconnected:!0})),this.emit(k.port.state,b);const _=Object.assign({},b);_.type="portschanged",this.emit(_.type,_)}}async _updateInputsAndOutputs(){return Promise.all([this._updateInputs(),this._updateOutputs()])}async _updateInputs(){if(!this.interface)return;for(let b=this._inputs.length-1;b>=0;b--){const _=this._inputs[b];Array.from(this.interface.inputs.values()).find($=>$===_._midiInput)||(this._disconnectedInputs.push(_),this._inputs.splice(b,1))}let k=[];return this.interface.inputs.forEach(b=>{if(!this._inputs.find(_=>_._midiInput===b)){let _=this._disconnectedInputs.find($=>$._midiInput===b);_||(_=new c(b)),this._inputs.push(_),k.push(_.open())}}),Promise.all(k)}async _updateOutputs(){if(!this.interface)return;for(let b=this._outputs.length-1;b>=0;b--){const _=this._outputs[b];Array.from(this.interface.outputs.values()).find($=>$===_._midiOutput)||(this._disconnectedOutputs.push(_),this._outputs.splice(b,1))}let k=[];return this.interface.outputs.forEach(b=>{if(!this._outputs.find(_=>_._midiOutput===b)){let _=this._disconnectedOutputs.find($=>$._midiOutput===b);_||(_=new i(b)),this._outputs.push(_),k.push(_.open())}}),Promise.all(k)}get enabled(){return this.interface!==null}get inputs(){return this._inputs}get isNode(){return this.validation&&console.warn("WebMidi.isNode has been deprecated. Use Utilities.isNode instead."),r.isNode}get isBrowser(){return this.validation&&console.warn("WebMidi.isBrowser has been deprecated. Use Utilities.isBrowser instead."),r.isBrowser}get octaveOffset(){return this._octaveOffset}set octaveOffset(k){if(this.validation&&(k=parseInt(k),isNaN(k)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=k}get outputs(){return this._outputs}get supported(){return typeof navigator<"u"&&navigator.requestMIDIAccess}get sysexEnabled(){return!(!this.interface||!this.interface.sysexEnabled)}get time(){return performance.now()}get version(){return"3.0.21"}get CHANNEL_EVENTS(){return this.validation&&console.warn("The CHANNEL_EVENTS enum has been moved to Enumerations.CHANNEL_EVENTS."),n.CHANNEL_EVENTS}get MIDI_SYSTEM_MESSAGES(){return this.validation&&console.warn("The MIDI_SYSTEM_MESSAGES enum has been moved to Enumerations.MIDI_SYSTEM_MESSAGES."),n.MIDI_SYSTEM_MESSAGES}get MIDI_CHANNEL_MODE_MESSAGES(){return this.validation&&console.warn("The MIDI_CHANNEL_MODE_MESSAGES enum has been moved to Enumerations.MIDI_CHANNEL_MODE_MESSAGES."),n.MIDI_CHANNEL_MODE_MESSAGES}get MIDI_CONTROL_CHANGE_MESSAGES(){return this.validation&&console.warn("The MIDI_CONTROL_CHANGE_MESSAGES enum has been moved to Enumerations.MIDI_CONTROL_CHANGE_MESSAGES."),n.MIDI_CONTROL_CHANGE_MESSAGES}get MIDI_REGISTERED_PARAMETER(){return this.validation&&console.warn("The MIDI_REGISTERED_PARAMETER enum has been moved to Enumerations.MIDI_REGISTERED_PARAMETERS."),this.MIDI_REGISTERED_PARAMETERS}get NOTES(){return this.validation&&console.warn("The NOTES enum has been deprecated."),["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"]}};d.constructor=null;const _WebMidi=Object.freeze(Object.defineProperty({__proto__:null,Enumerations:n,Forwarder:o,Input:c,InputChannel:l,Message:h,Note:s,Output:i,OutputChannel:a,Utilities:r,WebMidi:d},Symbol.toStringTag,{value:"Module"})),{WebMidi}=_WebMidi;function enableWebMidi(k={}){const{onReady:b,onConnected:_,onDisconnected:$}=k;if(typeof navigator.requestMIDIAccess!="function")throw new Error("Your Browser does not support WebMIDI.");return new Promise((j,_e)=>{if(WebMidi.enabled){j(WebMidi);return}WebMidi.enable(et=>{et&&_e(et),WebMidi.addListener("connected",tt=>{_==null||_(WebMidi)}),WebMidi.addListener("disconnected",tt=>{$==null||$(WebMidi,tt)}),b==null||b(WebMidi),j(WebMidi)})})}const outputByName=k=>WebMidi.getOutputByName(k);Pattern$3.prototype.midi=async function(k,b=1){var _,$,j;if(await enableWebMidi({onConnected:({outputs:_e})=>logger(`Midi device connected! Available: ${_e.map(et=>`'${et.name}'`).join(", ")}`),onDisconnected:({outputs:_e})=>logger(`Midi device disconnected! Available: ${_e.map(et=>`'${et.name}'`).join(", ")}`),onReady:({outputs:_e})=>{const et=k!=null?k:_e[0],tt=_e.filter(nt=>nt.name!==et.name).map(nt=>`'${nt.name}'`).join(" | ");logger(`Midi connected! Using "${et.name}". ${tt?`Also available: ${tt}`:""}`)}}),isPattern((_=k==null?void 0:k.constructor)==null?void 0:_.name))throw new Error(`.midi does not accept Pattern input. Make sure to pass device name with single quotes. Example: .midi('${((j=($=WebMidi.outputs)==null?void 0:$[0])==null?void 0:j.name)||"IAC Driver Bus 1"}')`);return this.onTrigger((_e,et)=>{var st,ot;let tt=getPlayableNoteValue(et);const nt=(ot=(st=et.context)==null?void 0:st.velocity)!=null?ot:.9;if(!isNote(tt))throw new Error("not a note: "+tt);if(!WebMidi.enabled)throw new Error("\u{1F3B9} WebMidi is not enabled. Supported Browsers: https://caniuse.com/?search=webmidi");if(!WebMidi.outputs.length)throw new Error("\u{1F50C} No MIDI devices found. Connect a device or enable IAC Driver.");let it;if(typeof k=="number"?it=WebMidi.outputs[k]:typeof k=="string"?it=outputByName(k):it=WebMidi.outputs[0],!it)throw new Error(`\u{1F50C} MIDI device '${k||""}' not found. Use one of ${WebMidi.outputs.map(ut=>`'${ut.name}'`).join(" | ")}`);const rt=WebMidi.time-getAudioContext$1().currentTime*1e3;_e=_e*1e3+rt,it.playNote(tt,b,{time:_e,duration:et.duration.valueOf()*1e3-5,attack:nt})})};const index=Object.freeze(Object.defineProperty({__proto__:null,WebMidi,enableWebMidi},Symbol.toStringTag,{value:"Module"}));var osc_min={exports:{}};(function(k,b){(function(_,$){k.exports=$()})(commonjsGlobal,function(){function _(Tt,Et){var Pt=Object.keys(Tt);if(Object.getOwnPropertySymbols){var xt=Object.getOwnPropertySymbols(Tt);Et&&(xt=xt.filter(function(Bt){return Object.getOwnPropertyDescriptor(Tt,Bt).enumerable})),Pt.push.apply(Pt,xt)}return Pt}function $(Tt){for(var Et=1;Et<arguments.length;Et++){var Pt=arguments[Et]!=null?arguments[Et]:{};Et%2?_(Object(Pt),!0).forEach(function(xt){tt(Tt,xt,Pt[xt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Tt,Object.getOwnPropertyDescriptors(Pt)):_(Object(Pt)).forEach(function(xt){Object.defineProperty(Tt,xt,Object.getOwnPropertyDescriptor(Pt,xt))})}return Tt}function j(Tt,Et){if(!(Tt instanceof Et))throw new TypeError("Cannot call a class as a function")}function _e(Tt,Et){for(var Pt=0;Pt<Et.length;Pt++){var xt=Et[Pt];xt.enumerable=xt.enumerable||!1,xt.configurable=!0,"value"in xt&&(xt.writable=!0),Object.defineProperty(Tt,xt.key,xt)}}function et(Tt,Et,Pt){return Et&&_e(Tt.prototype,Et),Pt&&_e(Tt,Pt),Object.defineProperty(Tt,"prototype",{writable:!1}),Tt}function tt(Tt,Et,Pt){return Et in Tt?Object.defineProperty(Tt,Et,{value:Pt,enumerable:!0,configurable:!0,writable:!0}):Tt[Et]=Pt,Tt}function nt(Tt,Et){if(typeof Et!="function"&&Et!==null)throw new TypeError("Super expression must either be null or a function");Tt.prototype=Object.create(Et&&Et.prototype,{constructor:{value:Tt,writable:!0,configurable:!0}}),Object.defineProperty(Tt,"prototype",{writable:!1}),Et&&rt(Tt,Et)}function it(Tt){return it=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Et){return Et.__proto__||Object.getPrototypeOf(Et)},it(Tt)}function rt(Tt,Et){return rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Pt,xt){return Pt.__proto__=xt,Pt},rt(Tt,Et)}function st(Tt,Et){if(Et&&(typeof Et=="object"||typeof Et=="function"))return Et;if(Et!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Pt){if(Pt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Pt}(Tt)}function ot(Tt){var Et=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Pt,xt=it(Tt);if(Et){var Bt=it(this).constructor;Pt=Reflect.construct(xt,arguments,Bt)}else Pt=xt.apply(this,arguments);return st(this,Pt)}}function ut(Tt,Et){for(;!Object.prototype.hasOwnProperty.call(Tt,Et)&&(Tt=it(Tt))!==null;);return Tt}function lt(){return lt=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(Tt,Et,Pt){var xt=ut(Tt,Et);if(xt){var Bt=Object.getOwnPropertyDescriptor(xt,Et);return Bt.get?Bt.get.call(arguments.length<3?Tt:Pt):Bt.value}},lt.apply(this,arguments)}function ft(Tt){return Number(Tt)===Tt&&Tt%1==0}function ct(Tt){return Number(Tt)===Tt}function pt(Tt){return typeof Tt=="string"}function mt(Tt){return typeof Tt=="boolean"}function wt(Tt){return Tt===1/0}function gt(Tt){return Object.prototype.toString.call(Tt)==="[object Array]"}function vt(Tt){return Object.prototype.toString.call(Tt)==="[object Object]"}function bt(Tt){return typeof Tt=="function"}function Ct(Tt){return Tt instanceof Uint8Array}function Dt(Tt){return Tt instanceof Date}function _t(Tt){return Tt===void 0}function Rt(Tt){return Tt===null}function jt(Tt){return Tt+3&-4}function Qt(Tt){return Object.prototype.hasOwnProperty.call(typeof commonjsGlobal<"u"?commonjsGlobal:window,Tt)}function Nt(Tt){return Tt.buffer?new DataView(Tt.buffer):Tt instanceof ArrayBuffer?new DataView(Tt):new DataView(new Uint8Array(Tt))}function Vt(Tt){if(ft(Tt))return"i";if(Et=Tt,Number(Et)===Et&&Et%1!=0)return"f";if(pt(Tt))return"s";if(Ct(Tt))return"b";if(mt(Tt))return Tt?"T":"F";if(Rt(Tt))return"N";if(wt(Tt))return"I";var Et;throw new Error("OSC typeTag() found unknown value type")}function Yt(Tt){var Et="";if(gt(Tt))return"/".concat(Tt.join("/"));if(pt(Tt))return(Et=Tt).length>1&&Et[Et.length-1]==="/"&&(Et=Et.slice(0,Et.length-1)),Et.length>1&&Et[0]!=="/"&&(Et="/".concat(Et)),Et;throw new Error("OSC prepareAddress() needs addresses of type array or string")}function Wt(Tt){if(!pt(Tt))throw new Error("OSC prepareRegExPattern() needs strings");return Tt.replace(/\./g,"\\.").replace(/\(/g,"\\(").replace(/\)/g,"\\)").replace(/\{/g,"(").replace(/\}/g,")").replace(/,/g,"|").replace(/\[!/g,"[^").replace(/\?/g,".").replace(/\*/g,".*")}var Jt=function(){function Tt(){j(this,Tt),this.data=[],this.byteLength=0}return et(Tt,[{key:"add",value:function(Et){if(mt(Et)||wt(Et)||Rt(Et))return this;var Pt=Et.pack();return this.byteLength+=Pt.byteLength,this.data.push(Pt),this}},{key:"merge",value:function(){var Et=new Uint8Array(this.byteLength),Pt=0;return this.data.forEach(function(xt){Et.set(xt,Pt),Pt+=xt.byteLength}),Et}}]),Tt}(),Ut=function(){function Tt(Et){j(this,Tt),this.value=Et,this.offset=0}return et(Tt,[{key:"pack",value:function(Et,Pt){if(!Et||!Pt)throw new Error("OSC Atomic cant't be packed without given method or byteLength");var xt=new Uint8Array(Pt),Bt=new DataView(xt.buffer);if(_t(this.value))throw new Error("OSC Atomic cant't be encoded with empty value");return Bt[Et](this.offset,this.value,!1),xt}},{key:"unpack",value:function(Et,Pt,xt){var Bt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(!(Et&&Pt&&xt))throw new Error("OSC Atomic cant't be unpacked without given dataView, method or byteLength");if(!(Et instanceof DataView))throw new Error("OSC Atomic expects an instance of type DataView");return this.value=Et[Pt](Bt,!1),this.offset=Bt+xt,this.offset}}]),Tt}(),Kt=function(Tt){nt(Pt,Tt);var Et=ot(Pt);function Pt(xt){if(j(this,Pt),xt&&!ft(xt))throw new Error("OSC AtomicInt32 constructor expects value of type number");return Et.call(this,xt)}return et(Pt,[{key:"pack",value:function(){return lt(it(Pt.prototype),"pack",this).call(this,"setInt32",4)}},{key:"unpack",value:function(xt){var Bt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return lt(it(Pt.prototype),"unpack",this).call(this,xt,"getInt32",4,Bt)}}]),Pt}(Ut),mn="utf-8";function Mt(Tt){if(Qt("Buffer"))return Buffer.from(Tt).toString(mn);if(Qt("TextDecoder"))return new TextDecoder(mn).decode(new Int8Array(Tt));for(var Et="",Pt=0;Pt<Tt.length;Pt+=65537)Et+=String.fromCharCode.apply(null,Tt.slice(Pt,Pt+65537));return Et}var qt=function(Tt){nt(Pt,Tt);var Et=ot(Pt);function Pt(xt){if(j(this,Pt),xt&&!pt(xt))throw new Error("OSC AtomicString constructor expects value of type string");return Et.call(this,xt)}return et(Pt,[{key:"pack",value:function(){if(_t(this.value))throw new Error("OSC AtomicString can not be encoded with empty value");for(var xt="".concat(this.value,"\0"),Bt=jt(xt.length),zt=new Uint8Array(Bt),Xt=0;Xt<xt.length;Xt+=1)zt[Xt]=xt.charCodeAt(Xt);return zt}},{key:"unpack",value:function(xt){var Bt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!(xt instanceof DataView))throw new Error("OSC AtomicString expects an instance of type DataView");for(var zt,Xt=Bt,rn=[];Xt<xt.byteLength;Xt+=1){if((zt=xt.getUint8(Xt))===0){Xt+=1;break}rn.push(zt)}if(Xt===xt.length)throw new Error("OSC AtomicString found a malformed OSC string");return this.offset=jt(Xt),this.value=Mt(rn),this.offset}}]),Pt}(Ut),Ht=2208988800,an=4294967296,en=function(){function Tt(){var Et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Pt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(j(this,Tt),!ft(Et)||!ft(Pt))throw new Error("OSC Timetag constructor expects values of type integer number");this.seconds=Et,this.fractions=Pt}return et(Tt,[{key:"timestamp",value:function(Et){var Pt;if(typeof Et=="number"){Pt=Et/1e3;var xt=Math.floor(Pt);return this.seconds=xt+Ht,this.fractions=Math.round(an*(Pt-xt)),Et}return 1e3*((Pt=this.seconds-Ht)+Math.round(this.fractions/an))}}]),Tt}(),pn=function(Tt){nt(Pt,Tt);var Et=ot(Pt);function Pt(){var xt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Date.now();j(this,Pt);var Bt=new en;return xt instanceof en?Bt=xt:ft(xt)?Bt.timestamp(xt):Dt(xt)&&Bt.timestamp(xt.getTime()),Et.call(this,Bt)}return et(Pt,[{key:"pack",value:function(){if(_t(this.value))throw new Error("OSC AtomicTimetag can not be encoded with empty value");var xt=this.value,Bt=xt.seconds,zt=xt.fractions,Xt=new Uint8Array(8),rn=new DataView(Xt.buffer);return rn.setInt32(0,Bt,!1),rn.setInt32(4,zt,!1),Xt}},{key:"unpack",value:function(xt){var Bt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!(xt instanceof DataView))throw new Error("OSC AtomicTimetag expects an instance of type DataView");var zt=xt.getUint32(Bt,!1),Xt=xt.getUint32(Bt+4,!1);return this.value=new en(zt,Xt),this.offset=Bt+8,this.offset}}]),Pt}(Ut),bn=function(Tt){nt(Pt,Tt);var Et=ot(Pt);function Pt(xt){if(j(this,Pt),xt&&!Ct(xt))throw new Error("OSC AtomicBlob constructor expects value of type Uint8Array");return Et.call(this,xt)}return et(Pt,[{key:"pack",value:function(){if(_t(this.value))throw new Error("OSC AtomicBlob can not be encoded with empty value");var xt=jt(this.value.byteLength),Bt=new Uint8Array(xt+4);return new DataView(Bt.buffer).setInt32(0,this.value.byteLength,!1),Bt.set(this.value,4),Bt}},{key:"unpack",value:function(xt){var Bt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!(xt instanceof DataView))throw new Error("OSC AtomicBlob expects an instance of type DataView");var zt=xt.getInt32(Bt,!1);return this.value=new Uint8Array(xt.buffer,Bt+4,zt),this.offset=jt(Bt+4+zt),this.offset}}]),Pt}(Ut),vn=function(Tt){nt(Pt,Tt);var Et=ot(Pt);function Pt(xt){if(j(this,Pt),xt&&!ct(xt))throw new Error("OSC AtomicFloat32 constructor expects value of type float");return Et.call(this,xt)}return et(Pt,[{key:"pack",value:function(){return lt(it(Pt.prototype),"pack",this).call(this,"setFloat32",4)}},{key:"unpack",value:function(xt){var Bt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return lt(it(Pt.prototype),"unpack",this).call(this,xt,"getFloat32",4,Bt)}}]),Pt}(Ut),xn=function(Tt){nt(Pt,Tt);var Et=ot(Pt);function Pt(xt){if(j(this,Pt),xt&&!ct(xt))throw new Error("OSC AtomicFloat64 constructor expects value of type float");return Et.call(this,xt)}return et(Pt,[{key:"pack",value:function(){return lt(it(Pt.prototype),"pack",this).call(this,"setFloat64",8)}},{key:"unpack",value:function(xt){var Bt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return lt(it(Pt.prototype),"unpack",this).call(this,xt,"getFloat64",8,Bt)}}]),Pt}(Ut),Rn=BigInt("9223372036854775807"),_n=BigInt("-9223372036854775808"),Fn=function(Tt){nt(Pt,Tt);var Et=ot(Pt);function Pt(xt){if(j(this,Pt),xt&&typeof xt!="bigint")throw new Error("OSC AtomicInt64 constructor expects value of type BigInt");if(xt&&(xt<_n||xt>Rn))throw new Error("OSC AtomicInt64 value is out of bounds");var Bt;return xt&&(Bt=BigInt.asIntN(64,xt)),Et.call(this,Bt)}return et(Pt,[{key:"pack",value:function(){return lt(it(Pt.prototype),"pack",this).call(this,"setBigInt64",8)}},{key:"unpack",value:function(xt){var Bt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return lt(it(Pt.prototype),"unpack",this).call(this,xt,"getBigInt64",8,Bt)}}]),Pt}(Ut),ln=BigInt("18446744073709551615"),$n=function(Tt){nt(Pt,Tt);var Et=ot(Pt);function Pt(xt){if(j(this,Pt),xt&&typeof xt!="bigint")throw new Error("OSC AtomicUInt64 constructor expects value of type BigInt");if(xt&&(xt<0||xt>ln))throw new Error("OSC AtomicUInt64 value is out of bounds");var Bt;return xt&&(Bt=BigInt.asUintN(64,xt)),Et.call(this,Bt)}return et(Pt,[{key:"pack",value:function(){return lt(it(Pt.prototype),"pack",this).call(this,"setBigUint64",8)}},{key:"unpack",value:function(xt){var Bt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return lt(it(Pt.prototype),"unpack",this).call(this,xt,"getBigUint64",8,Bt)}}]),Pt}(Ut),Tn=!0,Un=!1,zn=null,Gn=1/0,Yn=function(){function Tt(Et,Pt){var xt=this;if(j(this,Tt),this.offset=0,this.address="",this.types="",this.args=[],!_t(Et)){if(!pt(Et)&&!gt(Et))throw new Error("OSC Message constructor first argument (address) must be a string or array");this.address=Yt(Et)}if(!_t(Pt)){if(!gt(Pt))throw new Error("OSC Message constructor second argument (args) must be an array");Pt.forEach(function(Bt){return xt.add(Bt.type,Bt.value)})}}return et(Tt,[{key:"add",value:function(Et,Pt){if(_t(Et))throw new Error("OSC Message needs a valid OSC Atomic Data Type");Et==="N"?this.args.push(zn):Et==="T"?this.args.push(Tn):Et==="F"?this.args.push(Un):Et==="I"?this.args.push(Gn):this.args.push(Pt),this.types+=Et}},{key:"pack",value:function(){var Et=this;if(this.address.length===0||this.address[0]!=="/")throw new Error("OSC Message has an invalid address");var Pt=new Jt;if(Pt.add(new qt(this.address)),Pt.add(new qt(",".concat(this.types))),this.args.length>0){var xt;if(this.args.length>this.types.length)throw new Error("OSC Message argument and type tag mismatch");this.args.forEach(function(Bt,zt){var Xt=Et.types[zt];if(Xt==="i")xt=new Kt(Bt);else if(Xt==="h")xt=new Fn(Bt);else if(Xt==="t")xt=new $n(Bt);else if(Xt==="f")xt=new vn(Bt);else if(Xt==="d")xt=new xn(Bt);else if(Xt==="s")xt=new qt(Bt);else if(Xt==="b")xt=new bn(Bt);else if(Xt==="T")xt=Tn;else if(Xt==="F")xt=Un;else if(Xt==="N")xt=zn;else{if(Xt!=="I")throw new Error("OSC Message found unknown argument type");xt=Gn}Pt.add(xt)})}return Pt.merge()}},{key:"unpack",value:function(Et){var Pt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!(Et instanceof DataView))throw new Error("OSC Message expects an instance of type DataView.");var xt=new qt;xt.unpack(Et,Pt);var Bt=new qt;if(Bt.unpack(Et,xt.offset),xt.value.length===0||xt.value[0]!=="/")throw new Error("OSC Message found malformed or missing address string");if(Bt.value.length===0&&Bt.value[0]!==",")throw new Error("OSC Message found malformed or missing type string");for(var zt,Xt,rn=Bt.offset,gn=[],En=1;En<Bt.value.length;En+=1){if(zt=null,(Xt=Bt.value[En])==="i")zt=new Kt;else if(Xt==="h")zt=new Fn;else if(Xt==="t")zt=new $n;else if(Xt==="f")zt=new vn;else if(Xt==="d")zt=new xn;else if(Xt==="s")zt=new qt;else if(Xt==="b")zt=new bn;else if(Xt==="T")gn.push(Tn);else if(Xt==="F")gn.push(Un);else if(Xt==="N")gn.push(zn);else{if(Xt!=="I")throw new Error("OSC Message found unsupported argument type");gn.push(Gn)}zt&&(rn=zt.unpack(Et,rn),gn.push(zt.value))}return this.offset=rn,this.address=xt.value,this.types=Bt.value,this.args=gn,this.offset}}]),Tt}(),Bn=function(Tt){nt(Pt,Tt);var Et=ot(Pt);function Pt(xt){var Bt,zt;j(this,Pt);for(var Xt=arguments.length,rn=new Array(Xt>1?Xt-1:0),gn=1;gn<Xt;gn++)rn[gn-1]=arguments[gn];return rn.length>0&&rn[0]instanceof Array&&(zt=rn.shift()),Bt=Et.call(this,xt,zt),rn.length>0&&(Bt.types=rn.map(function(En){return Vt(En)}).join(""),Bt.args=rn),Bt}return et(Pt,[{key:"add",value:function(xt){lt(it(Pt.prototype),"add",this).call(this,Vt(xt),xt)}}]),Pt}(Yn),Xn="#bundle",jn=function(){function Tt(){var Et=this;j(this,Tt),this.offset=0,this.timetag=new pn,this.bundleElements=[];for(var Pt=arguments.length,xt=new Array(Pt),Bt=0;Bt<Pt;Bt++)xt[Bt]=arguments[Bt];xt.length>0&&(xt[0]instanceof Date||ft(xt[0])?this.timetag=new pn(xt[0]):gt(xt[0])?(xt[0].forEach(function(zt){Et.add(zt)}),xt.length>1&&(xt[1]instanceof Date||ft(xt[1]))&&(this.timetag=new pn(xt[1]))):xt.forEach(function(zt){Et.add(zt)}))}return et(Tt,[{key:"timestamp",value:function(Et){if(!ft(Et))throw new Error("OSC Bundle needs an integer for setting the timestamp");this.timetag=new pn(Et)}},{key:"add",value:function(Et){if(!(Et instanceof Bn||Et instanceof Tt))throw new Error("OSC Bundle contains only Messages and Bundles");this.bundleElements.push(Et)}},{key:"pack",value:function(){var Et=new Jt;return Et.add(new qt(Xn)),this.timetag||(this.timetag=new pn),Et.add(this.timetag),this.bundleElements.forEach(function(Pt){Et.add(new Kt(Pt.pack().byteLength)),Et.add(Pt)}),Et.merge()}},{key:"unpack",value:function(Et){var Pt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!(Et instanceof DataView))throw new Error("OSC Bundle expects an instance of type DataView");var xt=new qt;if(xt.unpack(Et,Pt),xt.value!==Xn)throw new Error("OSC Bundle does not contain a valid #bundle head");var Bt=new pn,zt=Bt.unpack(Et,xt.offset);for(this.bundleElements=[];zt<Et.byteLength;){var Xt=new qt,rn=new Kt;zt=rn.unpack(Et,zt);var gn=void 0;Xt.unpack(Et,zt),zt=(gn=Xt.value===Xn?new Tt:new Bn).unpack(Et,zt),this.bundleElements.push(gn)}return this.offset=zt,this.timetag=Bt,this.offset}}]),Tt}(),Qn=function(){function Tt(Et){if(j(this,Tt),Et&&!(Et instanceof Bn||Et instanceof jn))throw new Error("OSC Packet value has to be Message or Bundle");this.value=Et,this.offset=0}return et(Tt,[{key:"pack",value:function(){if(!this.value)throw new Error("OSC Packet can not be encoded with empty body");return this.value.pack()}},{key:"unpack",value:function(Et){var Pt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!(Et instanceof DataView))throw new Error("OSC Packet expects an instance of type DataView");if(Et.byteLength%4!=0)throw new Error("OSC Packet byteLength has to be a multiple of four");var xt,Bt=new qt;return Bt.unpack(Et,Pt),(xt=Bt.value===Xn?new jn:new Bn).unpack(Et,Pt),this.offset=xt.offset,this.value=xt,this.offset}}]),Tt}(),yn={discardLateMessages:!1},An=function(){function Tt(Et){j(this,Tt),this.options=$($({},yn),Et),this.addressHandlers=[],this.eventHandlers={open:[],error:[],close:[]},this.uuid=0}return et(Tt,[{key:"dispatch",value:function(Et,Pt){var xt=this;if(!(Et instanceof Qn))throw new Error("OSC EventHander dispatch() accepts only arguments of type Packet");if(!Et.value)throw new Error("OSC EventHander dispatch() can't read empty Packets");if(Et.value instanceof jn){var Bt=Et.value;return Bt.bundleElements.forEach(function(Xt){if(Xt instanceof jn){if(Bt.timetag.value.timestamp()<Xt.timetag.value.timestamp())throw new Error("OSC Bundle timestamp is older than the timestamp of enclosed Bundles");return xt.dispatch(Xt)}if(Xt instanceof Bn){var rn=Xt;return xt.notify(rn.address,rn,Bt.timetag.value.timestamp(),Pt)}throw new Error("OSC EventHander dispatch() can't dispatch unknown Packet value")})}if(Et.value instanceof Bn){var zt=Et.value;return this.notify(zt.address,zt,0,Pt)}throw new Error("OSC EventHander dispatch() can't dispatch unknown Packet value")}},{key:"call",value:function(Et,Pt,xt){var Bt=!1;if(pt(Et)&&Et in this.eventHandlers)return this.eventHandlers[Et].forEach(function(rn){rn.callback(Pt,xt),Bt=!0}),Bt;var zt=Object.keys(this.addressHandlers),Xt=this.addressHandlers;return zt.forEach(function(rn){var gn=!1,En=new RegExp(Wt(Yt(Et)),"g");if(En.test(rn)&&rn.length===En.lastIndex&&(gn=!0),!gn){var Ln=new RegExp(Wt(Yt(rn)),"g");Ln.test(Et)&&Et.length===Ln.lastIndex&&(gn=!0)}gn&&Xt[rn].forEach(function(dr){dr.callback(Pt,xt),Bt=!0})}),Bt}},{key:"notify",value:function(){for(var Et=arguments.length,Pt=new Array(Et),xt=0;xt<Et;xt++)Pt[xt]=arguments[xt];if(Pt.length===0)throw new Error("OSC EventHandler can not be called without any argument");if(Pt[0]instanceof Qn)return this.dispatch(Pt[0],Pt[1]);if(Pt[0]instanceof jn||Pt[0]instanceof Bn)return this.dispatch(new Qn(Pt[0]),Pt[1]);if(!pt(Pt[0])){var Bt=new Qn;return Bt.unpack(Nt(Pt[0])),this.dispatch(Bt,Pt[1])}var zt=Pt[0],Xt=null;Pt.length>1&&(Xt=Pt[1]);var rn=null;if(Pt.length>2)if(ft(Pt[2]))rn=Pt[2];else{if(!(Pt[2]instanceof Date))throw new Error("OSC EventHandler timestamp has to be a number or Date");rn=Pt[2].getTime()}var gn=null;if(Pt.length>=3&&(gn=Pt[3]),rn){var En=Date.now();if(En>rn&&!this.options.discardLateMessages)return this.call(zt,Xt,gn);var Ln=this;return setTimeout(function(){Ln.call(zt,Xt,gn)},rn-En),!0}return this.call(zt,Xt,gn)}},{key:"on",value:function(Et,Pt){if(!pt(Et)&&!gt(Et))throw new Error("OSC EventHandler accepts only strings or arrays for address patterns");if(!bt(Pt))throw new Error("OSC EventHandler callback has to be a function");this.uuid+=1;var xt={id:this.uuid,callback:Pt};if(pt(Et)&&Et in this.eventHandlers)return this.eventHandlers[Et].push(xt),this.uuid;var Bt=Yt(Et);return Bt in this.addressHandlers||(this.addressHandlers[Bt]=[]),this.addressHandlers[Bt].push(xt),this.uuid}},{key:"off",value:function(Et,Pt){if(!pt(Et)&&!gt(Et))throw new Error("OSC EventHandler accepts only strings or arrays for address patterns");if(!ft(Pt))throw new Error("OSC EventHandler subscription id has to be a number");var xt,Bt;return pt(Et)&&Et in this.eventHandlers?(xt=Et,Bt=this.eventHandlers):(xt=Yt(Et),Bt=this.addressHandlers),xt in Bt&&Bt[xt].some(function(zt,Xt){return zt.id===Pt&&(Bt[xt].splice(Xt,1),!0)})}}]),Tt}(),nn=function(){function Tt(){if(j(this,Tt),this.constructor===Tt)throw new Error("Plugin is an abstract class. Please create or use an implementation!")}return et(Tt,[{key:"status",value:function(){throw new Error("Abstract method!")}},{key:"open",value:function(){throw new Error("Abstract method!")}},{key:"close",value:function(){throw new Error("Abstract method!")}},{key:"send",value:function(Et){throw new Error("Abstract method!")}}]),Tt}(),Dn=0,wn=1,lr=2,ur=3,In=function(Tt){nt(Pt,Tt);var Et=ot(Pt);function Pt(){throw j(this,Pt),Et.call(this),new Error("DatagramPlugin can not be used in browser context")}return et(Pt,[{key:"registerNotify",value:function(xt){this.notify=xt}},{key:"status",value:function(){return this.socketStatus}},{key:"open",value:function(){var xt=this,Bt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},zt=$($({},this.options.open),Bt),Xt=zt.port,rn=zt.exclusive;this.socketStatus=Dn,this.socket.bind({address:zt.host,port:Xt,exclusive:rn},function(){xt.socketStatus=wn,xt.notify("open")})}},{key:"close",value:function(){var xt=this;this.socketStatus=lr,this.socket.close(function(){xt.socketStatus=ur,xt.notify("close")})}},{key:"send",value:function(xt){var Bt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},zt=$($({},this.options.send),Bt),Xt=zt.port,rn=zt.host;this.socket.send(Buffer.from(xt),0,xt.byteLength,Xt,rn)}}]),Pt}(nn),Jn=typeof WebSocket<"u"?WebSocket:typeof MozWebSocket<"u"?MozWebSocket:typeof commonjsGlobal<"u"?commonjsGlobal.WebSocket||commonjsGlobal.MozWebSocket:typeof window<"u"?window.WebSocket||window.MozWebSocket:typeof self<"u"?self.WebSocket||self.MozWebSocket:void 0,Nn=void 0,Sn=0,Kn=1,cr=2,Cn=3,Pn={udpServer:{host:"localhost",port:41234,exclusive:!1},udpClient:{host:"localhost",port:41235},wsServer:{host:"localhost",port:8080},receiver:"ws"};function Wn(Tt,Et){return $($($($({},Pn),Tt),Et),{},{udpServer:$($($({},Pn.udpServer),Tt.udpServer),Et.udpServer),udpClient:$($($({},Pn.udpClient),Tt.udpClient),Et.udpClient),wsServer:$($($({},Pn.wsServer),Tt.wsServer),Et.wsServer)})}var Hn=function(Tt){nt(Pt,Tt);var Et=ot(Pt);function Pt(){throw j(this,Pt),Et.call(this),new Error("BridgePlugin can not be used in browser context")}return et(Pt,[{key:"registerNotify",value:function(xt){this.notify=xt}},{key:"status",value:function(){return this.socketStatus}},{key:"open",value:function(){var xt=this,Bt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},zt=Wn(this.options,Bt);this.socketStatus=Sn,this.socket.bind({address:zt.udpServer.host,port:zt.udpServer.port,exclusive:zt.udpServer.exclusive},function(){var Xt={};zt.wsServer.server?Xt.server=zt.wsServer.server:Xt=zt.wsServer,xt.websocket=new Nn(Xt),xt.websocket.binaryType="arraybuffer",xt.websocket.on("listening",function(){xt.socketStatus=Kn,xt.notify("open")}),xt.websocket.on("error",function(rn){xt.notify("error",rn)}),xt.websocket.on("connection",function(rn){rn.on("message",function(gn,En){xt.send(gn,{receiver:"udp"}),xt.notify(new Uint8Array(gn),En)})})})}},{key:"close",value:function(){var xt=this;this.socketStatus=cr,this.socket.close(function(){xt.websocket.close(function(){xt.socketStatus=Cn,xt.notify("close")})})}},{key:"send",value:function(xt){var Bt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},zt=Wn(this.options,Bt),Xt=zt.receiver;if(Xt==="udp"){var rn=xt instanceof Buffer?xt:Buffer.from(xt);this.socket.send(rn,0,rn.byteLength,zt.udpClient.port,zt.udpClient.host)}else{if(Xt!=="ws")throw new Error("BridgePlugin can not send message to unknown receiver");this.websocket.clients.forEach(function(gn){gn.send(xt,{binary:!0})})}}}]),Pt}(nn),_i=-1,hr=0,fr=1,at=2,yt=3,dt={host:"localhost",port:8080,secure:!1,protocol:[]},Ot=function(Tt){nt(Pt,Tt);var Et=ot(Pt);function Pt(xt){var Bt;if(j(this,Pt),Bt=Et.call(this),!Jn)throw new Error("WebsocketClientPlugin can't find a WebSocket class");return Bt.options=$($({},dt),xt),Bt.socket=null,Bt.socketStatus=_i,Bt.notify=function(){},Bt}return et(Pt,[{key:"registerNotify",value:function(xt){this.notify=xt}},{key:"status",value:function(){return this.socketStatus}},{key:"open",value:function(){var xt=this,Bt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},zt=$($({},this.options),Bt),Xt=zt.port,rn=zt.host,gn=zt.secure,En=zt.protocol;this.socket&&this.close();var Ln=gn?"wss":"ws",dr={address:rn,family:Ln,port:Xt,size:0};this.socket=new Jn("".concat(Ln,"://").concat(rn,":").concat(Xt),En),this.socket.binaryType="arraybuffer",this.socketStatus=hr,this.socket.onopen=function(){xt.socketStatus=fr,xt.notify("open")},this.socket.onclose=function(){xt.socketStatus=yt,xt.notify("close")},this.socket.onerror=function(mr){xt.notify("error",mr)},this.socket.onmessage=function(mr){xt.notify(mr.data,dr)}}},{key:"close",value:function(){this.socketStatus=at,this.socket.close()}},{key:"send",value:function(xt){this.socket.send(xt)}}]),Pt}(nn),St=0,It=1,Ft=2,Lt=3,Zt=function(Tt){nt(Pt,Tt);var Et=ot(Pt);function Pt(xt){throw j(this,Pt),Et.call(this),new Error("WebsocketServerPlugin can not be used in browser context")}return et(Pt,[{key:"registerNotify",value:function(xt){this.notify=xt}},{key:"status",value:function(){return this.socketStatus}},{key:"open",value:function(){var xt=this,Bt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},zt=$($({},this.options),Bt),Xt=zt.port,rn=zt.host,gn={address:rn,family:"wsserver",port:Xt,size:0};this.socket&&this.close(),zt.server?this.socket=new Nn({server:zt.server}):this.socket=new Nn({host:rn,port:Xt}),this.socket.binaryType="arraybuffer",this.socketStatus=St,this.socket.on("listening",function(){xt.socketStatus=It,xt.notify("open")}),this.socket.on("error",function(En){xt.notify("error",En)}),this.socket.on("connection",function(En){En.on("message",function(Ln){xt.notify(new Uint8Array(Ln),gn)})})}},{key:"close",value:function(){var xt=this;this.socketStatus=Ft,this.socket.close(function(){xt.socketStatus=Lt,xt.notify("close")})}},{key:"send",value:function(xt){this.socket.clients.forEach(function(Bt){Bt.send(xt,{binary:!0})})}}]),Pt}(nn),hn={discardLateMessages:!1,plugin:new Ot},On=function(){function Tt(Et){if(j(this,Tt),Et&&!vt(Et))throw new Error("OSC options argument has to be an object.");this.options=$($({},hn),Et),this.eventHandler=new An({discardLateMessages:this.options.discardLateMessages});var Pt=this.eventHandler;this.options.plugin&&this.options.plugin.registerNotify&&this.options.plugin.registerNotify(function(){return Pt.notify.apply(Pt,arguments)})}return et(Tt,[{key:"on",value:function(Et,Pt){if(!pt(Et)||!bt(Pt))throw new Error("OSC on() needs event- or address string and callback function");return this.eventHandler.on(Et,Pt)}},{key:"off",value:function(Et,Pt){if(!pt(Et)||!ft(Pt))throw new Error("OSC off() needs string and number (subscriptionId) to unsubscribe");return this.eventHandler.off(Et,Pt)}},{key:"open",value:function(Et){if(Et&&!vt(Et))throw new Error("OSC open() options argument needs to be an object");if(!this.options.plugin||!bt(this.options.plugin.open))throw new Error("OSC Plugin API #open is not implemented!");return this.options.plugin.open(Et)}},{key:"status",value:function(){if(!this.options.plugin||!bt(this.options.plugin.status))throw new Error("OSC Plugin API #status is not implemented!");return this.options.plugin.status()}},{key:"close",value:function(){if(!this.options.plugin||!bt(this.options.plugin.close))throw new Error("OSC Plugin API #close is not implemented!");return this.options.plugin.close()}},{key:"send",value:function(Et,Pt){if(!this.options.plugin||!bt(this.options.plugin.send))throw new Error("OSC Plugin API #send is not implemented!");if(!(Et instanceof Yn||Et instanceof Bn||Et instanceof jn||Et instanceof Qn))throw new Error("OSC send() needs Messages, Bundles or Packets");if(Pt&&!vt(Pt))throw new Error("OSC send() options argument has to be an object");return this.options.plugin.send(Et.pack(),Pt)}}]),Tt}();return On.STATUS={IS_NOT_INITIALIZED:-1,IS_CONNECTING:0,IS_OPEN:1,IS_CLOSING:2,IS_CLOSED:3},On.Packet=Qn,On.Bundle=jn,On.Message=Bn,On.TypedMessage=Yn,On.Plugin=nn,On.DatagramPlugin=In,On.WebsocketClientPlugin=Ot,On.WebsocketServerPlugin=Zt,On.BridgePlugin=Hn,On})})(osc_min);const OSC=osc_min.exports;let connection;function connect(){return connection||(connection=new Promise((k,b)=>{const _=new OSC;_.open(),_.on("open",()=>{var j,_e,et;const $=(et=(_e=(j=_.options)==null?void 0:j.plugin)==null?void 0:_e.socket)==null?void 0:et.url;logger(`[osc] connected${$?` to ${$}`:""}`),k(_)}),_.on("close",()=>{connection=void 0,console.log("[osc] disconnected"),b("OSC connection closed")}),_.on("error",$=>b($))}).catch(k=>{throw connection=void 0,new Error("Could not connect to OSC server. Is it running?")})),connection}const latency=.1;let startedAt=-1;Pattern$3.prototype.osc=async function(){const k=await connect();return this.onTrigger((b,_,$,j=1)=>{const _e=_.wholeOrPart().begin.valueOf(),et=_.duration.valueOf();startedAt<0&&(startedAt=Date.now()-$*1e3);const tt=Object.assign({},{cps:j,cycle:_e,delta:et},_.value);tt.n&&(tt.n=parseNumeral(tt.n)),tt.note&&(tt.note=parseNumeral(tt.note));const nt=Object.entries(tt).flat(),it=Math.floor(startedAt+(b+latency)*1e3),rt=new OSC.Message("/dirt/play",...nt),st=new OSC.Bundle([rt],it);st.timestamp(it),k.send(st)})};const osc=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));

</script>
    <style>
.cm-editor{background-color:transparent!important;height:100%;z-index:11;font-size:18px}.cm-theme-light{width:100%}.cm-line>*{background:#00000095}.sc-h-5{height:1.25rem}.sc-w-5{width:1.25rem}@keyframes sc-pulse{50%{opacity:.5}}.sc-animate-pulse{animation:sc-pulse 2s cubic-bezier(.4,0,.6,1) infinite}._container_3i85k_1{overflow:hidden;border-radius:.375rem;--tw-bg-opacity: 1;background-color:rgb(34 34 34 / var(--tw-bg-opacity))}._header_3i85k_5{display:flex;justify-content:space-between;border-top-width:1px;--tw-border-opacity: 1;border-color:rgb(100 116 139 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(51 65 85 / var(--tw-bg-opacity))}._buttons_3i85k_9{display:flex}._button_3i85k_9{display:flex;width:4rem;cursor:pointer;align-items:center;justify-content:center;border-right-width:1px;--tw-border-opacity: 1;border-color:rgb(100 116 139 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(51 65 85 / var(--tw-bg-opacity));padding:.25rem;--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}._button_3i85k_9:hover{--tw-bg-opacity: 1;background-color:rgb(71 85 105 / var(--tw-bg-opacity))}._buttonDisabled_3i85k_17{display:flex;width:4rem;cursor:pointer;cursor:not-allowed;align-items:center;justify-content:center;--tw-bg-opacity: 1;background-color:rgb(71 85 105 / var(--tw-bg-opacity));padding:.25rem;--tw-text-opacity: 1;color:rgb(148 163 184 / var(--tw-text-opacity))}._error_3i85k_21{padding:.25rem;text-align:right;font-size:.875rem;line-height:1.25rem;--tw-text-opacity: 1;color:rgb(254 202 202 / var(--tw-text-opacity))}._body_3i85k_25{position:relative;overflow:auto}*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.prose{color:var(--tw-prose-body);max-width:65ch}.prose :where([class~="lead"]):not(:where([class~="not-prose"] *)){color:var(--tw-prose-lead);font-size:1.25em;line-height:1.6;margin-top:1.2em;margin-bottom:1.2em}.prose :where(a):not(:where([class~="not-prose"] *)){color:var(--tw-prose-links);text-decoration:underline;font-weight:500}.prose :where(strong):not(:where([class~="not-prose"] *)){color:var(--tw-prose-bold);font-weight:600}.prose :where(a strong):not(:where([class~="not-prose"] *)){color:inherit}.prose :where(blockquote strong):not(:where([class~="not-prose"] *)){color:inherit}.prose :where(thead th strong):not(:where([class~="not-prose"] *)){color:inherit}.prose :where(ol):not(:where([class~="not-prose"] *)){list-style-type:decimal;margin-top:1.25em;margin-bottom:1.25em;padding-left:1.625em}.prose :where(ol[type="A"]):not(:where([class~="not-prose"] *)){list-style-type:upper-alpha}.prose :where(ol[type="a"]):not(:where([class~="not-prose"] *)){list-style-type:lower-alpha}.prose :where(ol[type="A" s]):not(:where([class~="not-prose"] *)){list-style-type:upper-alpha}.prose :where(ol[type="a" s]):not(:where([class~="not-prose"] *)){list-style-type:lower-alpha}.prose :where(ol[type="I"]):not(:where([class~="not-prose"] *)){list-style-type:upper-roman}.prose :where(ol[type="i"]):not(:where([class~="not-prose"] *)){list-style-type:lower-roman}.prose :where(ol[type="I" s]):not(:where([class~="not-prose"] *)){list-style-type:upper-roman}.prose :where(ol[type="i" s]):not(:where([class~="not-prose"] *)){list-style-type:lower-roman}.prose :where(ol[type="1"]):not(:where([class~="not-prose"] *)){list-style-type:decimal}.prose :where(ul):not(:where([class~="not-prose"] *)){list-style-type:disc;margin-top:1.25em;margin-bottom:1.25em;padding-left:1.625em}.prose :where(ol > li):not(:where([class~="not-prose"] *))::marker{font-weight:400;color:var(--tw-prose-counters)}.prose :where(ul > li):not(:where([class~="not-prose"] *))::marker{color:var(--tw-prose-bullets)}.prose :where(hr):not(:where([class~="not-prose"] *)){border-color:var(--tw-prose-hr);border-top-width:1px;margin-top:3em;margin-bottom:3em}.prose :where(blockquote):not(:where([class~="not-prose"] *)){font-weight:500;font-style:italic;color:var(--tw-prose-quotes);border-left-width:.25rem;border-left-color:var(--tw-prose-quote-borders);quotes:"\201c""\201d""\2018""\2019";margin-top:1.6em;margin-bottom:1.6em;padding-left:1em}.prose :where(blockquote p:first-of-type):not(:where([class~="not-prose"] *)):before{content:open-quote}.prose :where(blockquote p:last-of-type):not(:where([class~="not-prose"] *)):after{content:close-quote}.prose :where(h1):not(:where([class~="not-prose"] *)){color:var(--tw-prose-headings);font-weight:800;font-size:2.25em;margin-top:0;margin-bottom:.8888889em;line-height:1.1111111}.prose :where(h1 strong):not(:where([class~="not-prose"] *)){font-weight:900;color:inherit}.prose :where(h2):not(:where([class~="not-prose"] *)){color:var(--tw-prose-headings);font-weight:700;font-size:1.5em;margin-top:2em;margin-bottom:1em;line-height:1.3333333}.prose :where(h2 strong):not(:where([class~="not-prose"] *)){font-weight:800;color:inherit}.prose :where(h3):not(:where([class~="not-prose"] *)){color:var(--tw-prose-headings);font-weight:600;font-size:1.25em;margin-top:1.6em;margin-bottom:.6em;line-height:1.6}.prose :where(h3 strong):not(:where([class~="not-prose"] *)){font-weight:700;color:inherit}.prose :where(h4):not(:where([class~="not-prose"] *)){color:var(--tw-prose-headings);font-weight:600;margin-top:1.5em;margin-bottom:.5em;line-height:1.5}.prose :where(h4 strong):not(:where([class~="not-prose"] *)){font-weight:700;color:inherit}.prose :where(img):not(:where([class~="not-prose"] *)){margin-top:2em;margin-bottom:2em}.prose :where(figure > *):not(:where([class~="not-prose"] *)){margin-top:0;margin-bottom:0}.prose :where(figcaption):not(:where([class~="not-prose"] *)){color:var(--tw-prose-captions);font-size:.875em;line-height:1.4285714;margin-top:.8571429em}.prose :where(code):not(:where([class~="not-prose"] *)){color:var(--tw-prose-code);font-weight:600;font-size:.875em}.prose :where(code):not(:where([class~="not-prose"] *)):before{content:"`"}.prose :where(code):not(:where([class~="not-prose"] *)):after{content:"`"}.prose :where(a code):not(:where([class~="not-prose"] *)){color:inherit}.prose :where(h1 code):not(:where([class~="not-prose"] *)){color:inherit}.prose :where(h2 code):not(:where([class~="not-prose"] *)){color:inherit;font-size:.875em}.prose :where(h3 code):not(:where([class~="not-prose"] *)){color:inherit;font-size:.9em}.prose :where(h4 code):not(:where([class~="not-prose"] *)){color:inherit}.prose :where(blockquote code):not(:where([class~="not-prose"] *)){color:inherit}.prose :where(thead th code):not(:where([class~="not-prose"] *)){color:inherit}.prose :where(pre):not(:where([class~="not-prose"] *)){color:var(--tw-prose-pre-code);background-color:var(--tw-prose-pre-bg);overflow-x:auto;font-weight:400;font-size:.875em;line-height:1.7142857;margin-top:1.7142857em;margin-bottom:1.7142857em;border-radius:.375rem;padding:.8571429em 1.1428571em}.prose :where(pre code):not(:where([class~="not-prose"] *)){background-color:transparent;border-width:0;border-radius:0;padding:0;font-weight:inherit;color:inherit;font-size:inherit;font-family:inherit;line-height:inherit}.prose :where(pre code):not(:where([class~="not-prose"] *)):before{content:none}.prose :where(pre code):not(:where([class~="not-prose"] *)):after{content:none}.prose :where(table):not(:where([class~="not-prose"] *)){width:100%;table-layout:auto;text-align:left;margin-top:2em;margin-bottom:2em;font-size:.875em;line-height:1.7142857}.prose :where(thead):not(:where([class~="not-prose"] *)){border-bottom-width:1px;border-bottom-color:var(--tw-prose-th-borders)}.prose :where(thead th):not(:where([class~="not-prose"] *)){color:var(--tw-prose-headings);font-weight:600;vertical-align:bottom;padding-right:.5714286em;padding-bottom:.5714286em;padding-left:.5714286em}.prose :where(tbody tr):not(:where([class~="not-prose"] *)){border-bottom-width:1px;border-bottom-color:var(--tw-prose-td-borders)}.prose :where(tbody tr:last-child):not(:where([class~="not-prose"] *)){border-bottom-width:0}.prose :where(tbody td):not(:where([class~="not-prose"] *)){vertical-align:baseline}.prose :where(tfoot):not(:where([class~="not-prose"] *)){border-top-width:1px;border-top-color:var(--tw-prose-th-borders)}.prose :where(tfoot td):not(:where([class~="not-prose"] *)){vertical-align:top}.prose{--tw-prose-body: #374151;--tw-prose-headings: #111827;--tw-prose-lead: #4b5563;--tw-prose-links: #111827;--tw-prose-bold: #111827;--tw-prose-counters: #6b7280;--tw-prose-bullets: #d1d5db;--tw-prose-hr: #e5e7eb;--tw-prose-quotes: #111827;--tw-prose-quote-borders: #e5e7eb;--tw-prose-captions: #6b7280;--tw-prose-code: #111827;--tw-prose-pre-code: #e5e7eb;--tw-prose-pre-bg: #1f2937;--tw-prose-th-borders: #d1d5db;--tw-prose-td-borders: #e5e7eb;--tw-prose-invert-body: #d1d5db;--tw-prose-invert-headings: #fff;--tw-prose-invert-lead: #9ca3af;--tw-prose-invert-links: #fff;--tw-prose-invert-bold: #fff;--tw-prose-invert-counters: #9ca3af;--tw-prose-invert-bullets: #4b5563;--tw-prose-invert-hr: #374151;--tw-prose-invert-quotes: #f3f4f6;--tw-prose-invert-quote-borders: #374151;--tw-prose-invert-captions: #9ca3af;--tw-prose-invert-code: #fff;--tw-prose-invert-pre-code: #d1d5db;--tw-prose-invert-pre-bg: rgb(0 0 0 / 50%);--tw-prose-invert-th-borders: #4b5563;--tw-prose-invert-td-borders: #374151;font-size:1rem;line-height:1.75}.prose :where(p):not(:where([class~="not-prose"] *)){margin-top:1.25em;margin-bottom:1.25em}.prose :where(video):not(:where([class~="not-prose"] *)){margin-top:2em;margin-bottom:2em}.prose :where(figure):not(:where([class~="not-prose"] *)){margin-top:2em;margin-bottom:2em}.prose :where(li):not(:where([class~="not-prose"] *)){margin-top:.5em;margin-bottom:.5em}.prose :where(ol > li):not(:where([class~="not-prose"] *)){padding-left:.375em}.prose :where(ul > li):not(:where([class~="not-prose"] *)){padding-left:.375em}.prose :where(.prose > ul > li p):not(:where([class~="not-prose"] *)){margin-top:.75em;margin-bottom:.75em}.prose :where(.prose > ul > li > *:first-child):not(:where([class~="not-prose"] *)){margin-top:1.25em}.prose :where(.prose > ul > li > *:last-child):not(:where([class~="not-prose"] *)){margin-bottom:1.25em}.prose :where(.prose > ol > li > *:first-child):not(:where([class~="not-prose"] *)){margin-top:1.25em}.prose :where(.prose > ol > li > *:last-child):not(:where([class~="not-prose"] *)){margin-bottom:1.25em}.prose :where(ul ul,ul ol,ol ul,ol ol):not(:where([class~="not-prose"] *)){margin-top:.75em;margin-bottom:.75em}.prose :where(hr + *):not(:where([class~="not-prose"] *)){margin-top:0}.prose :where(h2 + *):not(:where([class~="not-prose"] *)){margin-top:0}.prose :where(h3 + *):not(:where([class~="not-prose"] *)){margin-top:0}.prose :where(h4 + *):not(:where([class~="not-prose"] *)){margin-top:0}.prose :where(thead th:first-child):not(:where([class~="not-prose"] *)){padding-left:0}.prose :where(thead th:last-child):not(:where([class~="not-prose"] *)){padding-right:0}.prose :where(tbody td,tfoot td):not(:where([class~="not-prose"] *)){padding:.5714286em}.prose :where(tbody td:first-child,tfoot td:first-child):not(:where([class~="not-prose"] *)){padding-left:0}.prose :where(tbody td:last-child,tfoot td:last-child):not(:where([class~="not-prose"] *)){padding-right:0}.prose :where(.prose > :first-child):not(:where([class~="not-prose"] *)){margin-top:0}.prose :where(.prose > :last-child):not(:where([class~="not-prose"] *)){margin-bottom:0}.prose-invert{--tw-prose-body: var(--tw-prose-invert-body);--tw-prose-headings: var(--tw-prose-invert-headings);--tw-prose-lead: var(--tw-prose-invert-lead);--tw-prose-links: var(--tw-prose-invert-links);--tw-prose-bold: var(--tw-prose-invert-bold);--tw-prose-counters: var(--tw-prose-invert-counters);--tw-prose-bullets: var(--tw-prose-invert-bullets);--tw-prose-hr: var(--tw-prose-invert-hr);--tw-prose-quotes: var(--tw-prose-invert-quotes);--tw-prose-quote-borders: var(--tw-prose-invert-quote-borders);--tw-prose-captions: var(--tw-prose-invert-captions);--tw-prose-code: var(--tw-prose-invert-code);--tw-prose-pre-code: var(--tw-prose-invert-pre-code);--tw-prose-pre-bg: var(--tw-prose-invert-pre-bg);--tw-prose-th-borders: var(--tw-prose-invert-th-borders);--tw-prose-td-borders: var(--tw-prose-invert-td-borders)}.fixed{position:fixed}.block{display:block}.contents{display:contents}.h-screen{height:100vh}.w-screen{width:100vw}.max-w-4xl{max-width:56rem}.space-y-2>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem * var(--tw-space-y-reverse))}.overflow-auto{overflow:auto}.bg-slate-900{--tw-bg-opacity: 1;background-color:rgb(15 23 42 / var(--tw-bg-opacity))}.p-16{padding:4rem}

</style>
  </head>
  <body>
    <div id="root"></div>
    
  </body>
</html>
